{
  "name": "prime-dictation-aws-lambda-functions",
  "private": true,
  "workspaces": ["lambdas/*"],
  "scripts": {
    "build:email": "mkdir -p dist/pd-email-sender && esbuild lambdas/pd-email-sender/index.mjs --bundle --minify --legal-comments=none --platform=node --target=node22 --format=cjs --external:aws-crt --outfile=dist/pd-email-sender/index.js",
    "zip:email": "npm run build:email && cd dist/pd-email-sender && rm -f ../../pd-email-sender.zip && zip -r ../../pd-email-sender.zip index.js",
    "deploy:email": "aws lambda update-function-code --region us-west-2 --function-name pd-email-sender --zip-file fileb://pd-email-sender.zip",

    "build:signer": "mkdir -p dist/pd-presign-upload && esbuild lambdas/pd-presign-upload/index.mjs --bundle --minify --legal-comments=none --platform=node --target=node22 --format=cjs --external:aws-crt --outfile=dist/pd-presign-upload/index.js",
    "zip:signer": "npm run build:signer && cd dist/pd-presign-upload && rm -f ../../pd-presign-upload.zip && zip -r ../../pd-presign-upload.zip index.js",
    "deploy:signer": "aws lambda update-function-code --region us-west-2 --function-name pd-presign-upload --zip-file fileb://pd-presign-upload.zip",

    "all:email": "npm run zip:email && npm run deploy:email",
    "all:signer": "npm run zip:signer && npm run deploy:signer"
  },
  "dependencies": {
    "firebase-admin": "^12.7.0"
  },
  "devDependencies": {
    "@aws-sdk/client-s3": "^3.918.0",
    "@aws-sdk/client-sesv2": "^3.918.0",
    "@aws-sdk/s3-request-presigner": "^3.918.0",
    "esbuild": "^0.25.11"
  }
}
