var v2=Object.create;var zu=Object.defineProperty;var I2=Object.getOwnPropertyDescriptor;var k2=Object.getOwnPropertyNames;var N2=Object.getPrototypeOf,O2=Object.prototype.hasOwnProperty;var P=(e,n)=>()=>(e&&(n=e(e=0)),n);var B=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),cr=(e,n)=>{for(var t in n)zu(e,t,{get:n[t],enumerable:!0})},FA=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of k2(n))!O2.call(e,s)&&s!==t&&zu(e,s,{get:()=>n[s],enumerable:!(r=I2(n,s))||r.enumerable});return e};var k=(e,n,t)=>(t=e!=null?v2(N2(e)):{},FA(n||!e||!e.__esModule?zu(t,"default",{value:e,enumerable:!0}):t,e)),ve=e=>FA(zu({},"__esModule",{value:!0}),e);var ys=B(ot=>{"use strict";ot.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ot.HttpAuthLocation||(ot.HttpAuthLocation={}));ot.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ot.HttpApiKeyAuthLocation||(ot.HttpApiKeyAuthLocation={}));ot.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ot.EndpointURLScheme||(ot.EndpointURLScheme={}));ot.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ot.AlgorithmId||(ot.AlgorithmId={}));var B2=e=>{let n=[];return e.sha256!==void 0&&n.push({algorithmId:()=>ot.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&n.push({algorithmId:()=>ot.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},D2=e=>{let n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},M2=e=>B2(e),L2=e=>D2(e);ot.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ot.FieldPosition||(ot.FieldPosition={}));var F2="__smithy_context";ot.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ot.IniSectionType||(ot.IniSectionType={}));ot.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ot.RequestHandlerProtocol||(ot.RequestHandlerProtocol={}));ot.SMITHY_CONTEXT_KEY=F2;ot.getDefaultClientConfiguration=M2;ot.resolveDefaultRuntimeConfig=L2});var je=B(Ws=>{"use strict";var z2=ys(),U2=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){e.httpHandler?.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),q2=e=>({httpHandler:e.httpHandler()}),zS=class{name;kind;values;constructor({name:n,kind:t=z2.FieldPosition.HEADER,values:r=[]}){this.name=n,this.kind=t,this.values=r}add(n){this.values.push(n)}set(n){this.values=n}remove(n){this.values=this.values.filter(t=>t!==n)}toString(){return this.values.map(n=>n.includes(",")||n.includes(" ")?`"${n}"`:n).join(", ")}get(){return this.values}},US=class{entries={};encoding;constructor({fields:n=[],encoding:t="utf-8"}){n.forEach(this.setField.bind(this)),this.encoding=t}setField(n){this.entries[n.name.toLowerCase()]=n}getField(n){return this.entries[n.toLowerCase()]}removeField(n){delete this.entries[n.toLowerCase()]}getByType(n){return Object.values(this.entries).filter(t=>t.kind===n)}},qS=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){let t=new e({...n,headers:{...n.headers}});return t.query&&(t.query=H2(t.query)),t}static isInstance(n){if(!n)return!1;let t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function H2(e){return Object.keys(e).reduce((n,t)=>{let r=e[t];return{...n,[t]:Array.isArray(r)?[...r]:r}},{})}var HS=class{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;let t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function $2(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ws.Field=zS;Ws.Fields=US;Ws.HttpRequest=qS;Ws.HttpResponse=HS;Ws.getHttpHandlerExtensionConfiguration=U2;Ws.isValidHostname=$2;Ws.resolveHttpHandlerRuntimeConfig=q2});var qA=B(Uu=>{"use strict";var j2=je();function zA(e){return n=>async t=>{let{request:r}=t;if(e.expectContinueHeader!==!1&&j2.HttpRequest.isInstance(r)&&r.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof e.expectContinueHeader=="number")try{s=(Number(r.headers?.["content-length"])??e.bodyLengthChecker?.(r.body)??1/0)>=e.expectContinueHeader}catch{}else s=!!e.expectContinueHeader;s&&(r.headers.Expect="100-continue")}return n({...t,request:r})}}var UA={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},V2=e=>({applyToStack:n=>{n.add(zA(e),UA)}});Uu.addExpectContinueMiddleware=zA;Uu.addExpectContinueMiddlewareOptions=UA;Uu.getAddExpectContinuePlugin=V2});var qu,ba,HA=P(()=>{qu={warningEmitted:!1},ba=e=>{e&&!qu.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(qu.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Xs(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}var $A=P(()=>{});function jA(e,n,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[n]=t}var VA=P(()=>{});function GA(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}var KA=P(()=>{});var Ys={};cr(Ys,{emitWarningIfUnsupportedVersion:()=>ba,setCredentialFeature:()=>Xs,setFeature:()=>jA,setTokenFeature:()=>GA,state:()=>qu});var Nr=P(()=>{HA();$A();VA();KA()});var WA,$S,XA=P(()=>{WA=k(je()),$S=e=>WA.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Ca,jS=P(()=>{Ca=e=>new Date(Date.now()+e)});var YA,JA=P(()=>{jS();YA=(e,n)=>Math.abs(Ca(n).getTime()-e)>=3e5});var VS,QA=P(()=>{JA();VS=(e,n)=>{let t=Date.parse(e);return YA(t,n)?t-Date.now():n}});var GS=P(()=>{XA();jS();QA()});var ZA,Rl,_a,Hn,KS,WS=P(()=>{ZA=k(je());GS();Rl=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},_a=async e=>{let n=Rl("context",e.context),t=Rl("config",e.config),r=n.endpointV2?.properties?.authSchemes?.[0],o=await Rl("signer",t.signer)(r),a=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}},Hn=class{async sign(n,t,r){if(!ZA.HttpRequest.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await _a(r),{config:o,signer:a}=s,{signingRegion:c,signingName:l}=s,d=r.context;if(d?.authSchemes?.length??!1){let[g,p]=d.authSchemes;g?.name==="sigv4a"&&p?.name==="sigv4"&&(c=p?.signingRegion??c,l=p?.signingName??l)}return await a.sign(n,{signingDate:Ca(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(n){return t=>{let r=t.ServerTime??$S(t.$response);if(r){let s=Rl("config",n.config),o=s.systemClockOffset;s.systemClockOffset=VS(r,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){let r=$S(n);if(r){let s=Rl("config",t.config);s.systemClockOffset=VS(r,s.systemClockOffset)}}},KS=Hn});var eP,vl,tP=P(()=>{eP=k(je());GS();WS();vl=class extends Hn{async sign(n,t,r){if(!eP.HttpRequest.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}=await _a(r),f=(await s.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await o.sign(n,{signingDate:Ca(s.systemClockOffset),signingRegion:f,signingService:l})}}});var XS,nP=P(()=>{XS=e=>typeof e=="string"&&e.length>0?e.split(",").map(n=>n.trim()):[]});var Hu,YS=P(()=>{Hu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var rP,sP,xa,oP=P(()=>{nP();YS();rP="AWS_AUTH_SCHEME_PREFERENCE",sP="auth_scheme_preference",xa={environmentVariableSelector:(e,n)=>{if(n?.signingName&&Hu(n.signingName)in e)return["httpBearerAuth"];if(rP in e)return XS(e[rP])},configFileSelector:e=>{if(sP in e)return XS(e[sP])},default:[]}});var JS,G2,iP=P(()=>{JS=k(ys()),G2=e=>e[JS.SMITHY_CONTEXT_KEY]||(e[JS.SMITHY_CONTEXT_KEY]={})});var En=B(QS=>{"use strict";var aP=ys(),K2=e=>e[aP.SMITHY_CONTEXT_KEY]||(e[aP.SMITHY_CONTEXT_KEY]={}),W2=e=>{if(typeof e=="function")return e;let n=Promise.resolve(e);return()=>n};QS.getSmithyContext=K2;QS.normalizeProvider=W2});var cP,lP=P(()=>{cP=(e,n)=>{if(!n||n.length===0)return e;let t=[];for(let r of n)for(let s of e)s.schemeId.split("#")[1]===r&&t.push(s);for(let r of e)t.find(({schemeId:s})=>s===r.schemeId)||t.push(r);return t}});function X2(e){let n=new Map;for(let t of e)n.set(t.schemeId,t);return n}var dP,Il,$u=P(()=>{dP=k(En());lP();Il=(e,n)=>(t,r)=>async s=>{let o=e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,r,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],c=cP(o,a),l=X2(e.httpAuthSchemes),d=(0,dP.getSmithyContext)(r),f=[];for(let g of c){let p=l.get(g.schemeId);if(!p){f.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let h=p.identityProvider(await n.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:b={},signingProperties:T={}}=g.propertiesExtractor?.(e,r)||{};g.identityProperties=Object.assign(g.identityProperties||{},b),g.signingProperties=Object.assign(g.signingProperties||{},T),d.selectedHttpAuthScheme={httpAuthOption:g,identity:await h(g.identityProperties),signer:p.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(f.join(`
`));return t(s)}});var uP,kl,mP=P(()=>{$u();uP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},kl=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(Il(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),uP)}})});var Js=B(wa=>{"use strict";var Y2=je(),fP=(e,n)=>(t,r)=>async s=>{let{response:o}=await t(s);try{let a=await n(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(c):r.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(Y2.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);a.$metadata={httpStatusCode:o.statusCode,requestId:ZS(/^x-[\w-]+-request-?id$/,d),extendedRequestId:ZS(/^x-[\w-]+-id-2$/,d),cfId:ZS(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw a}},ZS=(e,n)=>(n.find(([t])=>t.match(e))||[void 0,void 0])[1],gP=(e,n)=>(t,r)=>async s=>{let o=e,a=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let c=await n(s.input,{...e,endpoint:a});return t({...s,request:c})},hP={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},pP={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function J2(e,n,t){return{applyToStack:r=>{r.add(fP(e,t),hP),r.add(gP(e,n),pP)}}}wa.deserializerMiddleware=fP;wa.deserializerMiddlewareOption=hP;wa.getSerdePlugin=J2;wa.serializerMiddleware=gP;wa.serializerMiddlewareOption=pP});var yP,SP,Q2,EP=P(()=>{yP=k(Js());$u();SP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:yP.serializerMiddlewareOption.name},Q2=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(Il(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),SP)}})});var bP=P(()=>{$u();mP();EP()});var CP,_P,Z2,eH,eE,tE=P(()=>{CP=k(je()),_P=k(En()),Z2=e=>n=>{throw n},eH=(e,n)=>{},eE=e=>(n,t)=>async r=>{if(!CP.HttpRequest.isInstance(r.request))return n(r);let o=(0,_P.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d=await n({...r,request:await l.sign(r.request,c,a)}).catch((l.errorHandler||Z2)(a));return(l.successHandler||eH)(d.response,a),d}});var xP,Nl,wP=P(()=>{tE();xP={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Nl=e=>({applyToStack:n=>{n.addRelativeTo(eE(e),xP)}})});var AP=P(()=>{tE();wP()});var Qs,PP=P(()=>{Qs=e=>{if(typeof e=="function")return e;let n=Promise.resolve(e);return()=>n}});function TP(e,n,t,r,s){return async function*(a,c,...l){let d=c,f=a.startingToken??d[t],g=!0,p;for(;g;){if(d[t]=f,s&&(d[s]=d[s]??a.pageSize),a.client instanceof e)p=await tH(n,a.client,c,a.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let h=f;f=nH(p,r),g=!!(f&&(!a.stopOnSameToken||f!==h))}return void 0}}var tH,nH,RP=P(()=>{tH=async(e,n,t,r=o=>o,...s)=>{let o=new e(t);return o=r(o)??o,await n.send(o,...s)};nH=(e,n)=>{let t=e,r=n.split(".");for(let s of r){if(!t||typeof t!="object")return;t=t[s]}return t}});var ju=B(vP=>{"use strict";var rH=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";vP.isArrayBuffer=rH});var Aa=B(rE=>{"use strict";var sH=ju(),nE=require("buffer"),oH=(e,n=0,t=e.byteLength-n)=>{if(!sH.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return nE.Buffer.from(e,n,t)},iH=(e,n)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return n?nE.Buffer.from(e,n):nE.Buffer.from(e)};rE.fromArrayBuffer=oH;rE.fromString=iH});var IP=B(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.fromBase64=void 0;var aH=Aa(),cH=/^[A-Za-z0-9+/]*={0,2}$/,lH=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!cH.exec(e))throw new TypeError("Invalid base64 string.");let n=(0,aH.fromString)(e,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)};Vu.fromBase64=lH});var Kt=B(Gu=>{"use strict";var kP=Aa(),NP=e=>{let n=kP.fromString(e,"utf8");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT)},dH=e=>typeof e=="string"?NP(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),uH=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return kP.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Gu.fromUtf8=NP;Gu.toUint8Array=dH;Gu.toUtf8=uH});var OP=B(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.toBase64=void 0;var mH=Aa(),fH=Kt(),gH=e=>{let n;if(typeof e=="string"?n=(0,fH.fromUtf8)(e):n=e,typeof n!="object"||typeof n.byteOffset!="number"||typeof n.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,mH.fromArrayBuffer)(n.buffer,n.byteOffset,n.byteLength).toString("base64")};Ku.toBase64=gH});var fn=B(Ol=>{"use strict";var BP=IP(),DP=OP();Object.keys(BP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ol,e)&&Object.defineProperty(Ol,e,{enumerable:!0,get:function(){return BP[e]}})});Object.keys(DP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ol,e)&&Object.defineProperty(Ol,e,{enumerable:!0,get:function(){return DP[e]}})})});var oE=B(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ChecksumStream=void 0;var hH=fn(),pH=require("stream"),sE=class extends pH.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:n,checksum:t,source:r,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof r.pipe=="function")this.source=r;else throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);this.base64Encoder=o??hH.toBase64,this.expectedChecksum=n,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(n){}_write(n,t,r){try{this.checksum.update(n),this.push(n)}catch(s){return r(s)}return r()}async _final(n){try{let t=await this.checksum.digest(),r=this.base64Encoder(t);if(this.expectedChecksum!==r)return n(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${r}" in response header "${this.checksumSourceLocation}".`))}catch(t){return n(t)}return this.push(null),n()}};Wu.ChecksumStream=sE});var Zs=B(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.isBlob=Pa.isReadableStream=void 0;var yH=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Pa.isReadableStream=yH;var SH=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Pa.isBlob=SH});var MP=B(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.ChecksumStream=void 0;var EH=typeof ReadableStream=="function"?ReadableStream:function(){},iE=class extends EH{};Xu.ChecksumStream=iE});var LP=B(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.createChecksumStream=void 0;var bH=fn(),CH=Zs(),_H=MP(),xH=({expectedChecksum:e,checksum:n,source:t,checksumSourceLocation:r,base64Encoder:s})=>{if(!(0,CH.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??bH.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let a=new TransformStream({start(){},async transform(l,d){n.update(l),d.enqueue(l)},async flush(l){let d=await n.digest(),f=o(d);if(e!==f){let g=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${r}".`);l.error(g)}else l.terminate()}});t.pipeThrough(a);let c=a.readable;return Object.setPrototypeOf(c,_H.ChecksumStream.prototype),c};Yu.createChecksumStream=xH});var FP=B(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.createChecksumStream=TH;var wH=Zs(),AH=oE(),PH=LP();function TH(e){return typeof ReadableStream=="function"&&(0,wH.isReadableStream)(e.source)?(0,PH.createChecksumStream)(e):new AH.ChecksumStream(e)}});var lE=B(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.ByteArrayCollector=void 0;var cE=class{allocByteArray;byteLength=0;byteArrays=[];constructor(n){this.allocByteArray=n}push(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}flush(){if(this.byteArrays.length===1){let r=this.byteArrays[0];return this.reset(),r}let n=this.allocByteArray(this.byteLength),t=0;for(let r=0;r<this.byteArrays.length;++r){let s=this.byteArrays[r];n.set(s,t),t+=s.byteLength}return this.reset(),n}reset(){this.byteArrays=[],this.byteLength=0}};Ju.ByteArrayCollector=cE});var HP=B(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.createBufferedReadable=void 0;Ss.createBufferedReadableStream=zP;Ss.merge=UP;Ss.flush=Qu;Ss.sizeOf=Ta;Ss.modeOf=qP;var RH=lE();function zP(e,n,t){let r=e.getReader(),s=!1,o=0,a=["",new RH.ByteArrayCollector(d=>new Uint8Array(d))],c=-1,l=async d=>{let{value:f,done:g}=await r.read(),p=f;if(g){if(c!==-1){let h=Qu(a,c);Ta(h)>0&&d.enqueue(h)}d.close()}else{let h=qP(p,!1);if(c!==h&&(c>=0&&d.enqueue(Qu(a,c)),c=h),c===-1){d.enqueue(p);return}let b=Ta(p);o+=b;let T=Ta(a[c]);if(b>=n&&T===0)d.enqueue(p);else{let I=UP(a,c,p);!s&&o>n*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${b} is below threshold of ${n}, automatically buffering.`)),I>=n?d.enqueue(Qu(a,c)):await l(d)}}};return new ReadableStream({pull:l})}Ss.createBufferedReadable=zP;function UP(e,n,t){switch(n){case 0:return e[0]+=t,Ta(e[0]);case 1:case 2:return e[n].push(t),Ta(e[n])}}function Qu(e,n){switch(n){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[n].flush()}throw new Error(`@smithy/util-stream - invalid index ${n} given to flush()`)}function Ta(e){return e?.byteLength??e?.length??0}function qP(e,n=!0){return n&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var jP=B(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.createBufferedReadable=kH;var vH=require("node:stream"),$P=lE(),Es=HP(),IH=Zs();function kH(e,n,t){if((0,IH.isReadableStream)(e))return(0,Es.createBufferedReadableStream)(e,n,t);let r=new vH.Readable({read(){}}),s=!1,o=0,a=["",new $P.ByteArrayCollector(l=>new Uint8Array(l)),new $P.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let d=(0,Es.modeOf)(l,!0);if(c!==d&&(c>=0&&r.push((0,Es.flush)(a,c)),c=d),c===-1){r.push(l);return}let f=(0,Es.sizeOf)(l);o+=f;let g=(0,Es.sizeOf)(a[c]);if(f>=n&&g===0)r.push(l);else{let p=(0,Es.merge)(a,c,l);!s&&o>n*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${n}, automatically buffering.`)),p>=n&&r.push((0,Es.flush)(a,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,Es.flush)(a,c);(0,Es.sizeOf)(l)>0&&r.push(l)}r.push(null)}),r}});var VP=B(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.getAwsChunkedEncodingStream=void 0;var NH=require("stream"),OH=(e,n)=>{let{base64Encoder:t,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=n,c=t!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=c?a(s,e):void 0,d=new NH.Readable({read:()=>{}});return e.on("data",f=>{let g=r(f)||0;d.push(`${g.toString(16)}\r
`),d.push(f),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),c){let f=t(await l);d.push(`${o}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};Zu.getAwsChunkedEncodingStream=OH});var GP=B(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.headStream=BH;async function BH(e,n){let t=0,r=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(r.push(d),t+=d?.byteLength??0),t>=n)break;o=l}s.releaseLock();let a=new Uint8Array(Math.min(n,t)),c=0;for(let l of r){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var KP=B(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.headStream=void 0;var DH=require("stream"),MH=GP(),LH=Zs(),FH=(e,n)=>(0,LH.isReadableStream)(e)?(0,MH.headStream)(e,n):new Promise((t,r)=>{let s=new mE;s.limit=n,e.pipe(s),e.on("error",o=>{s.end(),r(o)}),s.on("error",r),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});em.headStream=FH;var mE=class extends DH.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(n,t,r){if(this.buffers.push(n),this.bytesBuffered+=n.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}r()}}});var gE=B(fE=>{"use strict";var WP=e=>encodeURIComponent(e).replace(/[!'()*]/g,zH),zH=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,UH=e=>e.split("/").map(WP).join("/");fE.escapeUri=WP;fE.escapeUriPath=UH});var tm=B(XP=>{"use strict";var hE=gE();function qH(e){let n=[];for(let t of Object.keys(e).sort()){let r=e[t];if(t=hE.escapeUri(t),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)n.push(`${t}=${hE.escapeUri(r[s])}`);else{let s=t;(r||typeof r=="string")&&(s+=`=${hE.escapeUri(r)}`),n.push(s)}}return n.join("&")}XP.buildQueryString=qH});var Ko=B(Bl=>{"use strict";var ZP=je(),eT=tm(),nm=require("http"),rm=require("https"),tT=require("stream"),pE=require("http2"),HH=["ECONNRESET","EPIPE","ETIMEDOUT"],nT=e=>{let n={};for(let t of Object.keys(e)){let r=e[t];n[t]=Array.isArray(r)?r.join(","):r}return n},Nn={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e)},YP=1e3,$H=(e,n,t=0)=>{if(!t)return-1;let r=s=>{let o=Nn.setTimeout(()=>{e.destroy(),n(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),a=c=>{c?.connecting?c.on("connect",()=>{Nn.clearTimeout(o)}):Nn.clearTimeout(o)};e.socket?a(e.socket):e.on("socket",a)};return t<2e3?(r(0),0):Nn.setTimeout(r.bind(null,YP),YP)},jH=(e,n,t=0,r,s)=>t?Nn.setTimeout(()=>{let o=`@smithy/node-http-handler - [${r?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(r){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),n(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,VH=3e3,GH=(e,{keepAlive:n,keepAliveMsecs:t},r=VH)=>{if(n!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(n,t||0):e.on("socket",o=>{o.setKeepAlive(n,t||0)})};return r===0?(s(),0):Nn.setTimeout(s,r)},JP=3e3,KH=(e,n,t=0)=>{let r=s=>{let o=t-s,a=()=>{e.destroy(),n(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,a),e.on("close",()=>e.socket?.removeListener("timeout",a))):e.setTimeout(o,a)};return 0<t&&t<6e3?(r(0),0):Nn.setTimeout(r.bind(null,t===0?0:JP),JP)},QP=6e3;async function rT(e,n,t=QP){let r=n.headers??{},s=r.Expect||r.expect,o=-1,a=!0;s==="100-continue"&&(a=await Promise.race([new Promise(c=>{o=Number(Nn.setTimeout(()=>c(!0),Math.max(QP,t)))}),new Promise(c=>{e.on("continue",()=>{Nn.clearTimeout(o),c(!0)}),e.on("response",()=>{Nn.clearTimeout(o),c(!1)}),e.on("error",()=>{Nn.clearTimeout(o),c(!1)})})])),a&&WH(e,n.body)}function WH(e,n){if(n instanceof tT.Readable){n.pipe(e);return}if(n){if(Buffer.isBuffer(n)||typeof n=="string"){e.end(n);return}let t=n;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(n));return}e.end()}var XH=0,yE=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(n){return typeof n?.handle=="function"?n:new e(n)}static checkSocketUsage(n,t,r=console){let{sockets:s,requests:o,maxSockets:a}=n;if(typeof a!="number"||a===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,f=o[l]?.length??0;if(d>=a&&f>=2*a)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(n){this.configProvider=new Promise((t,r)=>{typeof n=="function"?n().then(s=>{t(this.resolveDefaultConfig(s))}).catch(r):t(this.resolveDefaultConfig(n))})}resolveDefaultConfig(n){let{requestTimeout:t,connectionTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:a,httpsAgent:c,throwOnRequestTimeout:l}=n||{},d=!0,f=50;return{connectionTimeout:r,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:a instanceof nm.Agent||typeof a?.destroy=="function"?a:new nm.Agent({keepAlive:d,maxSockets:f,...a}),httpsAgent:c instanceof rm.Agent||typeof c?.destroy=="function"?c:new rm.Agent({keepAlive:d,maxSockets:f,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(n,{abortSignal:t,requestTimeout:r}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let a=this.config,c,l=[],d=async Oe=>{await c,l.forEach(Nn.clearTimeout),s(Oe)},f=async Oe=>{await c,l.forEach(Nn.clearTimeout),o(Oe)};if(t?.aborted){let Oe=new Error("Request aborted");Oe.name="AbortError",f(Oe);return}let g=n.protocol==="https:",p=n.headers??{},h=(p.Expect??p.expect)==="100-continue",b=g?a.httpsAgent:a.httpAgent;h&&(b=new(g?rm.Agent:nm.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(Nn.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(b,this.socketWarningTimestamp,a.logger)},a.socketAcquisitionWarningTimeout??(a.requestTimeout??2e3)+(a.connectionTimeout??1e3)));let T=eT.buildQueryString(n.query||{}),I;if(n.username!=null||n.password!=null){let Oe=n.username??"",ze=n.password??"";I=`${Oe}:${ze}`}let O=n.path;T&&(O+=`?${T}`),n.fragment&&(O+=`#${n.fragment}`);let W=n.hostname??"";W[0]==="["&&W.endsWith("]")?W=n.hostname.slice(1,-1):W=n.hostname;let ce={headers:n.headers,host:W,method:n.method,path:O,port:n.port,agent:b,auth:I},Ce=(g?rm.request:nm.request)(ce,Oe=>{let ze=new ZP.HttpResponse({statusCode:Oe.statusCode||-1,reason:Oe.statusMessage,headers:nT(Oe.headers),body:Oe});d({response:ze})});if(Ce.on("error",Oe=>{HH.includes(Oe.code)?f(Object.assign(Oe,{name:"TimeoutError"})):f(Oe)}),t){let Oe=()=>{Ce.destroy();let ze=new Error("Request aborted");ze.name="AbortError",f(ze)};if(typeof t.addEventListener=="function"){let ze=t;ze.addEventListener("abort",Oe,{once:!0}),Ce.once("close",()=>ze.removeEventListener("abort",Oe))}else t.onabort=Oe}let Ke=r??a.requestTimeout;l.push($H(Ce,f,a.connectionTimeout)),l.push(jH(Ce,f,Ke,a.throwOnRequestTimeout,a.logger??console)),l.push(KH(Ce,f,a.socketTimeout));let _t=ce.agent;typeof _t=="object"&&"keepAlive"in _t&&l.push(GH(Ce,{keepAlive:_t.keepAlive,keepAliveMsecs:_t.keepAliveMsecs})),c=rT(Ce,n,Ke).catch(Oe=>(l.forEach(Nn.clearTimeout),o(Oe)))})}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[n]:t}))}httpHandlerConfigs(){return this.config??{}}},SE=class{sessions=[];constructor(n){this.sessions=n??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(n){this.sessions.push(n)}contains(n){return this.sessions.includes(n)}remove(n){this.sessions=this.sessions.filter(t=>t!==n)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(n){for(let t of this.sessions)t===n&&(t.destroyed||t.destroy())}},EE=class{constructor(n){if(this.config=n,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(n,t){let r=this.getUrlString(n),s=this.sessionCache.get(r);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=pE.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+n.destination.toString())}),o.unref();let a=()=>{o.destroy(),this.deleteSession(r,o)};o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,a);let c=this.sessionCache.get(r)||new SE;return c.offerLast(o),this.sessionCache.set(r,c),o}deleteSession(n,t){let r=this.sessionCache.get(n);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(n,r))}release(n,t){let r=this.getUrlString(n);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[n,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(n)}}setMaxConcurrentStreams(n){if(n&&n<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=n}setDisableConcurrentStreams(n){this.config.disableConcurrency=n}getUrlString(n){return n.destination.toString()}},bE=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new EE({});static create(n){return typeof n?.handle=="function"?n:new e(n)}constructor(n){this.configProvider=new Promise((t,r)=>{typeof n=="function"?n().then(s=>{t(s||{})}).catch(r):t(n||{})})}destroy(){this.connectionManager.destroy()}async handle(n,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,a=r??s;return new Promise((c,l)=>{let d=!1,f,g=async tt=>{await f,c(tt)},p=async tt=>{await f,l(tt)};if(t?.aborted){d=!0;let tt=new Error("Request aborted");tt.name="AbortError",p(tt);return}let{hostname:h,method:b,port:T,protocol:I,query:O}=n,W="";if(n.username!=null||n.password!=null){let tt=n.username??"",Dt=n.password??"";W=`${tt}:${Dt}@`}let ce=`${I}//${W}${h}${T?`:${T}`:""}`,me={destination:new URL(ce)},Ce=this.connectionManager.lease(me,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),Ke=tt=>{o&&this.destroySession(Ce),d=!0,p(tt)},_t=eT.buildQueryString(O||{}),Oe=n.path;_t&&(Oe+=`?${_t}`),n.fragment&&(Oe+=`#${n.fragment}`);let ze=Ce.request({...n.headers,[pE.constants.HTTP2_HEADER_PATH]:Oe,[pE.constants.HTTP2_HEADER_METHOD]:b});if(Ce.ref(),ze.on("response",tt=>{let Dt=new ZP.HttpResponse({statusCode:tt[":status"]||-1,headers:nT(tt),body:ze});d=!0,g({response:Dt}),o&&(Ce.close(),this.connectionManager.deleteSession(ce,Ce))}),a&&ze.setTimeout(a,()=>{ze.close();let tt=new Error(`Stream timed out because of no activity for ${a} ms`);tt.name="TimeoutError",Ke(tt)}),t){let tt=()=>{ze.close();let Dt=new Error("Request aborted");Dt.name="AbortError",Ke(Dt)};if(typeof t.addEventListener=="function"){let Dt=t;Dt.addEventListener("abort",tt,{once:!0}),ze.once("close",()=>Dt.removeEventListener("abort",tt))}else t.onabort=tt}ze.on("frameError",(tt,Dt,Ea)=>{Ke(new Error(`Frame type id ${tt} in stream id ${Ea} has failed with code ${Dt}.`))}),ze.on("error",Ke),ze.on("aborted",()=>{Ke(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ze.rstCode}.`))}),ze.on("close",()=>{Ce.unref(),o&&Ce.destroy(),d||Ke(new Error("Unexpected error: http2 request did not get a response"))}),f=rT(ze,n,a)})}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[n]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(n){n.destroyed||n.destroy()}},CE=class extends tT.Writable{bufferedBytes=[];_write(n,t,r){this.bufferedBytes.push(n),r()}},YH=e=>JH(e)?QH(e):new Promise((n,t)=>{let r=new CE;e.pipe(r),e.on("error",s=>{r.end(),t(s)}),r.on("error",t),r.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));n(s)})}),JH=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function QH(e){let n=[],t=e.getReader(),r=!1,s=0;for(;!r;){let{done:c,value:l}=await t.read();l&&(n.push(l),s+=l.length),r=c}let o=new Uint8Array(s),a=0;for(let c of n)o.set(c,a),a+=c.length;return o}Bl.DEFAULT_REQUEST_TIMEOUT=XH;Bl.NodeHttp2Handler=bE;Bl.NodeHttpHandler=yE;Bl.streamCollector=YH});var iT=B(om=>{"use strict";var sT=je(),ZH=tm(),e$=fn();function oT(e,n){return new Request(e,n)}function t$(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{let r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",t(r)},e)})}var sm={supported:void 0},_E=class e{config;configProvider;static create(n){return typeof n?.handle=="function"?n:new e(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),sm.supported===void 0&&(sm.supported=typeof Request<"u"&&"keepalive"in oT("https://[::1]"))}destroy(){}async handle(n,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);let s=r??this.config.requestTimeout,o=this.config.keepAlive===!0,a=this.config.credentials;if(t?.aborted){let W=new Error("Request aborted");return W.name="AbortError",Promise.reject(W)}let c=n.path,l=ZH.buildQueryString(n.query||{});l&&(c+=`?${l}`),n.fragment&&(c+=`#${n.fragment}`);let d="";if(n.username!=null||n.password!=null){let W=n.username??"",ce=n.password??"";d=`${W}:${ce}@`}let{port:f,method:g}=n,p=`${n.protocol}//${d}${n.hostname}${f?`:${f}`:""}${c}`,h=g==="GET"||g==="HEAD"?void 0:n.body,b={body:h,headers:new Headers(n.headers),method:g,credentials:a};this.config?.cache&&(b.cache=this.config.cache),h&&(b.duplex="half"),typeof AbortController<"u"&&(b.signal=t),sm.supported&&(b.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(b,this.config.requestInit(n));let T=()=>{},I=oT(p,b),O=[fetch(I).then(W=>{let ce=W.headers,me={};for(let Ke of ce.entries())me[Ke[0]]=Ke[1];return W.body!=null?{response:new sT.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:W.body})}:W.blob().then(Ke=>({response:new sT.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:Ke})}))}),t$(s)];return t&&O.push(new Promise((W,ce)=>{let me=()=>{let Ce=new Error("Request aborted");Ce.name="AbortError",ce(Ce)};if(typeof t.addEventListener=="function"){let Ce=t;Ce.addEventListener("abort",me,{once:!0}),T=()=>Ce.removeEventListener("abort",me)}else t.onabort=me})),Promise.race(O).finally(T)}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[n]=t,r))}httpHandlerConfigs(){return this.config??{}}},n$=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):r$(e):s$(e);async function r$(e){let n=await o$(e),t=e$.fromBase64(n);return new Uint8Array(t)}async function s$(e){let n=[],t=e.getReader(),r=!1,s=0;for(;!r;){let{done:c,value:l}=await t.read();l&&(n.push(l),s+=l.length),r=c}let o=new Uint8Array(s),a=0;for(let c of n)o.set(c,a),a+=c.length;return o}function o$(e){return new Promise((n,t)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return t(new Error("Reader aborted too early"));let s=r.result??"",o=s.indexOf(","),a=o>-1?o+1:s.length;n(s.substring(a))},r.onabort=()=>t(new Error("Read aborted")),r.onerror=()=>t(r.error),r.readAsDataURL(e)})}om.FetchHttpHandler=_E;om.keepAliveSupport=sm;om.streamCollector=n$});var im=B(wE=>{"use strict";var aT={},xE={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),aT[e]=n,xE[n]=e}function i$(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let r=e.slice(t,t+2).toLowerCase();if(r in xE)n[t/2]=xE[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return n}function a$(e){let n="";for(let t=0;t<e.byteLength;t++)n+=aT[e[t]];return n}wE.fromHex=i$;wE.toHex=a$});var uT=B(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.sdkStreamMixin=void 0;var c$=iT(),l$=fn(),d$=im(),u$=Kt(),cT=Zs(),lT="The stream has already been transformed.",m$=e=>{if(!dT(e)&&!(0,cT.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,t=async()=>{if(n)throw new Error(lT);return n=!0,await(0,c$.streamCollector)(e)},r=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,l$.toBase64)(o);if(s==="hex")return(0,d$.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,u$.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(lT);if(n=!0,dT(e))return r(e);if((0,cT.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};am.sdkStreamMixin=m$;var dT=e=>typeof Blob=="function"&&e instanceof Blob});var fT=B(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.sdkStreamMixin=void 0;var f$=Ko(),g$=Aa(),AE=require("stream"),h$=uT(),mT="The stream has already been transformed.",p$=e=>{if(!(e instanceof AE.Readable))try{return(0,h$.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,t=async()=>{if(n)throw new Error(mT);return n=!0,await(0,f$.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async r=>{let s=await t();return r===void 0||Buffer.isEncoding(r)?(0,g$.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(r):new TextDecoder(r).decode(s)},transformToWebStream:()=>{if(n)throw new Error(mT);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof AE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,AE.Readable.toWeb(e)}})};cm.sdkStreamMixin=p$});var gT=B(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});PE.splitStream=y$;async function y$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var yT=B(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});TE.splitStream=E$;var hT=require("stream"),S$=gT(),pT=Zs();async function E$(e){if((0,pT.isReadableStream)(e)||(0,pT.isBlob)(e))return(0,S$.splitStream)(e);let n=new hT.PassThrough,t=new hT.PassThrough;return e.pipe(n),e.pipe(t),[n,t]}});var Wo=B(tn=>{"use strict";var ST=fn(),ET=Kt(),bT=oE(),CT=FP(),_T=jP(),xT=VP(),wT=KP(),AT=fT(),PT=yT(),TT=Zs(),RE=class e extends Uint8Array{static fromString(n,t="utf-8"){if(typeof n=="string")return t==="base64"?e.mutate(ST.fromBase64(n)):e.mutate(ET.fromUtf8(n));throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}static mutate(n){return Object.setPrototypeOf(n,e.prototype),n}transformToString(n="utf-8"){return n==="base64"?ST.toBase64(this):ET.toUtf8(this)}};tn.Uint8ArrayBlobAdapter=RE;Object.keys(bT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return bT[e]}})});Object.keys(CT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return CT[e]}})});Object.keys(_T).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return _T[e]}})});Object.keys(xT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return xT[e]}})});Object.keys(wT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return wT[e]}})});Object.keys(AT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return AT[e]}})});Object.keys(PT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return PT[e]}})});Object.keys(TT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tn,e)&&Object.defineProperty(tn,e,{enumerable:!0,get:function(){return TT[e]}})})});var lm,Or,dm=P(()=>{lm=k(Wo()),Or=async(e=new Uint8Array,n)=>{if(e instanceof Uint8Array)return lm.Uint8ArrayBlobAdapter.mutate(e);if(!e)return lm.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=n.streamCollector(e);return lm.Uint8ArrayBlobAdapter.mutate(await t)}});function Gr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var um=P(()=>{});var Br,vE=P(()=>{Br=e=>typeof e=="function"?e():e});var Dl,mm=P(()=>{Dl=(e,n,t,r,s)=>({name:n,namespace:e,traits:t,input:r,output:s})});var RT,vT,IT,IE,kT=P(()=>{RT=k(je()),vT=k(En());mm();IT=e=>(n,t)=>async r=>{let{response:s}=await n(r),{operationSchema:o}=(0,vT.getSmithyContext)(t),[,a,c,l,d,f]=o??[];try{let g=await e.protocol.deserializeResponse(Dl(a,c,l,d,f),{...e,...t},s);return{response:s,output:g}}catch(g){if(Object.defineProperty(g,"$response",{value:s}),!("$metadata"in g)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{g.message+=`
  `+p}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(p):t.logger?.warn?.(p)}typeof g.$responseBodyText<"u"&&g.$response&&(g.$response.body=g.$responseBodyText);try{if(RT.HttpResponse.isInstance(s)){let{headers:h={}}=s,b=Object.entries(h);g.$metadata={httpStatusCode:s.statusCode,requestId:IE(/^x-[\w-]+-request-?id$/,b),extendedRequestId:IE(/^x-[\w-]+-id-2$/,b),cfId:IE(/^x-[\w-]+-cf-id$/,b)}}}catch{}}throw g}},IE=(e,n)=>(n.find(([t])=>t.match(e))||[void 0,void 0])[1]});var NT,OT,BT=P(()=>{NT=k(En());mm();OT=e=>(n,t)=>async r=>{let{operationSchema:s}=(0,NT.getSmithyContext)(t),[,o,a,c,l,d]=s??[],f=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,g=await e.protocol.serializeRequest(Dl(o,a,c,l,d),r.input,{...e,...t,endpoint:f});return n({...r,request:g})}});function b$(e){return{applyToStack:n=>{n.add(OT(e),MT),n.add(IT(e),DT),e.protocol.setSerdeContext(e)}}}var DT,MT,LT=P(()=>{kT();BT();DT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},MT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Mt,eo=P(()=>{Mt=class{name;namespace;traits;static assign(n,t){return Object.assign(n,t)}static[Symbol.hasInstance](n){let t=this.prototype.isPrototypeOf(n);return!t&&typeof n=="object"&&n!==null?n.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var fm,C$,FT=P(()=>{eo();fm=class e extends Mt{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},C$=(e,n,t,r)=>Mt.assign(new fm,{name:n,namespace:e,traits:t,valueSchema:r})});var gm,_$,zT=P(()=>{eo();gm=class e extends Mt{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},_$=(e,n,t,r,s)=>Mt.assign(new gm,{name:n,namespace:e,traits:t,keySchema:r,valueSchema:s})});var hm,x$,UT=P(()=>{eo();hm=class e extends Mt{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},x$=(e,n,t,r,s)=>Mt.assign(new hm,{name:n,namespace:e,traits:t,input:r,output:s})});var Ra,w$,kE=P(()=>{eo();Ra=class e extends Mt{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},w$=(e,n,t,r,s)=>Mt.assign(new Ra,{name:n,namespace:e,traits:t,memberNames:r,memberList:s})});var pm,A$,qT=P(()=>{eo();kE();pm=class e extends Ra{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},A$=(e,n,t,r,s,o)=>Mt.assign(new pm,{name:n,namespace:e,traits:t,memberNames:r,memberList:s,ctor:null})});function Kr(e){if(typeof e=="object")return e;e=e|0;let n={},t=0;for(let r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(n[r]=1);return n}var NE=P(()=>{});function Ml(e,n){if(e instanceof ie)return Object.assign(e,{memberName:n,_isMemberSchema:!0});let t=ie;return new t(e,n)}var ie,OE,HT,$T=P(()=>{vE();NE();ie=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(n,t){this.ref=n,this.memberName=t;let r=[],s=n,o=n;for(this._isMemberSchema=!1;OE(s);)r.push(s[1]),s=s[0],o=Br(s),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let a=r.length-1;a>=0;--a){let c=r[a];Object.assign(this.memberTraits,Kr(c))}}else this.memberTraits=0;if(o instanceof e){let a=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},a,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=Br(o),HT(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](n){let t=this.prototype.isPrototypeOf(n);return!t&&typeof n=="object"&&n!==null?n.symbol===this.symbol:t}static of(n){let t=Br(n);if(t instanceof e)return t;if(OE(t)){let[r,s]=t;if(r instanceof e)return Object.assign(r.getMergedTraits(),Kr(s)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(n,null,2)}.`)}return new e(t)}getSchema(){let n=this.schema;return n[0]===0?n[4]:n}getName(n=!1){let{name:t}=this;return!n&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let n=this.getSchema();return typeof n=="number"?n>=64&&n<128:n[0]===1}isMapSchema(){let n=this.getSchema();return typeof n=="number"?n>=128&&n<=255:n[0]===2}isStructSchema(){let n=this.getSchema();return n[0]===3||n[0]===-3}isBlobSchema(){let n=this.getSchema();return n===21||n===42}isTimestampSchema(){let n=this.getSchema();return typeof n=="number"&&n>=4&&n<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:n}=this.getMergedTraits();return!!n||this.getSchema()===42}isIdempotencyToken(){let n=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:r,memberTraits:s}=this;return n(t)||n(r)||n(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Kr(this.memberTraits)}getOwnTraits(){return Kr(this.traits)}getKeySchema(){let[n,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!n&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let r=this.getSchema(),s=n?15:r[4]??0;return Ml([s,0],"key")}getValueSchema(){let n=this.getSchema(),[t,r,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof n=="number"?63&n:n&&typeof n=="object"&&(r||s)?n[3+n[0]]:t?15:void 0;if(o!=null)return Ml([o,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(n){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(n)){let r=t[4].indexOf(n),s=t[5][r];return Ml(OE(s)?s:[s,0],n)}if(this.isDocumentSchema())return Ml([15,0],n);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${n}.`)}getMemberSchemas(){let n={};try{for(let[t,r]of this.structIterator())n[t]=r}catch{}return n}getEventStreamMember(){if(this.isStructSchema()){for(let[n,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return n}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let n=this.getSchema();for(let t=0;t<n[4].length;++t)yield[n[4][t],Ml([n[5][t],0],n[4][t])]}};OE=e=>Array.isArray(e)&&e.length===2,HT=e=>Array.isArray(e)&&e.length>=5});var Ll,P$,T$,jT=P(()=>{eo();Ll=class e extends Mt{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},P$=(e,n,t,r)=>Mt.assign(new Ll,{name:n,namespace:e,traits:r,schemaRef:t}),T$=(e,n,t,r)=>Mt.assign(new Ll,{name:n,namespace:e,traits:t,schemaRef:r})});var R$,VT=P(()=>{R$={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Wt,GT=P(()=>{Wt=class e{namespace;schemas;exceptions;static registries=new Map;constructor(n,t=new Map,r=new Map){this.namespace=n,this.schemas=t,this.exceptions=r}static for(n){return e.registries.has(n)||e.registries.set(n,new e(n)),e.registries.get(n)}register(n,t){let r=this.normalizeShapeId(n);e.for(r.split("#")[0]).schemas.set(r,t)}getSchema(n){let t=this.normalizeShapeId(n);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(n,t){let r=n,s=e.for(r[1]);s.schemas.set(r[1]+"#"+r[2],r),s.exceptions.set(r,t)}getErrorCtor(n){let t=n;return e.for(t[1]).exceptions.get(t)}getBaseException(){for(let n of this.exceptions.keys())if(Array.isArray(n)){let[,t,r]=n,s=t+"#"+r;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return n}}find(n){return[...this.schemas.values()].find(n)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(n){return n.includes("#")?n:this.namespace+"#"+n}}});var KT={};cr(KT,{ErrorSchema:()=>pm,ListSchema:()=>fm,MapSchema:()=>gm,NormalizedSchema:()=>ie,OperationSchema:()=>hm,SCHEMA:()=>R$,Schema:()=>Mt,SimpleSchema:()=>Ll,StructureSchema:()=>Ra,TypeRegistry:()=>Wt,deref:()=>Br,deserializerMiddlewareOption:()=>DT,error:()=>A$,getSchemaSerdePlugin:()=>b$,isStaticSchema:()=>HT,list:()=>C$,map:()=>_$,op:()=>x$,operation:()=>Dl,serializerMiddlewareOption:()=>MT,sim:()=>P$,simAdapter:()=>T$,struct:()=>w$,translateTraits:()=>Kr});var It=P(()=>{vE();LT();FT();zT();UT();mm();qT();$T();eo();jT();kE();VT();NE();GT()});var v$,WT=P(()=>{v$=(e,n,t=r=>r)=>e});var I$,k$,Fl,N$,ym,zl,O$,BE,DE,ME,LE,B$,D$,XT,M$,L$,Em,F$,FE,z$,va,zE,U$,q$,H$,YT,JT,$$,j$,Xo,UE,Sm,Ul,qE=P(()=>{I$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},k$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ul.warn(Sm(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let n=e.toLowerCase();if((n==="false"||n==="true")&&Ul.warn(Sm(`Expected boolean, got ${typeof e}: ${e}`)),n==="false")return!1;if(n==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Fl=e=>{if(e!=null){if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Ul.warn(Sm(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},N$=Math.ceil(34028234663852886e22),ym=e=>{let n=Fl(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>N$)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},zl=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},O$=zl,BE=e=>LE(e,32),DE=e=>LE(e,16),ME=e=>LE(e,8),LE=(e,n)=>{let t=zl(e);if(t!==void 0&&B$(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},B$=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},D$=(e,n)=>{if(e==null)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},XT=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)},M$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ul.warn(Sm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},L$=e=>{if(e==null)return;let n=XT(e),t=Object.entries(n).filter(([,r])=>r!=null).map(([r])=>r);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return n},Em=e=>Fl(typeof e=="string"?va(e):e),F$=Em,FE=e=>ym(typeof e=="string"?va(e):e),z$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,va=e=>{let n=e.match(z$);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},zE=e=>typeof e=="string"?YT(e):Fl(e),U$=zE,q$=zE,H$=e=>typeof e=="string"?YT(e):ym(e),YT=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},JT=e=>zl(typeof e=="string"?va(e):e),$$=JT,j$=e=>BE(typeof e=="string"?va(e):e),Xo=e=>DE(typeof e=="string"?va(e):e),UE=e=>ME(typeof e=="string"?va(e):e),Sm=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),Ul={warn:console.warn}});function Hl(e){let n=e.getUTCFullYear(),t=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`,g=c<10?`0${c}`:`${c}`;return`${V$[r]}, ${l} ${$E[t]} ${n} ${d}:${f}:${g} GMT`}var V$,$E,G$,K$,W$,jE,X$,Y$,J$,VE,GE,ql,Q$,Z$,ej,HE,tj,nj,rj,Wr,sj,oj,Ia,QT=P(()=>{qE();V$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];G$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),K$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let n=G$.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");let[t,r,s,o,a,c,l,d]=n,f=Xo(Ia(r)),g=Wr(s,"month",1,12),p=Wr(o,"day",1,31);return ql(f,g,p,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})},W$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),jE=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let n=W$.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");let[t,r,s,o,a,c,l,d,f]=n,g=Xo(Ia(r)),p=Wr(s,"month",1,12),h=Wr(o,"day",1,31),b=ql(g,p,h,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-oj(f)),b},X$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Y$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),J$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),VE=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=X$.exec(e);if(n){let[t,r,s,o,a,c,l,d]=n;return ql(Xo(Ia(o)),HE(s),Wr(r,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})}if(n=Y$.exec(e),n){let[t,r,s,o,a,c,l,d]=n;return ej(ql(Q$(o),HE(s),Wr(r,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d}))}if(n=J$.exec(e),n){let[t,r,s,o,a,c,l,d]=n;return ql(Xo(Ia(d)),HE(r),Wr(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},GE=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=Em(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},ql=(e,n,t,r)=>{let s=n-1;return nj(e,s,t),new Date(Date.UTC(e,s,t,Wr(r.hours,"hour",0,23),Wr(r.minutes,"minute",0,59),Wr(r.seconds,"seconds",0,60),sj(r.fractionalMilliseconds)))},Q$=e=>{let n=new Date().getUTCFullYear(),t=Math.floor(n/100)*100+Xo(Ia(e));return t<n?t+100:t},Z$=50*365*24*60*60*1e3,ej=e=>e.getTime()-new Date().getTime()>Z$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,HE=e=>{let n=$E.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},tj=[31,28,31,30,31,30,31,31,30,31,30,31],nj=(e,n,t)=>{let r=tj[n];if(n===1&&rj(e)&&(r=29),t>r)throw new TypeError(`Invalid day for ${$E[n]} in ${e}: ${t}`)},rj=e=>e%4===0&&(e%100!==0||e%400===0),Wr=(e,n,t,r)=>{let s=UE(Ia(e));if(s<t||s>r)throw new TypeError(`${n} must be between ${t} and ${r}, inclusive`);return s},sj=e=>e==null?0:FE("0."+e)*1e3,oj=e=>{let n=e[0],t=1;if(n=="+")t=1;else if(n=="-")t=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);let r=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(r*60+s)*60*1e3},Ia=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)}});var Xr={};cr(Xr,{__addDisposableResource:()=>xR,__assign:()=>bm,__asyncDelegator:()=>hR,__asyncGenerator:()=>gR,__asyncValues:()=>pR,__await:()=>ka,__awaiter:()=>cR,__classPrivateFieldGet:()=>bR,__classPrivateFieldIn:()=>_R,__classPrivateFieldSet:()=>CR,__createBinding:()=>_m,__decorate:()=>tR,__disposeResources:()=>wR,__esDecorate:()=>rR,__exportStar:()=>dR,__extends:()=>ZT,__generator:()=>lR,__importDefault:()=>ER,__importStar:()=>SR,__makeTemplateObject:()=>yR,__metadata:()=>aR,__param:()=>nR,__propKey:()=>oR,__read:()=>XE,__rest:()=>eR,__rewriteRelativeImportExtension:()=>AR,__runInitializers:()=>sR,__setFunctionName:()=>iR,__spread:()=>uR,__spreadArray:()=>fR,__spreadArrays:()=>mR,__values:()=>Cm,default:()=>cj});function ZT(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");KE(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function eR(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t}function tR(e,n,t,r){var s=arguments.length,o=s<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(s<3?a(o):s>3?a(n,t,o):a(n,t))||o);return s>3&&o&&Object.defineProperty(n,t,o),o}function nR(e,n){return function(t,r){n(t,r,e)}}function rR(e,n,t,r,s,o){function a(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var c=r.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!n&&e?r.static?e:e.prototype:null,f=n||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,p=!1,h=t.length-1;h>=0;h--){var b={};for(var T in r)b[T]=T==="access"?{}:r[T];for(var T in r.access)b.access[T]=r.access[T];b.addInitializer=function(O){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(O||null))};var I=(0,t[h])(c==="accessor"?{get:f.get,set:f.set}:f[l],b);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(g=a(I.get))&&(f.get=g),(g=a(I.set))&&(f.set=g),(g=a(I.init))&&s.unshift(g)}else(g=a(I))&&(c==="field"?s.unshift(g):f[l]=g)}d&&Object.defineProperty(d,r.name,f),p=!0}function sR(e,n,t){for(var r=arguments.length>2,s=0;s<n.length;s++)t=r?n[s].call(e,t):n[s].call(e);return r?t:void 0}function oR(e){return typeof e=="symbol"?e:"".concat(e)}function iR(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function aR(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function cR(e,n,t,r){function s(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(f){try{d(r.next(f))}catch(g){a(g)}}function l(f){try{d(r.throw(f))}catch(g){a(g)}}function d(f){f.done?o(f.value):s(f.value).then(c,l)}d((r=r.apply(e,n||[])).next())})}function lR(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(f){return l([d,f])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(t=0)),t;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(e,t)}catch(f){d=[6,f],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function dR(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&_m(n,e,t)}function Cm(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function XE(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),s,o=[],a;try{for(;(n===void 0||n-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o}function uR(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(XE(arguments[n]));return e}function mR(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),s=0,n=0;n<t;n++)for(var o=arguments[n],a=0,c=o.length;a<c;a++,s++)r[s]=o[a];return r}function fR(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,o;r<s;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function ka(e){return this instanceof ka?(this.v=e,this):new ka(e)}function gR(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(h){return function(b){return Promise.resolve(b).then(h,g)}}function c(h,b){r[h]&&(s[h]=function(T){return new Promise(function(I,O){o.push([h,T,I,O])>1||l(h,T)})},b&&(s[h]=b(s[h])))}function l(h,b){try{d(r[h](b))}catch(T){p(o[0][3],T)}}function d(h){h.value instanceof ka?Promise.resolve(h.value.v).then(f,g):p(o[0][2],h)}function f(h){l("next",h)}function g(h){l("throw",h)}function p(h,b){h(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hR(e){var n,t;return n={},r("next"),r("throw",function(s){throw s}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(s,o){n[s]=e[s]?function(a){return(t=!t)?{value:ka(e[s](a)),done:!1}:o?o(a):a}:o}}function pR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Cm=="function"?Cm(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(a){return new Promise(function(c,l){a=e[o](a),s(c,l,a.done,a.value)})}}function s(o,a,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},a)}}function yR(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function SR(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=WE(e),r=0;r<t.length;r++)t[r]!=="default"&&_m(n,e,t[r]);return ij(n,e),n}function ER(e){return e&&e.__esModule?e:{default:e}}function bR(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}function CR(e,n,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!s:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,t):s?s.value=t:n.set(e,t),t}function _R(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function xR(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],t&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:n,dispose:r,async:t})}else t&&e.stack.push({async:!0});return n}function wR(e){function n(o){e.error=e.hasError?new aj(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,r=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(s,function(a){return n(a),s()})}else r|=1}catch(a){n(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function AR(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,s,o,a){return r?n?".jsx":".js":s&&(!o||!a)?t:s+o+"."+a.toLowerCase()+"js"}):e}var KE,bm,_m,ij,WE,aj,cj,Yr=P(()=>{KE=function(e,n){return KE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},KE(e,n)};bm=function(){return bm=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},bm.apply(this,arguments)};_m=Object.create?(function(e,n,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,s)}):(function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]});ij=Object.create?(function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}):function(e,n){e.default=n},WE=function(e){return WE=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},WE(e)};aj=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};cj={__extends:ZT,__assign:bm,__rest:eR,__decorate:tR,__param:nR,__esDecorate:rR,__runInitializers:sR,__propKey:oR,__setFunctionName:iR,__metadata:aR,__awaiter:cR,__generator:lR,__createBinding:_m,__exportStar:dR,__values:Cm,__read:XE,__spread:uR,__spreadArrays:mR,__spreadArray:fR,__await:ka,__asyncGenerator:gR,__asyncDelegator:hR,__asyncValues:pR,__makeTemplateObject:yR,__importStar:SR,__importDefault:ER,__classPrivateFieldGet:bR,__classPrivateFieldSet:CR,__classPrivateFieldIn:_R,__addDisposableResource:xR,__disposeResources:wR,__rewriteRelativeImportExtension:AR}});var TR=B(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.randomUUID=void 0;var lj=(Yr(),ve(Xr)),PR=lj.__importDefault(require("crypto"));xm.randomUUID=PR.default.randomUUID.bind(PR.default)});var wm=B(vR=>{"use strict";var RR=TR(),bn=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0")),dj=()=>{if(RR.randomUUID)return RR.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,bn[e[0]]+bn[e[1]]+bn[e[2]]+bn[e[3]]+"-"+bn[e[4]]+bn[e[5]]+"-"+bn[e[6]]+bn[e[7]]+"-"+bn[e[8]]+bn[e[9]]+"-"+bn[e[10]]+bn[e[11]]+bn[e[12]]+bn[e[13]]+bn[e[14]]+bn[e[15]]};vR.v4=dj});var Jr,IR=P(()=>{Jr=k(wm())});var On,kR=P(()=>{On=function(n){return Object.assign(new String(n),{deserializeJSON(){return JSON.parse(String(n))},toString(){return String(n)},toJSON(){return String(n)}})};On.from=e=>e&&typeof e=="object"&&(e instanceof On||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?On(String(e)):On(JSON.stringify(e));On.fromObject=On.from});function YE(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var NR=P(()=>{});function bs(e,n,t){let r=Number(e);if(r<n||r>t)throw new Error(`Value ${r} out of range [${n}, ${t}]`)}var JE,QE,ZE,OR,BR,uj,mj,fj,gj,hj,$l,eb,tb,DR=P(()=>{JE="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",QE="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",ZE="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",OR="(\\d?\\d)",BR="(\\d{4})",uj=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),mj=new RegExp(`^${JE}, ${OR} ${QE} ${BR} ${ZE} GMT$`),fj=new RegExp(`^${JE}, ${OR}-${QE}-(\\d\\d) ${ZE} GMT$`),gj=new RegExp(`^${JE} ${QE} ( [1-9]|\\d\\d) ${ZE} ${BR}$`),hj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$l=e=>{if(e==null)return;let n=NaN;if(typeof e=="number")n=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");n=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(n=e.value);if(isNaN(n)||Math.abs(n)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(n*1e3))},eb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let n=uj.exec(e);if(!n)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,r,s,o,a,c,,l,d]=n;bs(r,1,12),bs(s,1,31),bs(o,0,23),bs(a,0,59),bs(c,0,60);let f=new Date;if(f.setUTCFullYear(Number(t),Number(r)-1,Number(s)),f.setUTCHours(Number(o)),f.setUTCMinutes(Number(a)),f.setUTCSeconds(Number(c)),f.setUTCMilliseconds(Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0),d.toUpperCase()!="Z"){let[,g,p,h]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],b=g==="-"?1:-1;f.setTime(f.getTime()+b*(Number(p)*60*60*1e3+Number(h)*60*1e3))}return f},tb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let n,t,r,s,o,a,c,l;if((l=mj.exec(e))?[,n,t,r,s,o,a,c]=l:(l=fj.exec(e))?([,n,t,r,s,o,a,c]=l,r=(Number(r)+1900).toString()):(l=gj.exec(e))&&([,t,n,s,o,a,c,r]=l),r&&a){let d=new Date;return d.setUTCFullYear(Number(r)),d.setUTCMonth(hj.indexOf(t)),bs(n,1,31),d.setUTCDate(Number(n)),bs(s,0,23),d.setUTCHours(Number(s)),bs(o,0,59),d.setUTCMinutes(Number(o)),bs(a,0,60),d.setUTCSeconds(Number(a)),d.setUTCMilliseconds(c?Math.round(parseFloat(`0.${c}`)*1e3):0),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function nb(e,n,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let r=e.split(n);if(t===1)return r;let s=[],o="";for(let a=0;a<r.length;a++)o===""?o=r[a]:o+=n+r[a],(a+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var MR=P(()=>{});var jl,LR=P(()=>{jl=e=>{let n=e.length,t=[],r=!1,s,o=0;for(let a=0;a<n;++a){let c=e[a];switch(c){case'"':s!=="\\"&&(r=!r);break;case",":r||(t.push(e.slice(o,a)),o=a+1);break;default:}s=c}return t.push(e.slice(o)),t.map(a=>{a=a.trim();let c=a.length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})}});function rb(e){return new xt(String(e),"bigDecimal")}var FR,xt,zR=P(()=>{FR=/^-?\d*(\.\d+)?$/,xt=class e{string;type;constructor(n,t){if(this.string=n,this.type=t,!FR.test(n))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](n){if(!n||typeof n!="object")return!1;let t=n;return e.prototype.isPrototypeOf(n)||t.type==="bigDecimal"&&FR.test(t.string)}}});var UR={};cr(UR,{LazyJsonString:()=>On,NumericValue:()=>xt,_parseEpochTimestamp:()=>$l,_parseRfc3339DateTimeWithOffset:()=>eb,_parseRfc7231DateTime:()=>tb,copyDocumentWithTransform:()=>v$,dateToUtcString:()=>Hl,expectBoolean:()=>k$,expectByte:()=>ME,expectFloat32:()=>ym,expectInt:()=>O$,expectInt32:()=>BE,expectLong:()=>zl,expectNonNull:()=>D$,expectNumber:()=>Fl,expectObject:()=>XT,expectShort:()=>DE,expectString:()=>M$,expectUnion:()=>L$,generateIdempotencyToken:()=>Jr.v4,handleFloat:()=>U$,limitedParseDouble:()=>zE,limitedParseFloat:()=>q$,limitedParseFloat32:()=>H$,logger:()=>Ul,nv:()=>rb,parseBoolean:()=>I$,parseEpochTimestamp:()=>GE,parseRfc3339DateTime:()=>K$,parseRfc3339DateTimeWithOffset:()=>jE,parseRfc7231DateTime:()=>VE,quoteHeader:()=>YE,splitEvery:()=>nb,splitHeader:()=>jl,strictParseByte:()=>UE,strictParseDouble:()=>Em,strictParseFloat:()=>F$,strictParseFloat32:()=>FE,strictParseInt:()=>$$,strictParseInt32:()=>j$,strictParseLong:()=>JT,strictParseShort:()=>Xo});var $n=P(()=>{WT();QT();IR();kR();qE();NR();DR();MR();LR();zR()});var Bn,Na=P(()=>{Bn=class{serdeContext;setSerdeContext(n){this.serdeContext=n}}});var qR,sb,HR=P(()=>{qR=k(Kt()),sb=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:n,serializer:t,deserializer:r,serdeContext:s,defaultContentType:o}){this.marshaller=n,this.serializer=t,this.deserializer=r,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(r){let g={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(t,r);let p=c.flush();yield{[d]:!0,headers:g,body:p}}for await(let g of n)yield g}};return s.serialize(f,g=>{if(g[d])return{headers:g.headers,body:g.body};let p=Object.keys(g).find(W=>W!=="__type")??"",{additionalHeaders:h,body:b,eventType:T,explicitPayloadContentType:I}=this.writeEventBody(p,a,g);return{headers:{":event-type":{type:"string",value:T},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??l},...h},body:b}})}async deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r}){let s=this.marshaller,o=t.getEventStreamMember(),c=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(n.body,async p=>{let h=Object.keys(p).find(b=>b!=="__type")??"";if(h==="initial-response"){let b=await this.deserializer.read(t,p[h].body);return delete b[o],{[l]:!0,...b}}else if(h in c){let b=c[h];return{[h]:await this.deserializer.read(b,p[h].body)}}else return{$unknown:p}}),f=d[Symbol.asyncIterator](),g=await f.next();if(g.done)return d;if(g.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[p,h]of Object.entries(g.value))r[p]=h}return{async*[Symbol.asyncIterator](){for(g?.value?.[l]||(yield g.value);;){let{done:p,value:h}=await f.next();if(p)break;yield h}}}}writeEventBody(n,t,r){let s=this.serializer,o=n,a=null,c,l=t.getSchema()[4].includes(n),d={};if(l){let p=t.getMemberSchema(n);if(p.isStructSchema()){for(let[h,b]of p.structIterator()){let{eventHeader:T,eventPayload:I}=b.getMergedTraits();if(I){a=h;break}else if(T){let O=r[n][h],W="binary";b.isNumericSchema()?(-2)**31<=O&&O<=2**31-1?W="integer":W="long":b.isTimestampSchema()?W="timestamp":b.isStringSchema()?W="string":b.isBooleanSchema()&&(W="boolean"),O!=null&&(d[h]={type:W,value:O},delete r[n][h])}}if(a!==null){let h=p.getMemberSchema(a);h.isBlobSchema()?c="application/octet-stream":h.isStringSchema()&&(c="text/plain"),s.write(h,r[n][a])}else s.write(p,r[n])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[p,h]=r[n];o=p,s.write(15,h)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??qR.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:c,additionalHeaders:d}}}});var $R={};cr($R,{EventStreamSerde:()=>sb});var jR=P(()=>{HR()});var Am,Yo,Pm=P(()=>{It();Am=k(je());Na();Yo=class extends Bn{options;constructor(n){super(),this.options=n}getRequestType(){return Am.HttpRequest}getResponseType(){return Am.HttpResponse}setSerdeContext(n){this.serdeContext=n,this.serializer.setSerdeContext(n),this.deserializer.setSerdeContext(n),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(n)}updateServiceEndpoint(n,t){if("url"in t){n.protocol=t.url.protocol,n.hostname=t.url.hostname,n.port=t.url.port?Number(t.url.port):void 0,n.path=t.url.pathname,n.fragment=t.url.hash||void 0,n.username=t.url.username||void 0,n.password=t.url.password||void 0,n.query||(n.query={});for(let[r,s]of t.url.searchParams.entries())n.query[r]=s;return n}else return n.protocol=t.protocol,n.hostname=t.hostname,n.port=t.port?Number(t.port):void 0,n.path=t.path,n.query={...t.query},n}setHostPrefix(n,t,r){let s=ie.of(t.input),o=Kr(t.traits??{});if(o.endpoint){let a=o.endpoint?.[0];if(typeof a=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let d=r[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,d)}n.hostname=a+n.hostname}}}deserializeMetadata(n){return{httpStatusCode:n.statusCode,requestId:n.headers["x-amzn-requestid"]??n.headers["x-amzn-request-id"]??n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r})}async deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r})}async loadEventStreamCapability(){let{EventStreamSerde:n}=await Promise.resolve().then(()=>(jR(),$R));return new n({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(n,t,r,s,o){return[]}getEventStreamMarshaller(){let n=this.serdeContext;if(!n.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return n.eventStreamMarshaller}}});var VR,GR,Jo,KR=P(()=>{It();$n();VR=k(je()),GR=k(Wo());dm();um();Pm();Jo=class extends Yo{async serializeRequest(n,t,r){let s={...t??{}},o=this.serializer,a={},c={},l=await r.endpoint(),d=ie.of(n?.input),f=d.getSchema(),g=!1,p,h=new VR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:c,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,n,s);let b=Kr(n.traits);if(b.http){h.method=b.http[0];let[T,I]=b.http[1].split("?");h.path=="/"?h.path=T:h.path+=T;let O=new URLSearchParams(I??"");Object.assign(a,Object.fromEntries(O))}}for(let[b,T]of d.structIterator()){let I=T.getMergedTraits()??{},O=s[b];if(O!=null)if(I.httpPayload)T.isStreaming()?T.isStructSchema()?s[b]&&(p=await this.serializeEventStream({eventStream:s[b],requestSchema:d})):p=O:(o.write(T,O),p=o.flush()),delete s[b];else if(I.httpLabel){o.write(T,O);let W=o.flush();h.path.includes(`{${b}+}`)?h.path=h.path.replace(`{${b}+}`,W.split("/").map(Gr).join("/")):h.path.includes(`{${b}}`)&&(h.path=h.path.replace(`{${b}}`,Gr(W))),delete s[b]}else if(I.httpHeader)o.write(T,O),c[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[b];else if(typeof I.httpPrefixHeaders=="string"){for(let[W,ce]of Object.entries(O)){let me=I.httpPrefixHeaders+W;o.write([T.getValueSchema(),{httpHeader:me}],ce),c[me.toLowerCase()]=o.flush()}delete s[b]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(T,O,a),delete s[b]):g=!0}return g&&s&&(o.write(f,s),p=o.flush()),h.headers=c,h.query=a,h.body=p,h}serializeQuery(n,t,r){let s=this.serializer,o=n.getMergedTraits();if(o.httpQueryParams){for(let[a,c]of Object.entries(t))if(!(a in r)){let l=n.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(l,c,r)}return}if(n.isListSchema()){let a=!!n.getMergedTraits().sparse,c=[];for(let l of t){s.write([n.getValueSchema(),o],l);let d=s.flush();(a||d!==void 0)&&c.push(d)}r[o.httpQuery]=c}else s.write([n,o],t),r[o.httpQuery]=s.flush()}async deserializeResponse(n,t,r){let s=this.deserializer,o=ie.of(n.output),a={};if(r.statusCode>=300){let l=await Or(r.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(n,t,r,a,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in r.headers){let d=r.headers[l];delete r.headers[l],r.headers[l.toLowerCase()]=d}let c=await this.deserializeHttpMessage(o,t,r,a);if(c.length){let l=await Or(r.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let f of c)a[f]=d[f]}}return a.$metadata=this.deserializeMetadata(r),a}async deserializeHttpMessage(n,t,r,s,o){let a;s instanceof Set?a=o:a=s;let c=this.deserializer,l=ie.of(n),d=[];for(let[f,g]of l.structIterator()){let p=g.getMemberTraits();if(p.httpPayload){if(g.isStreaming())g.isStructSchema()?a[f]=await this.deserializeEventStream({response:r,responseSchema:l}):a[f]=(0,GR.sdkStreamMixin)(r.body);else if(r.body){let b=await Or(r.body,t);b.byteLength>0&&(a[f]=await c.read(g,b))}}else if(p.httpHeader){let h=String(p.httpHeader).toLowerCase(),b=r.headers[h];if(b!=null)if(g.isListSchema()){let T=g.getValueSchema();T.getMergedTraits().httpHeader=h;let I;T.isTimestampSchema()&&T.getSchema()===4?I=nb(b,",",2):I=jl(b);let O=[];for(let W of I)O.push(await c.read(T,W.trim()));a[f]=O}else a[f]=await c.read(g,b)}else if(p.httpPrefixHeaders!==void 0){a[f]={};for(let[h,b]of Object.entries(r.headers))if(h.startsWith(p.httpPrefixHeaders)){let T=g.getValueSchema();T.getMergedTraits().httpHeader=h,a[f][h.slice(p.httpPrefixHeaders.length)]=await c.read(T,b)}}else p.httpResponseCode?a[f]=r.statusCode:d.push(f)}return d}}});var WR,Cs,XR=P(()=>{It();WR=k(je());dm();Pm();Cs=class extends Yo{async serializeRequest(n,t,r){let s=this.serializer,o={},a={},c=await r.endpoint(),l=ie.of(n?.input),d=l.getSchema(),f,g=new WR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:a,body:void 0});c&&(this.updateServiceEndpoint(g,c),this.setHostPrefix(g,n,t));let p={...t};if(t){let h=l.getEventStreamMember();if(h){if(p[h]){let b={};for(let[T,I]of l.structIterator())T!==h&&p[T]&&(s.write(I,p[T]),b[T]=s.flush());f=await this.serializeEventStream({eventStream:p[h],requestSchema:l,initialRequest:b})}}else s.write(d,p),f=s.flush()}return g.headers=a,g.query=o,g.body=f,g.method="POST",g}async deserializeResponse(n,t,r){let s=this.deserializer,o=ie.of(n.output),a={};if(r.statusCode>=300){let l=await Or(r.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(n,t,r,a,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in r.headers){let d=r.headers[l];delete r.headers[l],r.headers[l.toLowerCase()]=d}let c=o.getEventStreamMember();if(c)a[c]=await this.deserializeEventStream({response:r,responseSchema:o,initialResponseContainer:a});else{let l=await Or(r.body,t);l.byteLength>0&&Object.assign(a,await s.read(o,l))}return a.$metadata=this.deserializeMetadata(r),a}}});var ob,ib=P(()=>{um();ob=(e,n,t,r,s,o)=>{if(n!=null&&n[t]!==void 0){let a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?a.split("/").map(c=>Gr(c)).join("/"):Gr(a))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function Vl(e,n){return new Tm(e,n)}var YR,Tm,JR=P(()=>{YR=k(je());ib();Tm=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(n,t){this.input=n,this.context=t}async build(){let{hostname:n,protocol:t="https",port:r,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new YR.HttpRequest({protocol:t,hostname:this.hostname||n,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,r,s){return this.resolvePathStack.push(o=>{this.path=ob(o,this.input,n,t,r,s)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}});function Zn(e,n){if(n.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:r,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(n.httpBindings?typeof r=="string"||s?6:o||t?5:void 0:void 0)??n.timestampFormat.default}var Rm=P(()=>{});var ab,QR,Qo,cb=P(()=>{It();$n();ab=k(fn()),QR=k(Kt());Na();Rm();Qo=class extends Bn{settings;constructor(n){super(),this.settings=n}read(n,t){let r=ie.of(n);if(r.isListSchema())return jl(t).map(s=>this.read(r.getValueSchema(),s));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??ab.fromBase64)(t);if(r.isTimestampSchema())switch(Zn(r,this.settings)){case 5:return eb(t);case 6:return tb(t);case 7:return $l(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){let s=r.getMergedTraits().mediaType,o=t;if(s)return r.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=On.from(o)),o}return r.isNumericSchema()?Number(t):r.isBigIntegerSchema()?BigInt(t):r.isBigDecimalSchema()?new xt(t,"bigDecimal"):r.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(n){return(this.serdeContext?.utf8Encoder??QR.toUtf8)((this.serdeContext?.base64Decoder??ab.fromBase64)(n))}}});var vm,Zo,ZR=P(()=>{It();vm=k(Kt());Na();cb();Zo=class extends Bn{codecDeserializer;stringDeserializer;constructor(n,t){super(),this.codecDeserializer=n,this.stringDeserializer=new Qo(t)}setSerdeContext(n){this.stringDeserializer.setSerdeContext(n),this.codecDeserializer.setSerdeContext(n),this.serdeContext=n}read(n,t){let r=ie.of(n),s=r.getMergedTraits(),o=this.serdeContext?.utf8Encoder??vm.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(r,o(t));if(s.httpPayload){if(r.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??vm.fromUtf8;return typeof t=="string"?a(t):t}else if(r.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(r,t)}}});var lb,Gl,db=P(()=>{It();$n();lb=k(fn());Na();Rm();Gl=class extends Bn{settings;stringBuffer="";constructor(n){super(),this.settings=n}write(n,t){let r=ie.of(n);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(r.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${r.getName(!0)}`);switch(Zn(r,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Hl(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??lb.toBase64)(t);return}if(r.isListSchema()&&Array.isArray(t)){let a="";for(let c of t){this.write([r.getValueSchema(),r.getMergedTraits()],c);let l=this.flush(),d=r.getValueSchema().isTimestampSchema()?l:YE(l);a!==""&&(a+=", "),a+=d}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=r.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=On.from(o)),r.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??lb.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let n=this.stringBuffer;return this.stringBuffer="",n}}});var ei,ev=P(()=>{It();db();ei=class{codecSerializer;stringSerializer;buffer;constructor(n,t,r=new Gl(t)){this.codecSerializer=n,this.stringSerializer=r}setSerdeContext(n){this.codecSerializer.setSerdeContext(n),this.stringSerializer.setSerdeContext(n)}write(n,t){let r=ie.of(n),s=r.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(r,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,t)}flush(){if(this.buffer!==void 0){let n=this.buffer;return this.buffer=void 0,n}return this.codecSerializer.flush()}}});var tv={};cr(tv,{FromStringShapeDeserializer:()=>Qo,HttpBindingProtocol:()=>Jo,HttpInterceptingShapeDeserializer:()=>Zo,HttpInterceptingShapeSerializer:()=>ei,HttpProtocol:()=>Yo,RequestBuilder:()=>Tm,RpcProtocol:()=>Cs,SerdeContext:()=>Bn,ToStringShapeSerializer:()=>Gl,collectBody:()=>Or,determineTimestampFormat:()=>Zn,extendedEncodeURIComponent:()=>Gr,requestBuilder:()=>Vl,resolvedPath:()=>ob});var jn=P(()=>{dm();um();KR();Pm();XR();JR();ib();cb();ZR();ev();db();Rm();Na()});var nv=P(()=>{jn()});function pj(e,n,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[n]=t}var rv=P(()=>{});var ti,sv=P(()=>{ti=class{authSchemes=new Map;constructor(n){for(let[t,r]of Object.entries(n))r!==void 0&&this.authSchemes.set(t,r)}getIdentityProvider(n){return this.authSchemes.get(n)}}});var ov,ub,mb,iv=P(()=>{ov=k(je()),ub=k(ys()),mb=class{async sign(n,t,r){if(!r)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!r.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!r.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=ov.HttpRequest.clone(n);if(r.in===ub.HttpApiKeyAuthLocation.QUERY)s.query[r.name]=t.apiKey;else if(r.in===ub.HttpApiKeyAuthLocation.HEADER)s.headers[r.name]=r.scheme?`${r.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+r.in+"`");return s}}});var av,fb,cv=P(()=>{av=k(je()),fb=class{async sign(n,t,r){let s=av.HttpRequest.clone(n);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var _s,lv=P(()=>{_s=class{async sign(n,t,r){return n}}});var dv=P(()=>{iv();cv();lv()});var uv,yj,gb,Im,hb,mv=P(()=>{uv=e=>function(t){return Im(t)&&t.expiration.getTime()-Date.now()<e},yj=3e5,gb=uv(3e5),Im=e=>e.expiration!==void 0,hb=(e,n,t)=>{if(e===void 0)return;let r=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,a,c=!1,l=async d=>{o||(o=r(d));try{s=await o,a=!0,c=!1}finally{o=void 0}return s};return n===void 0?async d=>((!a||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!a||d?.forceRefresh)&&(s=await l(d)),c?s:t(s)?(n(s)&&await l(d),s):(c=!0,s))}});var fv=P(()=>{sv();dv();mv()});var ni={};cr(ni,{DefaultIdentityProviderConfig:()=>ti,EXPIRATION_MS:()=>yj,HttpApiKeyAuthSigner:()=>mb,HttpBearerAuthSigner:()=>fb,NoAuthSigner:()=>_s,createIsIdentityExpiredFunction:()=>uv,createPaginator:()=>TP,doesIdentityRequireRefresh:()=>Im,getHttpAuthSchemeEndpointRuleSetPlugin:()=>kl,getHttpAuthSchemePlugin:()=>Q2,getHttpSigningPlugin:()=>Nl,getSmithyContext:()=>G2,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>uP,httpAuthSchemeMiddleware:()=>Il,httpAuthSchemeMiddlewareOptions:()=>SP,httpSigningMiddleware:()=>eE,httpSigningMiddlewareOptions:()=>xP,isIdentityExpired:()=>gb,memoizeIdentityProvider:()=>hb,normalizeProvider:()=>Qs,requestBuilder:()=>Vl,setFeature:()=>pj});var Dn=P(()=>{iP();bP();AP();PP();RP();nv();rv();fv()});var Mn=B(ri=>{"use strict";var Oa=class e extends Error{name="ProviderError";tryNextLink;constructor(n,t=!0){let r,s=!0;typeof t=="boolean"?(r=void 0,s=t):t!=null&&typeof t=="object"&&(r=t.logger,s=t.tryNextLink??!0),super(n),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),r?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${n}`)}static from(n,t=!0){return Object.assign(new this(n.message,t),n)}},pb=class e extends Oa{name="CredentialsProviderError";constructor(n,t=!0){super(n,t),Object.setPrototypeOf(this,e.prototype)}},yb=class e extends Oa{name="TokenProviderError";constructor(n,t=!0){super(n,t),Object.setPrototypeOf(this,e.prototype)}},Sj=(...e)=>async()=>{if(e.length===0)throw new Oa("No providers in chain");let n;for(let t of e)try{return await t()}catch(r){if(n=r,r?.tryNextLink)continue;throw r}throw n},Ej=e=>()=>Promise.resolve(e),bj=(e,n,t)=>{let r,s,o,a=!1,c=async()=>{s||(s=e());try{r=await s,o=!0,a=!1}finally{s=void 0}return r};return n===void 0?async l=>((!o||l?.forceRefresh)&&(r=await c()),r):async l=>((!o||l?.forceRefresh)&&(r=await c()),a?r:t&&!t(r)?(a=!0,r):(n(r)&&await c(),r))};ri.CredentialsProviderError=pb;ri.ProviderError=Oa;ri.TokenProviderError=yb;ri.chain=Sj;ri.fromStatic=Ej;ri.memoize=bj});var Sb,gv,hv,pv=P(()=>{Dn();Sb=k(Mn()),gv=e=>(e.sigv4aSigningRegionSet=Qs(e.sigv4aSigningRegionSet),e),hv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(n=>n.trim());throw new Sb.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(n=>n.trim());throw new Sb.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Fm=B(Pe=>{"use strict";var to=im(),si=Kt(),Cj=ju(),bv=je(),yv=En(),km=gE(),Cv="X-Amz-Algorithm",_v="X-Amz-Credential",wb="X-Amz-Date",xv="X-Amz-SignedHeaders",wv="X-Amz-Expires",Ab="X-Amz-Signature",Pb="X-Amz-Security-Token",_j="X-Amz-Region-Set",Tb="authorization",Rb=wb.toLowerCase(),Av="date",Pv=[Tb,Rb,Av],Tv=Ab.toLowerCase(),Mm="x-amz-content-sha256",Rv=Pb.toLowerCase(),xj="host",vv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Iv=/^proxy-/,kv=/^sec-/,wj=[/^proxy-/i,/^sec-/i],Nm="AWS4-HMAC-SHA256",Aj="AWS4-ECDSA-P256-SHA256",Nv="AWS4-HMAC-SHA256-PAYLOAD",Ov="UNSIGNED-PAYLOAD",Bv=50,vb="aws4_request",Dv=3600*24*7,Ba={},Om=[],Bm=(e,n,t)=>`${e}/${n}/${t}/${vb}`,Mv=async(e,n,t,r,s)=>{let o=await Sv(e,n.secretAccessKey,n.accessKeyId),a=`${t}:${r}:${s}:${to.toHex(o)}:${n.sessionToken}`;if(a in Ba)return Ba[a];for(Om.push(a);Om.length>Bv;)delete Ba[Om.shift()];let c=`AWS4${n.secretAccessKey}`;for(let l of[t,r,s,vb])c=await Sv(e,c,l);return Ba[a]=c},Pj=()=>{Om.length=0,Object.keys(Ba).forEach(e=>{delete Ba[e]})},Sv=(e,n,t)=>{let r=new e(n);return r.update(si.toUint8Array(t)),r.digest()},Eb=({headers:e},n,t)=>{let r={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in vv||n?.has(o)||Iv.test(o)||kv.test(o))&&(!t||t&&!t.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},Dm=async({headers:e,body:n},t)=>{for(let r of Object.keys(e))if(r.toLowerCase()===Mm)return e[r];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||Cj.isArrayBuffer(n)){let r=new t;return r.update(si.toUint8Array(n)),to.toHex(await r.digest())}return Ov},bb=class{format(n){let t=[];for(let o of Object.keys(n)){let a=si.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[o]))}let r=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(n.value,3),a;case"string":let c=si.fromUtf8(n.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Cb.fromNumber(n.value.valueOf()).bytes,1),f;case"uuid":if(!Tj.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(to.fromHex(n.value.replace(/\-/g,"")),1),g}}},Tj=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Cb=class e{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(n));r>-1&&s>0;r--,s/=256)t[r]=s;return n<0&&Ev(t),new e(t)}valueOf(){let n=this.bytes.slice(0),t=n[0]&128;return t&&Ev(n),parseInt(to.toHex(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function Ev(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}var Lv=(e,n)=>{e=e.toLowerCase();for(let t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1},Fv=(e,n={})=>{let{headers:t,query:r={}}=bv.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!n.unhoistableHeaders?.has(o)||n.hoistableHeaders?.has(o))&&(r[s]=t[s],delete t[s])}return{...e,headers:t,query:r}},_b=e=>{e=bv.HttpRequest.clone(e);for(let n of Object.keys(e.headers))Pv.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},zv=({query:e={}})=>{let n=[],t={};for(let r of Object.keys(e)){if(r.toLowerCase()===Tv)continue;let s=km.escapeUri(r);n.push(s);let o=e[r];typeof o=="string"?t[s]=`${s}=${km.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((a,c)=>a.concat([`${s}=${km.escapeUri(c)}`]),[]).sort().join("&"))}return n.sort().map(r=>t[r]).filter(r=>r).join("&")},Rj=e=>vj(e).toISOString().replace(/\.\d{3}Z$/,"Z"),vj=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Lm=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=yv.normalizeProvider(r),this.credentialProvider=yv.normalizeProvider(t)}createCanonicalRequest(n,t,r){let s=Object.keys(t).sort();return`${n.method}
${this.getCanonicalPath(n)}
${zv(n)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(n,t,r,s){let o=new this.sha256;o.update(si.toUint8Array(r));let a=await o.digest();return`${s}
${n}
${t}
${to.toHex(a)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){let t=[];for(let o of n.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${n?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&n?.endsWith("/")?"/":""}`;return km.escapeUri(r).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){let t=Rj(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}},xb=class extends Lm{headerFormatter=new bb;constructor({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:a=!0}){super({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:a})}async presign(n,t={}){let{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:d,signingService:f}=t,g=await this.credentialProvider();this.validateResolvedCredentials(g);let p=d??await this.regionProvider(),{longDate:h,shortDate:b}=this.formatDate(r);if(s>Dv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let T=Bm(b,p,f??this.service),I=Fv(_b(n),{unhoistableHeaders:a,hoistableHeaders:l});g.sessionToken&&(I.query[Pb]=g.sessionToken),I.query[Cv]=Nm,I.query[_v]=`${g.accessKeyId}/${T}`,I.query[wb]=h,I.query[wv]=s.toString(10);let O=Eb(I,o,c);return I.query[xv]=this.getCanonicalHeaderList(O),I.query[Ab]=await this.getSignature(h,T,this.getSigningKey(g,p,b,f),this.createCanonicalRequest(I,O,await Dm(n,this.sha256))),I}async sign(n,t){return typeof n=="string"?this.signString(n,t):n.headers&&n.payload?this.signEvent(n,t):n.message?this.signMessage(n,t):this.signRequest(n,t)}async signEvent({headers:n,payload:t},{signingDate:r=new Date,priorSignature:s,signingRegion:o,signingService:a}){let c=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(r),f=Bm(l,c,a??this.service),g=await Dm({headers:{},body:t},this.sha256),p=new this.sha256;p.update(n);let h=to.toHex(await p.digest()),b=[Nv,d,f,s,h,g].join(`
`);return this.signString(b,{signingDate:r,signingRegion:c,signingService:a})}async signMessage(n,{signingDate:t=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:r,signingService:s,priorSignature:n.priorSignature}).then(a=>({message:n.message,signature:a}))}async signString(n,{signingDate:t=new Date,signingRegion:r,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=r??await this.regionProvider(),{shortDate:c}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,a,c,s));return l.update(si.toUint8Array(n)),to.toHex(await l.digest())}async signRequest(n,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),d=_b(n),{longDate:f,shortDate:g}=this.formatDate(t),p=Bm(g,l,a??this.service);d.headers[Rb]=f,c.sessionToken&&(d.headers[Rv]=c.sessionToken);let h=await Dm(d,this.sha256);!Lv(Mm,d.headers)&&this.applyChecksum&&(d.headers[Mm]=h);let b=Eb(d,s,r),T=await this.getSignature(f,p,this.getSigningKey(c,l,g,a),this.createCanonicalRequest(d,b,h));return d.headers[Tb]=`${Nm} Credential=${c.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(b)}, Signature=${T}`,d}async getSignature(n,t,r,s){let o=await this.createStringToSign(n,t,s,Nm),a=new this.sha256(await r);return a.update(si.toUint8Array(o)),to.toHex(await a.digest())}getSigningKey(n,t,r,s){return Mv(this.sha256,n,r,t,s||this.service)}},Ij={SignatureV4a:null};Pe.ALGORITHM_IDENTIFIER=Nm;Pe.ALGORITHM_IDENTIFIER_V4A=Aj;Pe.ALGORITHM_QUERY_PARAM=Cv;Pe.ALWAYS_UNSIGNABLE_HEADERS=vv;Pe.AMZ_DATE_HEADER=Rb;Pe.AMZ_DATE_QUERY_PARAM=wb;Pe.AUTH_HEADER=Tb;Pe.CREDENTIAL_QUERY_PARAM=_v;Pe.DATE_HEADER=Av;Pe.EVENT_ALGORITHM_IDENTIFIER=Nv;Pe.EXPIRES_QUERY_PARAM=wv;Pe.GENERATED_HEADERS=Pv;Pe.HOST_HEADER=xj;Pe.KEY_TYPE_IDENTIFIER=vb;Pe.MAX_CACHE_SIZE=Bv;Pe.MAX_PRESIGNED_TTL=Dv;Pe.PROXY_HEADER_PATTERN=Iv;Pe.REGION_SET_PARAM=_j;Pe.SEC_HEADER_PATTERN=kv;Pe.SHA256_HEADER=Mm;Pe.SIGNATURE_HEADER=Tv;Pe.SIGNATURE_QUERY_PARAM=Ab;Pe.SIGNED_HEADERS_QUERY_PARAM=xv;Pe.SignatureV4=xb;Pe.SignatureV4Base=Lm;Pe.TOKEN_HEADER=Rv;Pe.TOKEN_QUERY_PARAM=Pb;Pe.UNSIGNABLE_PATTERNS=wj;Pe.UNSIGNED_PAYLOAD=Ov;Pe.clearCredentialCache=Pj;Pe.createScope=Bm;Pe.getCanonicalHeaders=Eb;Pe.getCanonicalQuery=zv;Pe.getPayloadHash=Dm;Pe.getSigningKey=Mv;Pe.hasHeader=Lv;Pe.moveHeadersToQuery=Fv;Pe.prepareRequest=_b;Pe.signatureV4aContainer=Ij});function kj(e,{credentials:n,credentialDefaultProvider:t}){let r;return n?n?.memoized?r=n:r=hb(n,gb,Im):t?r=Qs(t(Object.assign({},e,{parentClientConfig:e}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function Nj(e,n){if(n.configBound)return n;let t=async r=>n({...r,callerClientConfig:e});return t.memoized=n.memoized,t.configBound=!0,t}var Ib,oi,Uv,qv=P(()=>{Nr();Dn();Ib=k(Fm()),oi=e=>{let n=e.credentials,t=!!e.credentials,r;Object.defineProperty(e,"credentials",{set(d){d&&d!==n&&d!==r&&(t=!0),n=d;let f=kj(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),g=Nj(e,f);t&&!g.attributed?(r=async p=>g(p).then(h=>Xs(h,"CREDENTIALS_CODE","e")),r.memoized=g.memoized,r.configBound=g.configBound,r.attributed=!0):r=g},get(){return r},enumerable:!0,configurable:!0}),e.credentials=n;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:a}=e,c;return e.signer?c=Qs(e.signer):e.regionInfoProvider?c=()=>Qs(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,f])=>{let{signingRegion:g,signingService:p}=d;e.signingRegion=e.signingRegion||g||f,e.signingName=e.signingName||p||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},b=e.signerConstructor||Ib.SignatureV4;return new b(h)}):c=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Qs(e.region)(),properties:{}},d);let f=d.signingRegion,g=d.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||g||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},h=e.signerConstructor||Ib.SignatureV4;return new h(p)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},Uv=oi});var Hv=P(()=>{WS();tP();oP();pv();qv()});var $v={};cr($v,{AWSSDKSigV4Signer:()=>KS,AwsSdkSigV4ASigner:()=>vl,AwsSdkSigV4Signer:()=>Hn,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xa,NODE_SIGV4A_CONFIG_OPTIONS:()=>hv,getBearerTokenEnvKey:()=>Hu,resolveAWSSDKSigV4Config:()=>Uv,resolveAwsSdkSigV4AConfig:()=>gv,resolveAwsSdkSigV4Config:()=>oi,validateSigningProperties:()=>_a});var kb=P(()=>{Hv();YS()});function no(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function zm(e){return e[Nb]=!0,e}var Nb,Um=P(()=>{Nb=Symbol("@smithy/core/cbor::tagSymbol")});function Gv(e){nt=e,ws=new DataView(nt.buffer,nt.byteOffset,nt.byteLength)}function Qr(e,n){if(e>=n)throw new Error("unexpected end of (decode) payload.");let t=(nt[e]&224)>>5,r=nt[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(r<24)s=r,o=1;else switch(r){case 24:case 25:case 26:case 27:let a=Wv[r],c=a+1;if(o=c,n-e<c)throw new Error(`countLength ${a} greater than remaining buf len.`);let l=e+1;a===1?s=nt[l]:a===2?s=ws.getUint16(l):a===4?s=ws.getUint32(l):s=ws.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${r}.`)}if(t===0)return Be=o,Ob(s);if(t===1){let a;return typeof s=="bigint"?a=BigInt(-1)-s:a=-1-s,Be=o,Ob(a)}else if(r===2||r===3){let a=Yl(e+o,n),c=BigInt(0),l=e+o+Be;for(let d=l;d<l+a;++d)c=c<<BigInt(8)|BigInt(nt[d]);return Be=o+Be+a,r===3?-c-BigInt(1):c}else if(r===4){let a=Qr(e+o,n),[c,l]=a,d=l<0?-1:1,f="0".repeat(Math.abs(c)+1)+String(BigInt(d)*BigInt(l)),g,p=l<0?"-":"";return g=c===0?f:f.slice(0,f.length+c)+"."+f.slice(c),g=g.replace(/^0+/g,""),g===""&&(g="0"),g[0]==="."&&(g="0"+g),g=p+g,Be=o+Be,rb(g)}else{let a=Qr(e+o,n);return Be=o+Be,zm({tag:Ob(s),value:a})}case 3:case 5:case 4:case 2:if(r===31)switch(t){case 3:return zj(e,n);case 5:return jj(e,n);case 4:return Hj(e,n);case 2:return Uj(e,n)}else switch(t){case 3:return Fj(e,n);case 5:return $j(e,n);case 4:return qj(e,n);case 2:return zb(e,n)}default:return Vj(e,n)}}function Kv(e,n,t){return Dj&&e.constructor?.name==="Buffer"?e.toString("utf-8",n,t):jv?jv.decode(e.subarray(n,t)):(0,Vv.toUtf8)(e.subarray(n,t))}function Mj(e){let n=Number(e);return(n<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<n)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${n} with loss of precision.`)),n}function Lj(e,n){let t=e>>7,r=(e&124)>>2,s=(e&3)<<8|n,o=t===0?1:-1,a,c;if(r===0){if(s===0)return 0;a=Math.pow(2,-14),c=0}else{if(r===31)return s===0?o*(1/0):NaN;a=Math.pow(2,r-15),c=1}return c+=s/1024,o*(a*c)}function Yl(e,n){let t=nt[e]&31;if(t<24)return Be=1,t;if(t===24||t===25||t===26||t===27){let r=Wv[t];if(Be=r+1,n-e<Be)throw new Error(`countLength ${r} greater than remaining buf len.`);let s=e+1;return r===1?nt[s]:r===2?ws.getUint16(s):r===4?ws.getUint32(s):Mj(ws.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function Fj(e,n){let t=Yl(e,n),r=Be;if(e+=r,n-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=Kv(nt,e,e+t);return Be=r+t,s}function zj(e,n){e+=1;let t=[];for(let r=e;e<n;){if(nt[e]===255){let l=no(t.length);return l.set(t,0),Be=e-r+2,Kv(l,0,l.length)}let s=(nt[e]&224)>>5,o=nt[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=zb(e,n);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function zb(e,n){let t=Yl(e,n),r=Be;if(e+=r,n-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=nt.subarray(e,e+t);return Be=r+t,s}function Uj(e,n){e+=1;let t=[];for(let r=e;e<n;){if(nt[e]===255){let l=no(t.length);return l.set(t,0),Be=e-r+2,l}let s=(nt[e]&224)>>5,o=nt[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=zb(e,n);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function qj(e,n){let t=Yl(e,n),r=Be;e+=r;let s=e,o=Array(t);for(let a=0;a<t;++a){let c=Qr(e,n),l=Be;o[a]=c,e+=l}return Be=r+(e-s),o}function Hj(e,n){e+=1;let t=[];for(let r=e;e<n;){if(nt[e]===255)return Be=e-r+2,t;let s=Qr(e,n);e+=Be,t.push(s)}throw new Error("expected break marker.")}function $j(e,n){let t=Yl(e,n),r=Be;e+=r;let s=e,o={};for(let a=0;a<t;++a){if(e>=n)throw new Error("unexpected end of map payload.");let c=(nt[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let l=Qr(e,n);e+=Be;let d=Qr(e,n);e+=Be,o[l]=d}return Be=r+(e-s),o}function jj(e,n){e+=1;let t=e,r={};for(;e<n;){if(e>=n)throw new Error("unexpected end of map payload.");if(nt[e]===255)return Be=e-t+2,r;let s=(nt[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Qr(e,n);e+=Be;let a=Qr(e,n);e+=Be,r[o]=a}throw new Error("expected break marker.")}function Vj(e,n){let t=nt[e]&31;switch(t){case 21:case 20:return Be=1,t===21;case 22:return Be=1,null;case 23:return Be=1,null;case 25:if(n-e<3)throw new Error("incomplete float16 at end of buf.");return Be=3,Lj(nt[e+1],nt[e+2]);case 26:if(n-e<5)throw new Error("incomplete float32 at end of buf.");return Be=5,ws.getFloat32(e+1);case 27:if(n-e<9)throw new Error("incomplete float64 at end of buf.");return Be=9,ws.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function Ob(e){if(typeof e=="number")return e;let n=Number(e);return Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:e}var Vv,Bj,Dj,nt,ws,jv,Be,Wv,Xv=P(()=>{$n();Vv=k(Kt());Um();Bj=typeof TextDecoder<"u",Dj=typeof Buffer<"u",nt=no(0),ws=new DataView(nt.buffer,nt.byteOffset,nt.byteLength),jv=Bj?new TextDecoder:null,Be=0;Wv={24:1,25:2,26:4,27:8}});function qb(e){he.byteLength-ae<e&&(ae<16e6?Hm(Math.max(he.byteLength*4,he.byteLength+e)):Hm(he.byteLength+e+16e6))}function Hb(){let e=no(ae);return e.set(he.subarray(0,ae),0),ae=0,e}function Hm(e){let n=he;he=no(e),n&&(n.copy?n.copy(he,0,0,n.byteLength):he.set(n,0)),Ts=new DataView(he.buffer,he.byteOffset,he.byteLength)}function Ps(e,n){n<24?he[ae++]=e<<5|n:n<256?(he[ae++]=e<<5|24,he[ae++]=n):n<65536?(he[ae++]=e<<5|25,Ts.setUint16(ae,n),ae+=2):n<2**32?(he[ae++]=e<<5|26,Ts.setUint32(ae,n),ae+=4):(he[ae++]=e<<5|27,Ts.setBigUint64(ae,typeof n=="bigint"?n:BigInt(n)),ae+=8)}function Qv(e){let n=[e];for(;n.length;){let t=n.pop();if(qb(typeof t=="string"?t.length*4:64),typeof t=="string"){if(Yv)Ps(3,Buffer.byteLength(t)),ae+=he.write(t,ae);else{let r=(0,Jv.fromUtf8)(t);Ps(3,r.byteLength),he.set(r,ae),ae+=r.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let r=t>=0,s=r?0:1,o=r?t:-t-1;o<24?he[ae++]=s<<5|o:o<256?(he[ae++]=s<<5|24,he[ae++]=o):o<65536?(he[ae++]=s<<5|25,he[ae++]=o>>8,he[ae++]=o):o<4294967296?(he[ae++]=s<<5|26,Ts.setUint32(ae,o),ae+=4):(he[ae++]=s<<5|27,Ts.setBigUint64(ae,BigInt(o)),ae+=8);continue}he[ae++]=251,Ts.setFloat64(ae,t),ae+=8;continue}else if(typeof t=="bigint"){let r=t>=0,s=r?0:1,o=r?t:-t-BigInt(1),a=Number(o);if(a<24)he[ae++]=s<<5|a;else if(a<256)he[ae++]=s<<5|24,he[ae++]=a;else if(a<65536)he[ae++]=s<<5|25,he[ae++]=a>>8,he[ae++]=a&255;else if(a<4294967296)he[ae++]=s<<5|26,Ts.setUint32(ae,a),ae+=4;else if(o<BigInt("18446744073709551616"))he[ae++]=s<<5|27,Ts.setBigUint64(ae,o),ae+=8;else{let c=o.toString(2),l=new Uint8Array(Math.ceil(c.length/8)),d=o,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(d&BigInt(255)),d>>=BigInt(8);qb(l.byteLength*2),he[ae++]=r?194:195,Yv?Ps(2,Buffer.byteLength(l)):Ps(2,l.byteLength),he.set(l,ae),ae+=l.byteLength}continue}else if(t===null){he[ae++]=246;continue}else if(typeof t=="boolean"){he[ae++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let r=t.length-1;r>=0;--r)n.push(t[r]);Ps(4,t.length);continue}else if(typeof t.byteLength=="number"){qb(t.length*2),Ps(2,t.length),he.set(t,ae),ae+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof xt){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,a=BigInt(t.string.replace(".",""));he[ae++]=196,n.push(a),n.push(o),Ps(4,2);continue}if(t[Nb])if("tag"in t&&"value"in t){n.push(t.value),Ps(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let r=Object.keys(t);for(let s=r.length-1;s>=0;--s){let o=r[s];n.push(t[o]),n.push(o)}Ps(5,r.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var Jv,Yv,Gj,he,Ts,ae,Zv=P(()=>{$n();Jv=k(Kt());Um();Yv=typeof Buffer<"u",Gj=2048,he=no(Gj),Ts=new DataView(he.buffer,he.byteOffset,he.byteLength),ae=0});var $b,eI=P(()=>{Xv();Zv();$b={deserialize(e){return Gv(e),Qr(0,e.length)},serialize(e){try{return Qv(e),Hb()}catch(n){throw Hb(),n}},resizeEncodingBuffer(e){Hm(e)}}});var $m,jm,Vm=P(()=>{Um();$m=e=>zm({tag:1,value:e.getTime()/1e3}),jm=(e,n)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(n.__type!==void 0)return t(n.__type);let r=Object.keys(n).find(s=>s.toLowerCase()==="code");if(r&&n[r]!==void 0)return t(n[r])}});var Gb,Gm,jb,Vb,Kb=P(()=>{jn();It();$n();Gb=k(fn());eI();Vm();Gm=class extends Bn{createSerializer(){let n=new jb;return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new Vb;return n.setSerdeContext(this.serdeContext),n}},jb=class extends Bn{value;write(n,t){this.value=this.serialize(n,t)}serialize(n,t){let r=ie.of(n);if(t==null)return r.isIdempotencyToken()?(0,Jr.v4)():t;if(r.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Gb.fromBase64)(t):t;if(r.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?$m(new Date(Number(t)/1e3|0)):$m(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(r.isListSchema()&&Array.isArray(s)){let a=!!r.getMergedTraits().sparse,c=[],l=0;for(let d of s){let f=this.serialize(r.getValueSchema(),d);(f!=null||a)&&(c[l++]=f)}return c}if(s instanceof Date)return $m(s);let o={};if(r.isMapSchema()){let a=!!r.getMergedTraits().sparse;for(let c of Object.keys(s)){let l=this.serialize(r.getValueSchema(),s[c]);(l!=null||a)&&(o[c]=l)}}else if(r.isStructSchema())for(let[a,c]of r.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}else if(r.isDocumentSchema())for(let a of Object.keys(s))o[a]=this.serialize(r.getValueSchema(),s[a]);return o}return t}flush(){let n=$b.serialize(this.value);return this.value=void 0,n}},Vb=class extends Bn{read(n,t){let r=$b.deserialize(t);return this.readValue(n,r)}readValue(n,t){let r=ie.of(n);if(r.isTimestampSchema()&&typeof t=="number")return $l(t);if(r.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Gb.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||r.isDocumentSchema())return t;if(r.isListSchema()){let o=[],a=r.getValueSchema(),c=!!r.getMergedTraits().sparse;for(let l of t){let d=this.readValue(a,l);(d!=null||c)&&o.push(d)}return o}let s={};if(r.isMapSchema()){let o=!!r.getMergedTraits().sparse,a=r.getValueSchema();for(let c of Object.keys(t)){let l=this.readValue(a,t[c]);(l!=null||o)&&(s[c]=l)}}else if(r.isStructSchema())for(let[o,a]of r.structIterator())s[o]=this.readValue(a,t[o]);return s}else return t}}});var tI,Km,nI=P(()=>{jn();It();tI=k(En());Kb();Vm();Km=class extends Cs{codec=new Gm;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:n}){super({defaultNamespace:n})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Br(n.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:a}=(0,tI.getSmithyContext)(r),c=`/service/${o}/operation/${a}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(n,t,r){return super.deserializeResponse(n,t,r)}async handleError(n,t,r,s,o){let a=jm(r,s)??"Unknown",c=this.options.defaultNamespace;a.includes("#")&&([c]=a.split("#"));let l={$metadata:o,$response:r,$fault:r.statusCode<=500?"client":"server"},d=Wt.for(c),f;try{f=d.getSchema(a)}catch{s.Message&&(s.message=s.Message);let O=Wt.for("smithy.ts.sdk.synthetic."+c),W=O.getBaseException();if(W){let ce=O.getErrorCtor(W);throw Object.assign(new ce({name:a}),l,s)}throw Object.assign(new Error(a),l,s)}let g=ie.of(f),p=d.getErrorCtor(f),h=s.message??s.Message??"Unknown",b=new p(h),T={};for(let[I,O]of g.structIterator())T[I]=this.deserializer.readValue(O,s[I]);throw Object.assign(b,l,{$fault:g.getMergedTraits().error,message:h},T)}getDefaultContentType(){return"application/cbor"}}});var rI=P(()=>{Vm();nI();Kb()});var lr,Ma=P(()=>{It();lr=class{resolveRestContentType(n,t){let r=t.getMemberSchemas(),s=Object.values(r).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":n)}else if(!t.isUnitSchema()&&Object.values(r).find(a=>{let{httpQuery:c,httpQueryParams:l,httpHeader:d,httpLabel:f,httpPrefixHeaders:g}=a.getMergedTraits();return!c&&!l&&!d&&!f&&g===void 0}))return n}async getErrorSchemaOrThrowBaseException(n,t,r,s,o,a){let c=t,l=n;n.includes("#")&&([c,l]=n.split("#"));let d={$metadata:o,$response:r,$fault:r.statusCode<500?"client":"server"},f=Wt.for(c);try{return{errorSchema:a?.(f,l)??f.getSchema(n),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let p=Wt.for("smithy.ts.sdk.synthetic."+c),h=p.getBaseException();if(h){let b=p.getErrorCtor(h)??Error;throw Object.assign(new b({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(n,t){let r=t.headers?.["x-amzn-query-error"];if(n!==void 0&&r!=null){let[s,o]=r.split(";"),a=Object.entries(n),c={Code:s,Type:o};Object.assign(n,c);for(let[l,d]of a)c[l]=d;delete c.__type,n.Error=c}}queryCompatOutput(n,t){n.Error&&(t.Error=n.Error),n.Type&&(t.Type=n.Type),n.Code&&(t.Code=n.Code)}}});var Wb,sI=P(()=>{rI();It();Ma();Wb=class extends Km{awsQueryCompatible;mixin=new lr;constructor({defaultNamespace:n,awsQueryCompatible:t}){super({defaultNamespace:n}),this.awsQueryCompatible=!!t}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(n,t,r,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,r);let a=jm(r,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c[1]).getErrorCtor(c)??Error,p=new g(f),h={};for(let[b,T]of d.structIterator())h[b]=this.deserializer.readValue(T,s[b]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(p,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var Kj,Wj,Xj,oI=P(()=>{Kj=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let n=new Error(`Received number ${e} where a string was expected.`);return n.name="Warning",console.warn(n),String(e)}if(typeof e=="boolean"){let n=new Error(`Received boolean ${e} where a string was expected.`);return n.name="Warning",console.warn(n),String(e)}return e},Wj=e=>{if(e==null)return e;if(typeof e=="string"){let n=e.toLowerCase();if(e!==""&&n!=="false"&&n!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&n!=="false"}return e},Xj=e=>{if(e==null)return e;if(typeof e=="string"){let n=Number(e);if(n.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return n}return e}});var Cn,io=P(()=>{Cn=class{serdeContext;setSerdeContext(n){this.serdeContext=n}}});function iI(e,n,t){if(t?.source){let r=t.source;if(typeof n=="number"&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||r!==String(n)))return r.includes(".")?new xt(r,"bigDecimal"):BigInt(r)}return n}var aI=P(()=>{$n()});var uI=B(dI=>{"use strict";var ii=(e,n)=>{let t=[];if(e&&t.push(e),n)for(let r of n)t.push(r);return t},ao=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,Xb=()=>{let e=[],n=[],t=!1,r=new Set,s=g=>g.sort((p,h)=>cI[h.step]-cI[p.step]||lI[h.priority||"normal"]-lI[p.priority||"normal"]),o=g=>{let p=!1,h=b=>{let T=ii(b.name,b.aliases);if(T.includes(g)){p=!0;for(let I of T)r.delete(I);return!1}return!0};return e=e.filter(h),n=n.filter(h),p},a=g=>{let p=!1,h=b=>{if(b.middleware===g){p=!0;for(let T of ii(b.name,b.aliases))r.delete(T);return!1}return!0};return e=e.filter(h),n=n.filter(h),p},c=g=>(e.forEach(p=>{g.add(p.middleware,{...p})}),n.forEach(p=>{g.addRelativeTo(p.middleware,{...p})}),g.identifyOnResolve?.(f.identifyOnResolve()),g),l=g=>{let p=[];return g.before.forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...l(h))}),p.push(g),g.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...l(h))}),p},d=(g=!1)=>{let p=[],h=[],b={};return e.forEach(I=>{let O={...I,before:[],after:[]};for(let W of ii(O.name,O.aliases))b[W]=O;p.push(O)}),n.forEach(I=>{let O={...I,before:[],after:[]};for(let W of ii(O.name,O.aliases))b[W]=O;h.push(O)}),h.forEach(I=>{if(I.toMiddleware){let O=b[I.toMiddleware];if(O===void 0){if(g)return;throw new Error(`${I.toMiddleware} is not found when adding ${ao(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&O.after.push(I),I.relation==="before"&&O.before.push(I)}}),s(p).map(l).reduce((I,O)=>(I.push(...O),I),[])},f={add:(g,p={})=>{let{name:h,override:b,aliases:T}=p,I={step:"initialize",priority:"normal",middleware:g,...p},O=ii(h,T);if(O.length>0){if(O.some(W=>r.has(W))){if(!b)throw new Error(`Duplicate middleware name '${ao(h,T)}'`);for(let W of O){let ce=e.findIndex(Ce=>Ce.name===W||Ce.aliases?.some(Ke=>Ke===W));if(ce===-1)continue;let me=e[ce];if(me.step!==I.step||I.priority!==me.priority)throw new Error(`"${ao(me.name,me.aliases)}" middleware with ${me.priority} priority in ${me.step} step cannot be overridden by "${ao(h,T)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(ce,1)}}for(let W of O)r.add(W)}e.push(I)},addRelativeTo:(g,p)=>{let{name:h,override:b,aliases:T}=p,I={middleware:g,...p},O=ii(h,T);if(O.length>0){if(O.some(W=>r.has(W))){if(!b)throw new Error(`Duplicate middleware name '${ao(h,T)}'`);for(let W of O){let ce=n.findIndex(Ce=>Ce.name===W||Ce.aliases?.some(Ke=>Ke===W));if(ce===-1)continue;let me=n[ce];if(me.toMiddleware!==I.toMiddleware||me.relation!==I.relation)throw new Error(`"${ao(me.name,me.aliases)}" middleware ${me.relation} "${me.toMiddleware}" middleware cannot be overridden by "${ao(h,T)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);n.splice(ce,1)}}for(let W of O)r.add(W)}n.push(I)},clone:()=>c(Xb()),use:g=>{g.applyToStack(f)},remove:g=>typeof g=="string"?o(g):a(g),removeByTag:g=>{let p=!1,h=b=>{let{tags:T,name:I,aliases:O}=b;if(T&&T.includes(g)){let W=ii(I,O);for(let ce of W)r.delete(ce);return p=!0,!1}return!0};return e=e.filter(h),n=n.filter(h),p},concat:g=>{let p=c(Xb());return p.use(g),p.identifyOnResolve(t||p.identifyOnResolve()||(g.identifyOnResolve?.()??!1)),p},applyToStack:c,identify:()=>d(!0).map(g=>{let p=g.step??g.relation+" "+g.toMiddleware;return ao(g.name,g.aliases)+" - "+p}),identifyOnResolve(g){return typeof g=="boolean"&&(t=g),t},resolve:(g,p)=>{for(let h of d().map(b=>b.middleware).reverse())g=h(g,p);return t&&console.log(f.identify()),g}};return f},cI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},lI={high:3,normal:2,low:1};dI.constructStack=Xb});var Ie=B(Je=>{"use strict";var gI=uI(),sC=(jn(),ve(tv)),Jb=ys(),Yj=(It(),ve(KT)),mI=($n(),ve(UR)),Qb=class{config;middlewareStack=gI.constructStack();initConfig;handlers;constructor(n){this.config=n}send(n,t,r){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,a=s===void 0&&this.config.cacheMiddleware===!0,c;if(a){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(n.constructor)?c=l.get(n.constructor):(c=n.resolveMiddleware(this.middlewareStack,this.config,s),l.set(n.constructor,c))}else delete this.handlers,c=n.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(n).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return c(n).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Yb="***SensitiveInformation***";function Zb(e,n){if(n==null)return n;let t=Yj.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return Yb;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return Yb}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return Yb}else if(t.isStructSchema()&&typeof n=="object"){let r=n,s={};for(let[o,a]of t.structIterator())r[o]!=null&&(s[o]=Zb(a,r[o]));return s}return n}var Wm=class{middlewareStack=gI.constructStack();schema;static classBuilder(){return new eC}resolveMiddlewareWithContext(n,t,r,{middlewareFn:s,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:f,CommandCtor:g}){for(let I of s.bind(this)(g,n,t,r))this.middlewareStack.use(I);let p=n.concat(this.middlewareStack),{logger:h}=t,b={logger:h,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[Jb.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...f},{requestHandler:T}=t;return p.resolve(I=>T.handle(I.request,r||{}),b)}},eC=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,r={}){return this._smithyContext={service:n,operation:t,...r},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=r=>r,t=r=>r){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}sc(n){return this._operationSchema=n,this._smithyContext.operationSchema=n,this}build(){let n=this,t;return t=class extends Wm{input;static getEndpointParameterInstructions(){return n._ep}constructor(...[r]){super(),this.input=r??{},n._init(this),this.schema=n._operationSchema}resolveMiddleware(r,s,o){let a=n._operationSchema,c=a?.[4]??a?.input,l=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(r,s,o,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog??(a?Zb.bind(null,c):d=>d),outputFilterSensitiveLog:n._outputFilterSensitiveLog??(a?Zb.bind(null,l):d=>d),smithyContext:n._smithyContext,additionalContext:n._additionalContext})}serialize=n._serializer;deserialize=n._deserializer}}},Jj="***SensitiveInformation***",Qj=(e,n)=>{for(let t of Object.keys(e)){let r=e[t],s=async function(a,c,l){let d=new r(a);if(typeof c=="function")this.send(d,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(d,c||{},l)}else return this.send(d,c)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");n.prototype[o]=s}},tC=class e extends Error{$fault;$response;$retryable;$metadata;constructor(n){super(n.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;let t=n;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;let t=n;return this===e?e.isInstance(n):e.isInstance(n)?t.name&&this.name?this.prototype.isPrototypeOf(n)||t.name===this.name:this.prototype.isPrototypeOf(n):!1}},hI=(e,n={})=>{Object.entries(n).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},pI=({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})=>{let s=e4(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new t({name:n?.code||n?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw hI(a,n)},Zj=e=>({output:n,parsedBody:t,errorCode:r})=>{pI({output:n,parsedBody:t,exceptionCtor:e,errorCode:r})},e4=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),t4=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},fI=!1,n4=e=>{e&&!fI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(fI=!0)},r4=e=>{let n=[];for(let t in Jb.AlgorithmId){let r=Jb.AlgorithmId[t];e[r]!==void 0&&n.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},s4=e=>{let n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},o4=e=>({setRetryStrategy(n){e.retryStrategy=n},retryStrategy(){return e.retryStrategy}}),i4=e=>{let n={};return n.retryStrategy=e.retryStrategy(),n},yI=e=>Object.assign(r4(e),o4(e)),a4=yI,c4=e=>Object.assign(s4(e),i4(e)),l4=e=>Array.isArray(e)?e:[e],SI=e=>{let n="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][n]!==void 0?e[t]=e[t][n]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=SI(e[t]));return e},d4=e=>e!=null,nC=class{trace(){}debug(){}info(){}warn(){}error(){}};function EI(e,n,t){let r,s,o;if(typeof n>"u"&&typeof t>"u")r={},o=e;else{if(r=e,typeof n=="function")return s=n,o=t,f4(r,s,o);o=n}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){r[a]=o[a];continue}bI(r,null,o,a)}return r}var u4=e=>{let n={};for(let[t,r]of Object.entries(e||{}))n[t]=[,r];return n},m4=(e,n)=>{let t={};for(let r in n)bI(t,e,n,r);return t},f4=(e,n,t)=>EI(e,Object.entries(t).reduce((r,[s,o])=>(Array.isArray(o)?r[s]=o:typeof o=="function"?r[s]=[n,o()]:r[s]=[n,o],r),{})),bI=(e,n,t,r)=>{if(n!==null){let a=t[r];typeof a=="function"&&(a=[,a]);let[c=g4,l=h4,d=r]=a;(typeof c=="function"&&c(n[d])||typeof c!="function"&&c)&&(e[r]=l(n[d]));return}let[s,o]=t[r];if(typeof o=="function"){let a,c=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[r]=a:l&&(e[r]=o())}else{let a=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||c)&&(e[r]=o)}},g4=e=>e!=null,h4=e=>e,p4=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},y4=e=>e.toISOString().replace(".000Z","Z"),rC=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(n=>n!=null).map(rC);if(typeof e=="object"){let n={};for(let t of Object.keys(e))e[t]!=null&&(n[t]=rC(e[t]));return n}return e};Object.defineProperty(Je,"collectBody",{enumerable:!0,get:function(){return sC.collectBody}});Object.defineProperty(Je,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return sC.extendedEncodeURIComponent}});Object.defineProperty(Je,"resolvedPath",{enumerable:!0,get:function(){return sC.resolvedPath}});Je.Client=Qb;Je.Command=Wm;Je.NoOpLogger=nC;Je.SENSITIVE_STRING=Jj;Je.ServiceException=tC;Je._json=rC;Je.convertMap=u4;Je.createAggregatedClient=Qj;Je.decorateServiceException=hI;Je.emitWarningIfUnsupportedVersion=n4;Je.getArrayIfSingleItem=l4;Je.getDefaultClientConfiguration=a4;Je.getDefaultExtensionConfiguration=yI;Je.getValueFromTextNode=SI;Je.isSerializableHeaderValue=d4;Je.loadConfigsForDefaultMode=t4;Je.map=EI;Je.resolveDefaultRuntimeConfig=c4;Je.serializeDateTime=y4;Je.serializeFloat=p4;Je.take=m4;Je.throwDefaultError=pI;Je.withBaseException=Zj;Object.keys(mI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return mI[e]}})})});var CI,_I,Xm,oC=P(()=>{CI=k(Ie()),_I=k(Kt()),Xm=(e,n)=>(0,CI.collectBody)(e,n).then(t=>(n?.utf8Encoder??_I.toUtf8)(t))});var La,iC,ai,Jl=P(()=>{oC();La=(e,n)=>Xm(e,n).then(t=>{if(t.length)try{return JSON.parse(t)}catch(r){throw r?.name==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:t}),r}return{}}),iC=async(e,n)=>{let t=await La(e,n);return t.message=t.message??t.Message,t},ai=(e,n)=>{let t=(o,a)=>Object.keys(o).find(c=>c.toLowerCase()===a.toLowerCase()),r=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(n&&typeof n=="object"){let o=t(n,"code");if(o&&n[o]!==void 0)return r(n[o]);if(n.__type!==void 0)return r(n.__type)}}});var xI,Ql,aC=P(()=>{jn();It();$n();xI=k(fn());io();aI();Jl();Ql=class extends Cn{settings;constructor(n){super(),this.settings=n}async read(n,t){return this._read(n,typeof t=="string"?JSON.parse(t,iI):await La(t,this.serdeContext))}readObject(n,t){return this._read(n,t)}_read(n,t){let r=t!==null&&typeof t=="object",s=ie.of(n);if(s.isListSchema()&&Array.isArray(t)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._read(a,d));return c}else if(s.isMapSchema()&&r){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._read(a,f));return c}else if(s.isStructSchema()&&r){let a={};for(let[c,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._read(l,t[d]);f!=null&&(a[c]=f)}return a}if(s.isBlobSchema()&&typeof t=="string")return(0,xI.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return On.from(t);if(s.isTimestampSchema()&&t!=null)switch(Zn(s,this.settings)){case 5:return jE(t);case 6:return VE(t);case 7:return GE(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof xt)return t;let a=t;return a.type==="bigDecimal"&&"string"in a?new xt(a.string,a.type):new xt(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(r){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof xt?a[c]=l:a[c]=this._read(s,l);return a}else return structuredClone(t);return t}}});var wI,Ym,AI=P(()=>{$n();wI="\u039D",Ym=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(n,t)=>{if(t instanceof xt){let r=`${wI+"nv"+this.counter++}_`+t.string;return this.values.set(`"${r}"`,t.string),r}if(typeof t=="bigint"){let r=t.toString(),s=`${wI+"b"+this.counter++}_`+r;return this.values.set(`"${s}"`,r),s}return t}}replaceInJson(n){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return n;for(let[t,r]of this.values)n=n.replace(t,r);return n}}});var PI,Zl,cC=P(()=>{jn();It();$n();PI=k(fn());io();AI();Zl=class extends Cn{settings;buffer;rootSchema;constructor(n){super(),this.settings=n}write(n,t){this.rootSchema=ie.of(n),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(n,t){this.write(n,t),typeof this.buffer=="object"&&(this.buffer.__type=ie.of(n).getName(!0))}flush(){let{rootSchema:n}=this;if(this.rootSchema=void 0,n?.isStructSchema()||n?.isDocumentSchema()){let t=new Ym;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(n,t,r){let s=t!==null&&typeof t=="object",o=ie.of(n);if(o.isListSchema()&&Array.isArray(t)){let a=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._write(a,d));return c}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._write(a,f));return c}else if(o.isStructSchema()&&s){let a={};for(let[c,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,t[c],o);f!==void 0&&(a[d]=f)}return a}if(!(t===null&&r?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,PI.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(Zn(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return Hl(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,Jr.v4)();let a=o.getMergedTraits().mediaType;if(t!=null&&a&&(a==="application/json"||a.endsWith("+json")))return On.from(t)}if(o.isDocumentSchema())if(s){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof xt?a[c]=l:a[c]=this._write(o,l);return a}else return structuredClone(t);return t}}}});var ci,Jm=P(()=>{io();aC();cC();ci=class extends Cn{settings;constructor(n){super(),this.settings=n}createSerializer(){let n=new Zl(this.settings);return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new Ql(this.settings);return n.setSerdeContext(this.serdeContext),n}}});var li,Qm=P(()=>{jn();It();Ma();Jm();Jl();li=class extends Cs{serializer;deserializer;serviceTarget;codec;mixin=new lr;awsQueryCompatible;constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n}),this.serviceTarget=t,this.codec=new ci({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!r}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${n.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Br(n.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(n,t,r,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,r);let a=ai(r,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c[1]).getErrorCtor(c)??Error,p=new g(f),h={};for(let[b,T]of d.structIterator()){let I=T.getMergedTraits().jsonName??b;h[b]=this.codec.createDeserializer().readObject(T,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(p,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var lC,TI=P(()=>{Qm();lC=class extends li{constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var dC,RI=P(()=>{Qm();dC=class extends li{constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var uC,vI=P(()=>{jn();It();Ma();Jm();Jl();uC=class extends Jo{serializer;deserializer;codec;mixin=new lr;constructor({defaultNamespace:n}){super({defaultNamespace:n});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new ci(t),this.serializer=new ei(this.codec.createSerializer(),t),this.deserializer=new Zo(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(n){this.codec.setSerdeContext(n),super.setSerdeContext(n)}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r),o=ie.of(n.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(n,t,r,s,o){let a=ai(r,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c[1]).getErrorCtor(c)??Error,p=new g(f);await this.deserializeHttpMessage(c,t,r,s);let h={};for(let[b,T]of d.structIterator()){let I=T.getMergedTraits().jsonName??b;h[b]=this.codec.createDeserializer().readObject(T,s[I])}throw Object.assign(p,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/json"}}});var II,S4,kI=P(()=>{II=k(Ie()),S4=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,II.expectUnion)(e)}});var OI=B((Jye,NI)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var C in m)e.o(m,C)&&!e.o(u,C)&&Object.defineProperty(u,C,{enumerable:!0,get:m[C]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{XMLBuilder:()=>Gs,XMLParser:()=>b2,XMLValidator:()=>R2});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let C=[],A=m.exec(u);for(;A;){let x=[];x.startIndex=m.lastIndex-A[0].length;let w=A.length;for(let L=0;L<w;L++)x.push(A[L]);C.push(x),A=m.exec(u)}return C}let o=function(u){return r.exec(u)!=null},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(u,m){m=Object.assign({},a,m);let C=[],A=!1,x=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let w=0;w<u.length;w++)if(u[w]==="<"&&u[w+1]==="?"){if(w+=2,w=d(u,w),w.err)return w}else{if(u[w]!=="<"){if(l(u[w]))continue;return O("InvalidChar","char '"+u[w]+"' is not expected.",ce(u,w))}{let L=w;if(w++,u[w]==="!"){w=f(u,w);continue}{let N=!1;u[w]==="/"&&(N=!0,w++);let U="";for(;w<u.length&&u[w]!==">"&&u[w]!==" "&&u[w]!=="	"&&u[w]!==`
`&&u[w]!=="\r";w++)U+=u[w];if(U=U.trim(),U[U.length-1]==="/"&&(U=U.substring(0,U.length-1),w--),!o(U)){let le;return le=U.trim().length===0?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",O("InvalidTag",le,ce(u,w))}let J=h(u,w);if(J===!1)return O("InvalidAttr","Attributes for '"+U+"' have open quote.",ce(u,w));let pe=J.value;if(w=J.index,pe[pe.length-1]==="/"){let le=w-pe.length;pe=pe.substring(0,pe.length-1);let Ue=T(pe,m);if(Ue!==!0)return O(Ue.err.code,Ue.err.msg,ce(u,le+Ue.err.line));A=!0}else if(N){if(!J.tagClosed)return O("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",ce(u,w));if(pe.trim().length>0)return O("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",ce(u,L));if(C.length===0)return O("InvalidTag","Closing tag '"+U+"' has not been opened.",ce(u,L));{let le=C.pop();if(U!==le.tagName){let Ue=ce(u,le.tagStartPos);return O("InvalidTag","Expected closing tag '"+le.tagName+"' (opened in line "+Ue.line+", col "+Ue.col+") instead of closing tag '"+U+"'.",ce(u,L))}C.length==0&&(x=!0)}}else{let le=T(pe,m);if(le!==!0)return O(le.err.code,le.err.msg,ce(u,w-pe.length+le.err.line));if(x===!0)return O("InvalidXml","Multiple possible root nodes found.",ce(u,w));m.unpairedTags.indexOf(U)!==-1||C.push({tagName:U,tagStartPos:L}),A=!0}for(w++;w<u.length;w++)if(u[w]==="<"){if(u[w+1]==="!"){w++,w=f(u,w);continue}if(u[w+1]!=="?")break;if(w=d(u,++w),w.err)return w}else if(u[w]==="&"){let le=I(u,w);if(le==-1)return O("InvalidChar","char '&' is not expected.",ce(u,w));w=le}else if(x===!0&&!l(u[w]))return O("InvalidXml","Extra text at the end",ce(u,w));u[w]==="<"&&w--}}}return A?C.length==1?O("InvalidTag","Unclosed tag '"+C[0].tagName+"'.",ce(u,C[0].tagStartPos)):!(C.length>0)||O("InvalidXml","Invalid '"+JSON.stringify(C.map((w=>w.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):O("InvalidXml","Start tag expected.",1)}function l(u){return u===" "||u==="	"||u===`
`||u==="\r"}function d(u,m){let C=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let A=u.substr(C,m-C);if(m>5&&A==="xml")return O("InvalidXml","XML declaration allowed only at the start of the document.",ce(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function f(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let C=1;for(m+=8;m<u.length;m++)if(u[m]==="<")C++;else if(u[m]===">"&&(C--,C===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let g='"',p="'";function h(u,m){let C="",A="",x=!1;for(;m<u.length;m++){if(u[m]===g||u[m]===p)A===""?A=u[m]:A!==u[m]||(A="");else if(u[m]===">"&&A===""){x=!0;break}C+=u[m]}return A===""&&{value:C,index:m,tagClosed:x}}let b=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function T(u,m){let C=s(u,b),A={};for(let x=0;x<C.length;x++){if(C[x][1].length===0)return O("InvalidAttr","Attribute '"+C[x][2]+"' has no space in starting.",me(C[x]));if(C[x][3]!==void 0&&C[x][4]===void 0)return O("InvalidAttr","Attribute '"+C[x][2]+"' is without value.",me(C[x]));if(C[x][3]===void 0&&!m.allowBooleanAttributes)return O("InvalidAttr","boolean attribute '"+C[x][2]+"' is not allowed.",me(C[x]));let w=C[x][2];if(!W(w))return O("InvalidAttr","Attribute '"+w+"' is an invalid name.",me(C[x]));if(A.hasOwnProperty(w))return O("InvalidAttr","Attribute '"+w+"' is repeated.",me(C[x]));A[w]=1}return!0}function I(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return(function(A,x){let w=/\d/;for(A[x]==="x"&&(x++,w=/[\da-fA-F]/);x<A.length;x++){if(A[x]===";")return x;if(!A[x].match(w))break}return-1})(u,++m);let C=0;for(;m<u.length;m++,C++)if(!(u[m].match(/\w/)&&C<20)){if(u[m]===";")break;return-1}return m}function O(u,m,C){return{err:{code:u,msg:m,line:C.line||C,col:C.col}}}function W(u){return o(u)}function ce(u,m){let C=u.substring(0,m).split(/\r?\n/);return{line:C.length,col:C[C.length-1].length+1}}function me(u){return u.startIndex+u[1].length}let Ce={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,C){return u},captureMetaData:!1},Ke;Ke=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class _t{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,C){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:C})}addChild(m,C){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),C!==void 0&&(this.child[this.child.length-1][Ke]={startIndex:C})}static getMetaDataSymbol(){return Ke}}function Oe(u,m){let C={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,x=!1,w=!1,L="";for(;m<u.length;m++)if(u[m]!=="<"||w)if(u[m]===">"){if(w?u[m-1]==="-"&&u[m-2]==="-"&&(w=!1,A--):A--,A===0)break}else u[m]==="["?x=!0:L+=u[m];else{if(x&&Vo(u,"!ENTITY",m)){let N,U;m+=7,[N,U,m]=tt(u,m+1),U.indexOf("&")===-1&&(C[N]={regx:RegExp(`&${N};`,"g"),val:U})}else if(x&&Vo(u,"!ELEMENT",m)){m+=8;let{index:N}=Zq(u,m+1);m=N}else if(x&&Vo(u,"!ATTLIST",m))m+=8;else if(x&&Vo(u,"!NOTATION",m)){m+=9;let{index:N}=Dt(u,m+1);m=N}else{if(!Vo(u,"!--",m))throw new Error("Invalid DOCTYPE");w=!0}A++,L=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:C,i:m}}let ze=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function tt(u,m){m=ze(u,m);let C="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)C+=u[m],m++;if(MS(C),m=ze(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=Ea(u,m,"entity"),[C,A,--m]}function Dt(u,m){m=ze(u,m);let C="";for(;m<u.length&&!/\s/.test(u[m]);)C+=u[m],m++;MS(C),m=ze(u,m);let A=u.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=ze(u,m);let x=null,w=null;if(A==="PUBLIC")[m,x]=Ea(u,m,"publicIdentifier"),u[m=ze(u,m)]!=='"'&&u[m]!=="'"||([m,w]=Ea(u,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,w]=Ea(u,m,"systemIdentifier"),!w))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:C,publicIdentifier:x,systemIdentifier:w,index:--m}}function Ea(u,m,C){let A="",x=u[m];if(x!=='"'&&x!=="'")throw new Error(`Expected quoted string, found "${x}"`);for(m++;m<u.length&&u[m]!==x;)A+=u[m],m++;if(u[m]!==x)throw new Error(`Unterminated ${C} value`);return[++m,A]}function Zq(u,m){m=ze(u,m);let C="";for(;m<u.length&&!/\s/.test(u[m]);)C+=u[m],m++;if(!MS(C))throw new Error(`Invalid element name: "${C}"`);let A="";if(u[m=ze(u,m)]==="E"&&Vo(u,"MPTY",m))m+=4;else if(u[m]==="A"&&Vo(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)A+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:C,contentModel:A.trim(),index:m}}function Vo(u,m,C){for(let A=0;A<m.length;A++)if(m[A]!==u[C+A+1])return!1;return!0}function MS(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let e2=/^[-+]?0x[a-fA-F0-9]+$/,t2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,n2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},r2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function NA(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let C of u)if(typeof C=="string"&&m===C||C instanceof RegExp&&C.test(m))return!0}:()=>!1}class s2{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(C,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(C,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=o2,this.parseXml=d2,this.parseTextData=i2,this.resolveNameSpace=a2,this.buildAttributesMap=l2,this.isItStopNode=g2,this.replaceEntitiesValue=m2,this.readStopNodeData=h2,this.saveTextToParentTag=f2,this.addChild=u2,this.ignoreAttributesFn=NA(this.options.ignoreAttributes)}}function o2(u){let m=Object.keys(u);for(let C=0;C<m.length;C++){let A=m[C];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:u[A]}}}function i2(u,m,C,A,x,w,L){if(u!==void 0&&(this.options.trimValues&&!A&&(u=u.trim()),u.length>0)){L||(u=this.replaceEntitiesValue(u));let N=this.options.tagValueProcessor(m,u,C,x,w);return N==null?u:typeof N!=typeof u||N!==u?N:this.options.trimValues||u.trim()===u?OA(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function a2(u){if(this.options.removeNSPrefix){let m=u.split(":"),C=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=C+m[1])}return u}let c2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function l2(u,m,C){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let A=s(u,c2),x=A.length,w={};for(let L=0;L<x;L++){let N=this.resolveNameSpace(A[L][1]);if(this.ignoreAttributesFn(N,m))continue;let U=A[L][4],J=this.options.attributeNamePrefix+N;if(N.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),U!==void 0){this.options.trimValues&&(U=U.trim()),U=this.replaceEntitiesValue(U);let pe=this.options.attributeValueProcessor(N,U,m);w[J]=pe==null?U:typeof pe!=typeof U||pe!==U?pe:OA(U,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(w[J]=!0)}if(!Object.keys(w).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=w,L}return w}}let d2=function(u){u=u.replace(/\r\n?/g,`
`);let m=new _t("!xml"),C=m,A="",x="";for(let w=0;w<u.length;w++)if(u[w]==="<")if(u[w+1]==="/"){let L=Go(u,">",w,"Closing Tag is not closed."),N=u.substring(w+2,L).trim();if(this.options.removeNSPrefix){let pe=N.indexOf(":");pe!==-1&&(N=N.substr(pe+1))}this.options.transformTagName&&(N=this.options.transformTagName(N)),C&&(A=this.saveTextToParentTag(A,C,x));let U=x.substring(x.lastIndexOf(".")+1);if(N&&this.options.unpairedTags.indexOf(N)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${N}>`);let J=0;U&&this.options.unpairedTags.indexOf(U)!==-1?(J=x.lastIndexOf(".",x.lastIndexOf(".")-1),this.tagsNodeStack.pop()):J=x.lastIndexOf("."),x=x.substring(0,J),C=this.tagsNodeStack.pop(),A="",w=L}else if(u[w+1]==="?"){let L=LS(u,w,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,C,x),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let N=new _t(L.tagName);N.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(N[":@"]=this.buildAttributesMap(L.tagExp,x,L.tagName)),this.addChild(C,N,x,w)}w=L.closeIndex+1}else if(u.substr(w+1,3)==="!--"){let L=Go(u,"-->",w+4,"Comment is not closed.");if(this.options.commentPropName){let N=u.substring(w+4,L-2);A=this.saveTextToParentTag(A,C,x),C.add(this.options.commentPropName,[{[this.options.textNodeName]:N}])}w=L}else if(u.substr(w+1,2)==="!D"){let L=Oe(u,w);this.docTypeEntities=L.entities,w=L.i}else if(u.substr(w+1,2)==="!["){let L=Go(u,"]]>",w,"CDATA is not closed.")-2,N=u.substring(w+9,L);A=this.saveTextToParentTag(A,C,x);let U=this.parseTextData(N,C.tagname,x,!0,!1,!0,!0);U==null&&(U=""),this.options.cdataPropName?C.add(this.options.cdataPropName,[{[this.options.textNodeName]:N}]):C.add(this.options.textNodeName,U),w=L+2}else{let L=LS(u,w,this.options.removeNSPrefix),N=L.tagName,U=L.rawTagName,J=L.tagExp,pe=L.attrExpPresent,le=L.closeIndex;this.options.transformTagName&&(N=this.options.transformTagName(N)),C&&A&&C.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,C,x,!1));let Ue=C;Ue&&this.options.unpairedTags.indexOf(Ue.tagname)!==-1&&(C=this.tagsNodeStack.pop(),x=x.substring(0,x.lastIndexOf("."))),N!==m.tagname&&(x+=x?"."+N:N);let Ye=w;if(this.isItStopNode(this.options.stopNodes,x,N)){let $e="";if(J.length>0&&J.lastIndexOf("/")===J.length-1)N[N.length-1]==="/"?(N=N.substr(0,N.length-1),x=x.substr(0,x.length-1),J=N):J=J.substr(0,J.length-1),w=L.closeIndex;else if(this.options.unpairedTags.indexOf(N)!==-1)w=L.closeIndex;else{let Vr=this.readStopNodeData(u,U,le+1);if(!Vr)throw new Error(`Unexpected end of ${U}`);w=Vr.i,$e=Vr.tagContent}let $t=new _t(N);N!==J&&pe&&($t[":@"]=this.buildAttributesMap(J,x,N)),$e&&($e=this.parseTextData($e,N,x,!0,pe,!0,!0)),x=x.substr(0,x.lastIndexOf(".")),$t.add(this.options.textNodeName,$e),this.addChild(C,$t,x,Ye)}else{if(J.length>0&&J.lastIndexOf("/")===J.length-1){N[N.length-1]==="/"?(N=N.substr(0,N.length-1),x=x.substr(0,x.length-1),J=N):J=J.substr(0,J.length-1),this.options.transformTagName&&(N=this.options.transformTagName(N));let $e=new _t(N);N!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,N)),this.addChild(C,$e,x,Ye),x=x.substr(0,x.lastIndexOf("."))}else{let $e=new _t(N);this.tagsNodeStack.push(C),N!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,N)),this.addChild(C,$e,x,Ye),C=$e}A="",w=le}}else A+=u[w];return m.child};function u2(u,m,C,A){this.options.captureMetaData||(A=void 0);let x=this.options.updateTag(m.tagname,C,m[":@"]);x===!1||(typeof x=="string"&&(m.tagname=x),u.addChild(m,A))}let m2=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let C=this.docTypeEntities[m];u=u.replace(C.regx,C.val)}for(let m in this.lastEntities){let C=this.lastEntities[m];u=u.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let C=this.htmlEntities[m];u=u.replace(C.regex,C.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function f2(u,m,C,A){return u&&(A===void 0&&(A=m.child.length===0),(u=this.parseTextData(u,m.tagname,C,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function g2(u,m,C){let A="*."+C;for(let x in u){let w=u[x];if(A===w||m===w)return!0}return!1}function Go(u,m,C,A){let x=u.indexOf(m,C);if(x===-1)throw new Error(A);return x+m.length-1}function LS(u,m,C,A=">"){let x=(function(le,Ue,Ye=">"){let $e,$t="";for(let Vr=Ue;Vr<le.length;Vr++){let Ks=le[Vr];if($e)Ks===$e&&($e="");else if(Ks==='"'||Ks==="'")$e=Ks;else if(Ks===Ye[0]){if(!Ye[1])return{data:$t,index:Vr};if(le[Vr+1]===Ye[1])return{data:$t,index:Vr}}else Ks==="	"&&(Ks=" ");$t+=Ks}})(u,m+1,A);if(!x)return;let w=x.data,L=x.index,N=w.search(/\s/),U=w,J=!0;N!==-1&&(U=w.substring(0,N),w=w.substring(N+1).trimStart());let pe=U;if(C){let le=U.indexOf(":");le!==-1&&(U=U.substr(le+1),J=U!==x.data.substr(le+1))}return{tagName:U,tagExp:w,closeIndex:L,attrExpPresent:J,rawTagName:pe}}function h2(u,m,C){let A=C,x=1;for(;C<u.length;C++)if(u[C]==="<")if(u[C+1]==="/"){let w=Go(u,">",C,`${m} is not closed`);if(u.substring(C+2,w).trim()===m&&(x--,x===0))return{tagContent:u.substring(A,C),i:w};C=w}else if(u[C+1]==="?")C=Go(u,"?>",C+1,"StopNode is not closed.");else if(u.substr(C+1,3)==="!--")C=Go(u,"-->",C+3,"StopNode is not closed.");else if(u.substr(C+1,2)==="![")C=Go(u,"]]>",C,"StopNode is not closed.")-2;else{let w=LS(u,C,">");w&&((w&&w.tagName)===m&&w.tagExp[w.tagExp.length-1]!=="/"&&x++,C=w.closeIndex)}}function OA(u,m,C){if(m&&typeof u=="string"){let A=u.trim();return A==="true"||A!=="false"&&(function(x,w={}){if(w=Object.assign({},n2,w),!x||typeof x!="string")return x;let L=x.trim();if(w.skipLike!==void 0&&w.skipLike.test(L))return x;if(x==="0")return 0;if(w.hex&&e2.test(L))return(function(U){if(parseInt)return parseInt(U,16);if(Number.parseInt)return Number.parseInt(U,16);if(window&&window.parseInt)return window.parseInt(U,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(L);if(L.search(/.+[eE].+/)!==-1)return(function(U,J,pe){if(!pe.eNotation)return U;let le=J.match(r2);if(le){let Ue=le[1]||"",Ye=le[3].indexOf("e")===-1?"E":"e",$e=le[2],$t=Ue?U[$e.length+1]===Ye:U[$e.length]===Ye;return $e.length>1&&$t?U:$e.length!==1||!le[3].startsWith(`.${Ye}`)&&le[3][0]!==Ye?pe.leadingZeros&&!$t?(J=(le[1]||"")+le[3],Number(J)):U:Number(J)}return U})(x,L,w);{let U=t2.exec(L);if(U){let J=U[1]||"",pe=U[2],le=((N=U[3])&&N.indexOf(".")!==-1&&((N=N.replace(/0+$/,""))==="."?N="0":N[0]==="."?N="0"+N:N[N.length-1]==="."&&(N=N.substring(0,N.length-1))),N),Ue=J?x[pe.length+1]===".":x[pe.length]===".";if(!w.leadingZeros&&(pe.length>1||pe.length===1&&!Ue))return x;{let Ye=Number(L),$e=String(Ye);if(Ye===0||Ye===-0)return Ye;if($e.search(/[eE]/)!==-1)return w.eNotation?Ye:x;if(L.indexOf(".")!==-1)return $e==="0"||$e===le||$e===`${J}${le}`?Ye:x;let $t=pe?le:L;return pe?$t===$e||J+$t===$e?Ye:x:$t===$e||$t===J+$e?Ye:x}}return x}var N})(u,C)}return u!==void 0?u:""}let FS=_t.getMetaDataSymbol();function p2(u,m){return BA(u,m)}function BA(u,m,C){let A,x={};for(let w=0;w<u.length;w++){let L=u[w],N=y2(L),U="";if(U=C===void 0?N:C+"."+N,N===m.textNodeName)A===void 0?A=L[N]:A+=""+L[N];else{if(N===void 0)continue;if(L[N]){let J=BA(L[N],m,U),pe=E2(J,m);L[FS]!==void 0&&(J[FS]=L[FS]),L[":@"]?S2(J,L[":@"],U,m):Object.keys(J).length!==1||J[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(J).length===0&&(m.alwaysCreateTextNode?J[m.textNodeName]="":J=""):J=J[m.textNodeName],x[N]!==void 0&&x.hasOwnProperty(N)?(Array.isArray(x[N])||(x[N]=[x[N]]),x[N].push(J)):m.isArray(N,U,pe)?x[N]=[J]:x[N]=J}}}return typeof A=="string"?A.length>0&&(x[m.textNodeName]=A):A!==void 0&&(x[m.textNodeName]=A),x}function y2(u){let m=Object.keys(u);for(let C=0;C<m.length;C++){let A=m[C];if(A!==":@")return A}}function S2(u,m,C,A){if(m){let x=Object.keys(m),w=x.length;for(let L=0;L<w;L++){let N=x[L];A.isArray(N,C+"."+N,!0,!0)?u[N]=[m[N]]:u[N]=m[N]}}}function E2(u,m){let{textNodeName:C}=m,A=Object.keys(u).length;return A===0||!(A!==1||!u[C]&&typeof u[C]!="boolean"&&u[C]!==0)}class b2{constructor(m){this.externalEntities={},this.options=(function(C){return Object.assign({},Ce,C)})(m)}parse(m,C){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(C){C===!0&&(C={});let w=c(m,C);if(w!==!0)throw Error(`${w.err.msg}:${w.err.line}:${w.err.col}`)}let A=new s2(this.options);A.addExternalEntities(this.externalEntities);let x=A.parseXml(m);return this.options.preserveOrder||x===void 0?x:p2(x,this.options)}addEntity(m,C){if(C.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(C==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=C}static getMetaDataSymbol(){return _t.getMetaDataSymbol()}}function C2(u,m){let C="";return m.format&&m.indentBy.length>0&&(C=`
`),DA(u,m,"",C)}function DA(u,m,C,A){let x="",w=!1;for(let L=0;L<u.length;L++){let N=u[L],U=_2(N);if(U===void 0)continue;let J="";if(J=C.length===0?U:`${C}.${U}`,U===m.textNodeName){let Ye=N[U];x2(J,m)||(Ye=m.tagValueProcessor(U,Ye),Ye=LA(Ye,m)),w&&(x+=A),x+=Ye,w=!1;continue}if(U===m.cdataPropName){w&&(x+=A),x+=`<![CDATA[${N[U][0][m.textNodeName]}]]>`,w=!1;continue}if(U===m.commentPropName){x+=A+`<!--${N[U][0][m.textNodeName]}-->`,w=!0;continue}if(U[0]==="?"){let Ye=MA(N[":@"],m),$e=U==="?xml"?"":A,$t=N[U][0][m.textNodeName];$t=$t.length!==0?" "+$t:"",x+=$e+`<${U}${$t}${Ye}?>`,w=!0;continue}let pe=A;pe!==""&&(pe+=m.indentBy);let le=A+`<${U}${MA(N[":@"],m)}`,Ue=DA(N[U],m,J,pe);m.unpairedTags.indexOf(U)!==-1?m.suppressUnpairedNode?x+=le+">":x+=le+"/>":Ue&&Ue.length!==0||!m.suppressEmptyNode?Ue&&Ue.endsWith(">")?x+=le+`>${Ue}${A}</${U}>`:(x+=le+">",Ue&&A!==""&&(Ue.includes("/>")||Ue.includes("</"))?x+=A+m.indentBy+Ue+A:x+=Ue,x+=`</${U}>`):x+=le+"/>",w=!0}return x}function _2(u){let m=Object.keys(u);for(let C=0;C<m.length;C++){let A=m[C];if(u.hasOwnProperty(A)&&A!==":@")return A}}function MA(u,m){let C="";if(u&&!m.ignoreAttributes)for(let A in u){if(!u.hasOwnProperty(A))continue;let x=m.attributeValueProcessor(A,u[A]);x=LA(x,m),x===!0&&m.suppressBooleanAttributes?C+=` ${A.substr(m.attributeNamePrefix.length)}`:C+=` ${A.substr(m.attributeNamePrefix.length)}="${x}"`}return C}function x2(u,m){let C=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===u||m.stopNodes[A]==="*."+C)return!0;return!1}function LA(u,m){if(u&&u.length>0&&m.processEntities)for(let C=0;C<m.entities.length;C++){let A=m.entities[C];u=u.replace(A.regex,A.val)}return u}let w2={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Gs(u){this.options=Object.assign({},w2,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=NA(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=T2),this.processTextOrObjNode=A2,this.options.format?(this.indentate=P2,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function A2(u,m,C,A){let x=this.j2x(u,C+1,A.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,x.attrStr,C):this.buildObjectNode(x.val,m,x.attrStr,C)}function P2(u){return this.options.indentBy.repeat(u)}function T2(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Gs.prototype.build=function(u){return this.options.preserveOrder?C2(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Gs.prototype.j2x=function(u,m,C){let A="",x="",w=C.join(".");for(let L in u)if(Object.prototype.hasOwnProperty.call(u,L))if(u[L]===void 0)this.isAttribute(L)&&(x+="");else if(u[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?x+="":L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(u[L]instanceof Date)x+=this.buildTextValNode(u[L],L,"",m);else if(typeof u[L]!="object"){let N=this.isAttribute(L);if(N&&!this.ignoreAttributesFn(N,w))A+=this.buildAttrPairStr(N,""+u[L]);else if(!N)if(L===this.options.textNodeName){let U=this.options.tagValueProcessor(L,""+u[L]);x+=this.replaceEntitiesValue(U)}else x+=this.buildTextValNode(u[L],L,"",m)}else if(Array.isArray(u[L])){let N=u[L].length,U="",J="";for(let pe=0;pe<N;pe++){let le=u[L][pe];if(le!==void 0)if(le===null)L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(typeof le=="object")if(this.options.oneListGroup){let Ue=this.j2x(le,m+1,C.concat(L));U+=Ue.val,this.options.attributesGroupName&&le.hasOwnProperty(this.options.attributesGroupName)&&(J+=Ue.attrStr)}else U+=this.processTextOrObjNode(le,L,m,C);else if(this.options.oneListGroup){let Ue=this.options.tagValueProcessor(L,le);Ue=this.replaceEntitiesValue(Ue),U+=Ue}else U+=this.buildTextValNode(le,L,"",m)}this.options.oneListGroup&&(U=this.buildObjectNode(U,L,J,m)),x+=U}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let N=Object.keys(u[L]),U=N.length;for(let J=0;J<U;J++)A+=this.buildAttrPairStr(N[J],""+u[L][N[J]])}else x+=this.processTextOrObjNode(u[L],L,m,C);return{attrStr:A,val:x}},Gs.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Gs.prototype.buildObjectNode=function(u,m,C,A){if(u==="")return m[0]==="?"?this.indentate(A)+"<"+m+C+"?"+this.tagEndChar:this.indentate(A)+"<"+m+C+this.closeTag(m)+this.tagEndChar;{let x="</"+m+this.tagEndChar,w="";return m[0]==="?"&&(w="?",x=""),!C&&C!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&w.length===0?this.indentate(A)+`<!--${u}-->`+this.newLine:this.indentate(A)+"<"+m+C+w+this.tagEndChar+u+this.indentate(A)+x:this.indentate(A)+"<"+m+C+w+">"+u+x}},Gs.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Gs.prototype.buildTextValNode=function(u,m,C,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+C+"?"+this.tagEndChar;{let x=this.options.tagValueProcessor(m,u);return x=this.replaceEntitiesValue(x),x===""?this.indentate(A)+"<"+m+C+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+C+">"+x+"</"+m+this.tagEndChar}},Gs.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let C=this.options.entities[m];u=u.replace(C.regex,C.val)}return u};let R2={validate:c};NI.exports=n})()});var BI=B(fC=>{"use strict";Object.defineProperty(fC,"__esModule",{value:!0});fC.parseXML=b4;var E4=OI(),mC=new E4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,n)=>n.trim()===""&&n.includes(`
`)?"":void 0});mC.addEntity("#xD","\r");mC.addEntity("#10",`
`);function b4(e){return mC.parse(e,!0)}});var ed=B(ef=>{"use strict";var C4=BI();function _4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function x4(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Zm=class{value;constructor(n){this.value=n}toString(){return x4(""+this.value)}},gC=class e{name;children;attributes={};static of(n,t,r){let s=new e(n);return t!==void 0&&s.addChildNode(new Zm(t)),r!==void 0&&s.withName(r),s}constructor(n,t=[]){this.name=n,this.children=t}withName(n){return this.name=n,this}addAttribute(n,t){return this.attributes[n]=t,this}addChildNode(n){return this.children.push(n),this}removeAttribute(n){return delete this.attributes[n],this}n(n){return this.name=n,this}c(n){return this.children.push(n),this}a(n,t){return t!=null&&(this.attributes[n]=t),this}cc(n,t,r=t){if(n[t]!=null){let s=e.of(t,n[t]).withName(r);this.c(s)}}l(n,t,r,s){n[t]!=null&&s().map(a=>{a.withName(r),this.c(a)})}lc(n,t,r,s){if(n[t]!=null){let o=s(),a=new e(r);o.map(c=>{a.c(c)}),this.c(a)}}toString(){let n=!!this.children.length,t=`<${this.name}`,r=this.attributes;for(let s of Object.keys(r)){let o=r[s];o!=null&&(t+=` ${s}="${_4(""+o)}"`)}return t+=n?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(ef,"parseXML",{enumerable:!0,get:function(){return C4.parseXML}});ef.XmlNode=gC;ef.XmlText=Zm});var DI,MI,LI,di,tf=P(()=>{DI=k(ed());jn();It();MI=k(Ie()),LI=k(Kt());io();di=class extends Cn{settings;stringDeserializer;constructor(n){super(),this.settings=n,this.stringDeserializer=new Qo(n)}setSerdeContext(n){this.serdeContext=n,this.stringDeserializer.setSerdeContext(n)}read(n,t,r){let s=ie.of(n),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},f=Object.keys(o)[0];return o[f].isBlobSchema()?d[f]=t:d[f]=this.read(o[f],t),d}let c=(this.serdeContext?.utf8Encoder??LI.toUtf8)(t),l=this.parseXml(c);return this.readSchema(n,r?l[r]:l)}readSchema(n,t){let r=ie.of(n);if(r.isUnitSchema())return;let s=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(r.isListSchema()){let l=r.getValueSchema(),d=[],f=l.getMergedTraits().xmlName??"member",g=a?t:(t[0]??t)[f],p=Array.isArray(g)?g:[g];for(let h of p)(h!=null||o)&&d.push(this.readSchema(l,h));return d}let c={};if(r.isMapSchema()){let l=r.getKeySchema(),d=r.getValueSchema(),f;a?f=Array.isArray(t)?t:[t]:f=Array.isArray(t.entry)?t.entry:[t.entry];let g=l.getMergedTraits().xmlName??"key",p=d.getMergedTraits().xmlName??"value";for(let h of f){let b=h[g],T=h[p];(T!=null||o)&&(c[b]=this.readSchema(d,T))}return c}if(r.isStructSchema()){for(let[l,d]of r.structIterator()){let f=d.getMergedTraits(),g=f.httpPayload?f.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[g]!=null&&(c[l]=this.readSchema(d,t[g]))}return c}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(n){if(n.length){let t;try{t=(0,DI.parseXML)(n)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:n}),a}let r="#text",s=Object.keys(t)[0],o=t[s];return o[r]&&(o[s]=o[r],delete o[r]),(0,MI.getValueFromTextNode)(o)}return{}}}});var FI,zI,nf,UI=P(()=>{jn();It();$n();FI=k(Ie()),zI=k(fn());io();nf=class extends Cn{settings;buffer;constructor(n){super(),this.settings=n}write(n,t,r=""){this.buffer===void 0&&(this.buffer="");let s=ie.of(n);if(r&&!r.endsWith(".")&&(r+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??zI.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(r),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(r),this.writeValue((0,Jr.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(r),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(r),this.writeValue(t instanceof xt?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(r),Zn(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,FI.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),f=a?`${r}${c}`:`${r}${d}.${c}`;this.write(o,l,f),++c}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,l=1;for(let[d,f]of Object.entries(t)){if(f==null)continue;let g=this.getKey("key",o.getMergedTraits().xmlName),p=c?`${r}${l}.${g}`:`${r}entry.${l}.${g}`,h=this.getKey("value",a.getMergedTraits().xmlName),b=c?`${r}${l}.${h}`:`${r}entry.${l}.${h}`;this.write(o,d,p),this.write(a,f,b),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,a]of s.structIterator()){if(t[o]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(o,a.getMergedTraits().xmlName),l=`${r}${c}`;this.write(a,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let n=this.buffer;return delete this.buffer,n}getKey(n,t){let r=t??n;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(n){n.endsWith(".")&&(n=n.slice(0,n.length-1)),this.buffer+=`&${Gr(n)}=`}writeValue(n){this.buffer+=Gr(n)}}});var td,hC=P(()=>{jn();It();Ma();tf();UI();td=class extends Cs{options;serializer;deserializer;mixin=new lr;constructor(n){super({defaultNamespace:n.defaultNamespace}),this.options=n;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:n.xmlNamespace,serviceNamespace:n.defaultNamespace,serializeEmptyLists:!0};this.serializer=new nf(t),this.deserializer=new di(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(n){this.serializer.setSerdeContext(n),this.deserializer.setSerdeContext(n)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Br(n.input)==="unit"||!s.body)&&(s.body="");let o=n.name.split("#")[1]??n.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(n,t,r){let s=this.deserializer,o=ie.of(n.output),a={};if(r.statusCode>=300){let g=await Or(r.body,t);g.byteLength>0&&Object.assign(a,await s.read(15,g)),await this.handleError(n,t,r,a,this.deserializeMetadata(r))}for(let g in r.headers){let p=r.headers[g];delete r.headers[g],r.headers[g.toLowerCase()]=p}let c=n.name.split("#")[1]??n.name,l=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await Or(r.body,t);return d.byteLength>0&&Object.assign(a,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(r),...a}}useNestedResult(){return!0}async handleError(n,t,r,s,o){let a=this.loadQueryErrorCode(r,s)??"Unknown",c=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);c.message=l,c.Error={Type:c.Type,Code:c.Code,Message:l};let{errorSchema:d,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,c,o,(T,I)=>T.find(O=>ie.of(O).getMergedTraits().awsQueryError?.[0]===I)),g=ie.of(d),p=Wt.for(d[1]).getErrorCtor(d)??Error,h=new p(l),b={Error:c.Error};for(let[T,I]of g.structIterator()){let O=I.getMergedTraits().xmlName??T,W=c[O]??s[O];b[T]=this.deserializer.readSchema(I,W)}throw Object.assign(h,f,{$fault:g.getMergedTraits().error,message:l},b)}loadQueryErrorCode(n,t){let r=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(r!==void 0)return r;if(n.statusCode==404)return"NotFound"}loadQueryError(n){return n.Errors?.[0]?.Error??n.Errors?.Error??n.Error}loadQueryErrorMessage(n){let t=this.loadQueryError(n);return t?.message??t?.Message??n.message??n.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var pC,qI=P(()=>{hC();pC=class extends td{options;constructor(n){super(n),this.options=n;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var HI,$I,nd,yC,SC,EC=P(()=>{HI=k(ed()),$I=k(Ie());oC();nd=(e,n)=>Xm(e,n).then(t=>{if(t.length){let r;try{r=(0,HI.parseXML)(t)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(r)[0],a=r[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,$I.getValueFromTextNode)(a)}return{}}),yC=async(e,n)=>{let t=await nd(e,n);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},SC=(e,n)=>{if(n?.Error?.Code!==void 0)return n.Error.Code;if(n?.Code!==void 0)return n.Code;if(e.statusCode==404)return"NotFound"}});var dr,bC,rf,rd,CC=P(()=>{dr=k(ed());jn();It();$n();bC=k(Ie()),rf=k(fn());io();rd=class extends Cn{settings;stringBuffer;byteBuffer;buffer;constructor(n){super(),this.settings=n}write(n,t){let r=ie.of(n);if(r.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(r.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??rf.fromBase64)(t);else{this.buffer=this.writeStruct(r,t,void 0);let s=r.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(r.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let n=this.buffer;return this.settings.xmlNamespace&&(n?.attributes?.xmlns||n.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,n.toString()}writeStruct(n,t,r){let s=n.getMergedTraits(),o=n.isMemberSchema()&&!s.httpPayload?n.getMemberTraits().xmlName??n.getMemberName():s.xmlName??n.getName();if(!o||!n.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${n.getName(!0)}.`);let a=dr.XmlNode.of(o),[c,l]=this.getXmlnsAttribute(n,r);for(let[d,f]of n.structIterator()){let g=t[d];if(g!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){a.addAttribute(f.getMergedTraits().xmlName??d,this.writeSimple(f,g));continue}if(f.isListSchema())this.writeList(f,g,a,l);else if(f.isMapSchema())this.writeMap(f,g,a,l);else if(f.isStructSchema())a.addChildNode(this.writeStruct(f,g,l));else{let p=dr.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,g,p,l),a.addChildNode(p)}}}return l&&a.addAttribute(c,l),a}writeList(n,t,r,s){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${n.getName(!0)}`);let o=n.getMergedTraits(),a=n.getValueSchema(),c=a.getMergedTraits(),l=!!c.sparse,d=!!o.xmlFlattened,[f,g]=this.getXmlnsAttribute(n,s),p=(h,b)=>{if(a.isListSchema())this.writeList(a,Array.isArray(b)?b:[b],h,g);else if(a.isMapSchema())this.writeMap(a,b,h,g);else if(a.isStructSchema()){let T=this.writeStruct(a,b,g);h.addChildNode(T.withName(d?o.xmlName??n.getMemberName():c.xmlName??"member"))}else{let T=dr.XmlNode.of(d?o.xmlName??n.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,b,T,g),h.addChildNode(T)}};if(d)for(let h of t)(l||h!=null)&&p(r,h);else{let h=dr.XmlNode.of(o.xmlName??n.getMemberName());g&&h.addAttribute(f,g);for(let b of t)(l||b!=null)&&p(h,b);r.addChildNode(h)}}writeMap(n,t,r,s,o=!1){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${n.getName(!0)}`);let a=n.getMergedTraits(),c=n.getKeySchema(),d=c.getMergedTraits().xmlName??"key",f=n.getValueSchema(),g=f.getMergedTraits(),p=g.xmlName??"value",h=!!g.sparse,b=!!a.xmlFlattened,[T,I]=this.getXmlnsAttribute(n,s),O=(W,ce,me)=>{let Ce=dr.XmlNode.of(d,ce),[Ke,_t]=this.getXmlnsAttribute(c,I);_t&&Ce.addAttribute(Ke,_t),W.addChildNode(Ce);let Oe=dr.XmlNode.of(p);f.isListSchema()?this.writeList(f,me,Oe,I):f.isMapSchema()?this.writeMap(f,me,Oe,I,!0):f.isStructSchema()?Oe=this.writeStruct(f,me,I):this.writeSimpleInto(f,me,Oe,I),W.addChildNode(Oe)};if(b){for(let[W,ce]of Object.entries(t))if(h||ce!=null){let me=dr.XmlNode.of(a.xmlName??n.getMemberName());O(me,W,ce),r.addChildNode(me)}}else{let W;o||(W=dr.XmlNode.of(a.xmlName??n.getMemberName()),I&&W.addAttribute(T,I),r.addChildNode(W));for(let[ce,me]of Object.entries(t))if(h||me!=null){let Ce=dr.XmlNode.of("entry");O(Ce,ce,me),(o?r:W).addChildNode(Ce)}}}writeSimple(n,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let r=ie.of(n),s=null;if(t&&typeof t=="object")if(r.isBlobSchema())s=(this.serdeContext?.base64Encoder??rf.toBase64)(t);else if(r.isTimestampSchema()&&t instanceof Date)switch(Zn(r,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,bC.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,bC.dateToUtcString)(t);break}else{if(r.isBigDecimalSchema()&&t)return t instanceof xt?t.string:String(t);throw r.isMapSchema()||r.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${r.getName(!0)}`)}if((r.isBooleanSchema()||r.isNumericSchema()||r.isBigIntegerSchema()||r.isBigDecimalSchema())&&(s=String(t)),r.isStringSchema()&&(t===void 0&&r.isIdempotencyToken()?s=(0,Jr.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${r.getName(!0)}=${t}`);return s}writeSimpleInto(n,t,r,s){let o=this.writeSimple(n,t),a=ie.of(n),c=new dr.XmlText(o),[l,d]=this.getXmlnsAttribute(a,s);d&&r.addAttribute(l,d),r.addChildNode(c)}getXmlnsAttribute(n,t){let r=n.getMergedTraits(),[s,o]=r.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var sd,_C=P(()=>{io();tf();CC();sd=class extends Cn{settings;constructor(n){super(),this.settings=n}createSerializer(){let n=new rd(this.settings);return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new di(this.settings);return n.setSerdeContext(this.serdeContext),n}}});var xC,jI=P(()=>{jn();It();Ma();EC();_C();xC=class extends Jo{codec;serializer;deserializer;mixin=new lr;constructor(n){super(n);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:n.xmlNamespace,serviceNamespace:n.defaultNamespace};this.codec=new sd(t),this.serializer=new ei(this.codec.createSerializer(),t),this.deserializer=new Zo(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r),o=ie.of(n.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(n,t,r){return super.deserializeResponse(n,t,r)}async handleError(n,t,r,s,o){let a=SC(r,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,r,s,o),d=ie.of(c),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",g=Wt.for(c[1]).getErrorCtor(c)??Error,p=new g(f);await this.deserializeHttpMessage(c,t,r,s);let h={};for(let[b,T]of d.structIterator()){let I=T.getMergedTraits().xmlName??b,O=s.Error?.[I]??s[I];h[b]=this.codec.createDeserializer().readSchema(T,O)}throw Object.assign(p,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/xml"}}});var VI=P(()=>{sI();oI();TI();RI();Qm();vI();Jm();aC();cC();kI();Jl();qI();hC();jI();_C();tf();CC();EC()});var ur={};cr(ur,{AWSSDKSigV4Signer:()=>KS,AwsEc2QueryProtocol:()=>pC,AwsJson1_0Protocol:()=>lC,AwsJson1_1Protocol:()=>dC,AwsJsonRpcProtocol:()=>li,AwsQueryProtocol:()=>td,AwsRestJsonProtocol:()=>uC,AwsRestXmlProtocol:()=>xC,AwsSdkSigV4ASigner:()=>vl,AwsSdkSigV4Signer:()=>Hn,AwsSmithyRpcV2CborProtocol:()=>Wb,JsonCodec:()=>ci,JsonShapeDeserializer:()=>Ql,JsonShapeSerializer:()=>Zl,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xa,NODE_SIGV4A_CONFIG_OPTIONS:()=>hv,XmlCodec:()=>sd,XmlShapeDeserializer:()=>di,XmlShapeSerializer:()=>rd,_toBool:()=>Wj,_toNum:()=>Xj,_toStr:()=>Kj,awsExpectUnion:()=>S4,emitWarningIfUnsupportedVersion:()=>ba,getBearerTokenEnvKey:()=>Hu,loadRestJsonErrorCode:()=>ai,loadRestXmlErrorCode:()=>SC,parseJsonBody:()=>La,parseJsonErrorBody:()=>iC,parseXmlBody:()=>nd,parseXmlErrorBody:()=>yC,resolveAWSSDKSigV4Config:()=>Uv,resolveAwsSdkSigV4AConfig:()=>gv,resolveAwsSdkSigV4Config:()=>oi,setCredentialFeature:()=>Xs,setFeature:()=>jA,setTokenFeature:()=>GA,state:()=>qu,validateSigningProperties:()=>_a});var jt=P(()=>{Nr();kb();VI()});var WI=B((nEe,KI)=>{var sf=Object.defineProperty,w4=Object.getOwnPropertyDescriptor,A4=Object.getOwnPropertyNames,P4=Object.prototype.hasOwnProperty,T4=(e,n)=>sf(e,"name",{value:n,configurable:!0}),R4=(e,n)=>{for(var t in n)sf(e,t,{get:n[t],enumerable:!0})},v4=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of A4(n))!P4.call(e,s)&&s!==t&&sf(e,s,{get:()=>n[s],enumerable:!(r=w4(n,s))||r.enumerable});return e},I4=e=>v4(sf({},"__esModule",{value:!0}),e),GI={};R4(GI,{isArrayBuffer:()=>k4});KI.exports=I4(GI);var k4=T4(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var QI=B((rEe,JI)=>{var of=Object.defineProperty,N4=Object.getOwnPropertyDescriptor,O4=Object.getOwnPropertyNames,B4=Object.prototype.hasOwnProperty,XI=(e,n)=>of(e,"name",{value:n,configurable:!0}),D4=(e,n)=>{for(var t in n)of(e,t,{get:n[t],enumerable:!0})},M4=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of O4(n))!B4.call(e,s)&&s!==t&&of(e,s,{get:()=>n[s],enumerable:!(r=N4(n,s))||r.enumerable});return e},L4=e=>M4(of({},"__esModule",{value:!0}),e),YI={};D4(YI,{fromArrayBuffer:()=>z4,fromString:()=>U4});JI.exports=L4(YI);var F4=WI(),wC=require("buffer"),z4=XI((e,n=0,t=e.byteLength-n)=>{if(!(0,F4.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return wC.Buffer.from(e,n,t)},"fromArrayBuffer"),U4=XI((e,n)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return n?wC.Buffer.from(e,n):wC.Buffer.from(e)},"fromString")});var rk=B((sEe,nk)=>{var af=Object.defineProperty,q4=Object.getOwnPropertyDescriptor,H4=Object.getOwnPropertyNames,$4=Object.prototype.hasOwnProperty,AC=(e,n)=>af(e,"name",{value:n,configurable:!0}),j4=(e,n)=>{for(var t in n)af(e,t,{get:n[t],enumerable:!0})},V4=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of H4(n))!$4.call(e,s)&&s!==t&&af(e,s,{get:()=>n[s],enumerable:!(r=q4(n,s))||r.enumerable});return e},G4=e=>V4(af({},"__esModule",{value:!0}),e),ZI={};j4(ZI,{fromUtf8:()=>tk,toUint8Array:()=>K4,toUtf8:()=>W4});nk.exports=G4(ZI);var ek=QI(),tk=AC(e=>{let n=(0,ek.fromString)(e,"utf8");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),K4=AC(e=>typeof e=="string"?tk(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),W4=AC(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,ek.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var sk=B(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.convertToBuffer=void 0;var X4=rk(),Y4=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:X4.fromUtf8;function J4(e){return e instanceof Uint8Array?e:typeof e=="string"?Y4(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}cf.convertToBuffer=J4});var ok=B(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.isEmptyData=void 0;function Q4(e){return typeof e=="string"?e.length===0:e.byteLength===0}lf.isEmptyData=Q4});var ik=B(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.numToUint8=void 0;function Z4(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}df.numToUint8=Z4});var ak=B(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.uint32ArrayFrom=void 0;function eV(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}uf.uint32ArrayFrom=eV});var Fa=B(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.uint32ArrayFrom=Zr.numToUint8=Zr.isEmptyData=Zr.convertToBuffer=void 0;var tV=sk();Object.defineProperty(Zr,"convertToBuffer",{enumerable:!0,get:function(){return tV.convertToBuffer}});var nV=ok();Object.defineProperty(Zr,"isEmptyData",{enumerable:!0,get:function(){return nV.isEmptyData}});var rV=ik();Object.defineProperty(Zr,"numToUint8",{enumerable:!0,get:function(){return rV.numToUint8}});var sV=ak();Object.defineProperty(Zr,"uint32ArrayFrom",{enumerable:!0,get:function(){return sV.uint32ArrayFrom}})});var dk=B(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.AwsCrc32c=void 0;var ck=(Yr(),ve(Xr)),PC=Fa(),lk=TC(),oV=(function(){function e(){this.crc32c=new lk.Crc32c}return e.prototype.update=function(n){(0,PC.isEmptyData)(n)||this.crc32c.update((0,PC.convertToBuffer)(n))},e.prototype.digest=function(){return ck.__awaiter(this,void 0,void 0,function(){return ck.__generator(this,function(n){return[2,(0,PC.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new lk.Crc32c},e})();mf.AwsCrc32c=oV});var TC=B(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.AwsCrc32c=co.Crc32c=co.crc32c=void 0;var iV=(Yr(),ve(Xr)),aV=Fa();function cV(e){return new uk().update(e).digest()}co.crc32c=cV;var uk=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var s=iV.__values(n),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^dV[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();co.Crc32c=uk;var lV=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],dV=(0,aV.uint32ArrayFrom)(lV),uV=dk();Object.defineProperty(co,"AwsCrc32c",{enumerable:!0,get:function(){return uV.AwsCrc32c}})});var gk=B(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.AwsCrc32=void 0;var mk=(Yr(),ve(Xr)),RC=Fa(),fk=gf(),mV=(function(){function e(){this.crc32=new fk.Crc32}return e.prototype.update=function(n){(0,RC.isEmptyData)(n)||this.crc32.update((0,RC.convertToBuffer)(n))},e.prototype.digest=function(){return mk.__awaiter(this,void 0,void 0,function(){return mk.__generator(this,function(n){return[2,(0,RC.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new fk.Crc32},e})();ff.AwsCrc32=mV});var gf=B(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.AwsCrc32=lo.Crc32=lo.crc32=void 0;var fV=(Yr(),ve(Xr)),gV=Fa();function hV(e){return new hk().update(e).digest()}lo.crc32=hV;var hk=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var s=fV.__values(n),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^yV[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();lo.Crc32=hk;var pV=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],yV=(0,gV.uint32ArrayFrom)(pV),SV=gk();Object.defineProperty(lo,"AwsCrc32",{enumerable:!0,get:function(){return SV.AwsCrc32}})});var yk=B(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.getCrc32ChecksumAlgorithmFunction=void 0;var EV=(Yr(),ve(Xr)),bV=gf(),CV=Fa(),pk=EV.__importStar(require("zlib")),vC=class{checksum=0;update(n){this.checksum=pk.crc32(n,this.checksum)}async digest(){return(0,CV.numToUint8)(this.checksum)}reset(){this.checksum=0}},_V=()=>typeof pk.crc32>"u"?bV.AwsCrc32:vC;hf.getCrc32ChecksumAlgorithmFunction=_V});var DC=B(ge=>{"use strict";var Rs=(jt(),ve(ur)),Ek=je(),bk=Wo(),xV=ju(),wV=TC(),AV=yk(),PV=Kt(),Sk=En(),vs={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},NC=vs.WHEN_SUPPORTED,za={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},OC=vs.WHEN_SUPPORTED;ge.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(ge.ChecksumAlgorithm||(ge.ChecksumAlgorithm={}));ge.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ge.ChecksumLocation||(ge.ChecksumLocation={}));var pf=ge.ChecksumAlgorithm.CRC32,Ua;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ua||(Ua={}));var yf=(e,n,t,r)=>{if(!(n in e))return;let s=e[n].toUpperCase();if(!Object.values(t).includes(s))throw new TypeError(`Cannot load ${r} '${n}'. Expected one of ${Object.values(t)}, got '${e[n]}'.`);return s},Ck="AWS_REQUEST_CHECKSUM_CALCULATION",_k="request_checksum_calculation",TV={environmentVariableSelector:e=>yf(e,Ck,vs,Ua.ENV),configFileSelector:e=>yf(e,_k,vs,Ua.CONFIG),default:NC},xk="AWS_RESPONSE_CHECKSUM_VALIDATION",wk="response_checksum_validation",RV={environmentVariableSelector:e=>yf(e,xk,za,Ua.ENV),configFileSelector:e=>yf(e,wk,za,Ua.CONFIG),default:OC},IC={CrtCrc64Nvme:null},kC=[ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.SHA256],vV=[ge.ChecksumAlgorithm.SHA256,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME],IV=(e,{requestChecksumRequired:n,requestAlgorithmMember:t,requestChecksumCalculation:r})=>{if(!t)return r===vs.WHEN_SUPPORTED||n?pf:void 0;if(!e[t])return;let s=e[t];if(!kC.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${kC}.`);return s},BC=e=>e===ge.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,kV=(e,n)=>{let t=e.toLowerCase();for(let r of Object.keys(n))if(t===r.toLowerCase())return!0;return!1},NV=(e,n)=>{let t=e.toLowerCase();for(let r of Object.keys(n))if(r.toLowerCase().startsWith(t))return!0;return!1},Ak=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!xV.isArrayBuffer(e),Pk=(e,n)=>{switch(e){case ge.ChecksumAlgorithm.MD5:return n.md5;case ge.ChecksumAlgorithm.CRC32:return AV.getCrc32ChecksumAlgorithmFunction();case ge.ChecksumAlgorithm.CRC32C:return wV.AwsCrc32c;case ge.ChecksumAlgorithm.CRC64NVME:if(typeof IC.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return IC.CrtCrc64Nvme;case ge.ChecksumAlgorithm.SHA1:return n.sha1;case ge.ChecksumAlgorithm.SHA256:return n.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},Tk=(e,n)=>{let t=new e;return t.update(PV.toUint8Array(n||"")),t.digest()},Rk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},vk=(e,n)=>(t,r)=>async s=>{if(!Ek.HttpRequest.isInstance(s.request)||NV("x-amz-checksum-",s.request.headers))return t(s);let{request:o,input:a}=s,{body:c,headers:l}=o,{base64Encoder:d,streamHasher:f}=e,{requestChecksumRequired:g,requestAlgorithmMember:p}=n,h=await e.requestChecksumCalculation(),b=p?.name,T=p?.httpHeader;b&&!a[b]&&(h===vs.WHEN_SUPPORTED||g)&&(a[b]=pf,T&&(l[T]=pf));let I=IV(a,{requestChecksumRequired:g,requestAlgorithmMember:p?.name,requestChecksumCalculation:h}),O=c,W=l;if(I){switch(I){case ge.ChecksumAlgorithm.CRC32:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ge.ChecksumAlgorithm.CRC32C:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ge.ChecksumAlgorithm.CRC64NVME:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ge.ChecksumAlgorithm.SHA1:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ge.ChecksumAlgorithm.SHA256:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let me=BC(I),Ce=Pk(I,e);if(Ak(c)){let{getAwsChunkedEncodingStream:Ke,bodyLengthChecker:_t}=e;O=Ke(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?bk.createBufferedReadable(c,e.requestStreamBufferSize,r.logger):c,{base64Encoder:d,bodyLengthChecker:_t,checksumLocationName:me,checksumAlgorithmFn:Ce,streamHasher:f}),W={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":me},delete W["content-length"]}else if(!kV(me,l)){let Ke=await Tk(Ce,c);W={...l,[me]:d(Ke)}}}return await t({...s,request:{...o,headers:W,body:O}})},OV={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},BV=(e,n)=>(t,r)=>async s=>{let o=s.input,{requestValidationModeMember:a}=n,c=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(c){case vs.WHEN_REQUIRED:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case vs.WHEN_SUPPORTED:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case za.WHEN_REQUIRED:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case za.WHEN_SUPPORTED:Rs.setFeature(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!o[a]&&l===za.WHEN_SUPPORTED&&(o[a]="ENABLED"),t(s)},Ik=(e=[])=>{let n=[];for(let t of vV)!e.includes(t)||!kC.includes(t)||n.push(t);return n},DV=e=>{let n=e.lastIndexOf("-");if(n!==-1){let t=e.slice(n+1);if(!t.startsWith("0")){let r=parseInt(t,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1},MV=async(e,{checksumAlgorithmFn:n,base64Encoder:t})=>t(await Tk(n,e)),LV=async(e,{config:n,responseAlgorithms:t,logger:r})=>{let s=Ik(t),{body:o,headers:a}=e;for(let c of s){let l=BC(c),d=a[l];if(d){let f;try{f=Pk(c,n)}catch(h){if(c===ge.ChecksumAlgorithm.CRC64NVME){r?.warn(`Skipping ${ge.ChecksumAlgorithm.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}let{base64Encoder:g}=n;if(Ak(o)){e.body=bk.createChecksumStream({expectedChecksum:d,checksumSourceLocation:l,checksum:new f,source:o,base64Encoder:g});return}let p=await MV(o,{checksumAlgorithmFn:f,base64Encoder:g});if(p===d)break;throw new Error(`Checksum mismatch: expected "${p}" but received "${d}" in response header "${l}".`)}}},FV={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},zV=(e,n)=>(t,r)=>async s=>{if(!Ek.HttpRequest.isInstance(s.request))return t(s);let o=s.input,a=await t(s),c=a.response,{requestValidationModeMember:l,responseAlgorithms:d}=n;if(l&&o[l]==="ENABLED"){let{clientName:f,commandName:g}=r;if(f==="S3Client"&&g==="GetObjectCommand"&&Ik(d).every(h=>{let b=BC(h),T=c.headers[b];return!T||DV(T)}))return a;await LV(c,{config:e,responseAlgorithms:d,logger:r.logger})}return a},UV=(e,n)=>({applyToStack:t=>{t.add(vk(e,n),Rk),t.addRelativeTo(BV(e,n),OV),t.addRelativeTo(zV(e,n),FV)}}),qV=e=>{let{requestChecksumCalculation:n,responseChecksumValidation:t,requestStreamBufferSize:r}=e;return Object.assign(e,{requestChecksumCalculation:Sk.normalizeProvider(n??NC),responseChecksumValidation:Sk.normalizeProvider(t??OC),requestStreamBufferSize:Number(r??0)})};ge.CONFIG_REQUEST_CHECKSUM_CALCULATION=_k;ge.CONFIG_RESPONSE_CHECKSUM_VALIDATION=wk;ge.DEFAULT_CHECKSUM_ALGORITHM=pf;ge.DEFAULT_REQUEST_CHECKSUM_CALCULATION=NC;ge.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=OC;ge.ENV_REQUEST_CHECKSUM_CALCULATION=Ck;ge.ENV_RESPONSE_CHECKSUM_VALIDATION=xk;ge.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=TV;ge.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=RV;ge.RequestChecksumCalculation=vs;ge.ResponseChecksumValidation=za;ge.crc64NvmeCrtContainer=IC;ge.flexibleChecksumsMiddleware=vk;ge.flexibleChecksumsMiddlewareOptions=Rk;ge.getFlexibleChecksumsPlugin=UV;ge.resolveFlexibleChecksumsConfig=qV});var id=B(od=>{"use strict";var HV=je();function $V(e){return e}var kk=e=>n=>async t=>{if(!HV.HttpRequest.isInstance(t.request))return n(t);let{request:r}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return n(t)},Nk={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},jV=e=>({applyToStack:n=>{n.add(kk(e),Nk)}});od.getHostHeaderPlugin=jV;od.hostHeaderMiddleware=kk;od.hostHeaderMiddlewareOptions=Nk;od.resolveHostHeaderConfig=$V});var ad=B(Sf=>{"use strict";var Ok=()=>(e,n)=>async t=>{try{let r=await e(t),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,f=l??n.inputFilterSensitiveLog,g=d??n.outputFilterSensitiveLog,{$metadata:p,...h}=r.output;return a?.info?.({clientName:s,commandName:o,input:f(t.input),output:g(h),metadata:p}),r}catch(r){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:l}=c,d=l??n.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(t.input),error:r,metadata:r.$metadata}),r}},Bk={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},VV=e=>({applyToStack:n=>{n.add(Ok(),Bk)}});Sf.getLoggerPlugin=VV;Sf.loggerMiddleware=Ok;Sf.loggerMiddlewareOptions=Bk});var Dk=B(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.InvokeStore=void 0;var GV=require("async_hooks"),MC=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";MC||(globalThis.awslambda=globalThis.awslambda||{});var KV={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},LC=class{static storage=new GV.AsyncLocalStorage;static PROTECTED_KEYS=KV;static run(n,t){return this.storage.run({...n},t)}static getContext(){return this.storage.getStore()}static get(n){return this.storage.getStore()?.[n]}static set(n,t){if(this.isProtectedKey(n))throw new Error("Cannot modify protected Lambda context field");let r=this.storage.getStore();r&&(r[n]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(n){return n===this.PROTECTED_KEYS.REQUEST_ID||n===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},Ef;!MC&&globalThis.awslambda?.InvokeStore?Ef=globalThis.awslambda.InvokeStore:(Ef=LC,!MC&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Ef));bf.InvokeStore=Ef});var Mk=B(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.recursionDetectionMiddleware=void 0;var WV=Dk(),XV=je(),FC="X-Amzn-Trace-Id",YV="AWS_LAMBDA_FUNCTION_NAME",JV="_X_AMZN_TRACE_ID",QV=()=>e=>async n=>{let{request:t}=n;if(!XV.HttpRequest.isInstance(t))return e(n);let r=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===FC.toLowerCase())??FC;if(t.headers.hasOwnProperty(r))return e(n);let s=process.env[YV],o=process.env[JV],c=WV.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(c)&&(t.headers[FC]=c),e({...n,request:t})};Cf.recursionDetectionMiddleware=QV});var cd=B(_f=>{"use strict";var zC=Mk(),ZV={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},e6=e=>({applyToStack:n=>{n.add(zC.recursionDetectionMiddleware(),ZV)}});_f.getRecursionDetectionPlugin=e6;Object.keys(zC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(_f,e)&&Object.defineProperty(_f,e,{enumerable:!0,get:function(){return zC[e]}})})});var xf=B(qa=>{"use strict";var t6=(e,n,t)=>{if(n in e){if(e[n]==="true")return!0;if(e[n]==="false")return!1;throw new Error(`Cannot load ${t} "${n}". Expected "true" or "false", got ${e[n]}.`)}},n6=(e,n,t)=>{if(!(n in e))return;let r=parseInt(e[n],10);if(Number.isNaN(r))throw new TypeError(`Cannot load ${t} '${n}'. Expected number, got '${e[n]}'.`);return r};qa.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(qa.SelectorType||(qa.SelectorType={}));qa.booleanSelector=t6;qa.numberSelector=n6});var qC=B((_Ee,Fk)=>{"use strict";var wf=Object.defineProperty,r6=Object.getOwnPropertyDescriptor,s6=Object.getOwnPropertyNames,o6=Object.prototype.hasOwnProperty,UC=(e,n)=>wf(e,"name",{value:n,configurable:!0}),i6=(e,n)=>{for(var t in n)wf(e,t,{get:n[t],enumerable:!0})},a6=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of s6(n))!o6.call(e,s)&&s!==t&&wf(e,s,{get:()=>n[s],enumerable:!(r=r6(n,s))||r.enumerable});return e},c6=e=>a6(wf({},"__esModule",{value:!0}),e),Lk={};i6(Lk,{build:()=>u6,parse:()=>d6,validate:()=>l6});Fk.exports=c6(Lk);var l6=UC(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),d6=UC(e=>{let n=e.split(":");if(n.length<6||n[0]!=="arn")throw new Error("Malformed ARN");let[,t,r,s,o,...a]=n;return{partition:t,service:r,region:s,accountId:o,resource:a.join(":")}},"parse"),u6=UC(e=>{let{partition:n="aws",service:t,region:r,accountId:s,resource:o}=e;if([t,r,s,o].some(a=>typeof a!="string"))throw new Error("Input ARN object is invalid");return`arn:${n}:${t}:${r}:${s}:${o}`},"build")});var Rf=B(We=>{"use strict";var ld=je(),Hk=Ie(),m6=Fm(),Af=xf(),f6=(jt(),ve(ur)),$k=(Dn(),ve(ni));ys();var g6=En(),zk=Wo(),h6=qC(),p6="content-length",y6="x-amz-decoded-content-length";function jk(){return(e,n)=>async t=>{let{request:r}=t;if(ld.HttpRequest.isInstance(r)&&!(p6 in r.headers)&&!(y6 in r.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof n?.logger?.warn=="function"&&!(n.logger instanceof Hk.NoOpLogger)?n.logger.warn(s):console.warn(s)}return e({...t})}}var Vk={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},S6=e=>({applyToStack:n=>{n.add(jk(),Vk)}}),Gk=e=>(n,t)=>async r=>{let s=await e.region(),o=e.region,a=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),a=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{let c=await n(r);if(t.__s3RegionRedirect){a();let l=await e.region();if(s!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw a(),c}},Kk={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Wk(e){return(n,t)=>async r=>{try{return await n(r)}catch(s){if(e.followRegionRedirects){let o=s?.$metadata?.httpStatusCode,a=t.commandName==="HeadBucketCommand",c=s?.$response?.headers?.["x-amz-bucket-region"];if(c&&(o===301||o===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{let l=c;t.logger?.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return n(r)}}throw s}}}var Xk={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},E6=e=>({applyToStack:n=>{n.add(Wk(e),Xk),n.addRelativeTo(Gk(e),Kk)}}),Yk=e=>(n,t)=>async r=>{let s=await n(r),{response:o}=s;if(ld.HttpResponse.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{Hk.parseRfc7231DateTime(o.headers.expires)}catch(a){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return s},Jk={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},b6=e=>({applyToStack:n=>{n.addRelativeTo(Yk(),Jk)}}),Pf=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(n={}){this.data=n}get(n){let t=this.data[n];if(t)return t}set(n,t){return this.data[n]=t,t}delete(n){delete this.data[n]}async purgeExpired(){let n=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let t in this.data){let r=this.data[t];if(!r.isRefreshing){let s=await r.identity;s.expiration&&s.expiration.getTime()<n&&delete this.data[t]}}}},Ha=class{_identity;isRefreshing;accessed;constructor(n,t=!1,r=Date.now()){this._identity=n,this.isRefreshing=t,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}},Tf=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(n,t=new Pf){this.createSessionFn=n,this.cache=t}async getS3ExpressIdentity(n,t){let r=t.Bucket,{cache:s}=this,o=s.get(r);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(r,new Ha(this.getIdentity(r))).identity:((a.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(r).then(d=>{s.set(r,new Ha(Promise.resolve(d)))})),a)):s.set(r,new Ha(this.getIdentity(r))).identity}async getIdentity(n){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let t=await this.createSessionFn(n);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}},C6="Directory",_6="S3Express",x6="sigv4-s3express",HC="X-Amz-S3session-Token",$C=HC.toLowerCase(),w6="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",A6="s3_disable_express_session_auth",P6={environmentVariableSelector:e=>Af.booleanSelector(e,w6,Af.SelectorType.ENV),configFileSelector:e=>Af.booleanSelector(e,A6,Af.SelectorType.CONFIG),default:!1},jC=class extends m6.SignatureV4{async signWithCredentials(n,t,r){let s=Uk(t);n.headers[$C]=t.sessionToken;let o=this;return qk(o,s),o.signRequest(n,r??{})}async presignWithCredentials(n,t,r){let s=Uk(t);return delete n.headers[$C],n.headers[HC]=t.sessionToken,n.query=n.query??{},n.query[HC]=t.sessionToken,qk(this,s),this.presign(n,r)}};function Uk(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function qk(e,n){let t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=e.credentialProvider,s=()=>(clearTimeout(t),e.credentialProvider=r,Promise.resolve(n));e.credentialProvider=s}var Qk=e=>(n,t)=>async r=>{if(t.endpointV2){let s=t.endpointV2,o=s.properties?.authSchemes?.[0]?.name===x6;if((s.properties?.backend===_6||s.properties?.bucketType===C6)&&(f6.setFeature(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),o){let c=r.input.Bucket;if(c){let l=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:c});t.s3ExpressIdentity=l,ld.HttpRequest.isInstance(r.request)&&l.sessionToken&&(r.request.headers[$C]=l.sessionToken)}}}return n(r)},Zk={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},T6=e=>({applyToStack:n=>{n.add(Qk(e),Zk)}}),R6=async(e,n,t,r)=>{let s=await r.signWithCredentials(t,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},v6=e=>n=>{throw n},I6=(e,n)=>{},k6=$k.httpSigningMiddlewareOptions,eN=e=>(n,t)=>async r=>{if(!ld.HttpRequest.isInstance(r.request))return n(r);let o=g6.getSmithyContext(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d;t.s3ExpressIdentity?d=await R6(t.s3ExpressIdentity,a,r.request,await e.signer()):d=await l.sign(r.request,c,a);let f=await n({...r,request:d}).catch((l.errorHandler||v6)(a));return(l.successHandler||I6)(f.response,a),f},N6=e=>({applyToStack:n=>{n.addRelativeTo(eN(e),$k.httpSigningMiddlewareOptions)}}),O6=(e,{session:n})=>{let[t,r]=n,{forcePathStyle:s,useAccelerateEndpoint:o,disableMultiregionAccessPoints:a,followRegionRedirects:c,s3ExpressIdentityProvider:l,bucketEndpoint:d,expectContinueHeader:f}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:l??new Tf(async g=>t().send(new r({Bucket:g}))),bucketEndpoint:d??!1,expectContinueHeader:f??2097152})},B6={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},D6=3e3,tN=e=>(n,t)=>async r=>{let s=await n(r),{response:o}=s;if(!ld.HttpResponse.isInstance(o))return s;let{statusCode:a,body:c}=o;if(a<200||a>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return s;let d=c,f=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([d,f]=await zk.splitStream(c)),o.body=f;let g=await M6(d,{streamCollector:async h=>zk.headStream(h,D6)});typeof d?.destroy=="function"&&d.destroy();let p=e.utf8Encoder(g.subarray(g.length-16));if(g.length===0&&B6[t.commandName]){let h=new Error("S3 aborted request");throw h.name="InternalError",h}return p&&p.endsWith("</Error>")&&(o.statusCode=400),s},M6=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),nN={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},L6=e=>({applyToStack:n=>{n.addRelativeTo(tN(e),nN)}});function F6(e){return(n,t)=>async r=>{if(e.bucketEndpoint){let s=t.endpointV2;if(s){let o=r.input.Bucket;if(typeof o=="string")try{let a=new URL(o);t.endpointV2={...s,url:a}}catch(a){let c=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c),a}}}return n(r)}}var z6={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function rN({bucketEndpoint:e}){return n=>async t=>{let{input:{Bucket:r}}=t;if(!e&&typeof r=="string"&&!h6.validate(r)&&r.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw s.name="InvalidBucketName",s}return n({...t})}}var sN={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},U6=e=>({applyToStack:n=>{n.add(rN(e),sN),n.addRelativeTo(F6(e),z6)}});We.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=P6;We.S3ExpressIdentityCache=Pf;We.S3ExpressIdentityCacheEntry=Ha;We.S3ExpressIdentityProviderImpl=Tf;We.SignatureV4S3Express=jC;We.checkContentLengthHeader=jk;We.checkContentLengthHeaderMiddlewareOptions=Vk;We.getCheckContentLengthHeaderPlugin=S6;We.getRegionRedirectMiddlewarePlugin=E6;We.getS3ExpiresMiddlewarePlugin=b6;We.getS3ExpressHttpSigningPlugin=N6;We.getS3ExpressPlugin=T6;We.getThrow200ExceptionsPlugin=L6;We.getValidateBucketNamePlugin=U6;We.regionRedirectEndpointMiddleware=Gk;We.regionRedirectEndpointMiddlewareOptions=Kk;We.regionRedirectMiddleware=Wk;We.regionRedirectMiddlewareOptions=Xk;We.resolveS3Config=O6;We.s3ExpiresMiddleware=Yk;We.s3ExpiresMiddlewareOptions=Jk;We.s3ExpressHttpSigningMiddleware=eN;We.s3ExpressHttpSigningMiddlewareOptions=k6;We.s3ExpressMiddleware=Qk;We.s3ExpressMiddlewareOptions=Zk;We.throw200ExceptionsMiddleware=tN;We.throw200ExceptionsMiddlewareOptions=nN;We.validateBucketNameMiddleware=rN;We.validateBucketNameMiddlewareOptions=sN});var mi=B(ui=>{"use strict";var GC=ys(),KC=class{capacity;data=new Map;parameters=[];constructor({size:n,params:t}){this.capacity=n??50,t&&(this.parameters=t)}get(n,t){let r=this.hash(n);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:a,done:c}=s.next();if(this.data.delete(a),c||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(n){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let s of r){let o=String(n[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},q6=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),oN=e=>q6.test(e)||e.startsWith("[")&&e.endsWith("]"),H6=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),XC=(e,n=!1)=>{if(!n)return H6.test(e);let t=e.split(".");for(let r of t)if(!XC(r))return!1;return!0},WC={},dd="endpoints";function uo(e){return typeof e!="object"||e==null?e:"ref"in e?`$${uo(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(uo).join(", ")})`:JSON.stringify(e,null,2)}var _n=class extends Error{constructor(n){super(n),this.name="EndpointError"}},$6=(e,n)=>e===n,j6=e=>{let n=e.split("."),t=[];for(let r of n){let s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new _n(`Path: '${e}' does not end with ']'`);let o=r.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new _n(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(r.slice(0,s)),t.push(o)}else t.push(r)}return t},iN=(e,n)=>j6(n).reduce((t,r)=>{if(typeof t!="object")throw new _n(`Index '${r}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(r)]:t[r]},e),V6=e=>e!=null,G6=e=>!e,VC={[GC.EndpointURLScheme.HTTP]:80,[GC.EndpointURLScheme.HTTPS]:443},K6=e=>{let n=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:h,protocol:b="",path:T="",query:I={}}=e,O=new URL(`${b}//${p}${h?`:${h}`:""}${T}`);return O.search=Object.entries(I).map(([W,ce])=>`${W}=${ce}`).join("&"),O}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=n.href,{host:r,hostname:s,pathname:o,protocol:a,search:c}=n;if(c)return null;let l=a.slice(0,-1);if(!Object.values(GC.EndpointURLScheme).includes(l))return null;let d=oN(s),f=t.includes(`${r}:${VC[l]}`)||typeof e=="string"&&e.includes(`${r}:${VC[l]}`),g=`${r}${f?`:${VC[l]}`:""}`;return{scheme:l,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},W6=(e,n)=>e===n,X6=(e,n,t,r)=>n>=t||e.length<t?null:r?e.substring(e.length-t,e.length-n):e.substring(n,t),Y6=e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),J6={booleanEquals:$6,getAttr:iN,isSet:V6,isValidHostLabel:XC,not:G6,parseURL:K6,stringEquals:W6,substring:X6,uriEncode:Y6},aN=(e,n)=>{let t=[],r={...n.endpointParams,...n.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(t.push(e.slice(o+1,a)),s=a+2);let c=e.substring(o+1,a);if(c.includes("#")){let[l,d]=c.split("#");t.push(iN(r[l],d))}else t.push(r[c]);s=a+1}return t.join("")},Q6=({ref:e},n)=>({...n.endpointParams,...n.referenceRecord})[e],vf=(e,n,t)=>{if(typeof e=="string")return aN(e,t);if(e.fn)return lN.callFunction(e,t);if(e.ref)return Q6(e,t);throw new _n(`'${n}': ${String(e)} is not a string, function or reference.`)},cN=({fn:e,argv:n},t)=>{let r=n.map(o=>["boolean","number"].includes(typeof o)?o:lN.evaluateExpression(o,"arg",t)),s=e.split(".");return s[0]in WC&&s[1]!=null?WC[s[0]][s[1]](...r):J6[e](...r)},lN={evaluateExpression:vf,callFunction:cN},Z6=({assign:e,...n},t)=>{if(e&&e in t.referenceRecord)throw new _n(`'${e}' is already defined in Reference Record.`);let r=cN(n,t);return t.logger?.debug?.(`${dd} evaluateCondition: ${uo(n)} = ${uo(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}},YC=(e=[],n)=>{let t={};for(let r of e){let{result:s,toAssign:o}=Z6(r,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,n.logger?.debug?.(`${dd} assign: ${o.name} := ${uo(o.value)}`))}return{result:!0,referenceRecord:t}},eG=(e,n)=>Object.entries(e).reduce((t,[r,s])=>({...t,[r]:s.map(o=>{let a=vf(o,"Header value entry",n);if(typeof a!="string")throw new _n(`Header '${r}' value '${a}' is not a string`);return a})}),{}),dN=(e,n)=>Object.entries(e).reduce((t,[r,s])=>({...t,[r]:mN.getEndpointProperty(s,n)}),{}),uN=(e,n)=>{if(Array.isArray(e))return e.map(t=>uN(t,n));switch(typeof e){case"string":return aN(e,n);case"object":if(e===null)throw new _n(`Unexpected endpoint property: ${e}`);return mN.getEndpointProperties(e,n);case"boolean":return e;default:throw new _n(`Unexpected endpoint property type: ${typeof e}`)}},mN={getEndpointProperty:uN,getEndpointProperties:dN},tG=(e,n)=>{let t=vf(e,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(r){throw console.error(`Failed to construct URL with ${t}`,r),r}throw new _n(`Endpoint URL must be a string, got ${typeof t}`)},nG=(e,n)=>{let{conditions:t,endpoint:r}=e,{result:s,referenceRecord:o}=YC(t,n);if(!s)return;let a={...n,referenceRecord:{...n.referenceRecord,...o}},{url:c,properties:l,headers:d}=r;return n.logger?.debug?.(`${dd} Resolving endpoint from template: ${uo(r)}`),{...d!=null&&{headers:eG(d,a)},...l!=null&&{properties:dN(l,a)},url:tG(c,a)}},rG=(e,n)=>{let{conditions:t,error:r}=e,{result:s,referenceRecord:o}=YC(t,n);if(s)throw new _n(vf(r,"Error",{...n,referenceRecord:{...n.referenceRecord,...o}}))},fN=(e,n)=>{for(let t of e)if(t.type==="endpoint"){let r=nG(t,n);if(r)return r}else if(t.type==="error")rG(t,n);else if(t.type==="tree"){let r=gN.evaluateTreeRule(t,n);if(r)return r}else throw new _n(`Unknown endpoint rule: ${t}`);throw new _n("Rules evaluation failed")},sG=(e,n)=>{let{conditions:t,rules:r}=e,{result:s,referenceRecord:o}=YC(t,n);if(s)return gN.evaluateRules(r,{...n,referenceRecord:{...n.referenceRecord,...o}})},gN={evaluateRules:fN,evaluateTreeRule:sG},oG=(e,n)=>{let{endpointParams:t,logger:r}=n,{parameters:s,rules:o}=e;n.logger?.debug?.(`${dd} Initial EndpointParams: ${uo(t)}`);let a=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,f])=>[d,f.default]);if(a.length>0)for(let[d,f]of a)t[d]=t[d]??f;let c=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of c)if(t[d]==null)throw new _n(`Missing required parameter: '${d}'`);let l=fN(o,{endpointParams:t,logger:r,referenceRecord:{}});return n.logger?.debug?.(`${dd} Resolved endpoint: ${uo(l)}`),l};ui.EndpointCache=KC;ui.EndpointError=_n;ui.customEndpointFunctions=WC;ui.isIpAddress=oN;ui.isValidHostLabel=XC;ui.resolveEndpoint=oG});var pN=B(hN=>{"use strict";function iG(e){let n={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[r,s=null]=t.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in n?Array.isArray(n[r])?n[r].push(s):n[r]=[n[r],s]:n[r]=s}return n}hN.parseQueryString=iG});var mo=B(SN=>{"use strict";var aG=pN(),yN=e=>{if(typeof e=="string")return yN(new URL(e));let{hostname:n,pathname:t,port:r,protocol:s,search:o}=e,a;return o&&(a=aG.parseQueryString(o)),{hostname:n,port:r?parseInt(r):void 0,protocol:s,path:t,query:a}};SN.parseUrl=yN});var ja=B(Dr=>{"use strict";var $a=mi(),cG=mo(),bN=(e,n=!1)=>{if(n){for(let t of e.split("."))if(!bN(t))return!1;return!0}return!(!$a.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||$a.isIpAddress(e))},EN=":",lG="/",dG=e=>{let n=e.split(EN);if(n.length<6)return null;let[t,r,s,o,a,...c]=n;if(t!=="arn"||r===""||s===""||c.join(EN)==="")return null;let l=c.map(d=>d.split(lG)).flat();return{partition:r,service:s,region:o,accountId:a,resourceId:l}},uG=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],mG="1.1",CN={partitions:uG,version:mG},_N=CN,xN="",wN=e=>{let{partitions:n}=_N;for(let r of n){let{regions:s,outputs:o}=r;for(let[a,c]of Object.entries(s))if(a===e)return{...o,...c}}for(let r of n){let{regionRegex:s,outputs:o}=r;if(new RegExp(s).test(e))return{...o}}let t=n.find(r=>r.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},AN=(e,n="")=>{_N=e,xN=n},fG=()=>{AN(CN,"")},gG=()=>xN,PN={isVirtualHostableS3Bucket:bN,parseArn:dG,partition:wN};$a.customEndpointFunctions.aws=PN;var hG=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:n}=e;return n===void 0&&(e.endpoint=async()=>TN(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},TN=e=>cG.parseUrl(e.url);Object.defineProperty(Dr,"EndpointError",{enumerable:!0,get:function(){return $a.EndpointError}});Object.defineProperty(Dr,"isIpAddress",{enumerable:!0,get:function(){return $a.isIpAddress}});Object.defineProperty(Dr,"resolveEndpoint",{enumerable:!0,get:function(){return $a.resolveEndpoint}});Dr.awsEndpointFunctions=PN;Dr.getUserAgentPrefix=gG;Dr.partition=wN;Dr.resolveDefaultAwsRegionalEndpointsConfig=hG;Dr.setPartitionInfo=AN;Dr.toEndpointV1=TN;Dr.useDefaultPartitionInfo=fG});var Ga=B(Va=>{"use strict";var pG=(Dn(),ve(ni)),yG=ja(),SG=je(),es=(jt(),ve(ur)),kN=void 0;function EG(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function bG(e){let n=pG.normalizeProvider(e.userAgentAppId??kN),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let r=await n();if(!EG(r)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof r!="string"?s?.warn("userAgentAppId must be a string or undefined."):r.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}var CG=/\d{12}\.ddb/;async function _G(e,n,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&es.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof n.retryStrategy=="function"){let o=await n.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?es.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):es.setFeature(e,"RETRY_MODE_STANDARD","E"):es.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof n.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(CG)&&es.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await n.accountIdEndpointMode?.()){case"disabled":es.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":es.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":es.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&es.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(o.$source??{}))es.setFeature(e,a,c)}}var RN="user-agent",JC="x-amz-user-agent",vN=" ",QC="/",xG=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,wG=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,IN="-",AG=1024;function PG(e){let n="";for(let t in e){let r=e[t];if(n.length+r.length+1<=AG){n.length?n+=","+r:n+=r;continue}break}return n}var NN=e=>(n,t)=>async r=>{let{request:s}=r;if(!SG.HttpRequest.isInstance(s))return n(r);let{headers:o}=s,a=t?.userAgent?.map(If)||[],c=(await e.defaultUserAgentProvider()).map(If);await _G(t,e,r);let l=t;c.push(`m/${PG(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(If)||[],f=await e.userAgentAppId();f&&c.push(If([`app/${f}`]));let g=yG.getUserAgentPrefix(),p=(g?[g]:[]).concat([...c,...a,...d]).join(vN),h=[...c.filter(b=>b.startsWith("aws-sdk-")),...d].join(vN);return e.runtime!=="browser"?(h&&(o[JC]=o[JC]?`${o[RN]} ${h}`:h),o[RN]=p):o[JC]=p,n({...r,request:s})},If=e=>{let n=e[0].split(QC).map(a=>a.replace(xG,IN)).join(QC),t=e[1]?.replace(wG,IN),r=n.indexOf(QC),s=n.substring(0,r),o=n.substring(r+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},ON={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},TG=e=>({applyToStack:n=>{n.add(NN(e),ON)}});Va.DEFAULT_UA_APP_ID=kN;Va.getUserAgentMiddlewareOptions=ON;Va.getUserAgentPlugin=TG;Va.resolveUserAgentConfig=bG;Va.userAgentMiddleware=NN});var Mr=B(gn=>{"use strict";var fo=xf(),kf=En(),RG=mi(),MN="AWS_USE_DUALSTACK_ENDPOINT",LN="use_dualstack_endpoint",vG=!1,IG={environmentVariableSelector:e=>fo.booleanSelector(e,MN,fo.SelectorType.ENV),configFileSelector:e=>fo.booleanSelector(e,LN,fo.SelectorType.CONFIG),default:!1},FN="AWS_USE_FIPS_ENDPOINT",zN="use_fips_endpoint",kG=!1,NG={environmentVariableSelector:e=>fo.booleanSelector(e,FN,fo.SelectorType.ENV),configFileSelector:e=>fo.booleanSelector(e,zN,fo.SelectorType.CONFIG),default:!1},OG=e=>{let{tls:n,endpoint:t,urlParser:r,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:n??!0,endpoint:kf.normalizeProvider(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:kf.normalizeProvider(s??!1)})},BG=async e=>{let{tls:n=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${n?"https:":"http:"}//${a}`)},DG=e=>{let n=kf.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:r,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?kf.normalizeProvider(typeof t=="string"?s(t):t):()=>BG({...e,useDualstackEndpoint:n,useFipsEndpoint:r}),isCustomEndpoint:!!t,useDualstackEndpoint:n})},UN="AWS_REGION",qN="region",MG={environmentVariableSelector:e=>e[UN],configFileSelector:e=>e[qN],default:()=>{throw new Error("Region is missing")}},LG={preferredFile:"credentials"},BN=new Set,FG=(e,n=RG.isValidHostLabel)=>{if(!BN.has(e)&&!n(e))throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);BN.add(e)},HN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),zG=e=>HN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,UG=e=>{let{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let r=typeof n=="function"?await n():n,s=zG(r);return FG(s),s},useFipsEndpoint:async()=>{let r=typeof n=="string"?n:await n();return HN(r)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},DN=(e=[],{useFipsEndpoint:n,useDualstackEndpoint:t})=>e.find(({tags:r})=>n===r.includes("fips")&&t===r.includes("dualstack"))?.hostname,qG=(e,{regionHostname:n,partitionHostname:t})=>n||(t?t.replace("{region}",e):void 0),HG=(e,{partitionHash:n})=>Object.keys(n||{}).find(t=>n[t].regions.includes(e))??"aws",$G=(e,{signingRegion:n,regionRegex:t,useFipsEndpoint:r})=>{if(n)return n;if(r){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},jG=(e,{useFipsEndpoint:n=!1,useDualstackEndpoint:t=!1,signingService:r,regionHash:s,partitionHash:o})=>{let a=HG(e,{partitionHash:o}),c=e in s?e:o[a]?.endpoint??e,l={useFipsEndpoint:n,useDualstackEndpoint:t},d=DN(s[c]?.variants,l),f=DN(o[a]?.variants,l),g=qG(c,{regionHostname:d,partitionHostname:f});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:n,useDualstackEndpoint:t}}`);let p=$G(g,{signingRegion:s[c]?.signingRegion,regionRegex:o[a].regionRegex,useFipsEndpoint:n});return{partition:a,signingService:r,hostname:g,...p&&{signingRegion:p},...s[c]?.signingService&&{signingService:s[c].signingService}}};gn.CONFIG_USE_DUALSTACK_ENDPOINT=LN;gn.CONFIG_USE_FIPS_ENDPOINT=zN;gn.DEFAULT_USE_DUALSTACK_ENDPOINT=vG;gn.DEFAULT_USE_FIPS_ENDPOINT=kG;gn.ENV_USE_DUALSTACK_ENDPOINT=MN;gn.ENV_USE_FIPS_ENDPOINT=FN;gn.NODE_REGION_CONFIG_FILE_OPTIONS=LG;gn.NODE_REGION_CONFIG_OPTIONS=MG;gn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=IG;gn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=NG;gn.REGION_ENV_NAME=UN;gn.REGION_INI_NAME=qN;gn.getRegionInfo=jG;gn.resolveCustomEndpointsConfig=OG;gn.resolveEndpointsConfig=DG;gn.resolveRegionConfig=UG});var jN=B($N=>{"use strict";var VG=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});$N.resolveEventStreamSerdeConfig=VG});var ud=B(Nf=>{"use strict";var GG=je(),VN="content-length";function GN(e){return n=>async t=>{let r=t.request;if(GG.HttpRequest.isInstance(r)){let{body:s,headers:o}=r;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(VN)===-1)try{let a=e(s);r.headers={...r.headers,[VN]:String(a)}}catch{}}return n({...t,request:r})}}var KN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},KG=e=>({applyToStack:n=>{n.add(GN(e.bodyLengthChecker),KN)}});Nf.contentLengthMiddleware=GN;Nf.contentLengthMiddlewareOptions=KN;Nf.getContentLengthPlugin=KG});var e_=B(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.getHomeDir=void 0;var WG=require("os"),XG=require("path"),ZC={},YG=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",JG=()=>{let{HOME:e,USERPROFILE:n,HOMEPATH:t,HOMEDRIVE:r=`C:${XG.sep}`}=process.env;if(e)return e;if(n)return n;if(t)return`${r}${t}`;let s=YG();return ZC[s]||(ZC[s]=(0,WG.homedir)()),ZC[s]};Of.getHomeDir=JG});var t_=B(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getSSOTokenFilepath=void 0;var QG=require("crypto"),ZG=require("path"),eK=e_(),tK=e=>{let t=(0,QG.createHash)("sha1").update(e).digest("hex");return(0,ZG.join)((0,eK.getHomeDir)(),".aws","sso","cache",`${t}.json`)};Bf.getSSOTokenFilepath=tK});var WN=B(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.getSSOTokenFromFile=go.tokenIntercept=void 0;var nK=require("fs"),rK=t_(),{readFile:sK}=nK.promises;go.tokenIntercept={};var oK=async e=>{if(go.tokenIntercept[e])return go.tokenIntercept[e];let n=(0,rK.getSSOTokenFilepath)(e),t=await sK(n,"utf8");return JSON.parse(t)};go.getSSOTokenFromFile=oK});var XN=B(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.slurpFile=er.fileIntercept=er.filePromisesHash=void 0;var iK=require("fs"),{readFile:aK}=iK.promises;er.filePromisesHash={};er.fileIntercept={};var cK=(e,n)=>er.fileIntercept[e]!==void 0?er.fileIntercept[e]:((!er.filePromisesHash[e]||n?.ignoreCache)&&(er.filePromisesHash[e]=aK(e,"utf8")),er.filePromisesHash[e]);er.slurpFile=cK});var Is=B(Vn=>{"use strict";var md=e_(),YN=t_(),n_=WN(),Df=require("path"),Mf=ys(),fd=XN(),QN="AWS_PROFILE",ZN="default",lK=e=>e.profile||process.env[QN]||ZN,fi=".",dK=e=>Object.entries(e).filter(([n])=>{let t=n.indexOf(fi);return t===-1?!1:Object.values(Mf.IniSectionType).includes(n.substring(0,t))}).reduce((n,[t,r])=>{let s=t.indexOf(fi),o=t.substring(0,s)===Mf.IniSectionType.PROFILE?t.substring(s+1):t;return n[o]=r,n},{...e.default&&{default:e.default}}),uK="AWS_CONFIG_FILE",eO=()=>process.env[uK]||Df.join(md.getHomeDir(),".aws","config"),mK="AWS_SHARED_CREDENTIALS_FILE",fK=()=>process.env[mK]||Df.join(md.getHomeDir(),".aws","credentials"),gK=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,hK=["__proto__","profile __proto__"],r_=e=>{let n={},t,r;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,r=void 0;let c=o.substring(1,o.length-1),l=gK.exec(c);if(l){let[,d,,f]=l;Object.values(Mf.IniSectionType).includes(d)&&(t=[d,f].join(fi))}else t=c;if(hK.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(t){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,d]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(d==="")r=l;else{r&&s.trimStart()===s&&(r=void 0),n[t]=n[t]||{};let f=r?[r,l].join(fi):l;n[t][f]=d}}}}return n},JN=()=>({}),tO=async(e={})=>{let{filepath:n=fK(),configFilepath:t=eO()}=e,r=md.getHomeDir(),s="~/",o=n;n.startsWith(s)&&(o=Df.join(r,n.slice(2)));let a=t;t.startsWith(s)&&(a=Df.join(r,t.slice(2)));let c=await Promise.all([fd.slurpFile(a,{ignoreCache:e.ignoreCache}).then(r_).then(dK).catch(JN),fd.slurpFile(o,{ignoreCache:e.ignoreCache}).then(r_).catch(JN)]);return{configFile:c[0],credentialsFile:c[1]}},pK=e=>Object.entries(e).filter(([n])=>n.startsWith(Mf.IniSectionType.SSO_SESSION+fi)).reduce((n,[t,r])=>({...n,[t.substring(t.indexOf(fi)+1)]:r}),{}),yK=()=>({}),SK=async(e={})=>fd.slurpFile(e.configFilepath??eO()).then(r_).then(pK).catch(yK),EK=(...e)=>{let n={};for(let t of e)for(let[r,s]of Object.entries(t))n[r]!==void 0?Object.assign(n[r],s):n[r]=s;return n},bK=async e=>{let n=await tO(e);return EK(n.configFile,n.credentialsFile)},CK={getFileRecord(){return fd.fileIntercept},interceptFile(e,n){fd.fileIntercept[e]=Promise.resolve(n)},getTokenRecord(){return n_.tokenIntercept},interceptToken(e,n){n_.tokenIntercept[e]=n}};Object.defineProperty(Vn,"getSSOTokenFromFile",{enumerable:!0,get:function(){return n_.getSSOTokenFromFile}});Vn.CONFIG_PREFIX_SEPARATOR=fi;Vn.DEFAULT_PROFILE=ZN;Vn.ENV_PROFILE=QN;Vn.externalDataInterceptor=CK;Vn.getProfileName=lK;Vn.loadSharedConfigFiles=tO;Vn.loadSsoSessionData=SK;Vn.parseKnownFiles=bK;Object.keys(md).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vn,e)&&Object.defineProperty(Vn,e,{enumerable:!0,get:function(){return md[e]}})});Object.keys(YN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vn,e)&&Object.defineProperty(Vn,e,{enumerable:!0,get:function(){return YN[e]}})})});var ho=B(sO=>{"use strict";var gd=Mn(),nO=Is();function rO(e){try{let n=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return n.delete("CONFIG"),n.delete("CONFIG_PREFIX_SEPARATOR"),n.delete("ENV"),[...n].join(", ")}catch{return e}}var _K=(e,n)=>async()=>{try{let t=e(process.env,n);if(t===void 0)throw new Error;return t}catch(t){throw new gd.CredentialsProviderError(t.message||`Not found in ENV: ${rO(e.toString())}`,{logger:n?.logger})}},xK=(e,{preferredFile:n="config",...t}={})=>async()=>{let r=nO.getProfileName(t),{configFile:s,credentialsFile:o}=await nO.loadSharedConfigFiles(t),a=o[r]||{},c=s[r]||{},l=n==="config"?{...a,...c}:{...c,...a};try{let f=e(l,n==="config"?s:o);if(f===void 0)throw new Error;return f}catch(d){throw new gd.CredentialsProviderError(d.message||`Not found in config files w/ profile [${r}]: ${rO(e.toString())}`,{logger:t.logger})}},wK=e=>typeof e=="function",AK=e=>wK(e)?async()=>await e():gd.fromStatic(e),PK=({environmentVariableSelector:e,configFileSelector:n,default:t},r={})=>{let{signingName:s,logger:o}=r,a={signingName:s,logger:o};return gd.memoize(gd.chain(_K(e,a),xK(n,r),AK(t)))};sO.loadConfig=PK});var cO=B(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.getEndpointUrlConfig=void 0;var oO=Is(),iO="AWS_ENDPOINT_URL",aO="endpoint_url",TK=e=>({environmentVariableSelector:n=>{let t=e.split(" ").map(o=>o.toUpperCase()),r=n[[iO,...t].join("_")];if(r)return r;let s=n[iO];if(s)return s},configFileSelector:(n,t)=>{if(t&&n.services){let s=t[["services",n.services].join(oO.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),a=s[[o.join("_"),aO].join(oO.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let r=n[aO];if(r)return r},default:void 0});Lf.getEndpointUrlConfig=TK});var lO=B(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getEndpointFromConfig=void 0;var RK=ho(),vK=cO(),IK=async e=>(0,RK.loadConfig)((0,vK.getEndpointUrlConfig)(e??""))();Ff.getEndpointFromConfig=IK});var ts=B(ks=>{"use strict";var uO=lO(),dO=mo(),kK=(Dn(),ve(ni)),zf=En(),NK=Js(),OK=async e=>{let n=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),FK(n)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!LK(n)||n.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},BK=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,DK=/(\d+\.){3}\d+/,MK=/\.\./,LK=e=>BK.test(e)&&!DK.test(e)&&!MK.test(e),FK=e=>{let[n,t,r,,,s]=e.split(":"),o=n==="arn"&&e.split(":").length>=6,a=!!(o&&t&&r&&s);if(o&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},zK=(e,n,t)=>{let r=async()=>{let s=t[e]??t[n];return typeof s=="function"?s():s};return e==="credentialScope"||n==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||n==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||n==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:c,path:l}=s;return`${o}//${a}${c?":"+c:""}${l}`}}return s}:r},s_=e=>typeof e=="object"?"url"in e?dO.parseUrl(e.url):e:dO.parseUrl(e),mO=async(e,n,t,r)=>{if(!t.isCustomEndpoint){let a;t.serviceConfiguredEndpoint?a=await t.serviceConfiguredEndpoint():a=await uO.getEndpointFromConfig(t.serviceId),a&&(t.endpoint=()=>Promise.resolve(s_(a)),t.isCustomEndpoint=!0)}let s=await fO(e,n,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,r)},fO=async(e,n,t)=>{let r={},s=n?.getEndpointParameterInstructions?.()||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":r[o]=a.value;break;case"contextParams":r[o]=e[a.name];break;case"clientContextParams":case"builtInParams":r[o]=await zK(a.name,o,t)();break;case"operationContextParams":r[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(r,t),String(t.serviceId).toLowerCase()==="s3"&&await OK(r),r},gO=({config:e,instructions:n})=>(t,r)=>async s=>{e.isCustomEndpoint&&kK.setFeature(r,"ENDPOINT_OVERRIDE","N");let o=await mO(s.input,{getEndpointParameterInstructions(){return n}},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let a=r.authSchemes?.[0];if(a){r.signing_region=a.signingRegion,r.signing_service=a.signingName;let l=zf.getSmithyContext(r)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return t({...s})},hO={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:NK.serializerMiddlewareOption.name},UK=(e,n)=>({applyToStack:t=>{t.addRelativeTo(gO({config:e,instructions:n}),hO)}}),qK=e=>{let n=e.tls??!0,{endpoint:t,useDualstackEndpoint:r,useFipsEndpoint:s}=e,o=t!=null?async()=>s_(await zf.normalizeProvider(t)()):void 0,c=Object.assign(e,{endpoint:o,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:zf.normalizeProvider(r??!1),useFipsEndpoint:zf.normalizeProvider(s??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=uO.getEndpointFromConfig(e.serviceId)),l),c},HK=e=>{let{endpoint:n}=e;return n===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};ks.endpointMiddleware=gO;ks.endpointMiddlewareOptions=hO;ks.getEndpointFromInstructions=mO;ks.getEndpointPlugin=UK;ks.resolveEndpointConfig=qK;ks.resolveEndpointRequiredConfig=HK;ks.resolveParams=fO;ks.toEndpointV1=s_});var i_=B(po=>{"use strict";var $K=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],jK=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],VK=["TimeoutError","RequestTimeout","RequestTimeoutException"],GK=[500,502,503,504],KK=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],WK=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],pO=e=>e?.$retryable!==void 0,XK=e=>$K.includes(e.name),yO=e=>e.$metadata?.clockSkewCorrected,SO=e=>{let n=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?n.has(e.message):!1},YK=e=>e.$metadata?.httpStatusCode===429||jK.includes(e.name)||e.$retryable?.throttling==!0,o_=(e,n=0)=>pO(e)||yO(e)||VK.includes(e.name)||KK.includes(e?.code||"")||WK.includes(e?.code||"")||GK.includes(e.$metadata?.httpStatusCode||0)||SO(e)||e.cause!==void 0&&n<=10&&o_(e.cause,n+1),JK=e=>{if(e.$metadata?.httpStatusCode!==void 0){let n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!o_(e)}return!1};po.isBrowserNetworkError=SO;po.isClockSkewCorrectedError=yO;po.isClockSkewError=XK;po.isRetryableByTrait=pO;po.isServerError=JK;po.isThrottlingError=YK;po.isTransientError=o_});var Ka=B(kt=>{"use strict";var QK=i_();kt.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(kt.RETRY_MODES||(kt.RETRY_MODES={}));var a_=3,ZK=kt.RETRY_MODES.STANDARD,Uf=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(n){this.beta=n?.beta??.7,this.minCapacity=n?.minCapacity??1,this.minFillRate=n?.minFillRate??.5,this.scaleConstant=n?.scaleConstant??.4,this.smooth=n?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(n){if(this.enabled){if(this.refillTokenBucket(),n>this.currentCapacity){let t=(n-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>e.setTimeoutFn(r,t))}this.currentCapacity=this.currentCapacity-n}}refillTokenBucket(){let n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}let t=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),QK.isThrottlingError(n)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let n=this.getCurrentTimeInSeconds(),t=Math.floor(n*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let r=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(n){return parseFloat(n.toFixed(8))}},hd=100,u_=20*1e3,bO=500,c_=500,CO=5,_O=10,xO=1,e8="amz-sdk-invocation-id",t8="amz-sdk-request",n8=()=>{let e=hd;return{computeNextBackoffDelay:r=>Math.floor(Math.min(u_,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}},EO=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(u_,e),getRetryCost:()=>t}),pd=class{maxAttempts;mode=kt.RETRY_MODES.STANDARD;capacity=c_;retryBackoffStrategy=n8();maxAttemptsProvider;constructor(n){this.maxAttempts=n,this.maxAttemptsProvider=typeof n=="function"?n:async()=>n}async acquireInitialRetryToken(n){return EO({retryDelay:hd,retryCount:0})}async refreshRetryTokenForRetry(n,t){let r=await this.getMaxAttempts();if(this.shouldRetry(n,t,r)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?bO:hd);let o=this.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,EO({retryDelay:a,retryCount:n.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(n){this.capacity=Math.max(c_,this.capacity+(n.getRetryCost()??xO))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${a_}`),a_}}shouldRetry(n,t,r){return n.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return n==="TRANSIENT"?_O:CO}isRetryableError(n){return n==="THROTTLING"||n==="TRANSIENT"}},l_=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=kt.RETRY_MODES.ADAPTIVE;constructor(n,t){this.maxAttemptsProvider=n;let{rateLimiter:r}=t??{};this.rateLimiter=r??new Uf,this.standardRetryStrategy=new pd(n)}async acquireInitialRetryToken(n){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(n)}async refreshRetryTokenForRetry(n,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(n,t)}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}},d_=class extends pd{computeNextBackoffDelay;constructor(n,t=hd){super(typeof n=="function"?n:async()=>n),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(n,t){let r=await super.refreshRetryTokenForRetry(n,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}};kt.AdaptiveRetryStrategy=l_;kt.ConfiguredRetryStrategy=d_;kt.DEFAULT_MAX_ATTEMPTS=a_;kt.DEFAULT_RETRY_DELAY_BASE=hd;kt.DEFAULT_RETRY_MODE=ZK;kt.DefaultRateLimiter=Uf;kt.INITIAL_RETRY_TOKENS=c_;kt.INVOCATION_ID_HEADER=e8;kt.MAXIMUM_RETRY_DELAY=u_;kt.NO_RETRY_INCREMENT=xO;kt.REQUEST_HEADER=t8;kt.RETRY_COST=CO;kt.StandardRetryStrategy=pd;kt.THROTTLING_RETRY_DELAY_BASE=bO;kt.TIMEOUT_RETRY_COST=_O});var wO=B(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.isStreamingPayload=void 0;var r8=require("stream"),s8=e=>e?.body instanceof r8.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;qf.isStreamingPayload=s8});var Ns=B(Xt=>{"use strict";var wt=Ka(),Wa=je(),yo=i_(),PO=wm(),AO=En(),o8=Ie(),i8=wO(),a8=(e,n)=>{let t=e,r=wt.NO_RETRY_INCREMENT,s=wt.RETRY_COST,o=wt.TIMEOUT_RETRY_COST,a=e,c=g=>g.name==="TimeoutError"?o:s,l=g=>c(g)<=a;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:g=>{if(!l(g))throw new Error("No retry token available");let p=c(g);return a-=p,p},releaseRetryTokens:g=>{a+=g??r,a=Math.min(a,t)}})},TO=(e,n)=>Math.floor(Math.min(wt.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),RO=e=>e?yo.isRetryableByTrait(e)||yo.isClockSkewError(e)||yo.isThrottlingError(e)||yo.isTransientError(e):!1,vO=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Hf=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=wt.RETRY_MODES.STANDARD;constructor(n,t){this.maxAttemptsProvider=n,this.retryDecider=t?.retryDecider??RO,this.delayDecider=t?.delayDecider??TO,this.retryQuota=t?.retryQuota??a8(wt.INITIAL_RETRY_TOKENS)}shouldRetry(n,t,r){return t<r&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)}async getMaxAttempts(){let n;try{n=await this.maxAttemptsProvider()}catch{n=wt.DEFAULT_MAX_ATTEMPTS}return n}async retry(n,t,r){let s,o=0,a=0,c=await this.getMaxAttempts(),{request:l}=t;for(Wa.HttpRequest.isInstance(l)&&(l.headers[wt.INVOCATION_ID_HEADER]=PO.v4());;)try{Wa.HttpRequest.isInstance(l)&&(l.headers[wt.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),r?.beforeRequest&&await r.beforeRequest();let{response:d,output:f}=await n(t);return r?.afterRequest&&r.afterRequest(d),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=a,{response:d,output:f}}catch(d){let f=vO(d);if(o++,this.shouldRetry(f,o,c)){s=this.retryQuota.retrieveRetryTokens(f);let g=this.delayDecider(yo.isThrottlingError(f)?wt.THROTTLING_RETRY_DELAY_BASE:wt.DEFAULT_RETRY_DELAY_BASE,o),p=c8(f.$response),h=Math.max(p||0,g);a+=h,await new Promise(b=>setTimeout(b,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=a,f}}},c8=e=>{if(!Wa.HttpResponse.isInstance(e))return;let n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;let t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t).getTime()-Date.now():r*1e3},m_=class extends Hf{rateLimiter;constructor(n,t){let{rateLimiter:r,...s}=t??{};super(n,s),this.rateLimiter=r??new wt.DefaultRateLimiter,this.mode=wt.RETRY_MODES.ADAPTIVE}async retry(n,t){return super.retry(n,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},f_="AWS_MAX_ATTEMPTS",g_="max_attempts",l8={environmentVariableSelector:e=>{let n=e[f_];if(!n)return;let t=parseInt(n);if(Number.isNaN(t))throw new Error(`Environment variable ${f_} mast be a number, got "${n}"`);return t},configFileSelector:e=>{let n=e[g_];if(!n)return;let t=parseInt(n);if(Number.isNaN(t))throw new Error(`Shared config file entry ${g_} mast be a number, got "${n}"`);return t},default:wt.DEFAULT_MAX_ATTEMPTS},d8=e=>{let{retryStrategy:n,retryMode:t,maxAttempts:r}=e,s=AO.normalizeProvider(r??wt.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>n||(await AO.normalizeProvider(t)()===wt.RETRY_MODES.ADAPTIVE?new wt.AdaptiveRetryStrategy(s):new wt.StandardRetryStrategy(s))})},IO="AWS_RETRY_MODE",kO="retry_mode",u8={environmentVariableSelector:e=>e[IO],configFileSelector:e=>e[kO],default:wt.DEFAULT_RETRY_MODE},NO=()=>e=>async n=>{let{request:t}=n;return Wa.HttpRequest.isInstance(t)&&(delete t.headers[wt.INVOCATION_ID_HEADER],delete t.headers[wt.REQUEST_HEADER]),e(n)},OO={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},m8=e=>({applyToStack:n=>{n.addRelativeTo(NO(),OO)}}),BO=e=>(n,t)=>async r=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(f8(s)){s=s;let a=await s.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0,{request:f}=r,g=Wa.HttpRequest.isInstance(f);for(g&&(f.headers[wt.INVOCATION_ID_HEADER]=PO.v4());;)try{g&&(f.headers[wt.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:p,output:h}=await n(r);return s.recordSuccess(a),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=d,{response:p,output:h}}catch(p){let h=g8(p);if(c=vO(p),g&&i8.isStreamingPayload(f))throw(t.logger instanceof o8.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let b=a.getRetryDelay();d+=b,await new Promise(T=>setTimeout(T,b))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(n,r)},f8=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",g8=e=>{let n={error:e,errorType:h8(e)},t=MO(e.$response);return t&&(n.retryAfterHint=t),n},h8=e=>yo.isThrottlingError(e)?"THROTTLING":yo.isTransientError(e)?"TRANSIENT":yo.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",DO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},p8=e=>({applyToStack:n=>{n.add(BO(e),DO)}}),MO=e=>{if(!Wa.HttpResponse.isInstance(e))return;let n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;let t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t):new Date(r*1e3)};Xt.AdaptiveRetryStrategy=m_;Xt.CONFIG_MAX_ATTEMPTS=g_;Xt.CONFIG_RETRY_MODE=kO;Xt.ENV_MAX_ATTEMPTS=f_;Xt.ENV_RETRY_MODE=IO;Xt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=l8;Xt.NODE_RETRY_MODE_CONFIG_OPTIONS=u8;Xt.StandardRetryStrategy=Hf;Xt.defaultDelayDecider=TO;Xt.defaultRetryDecider=RO;Xt.getOmitRetryHeadersPlugin=m8;Xt.getRetryAfterHint=MO;Xt.getRetryPlugin=p8;Xt.omitRetryHeadersMiddleware=NO;Xt.omitRetryHeadersMiddlewareOptions=OO;Xt.resolveRetryConfig=d8;Xt.retryMiddleware=BO;Xt.retryMiddlewareOptions=DO});var $f=B(p_=>{"use strict";var y8=Rf(),LO=Fm(),yd={CrtSignerV4:null},h_=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof yd.CrtSignerV4=="function"?"crt":typeof LO.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(n){this.sigv4Signer=new y8.SignatureV4S3Express(n),this.signerOptions=n}async sign(n,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(n,t):this.sigv4Signer.sign(n,t)}async signWithCredentials(n,t,r={}){if(r.signingRegion==="*"){let s=this.getSigv4aSigner(),o=yd.CrtSignerV4;if(o&&s instanceof o)return s.signWithCredentials(n,t,r);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(n,t,r)}async presign(n,t={}){if(t.signingRegion==="*"){let r=this.getSigv4aSigner(),s=yd.CrtSignerV4;if(s&&r instanceof s)return r.presign(n,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(n,t)}async presignWithCredentials(n,t,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(n,t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let n=yd.CrtSignerV4,t=LO.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!n&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(n&&typeof n=="function")this.sigv4aSigner=new n({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}};p_.SignatureV4MultiRegion=h_;p_.signatureV4CrtContainer=yd});var uD=B(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.ruleSet=void 0;var U_="required",y="type",D="rules",_="conditions",R="fn",v="argv",oe="ref",_e="assign",te="url",ne="properties",hi="backend",xn="authSchemes",on="disableDoubleEncoding",an="signingName",Fn="signingRegion",re="headers",q_="signingRegionSet",S8=6,E8=!1,ns=!0,tr="isSet",zt="booleanEquals",Z="error",Wf="aws.partition",qe="stringEquals",At="getAttr",Ft="name",at="substring",FO="bucketSuffix",H_="parseURL",V="endpoint",M="tree",Xf="aws.isVirtualHostableS3Bucket",Yf="{url#scheme}://{Bucket}.{url#authority}{url#path}",os="not",zO="accessPointSuffix",Kf="{url#scheme}://{url#authority}{url#path}",XB="hardwareType",YB="regionPrefix",UO="bucketAliasSuffix",F_="outpostId",pi="isValidHostLabel",$_="sigv4a",Cd="s3-outposts",Za="s3",JB="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",QB="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",qO="https://{Bucket}.s3.{partitionResult#dnsSuffix}",ZB="aws.parseArn",eD="bucketArn",tD="arnType",Jf="",j_="s3-object-lambda",nD="accesspoint",V_="accessPointName",HO="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",$O="mrapPartition",jO="outpostType",VO="arnPrefix",rD="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",GO="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",KO="https://s3.{partitionResult#dnsSuffix}",Xa={[U_]:!1,[y]:"String"},Ya={[U_]:!0,default:!1,[y]:"Boolean"},Sd={[U_]:!1,[y]:"Boolean"},fr={[R]:zt,[v]:[{[oe]:"Accelerate"},!0]},ht={[R]:zt,[v]:[{[oe]:"UseFIPS"},!0]},it={[R]:zt,[v]:[{[oe]:"UseDualStack"},!0]},Lt={[R]:tr,[v]:[{[oe]:"Endpoint"}]},sD={[R]:Wf,[v]:[{[oe]:"Region"}],[_e]:"partitionResult"},WO={[R]:qe,[v]:[{[R]:At,[v]:[{[oe]:"partitionResult"},Ft]},"aws-cn"]},bd={[R]:tr,[v]:[{[oe]:"Bucket"}]},Fe={[oe]:"Bucket"},XO={[_]:[it],[Z]:"S3Express does not support Dual-stack.",[y]:Z},YO={[_]:[fr],[Z]:"S3Express does not support S3 Accelerate.",[y]:Z},JO={[_]:[Lt,{[R]:H_,[v]:[{[oe]:"Endpoint"}],[_e]:"url"}],[D]:[{[_]:[{[R]:tr,[v]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[R]:zt,[v]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],[D]:[{[_]:[{[R]:zt,[v]:[{[R]:At,[v]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[_]:[{[R]:"uriEncode",[v]:[Fe],[_e]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V}],[y]:M}],[y]:M},{[_]:[{[R]:Xf,[v]:[Fe,!1]}],[D]:[{[V]:{[te]:Yf,[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V}],[y]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[y]:Z}],[y]:M},{[_]:[{[R]:zt,[v]:[{[R]:At,[v]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[_]:[{[R]:"uriEncode",[v]:[Fe],[_e]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4-s3express",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V}],[y]:M}],[y]:M},{[_]:[{[R]:Xf,[v]:[Fe,!1]}],[D]:[{[V]:{[te]:Yf,[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4-s3express",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V}],[y]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[y]:Z}],[y]:M},Ln={[R]:H_,[v]:[{[oe]:"Endpoint"}],[_e]:"url"},y_={[R]:zt,[v]:[{[R]:At,[v]:[{[oe]:"url"},"isIp"]},!0]},oD={[oe]:"url"},iD={[R]:"uriEncode",[v]:[Fe],[_e]:"uri_encoded_bucket"},gi={[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:"s3express",[Fn]:"{Region}"}]},Se={},aD={[R]:Xf,[v]:[Fe,!1]},QO={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[y]:Z},ZO={[R]:tr,[v]:[{[oe]:"UseS3ExpressControlEndpoint"}]},eB={[R]:zt,[v]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},Ee={[R]:os,[v]:[Lt]},jf={[Z]:"Unrecognized S3Express bucket name format.",[y]:Z},tB={[R]:os,[v]:[bd]},nB={[oe]:XB},rB={[_]:[Ee],[Z]:"Expected a endpoint to be specified but no endpoint was found",[y]:Z},Vf={[xn]:[{[on]:!0,[Ft]:$_,[an]:Cd,[q_]:["*"]},{[on]:!0,[Ft]:"sigv4",[an]:Cd,[Fn]:"{Region}"}]},S_={[R]:zt,[v]:[{[oe]:"ForcePathStyle"},!1]},b8={[oe]:"ForcePathStyle"},Vt={[R]:zt,[v]:[{[oe]:"Accelerate"},!1]},Yt={[R]:qe,[v]:[{[oe]:"Region"},"aws-global"]},nn={[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:Za,[Fn]:"us-east-1"}]},Le={[R]:os,[v]:[Yt]},rn={[R]:zt,[v]:[{[oe]:"UseGlobalEndpoint"},!0]},sB={[te]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ne]:{[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:Za,[Fn]:"{Region}"}]},[re]:{}},Gt={[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:Za,[Fn]:"{Region}"}]},sn={[R]:zt,[v]:[{[oe]:"UseGlobalEndpoint"},!1]},De={[R]:zt,[v]:[{[oe]:"UseDualStack"},!1]},oB={[te]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},Te={[R]:zt,[v]:[{[oe]:"UseFIPS"},!1]},iB={[te]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},aB={[te]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},E_={[R]:zt,[v]:[{[R]:At,[v]:[oD,"isIp"]},!1]},b_={[te]:JB,[ne]:Gt,[re]:{}},z_={[te]:Yf,[ne]:Gt,[re]:{}},cB={[V]:z_,[y]:V},C_={[te]:QB,[ne]:Gt,[re]:{}},lB={[te]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},Gf={[Z]:"Invalid region: region was not a valid DNS name.",[y]:Z},Gn={[oe]:eD},cD={[oe]:tD},__={[R]:At,[v]:[Gn,"service"]},G_={[oe]:V_},dB={[_]:[it],[Z]:"S3 Object Lambda does not support Dual-stack",[y]:Z},uB={[_]:[fr],[Z]:"S3 Object Lambda does not support S3 Accelerate",[y]:Z},mB={[_]:[{[R]:tr,[v]:[{[oe]:"DisableAccessPoints"}]},{[R]:zt,[v]:[{[oe]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[y]:Z},x_={[_]:[{[R]:tr,[v]:[{[oe]:"UseArnRegion"}]},{[R]:zt,[v]:[{[oe]:"UseArnRegion"},!1]},{[R]:os,[v]:[{[R]:qe,[v]:[{[R]:At,[v]:[Gn,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[y]:Z},lD={[R]:At,[v]:[{[oe]:"bucketPartition"},Ft]},dD={[R]:At,[v]:[Gn,"accountId"]},w_={[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:j_,[Fn]:"{bucketArn#region}"}]},fB={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[y]:Z},A_={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[y]:Z},P_={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[y]:Z},T_={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[y]:Z},gB={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[y]:Z},hB={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[y]:Z},Ed={[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:Za,[Fn]:"{bucketArn#region}"}]},pB={[xn]:[{[on]:!0,[Ft]:$_,[an]:Cd,[q_]:["*"]},{[on]:!0,[Ft]:"sigv4",[an]:Cd,[Fn]:"{bucketArn#region}"}]},yB={[R]:ZB,[v]:[Fe]},SB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:Gt,[re]:{}},EB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:Gt,[re]:{}},bB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:Gt,[re]:{}},R_={[te]:rD,[ne]:Gt,[re]:{}},CB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:Gt,[re]:{}},_B={[oe]:"UseObjectLambdaEndpoint"},v_={[xn]:[{[on]:!0,[Ft]:"sigv4",[an]:j_,[Fn]:"{Region}"}]},xB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},wB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},AB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},I_={[te]:Kf,[ne]:Gt,[re]:{}},PB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ne]:Gt,[re]:{}},k_=[{[oe]:"Region"}],C8=[{[oe]:"Endpoint"}],_8=[Fe],TB=[it],N_=[fr],Ja=[Lt,Ln],RB=[{[R]:tr,[v]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[R]:zt,[v]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],x8=[iD],vB=[aD],mr=[sD],Qa=[ht],IB=[{[R]:at,[v]:[Fe,6,14,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,14,16,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],rs=[{[_]:[ht],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ne]:gi,[re]:{}},[y]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ne]:gi,[re]:{}},[y]:V}],kB=[{[R]:at,[v]:[Fe,6,15,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,15,17,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],NB=[{[R]:at,[v]:[Fe,6,19,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,19,21,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],OB=[{[R]:at,[v]:[Fe,6,20,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,20,22,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],BB=[{[R]:at,[v]:[Fe,6,26,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,26,28,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ss=[{[_]:[ht],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4-s3express",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ne]:{[hi]:"S3Express",[xn]:[{[on]:!0,[Ft]:"sigv4-s3express",[an]:"s3express",[Fn]:"{Region}"}]},[re]:{}},[y]:V}],DB=[Fe,0,7,!0],MB=[{[R]:at,[v]:[Fe,7,15,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,15,17,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],LB=[{[R]:at,[v]:[Fe,7,16,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,16,18,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],FB=[{[R]:at,[v]:[Fe,7,20,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,20,22,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],zB=[{[R]:at,[v]:[Fe,7,21,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,21,23,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],UB=[{[R]:at,[v]:[Fe,7,27,!0],[_e]:"s3expressAvailabilityZoneId"},{[R]:at,[v]:[Fe,27,29,!0],[_e]:"s3expressAvailabilityZoneDelim"},{[R]:qe,[v]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],w8=[bd],qB=[{[R]:pi,[v]:[{[oe]:F_},!1]}],HB=[{[R]:qe,[v]:[{[oe]:YB},"beta"]}],A8=["*"],$B=[{[R]:pi,[v]:[{[oe]:"Region"},!1]}],So=[{[R]:qe,[v]:[{[oe]:"Region"},"us-east-1"]}],O_=[{[R]:qe,[v]:[cD,nD]}],jB=[{[R]:At,[v]:[Gn,"resourceId[1]"],[_e]:V_},{[R]:os,[v]:[{[R]:qe,[v]:[G_,Jf]}]}],P8=[Gn,"resourceId[1]"],B_=[{[R]:os,[v]:[{[R]:qe,[v]:[{[R]:At,[v]:[Gn,"region"]},Jf]}]}],VB=[{[R]:os,[v]:[{[R]:tr,[v]:[{[R]:At,[v]:[Gn,"resourceId[2]"]}]}]}],T8=[Gn,"resourceId[2]"],D_=[{[R]:Wf,[v]:[{[R]:At,[v]:[Gn,"region"]}],[_e]:"bucketPartition"}],GB=[{[R]:qe,[v]:[lD,{[R]:At,[v]:[{[oe]:"partitionResult"},Ft]}]}],M_=[{[R]:pi,[v]:[{[R]:At,[v]:[Gn,"region"]},!0]}],L_=[{[R]:pi,[v]:[dD,!1]}],KB=[{[R]:pi,[v]:[G_,!1]}],WB=[{[R]:pi,[v]:[{[oe]:"Region"},!0]}],R8={version:"1.0",parameters:{Bucket:Xa,Region:Xa,UseFIPS:Ya,UseDualStack:Ya,Endpoint:Xa,ForcePathStyle:Ya,Accelerate:Ya,UseGlobalEndpoint:Ya,UseObjectLambdaEndpoint:Sd,Key:Xa,Prefix:Xa,CopySource:Xa,DisableAccessPoints:Sd,DisableMultiRegionAccessPoints:Ya,UseArnRegion:Sd,UseS3ExpressControlEndpoint:Sd,DisableS3ExpressSessionAuth:Sd},[D]:[{[_]:[{[R]:tr,[v]:k_}],[D]:[{[_]:[fr,ht],error:"Accelerate cannot be used with FIPS",[y]:Z},{[_]:[it,Lt],error:"Cannot set dual-stack in combination with a custom endpoint.",[y]:Z},{[_]:[Lt,ht],error:"A custom endpoint cannot be combined with FIPS",[y]:Z},{[_]:[Lt,fr],error:"A custom endpoint cannot be combined with S3 Accelerate",[y]:Z},{[_]:[ht,sD,WO],error:"Partition does not support FIPS",[y]:Z},{[_]:[bd,{[R]:at,[v]:[Fe,0,S8,ns],[_e]:FO},{[R]:qe,[v]:[{[oe]:FO},"--x-s3"]}],[D]:[XO,YO,JO,{[_]:[ZO,eB],[D]:[{[_]:mr,[D]:[{[_]:[iD,Ee],[D]:[{[_]:Qa,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:gi,[re]:Se},[y]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:gi,[re]:Se},[y]:V}],[y]:M}],[y]:M}],[y]:M},{[_]:vB,[D]:[{[_]:mr,[D]:[{[_]:RB,[D]:[{[_]:IB,[D]:rs,[y]:M},{[_]:kB,[D]:rs,[y]:M},{[_]:NB,[D]:rs,[y]:M},{[_]:OB,[D]:rs,[y]:M},{[_]:BB,[D]:rs,[y]:M},jf],[y]:M},{[_]:IB,[D]:ss,[y]:M},{[_]:kB,[D]:ss,[y]:M},{[_]:NB,[D]:ss,[y]:M},{[_]:OB,[D]:ss,[y]:M},{[_]:BB,[D]:ss,[y]:M},jf],[y]:M}],[y]:M},QO],[y]:M},{[_]:[bd,{[R]:at,[v]:DB,[_e]:zO},{[R]:qe,[v]:[{[oe]:zO},"--xa-s3"]}],[D]:[XO,YO,JO,{[_]:vB,[D]:[{[_]:mr,[D]:[{[_]:RB,[D]:[{[_]:MB,[D]:rs,[y]:M},{[_]:LB,[D]:rs,[y]:M},{[_]:FB,[D]:rs,[y]:M},{[_]:zB,[D]:rs,[y]:M},{[_]:UB,[D]:rs,[y]:M},jf],[y]:M},{[_]:MB,[D]:ss,[y]:M},{[_]:LB,[D]:ss,[y]:M},{[_]:FB,[D]:ss,[y]:M},{[_]:zB,[D]:ss,[y]:M},{[_]:UB,[D]:ss,[y]:M},jf],[y]:M}],[y]:M},QO],[y]:M},{[_]:[tB,ZO,eB],[D]:[{[_]:mr,[D]:[{[_]:Ja,endpoint:{[te]:Kf,[ne]:gi,[re]:Se},[y]:V},{[_]:Qa,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[ne]:gi,[re]:Se},[y]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[ne]:gi,[re]:Se},[y]:V}],[y]:M}],[y]:M},{[_]:[bd,{[R]:at,[v]:[Fe,49,50,ns],[_e]:XB},{[R]:at,[v]:[Fe,8,12,ns],[_e]:YB},{[R]:at,[v]:DB,[_e]:UO},{[R]:at,[v]:[Fe,32,49,ns],[_e]:F_},{[R]:Wf,[v]:k_,[_e]:"regionPartition"},{[R]:qe,[v]:[{[oe]:UO},"--op-s3"]}],[D]:[{[_]:qB,[D]:[{[_]:[{[R]:qe,[v]:[nB,"e"]}],[D]:[{[_]:HB,[D]:[rB,{[_]:Ja,endpoint:{[te]:"https://{Bucket}.ec2.{url#authority}",[ne]:Vf,[re]:Se},[y]:V}],[y]:M},{endpoint:{[te]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ne]:Vf,[re]:Se},[y]:V}],[y]:M},{[_]:[{[R]:qe,[v]:[nB,"o"]}],[D]:[{[_]:HB,[D]:[rB,{[_]:Ja,endpoint:{[te]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ne]:Vf,[re]:Se},[y]:V}],[y]:M},{endpoint:{[te]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ne]:Vf,[re]:Se},[y]:V}],[y]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[y]:Z}],[y]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[y]:Z}],[y]:M},{[_]:w8,[D]:[{[_]:[Lt,{[R]:os,[v]:[{[R]:tr,[v]:[{[R]:H_,[v]:C8}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[y]:Z},{[_]:[S_,aD],[D]:[{[_]:mr,[D]:[{[_]:$B,[D]:[{[_]:[fr,WO],error:"S3 Accelerate cannot be used in this region",[y]:Z},{[_]:[it,ht,Vt,Ee,Yt],endpoint:{[te]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[it,ht,Vt,Ee,Le,rn],[D]:[{endpoint:sB,[y]:V}],[y]:M},{[_]:[it,ht,Vt,Ee,Le,sn],endpoint:sB,[y]:V},{[_]:[De,ht,Vt,Ee,Yt],endpoint:{[te]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[De,ht,Vt,Ee,Le,rn],[D]:[{endpoint:oB,[y]:V}],[y]:M},{[_]:[De,ht,Vt,Ee,Le,sn],endpoint:oB,[y]:V},{[_]:[it,Te,fr,Ee,Yt],endpoint:{[te]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[it,Te,fr,Ee,Le,rn],[D]:[{endpoint:iB,[y]:V}],[y]:M},{[_]:[it,Te,fr,Ee,Le,sn],endpoint:iB,[y]:V},{[_]:[it,Te,Vt,Ee,Yt],endpoint:{[te]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[it,Te,Vt,Ee,Le,rn],[D]:[{endpoint:aB,[y]:V}],[y]:M},{[_]:[it,Te,Vt,Ee,Le,sn],endpoint:aB,[y]:V},{[_]:[De,Te,Vt,Lt,Ln,y_,Yt],endpoint:{[te]:JB,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Te,Vt,Lt,Ln,E_,Yt],endpoint:{[te]:Yf,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Te,Vt,Lt,Ln,y_,Le,rn],[D]:[{[_]:So,endpoint:b_,[y]:V},{endpoint:b_,[y]:V}],[y]:M},{[_]:[De,Te,Vt,Lt,Ln,E_,Le,rn],[D]:[{[_]:So,endpoint:z_,[y]:V},cB],[y]:M},{[_]:[De,Te,Vt,Lt,Ln,y_,Le,sn],endpoint:b_,[y]:V},{[_]:[De,Te,Vt,Lt,Ln,E_,Le,sn],endpoint:z_,[y]:V},{[_]:[De,Te,fr,Ee,Yt],endpoint:{[te]:QB,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Te,fr,Ee,Le,rn],[D]:[{[_]:So,endpoint:C_,[y]:V},{endpoint:C_,[y]:V}],[y]:M},{[_]:[De,Te,fr,Ee,Le,sn],endpoint:C_,[y]:V},{[_]:[De,Te,Vt,Ee,Yt],endpoint:{[te]:qO,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Te,Vt,Ee,Le,rn],[D]:[{[_]:So,endpoint:{[te]:qO,[ne]:Gt,[re]:Se},[y]:V},{endpoint:lB,[y]:V}],[y]:M},{[_]:[De,Te,Vt,Ee,Le,sn],endpoint:lB,[y]:V}],[y]:M},Gf],[y]:M}],[y]:M},{[_]:[Lt,Ln,{[R]:qe,[v]:[{[R]:At,[v]:[oD,"scheme"]},"http"]},{[R]:Xf,[v]:[Fe,ns]},S_,Te,De,Vt],[D]:[{[_]:mr,[D]:[{[_]:$B,[D]:[cB],[y]:M},Gf],[y]:M}],[y]:M},{[_]:[S_,{[R]:ZB,[v]:_8,[_e]:eD}],[D]:[{[_]:[{[R]:At,[v]:[Gn,"resourceId[0]"],[_e]:tD},{[R]:os,[v]:[{[R]:qe,[v]:[cD,Jf]}]}],[D]:[{[_]:[{[R]:qe,[v]:[__,j_]}],[D]:[{[_]:O_,[D]:[{[_]:jB,[D]:[dB,uB,{[_]:B_,[D]:[mB,{[_]:VB,[D]:[x_,{[_]:D_,[D]:[{[_]:mr,[D]:[{[_]:GB,[D]:[{[_]:M_,[D]:[{[_]:[{[R]:qe,[v]:[dD,Jf]}],error:"Invalid ARN: Missing account id",[y]:Z},{[_]:L_,[D]:[{[_]:KB,[D]:[{[_]:Ja,endpoint:{[te]:HO,[ne]:w_,[re]:Se},[y]:V},{[_]:Qa,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:w_,[re]:Se},[y]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:w_,[re]:Se},[y]:V}],[y]:M},fB],[y]:M},A_],[y]:M},P_],[y]:M},T_],[y]:M}],[y]:M}],[y]:M},gB],[y]:M},{error:"Invalid ARN: bucket ARN is missing a region",[y]:Z}],[y]:M},hB],[y]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[y]:Z}],[y]:M},{[_]:O_,[D]:[{[_]:jB,[D]:[{[_]:B_,[D]:[{[_]:O_,[D]:[{[_]:B_,[D]:[mB,{[_]:VB,[D]:[x_,{[_]:D_,[D]:[{[_]:mr,[D]:[{[_]:[{[R]:qe,[v]:[lD,"{partitionResult#name}"]}],[D]:[{[_]:M_,[D]:[{[_]:[{[R]:qe,[v]:[__,Za]}],[D]:[{[_]:L_,[D]:[{[_]:KB,[D]:[{[_]:N_,error:"Access Points do not support S3 Accelerate",[y]:Z},{[_]:[ht,it],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:Ed,[re]:Se},[y]:V},{[_]:[ht,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:Ed,[re]:Se},[y]:V},{[_]:[Te,it],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:Ed,[re]:Se},[y]:V},{[_]:[Te,De,Lt,Ln],endpoint:{[te]:HO,[ne]:Ed,[re]:Se},[y]:V},{[_]:[Te,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:Ed,[re]:Se},[y]:V}],[y]:M},fB],[y]:M},A_],[y]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[y]:Z}],[y]:M},P_],[y]:M},T_],[y]:M}],[y]:M}],[y]:M},gB],[y]:M}],[y]:M}],[y]:M},{[_]:[{[R]:pi,[v]:[G_,ns]}],[D]:[{[_]:TB,error:"S3 MRAP does not support dual-stack",[y]:Z},{[_]:Qa,error:"S3 MRAP does not support FIPS",[y]:Z},{[_]:N_,error:"S3 MRAP does not support S3 Accelerate",[y]:Z},{[_]:[{[R]:zt,[v]:[{[oe]:"DisableMultiRegionAccessPoints"},ns]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[y]:Z},{[_]:[{[R]:Wf,[v]:k_,[_e]:$O}],[D]:[{[_]:[{[R]:qe,[v]:[{[R]:At,[v]:[{[oe]:$O},Ft]},{[R]:At,[v]:[Gn,"partition"]}]}],[D]:[{endpoint:{[te]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ne]:{[xn]:[{[on]:ns,name:$_,[an]:Za,[q_]:A8}]},[re]:Se},[y]:V}],[y]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[y]:Z}],[y]:M}],[y]:M},{error:"Invalid Access Point Name",[y]:Z}],[y]:M},hB],[y]:M},{[_]:[{[R]:qe,[v]:[__,Cd]}],[D]:[{[_]:TB,error:"S3 Outposts does not support Dual-stack",[y]:Z},{[_]:Qa,error:"S3 Outposts does not support FIPS",[y]:Z},{[_]:N_,error:"S3 Outposts does not support S3 Accelerate",[y]:Z},{[_]:[{[R]:tr,[v]:[{[R]:At,[v]:[Gn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[y]:Z},{[_]:[{[R]:At,[v]:P8,[_e]:F_}],[D]:[{[_]:qB,[D]:[x_,{[_]:D_,[D]:[{[_]:mr,[D]:[{[_]:GB,[D]:[{[_]:M_,[D]:[{[_]:L_,[D]:[{[_]:[{[R]:At,[v]:T8,[_e]:jO}],[D]:[{[_]:[{[R]:At,[v]:[Gn,"resourceId[3]"],[_e]:V_}],[D]:[{[_]:[{[R]:qe,[v]:[{[oe]:jO},nD]}],[D]:[{[_]:Ja,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ne]:pB,[re]:Se},[y]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ne]:pB,[re]:Se},[y]:V}],[y]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[y]:Z}],[y]:M},{error:"Invalid ARN: expected an access point name",[y]:Z}],[y]:M},{error:"Invalid ARN: Expected a 4-component resource",[y]:Z}],[y]:M},A_],[y]:M},P_],[y]:M},T_],[y]:M}],[y]:M}],[y]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[y]:Z}],[y]:M},{error:"Invalid ARN: The Outpost Id was not set",[y]:Z}],[y]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[y]:Z}],[y]:M},{error:"Invalid ARN: No ARN type specified",[y]:Z}],[y]:M},{[_]:[{[R]:at,[v]:[Fe,0,4,E8],[_e]:VO},{[R]:qe,[v]:[{[oe]:VO},"arn:"]},{[R]:os,[v]:[{[R]:tr,[v]:[yB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[y]:Z},{[_]:[{[R]:zt,[v]:[b8,ns]},yB],error:"Path-style addressing cannot be used with ARN buckets",[y]:Z},{[_]:x8,[D]:[{[_]:mr,[D]:[{[_]:[Vt],[D]:[{[_]:[it,Ee,ht,Yt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:nn,[re]:Se},[y]:V},{[_]:[it,Ee,ht,Le,rn],[D]:[{endpoint:SB,[y]:V}],[y]:M},{[_]:[it,Ee,ht,Le,sn],endpoint:SB,[y]:V},{[_]:[De,Ee,ht,Yt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Ee,ht,Le,rn],[D]:[{endpoint:EB,[y]:V}],[y]:M},{[_]:[De,Ee,ht,Le,sn],endpoint:EB,[y]:V},{[_]:[it,Ee,Te,Yt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ne]:nn,[re]:Se},[y]:V},{[_]:[it,Ee,Te,Le,rn],[D]:[{endpoint:bB,[y]:V}],[y]:M},{[_]:[it,Ee,Te,Le,sn],endpoint:bB,[y]:V},{[_]:[De,Lt,Ln,Te,Yt],endpoint:{[te]:rD,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Lt,Ln,Te,Le,rn],[D]:[{[_]:So,endpoint:R_,[y]:V},{endpoint:R_,[y]:V}],[y]:M},{[_]:[De,Lt,Ln,Te,Le,sn],endpoint:R_,[y]:V},{[_]:[De,Ee,Te,Yt],endpoint:{[te]:GO,[ne]:nn,[re]:Se},[y]:V},{[_]:[De,Ee,Te,Le,rn],[D]:[{[_]:So,endpoint:{[te]:GO,[ne]:Gt,[re]:Se},[y]:V},{endpoint:CB,[y]:V}],[y]:M},{[_]:[De,Ee,Te,Le,sn],endpoint:CB,[y]:V}],[y]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[y]:Z}],[y]:M}],[y]:M}],[y]:M},{[_]:[{[R]:tr,[v]:[_B]},{[R]:zt,[v]:[_B,ns]}],[D]:[{[_]:mr,[D]:[{[_]:WB,[D]:[dB,uB,{[_]:Ja,endpoint:{[te]:Kf,[ne]:v_,[re]:Se},[y]:V},{[_]:Qa,endpoint:{[te]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ne]:v_,[re]:Se},[y]:V},{endpoint:{[te]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ne]:v_,[re]:Se},[y]:V}],[y]:M},Gf],[y]:M}],[y]:M},{[_]:[tB],[D]:[{[_]:mr,[D]:[{[_]:WB,[D]:[{[_]:[ht,it,Ee,Yt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[ht,it,Ee,Le,rn],[D]:[{endpoint:xB,[y]:V}],[y]:M},{[_]:[ht,it,Ee,Le,sn],endpoint:xB,[y]:V},{[_]:[ht,De,Ee,Yt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[ht,De,Ee,Le,rn],[D]:[{endpoint:wB,[y]:V}],[y]:M},{[_]:[ht,De,Ee,Le,sn],endpoint:wB,[y]:V},{[_]:[Te,it,Ee,Yt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ne]:nn,[re]:Se},[y]:V},{[_]:[Te,it,Ee,Le,rn],[D]:[{endpoint:AB,[y]:V}],[y]:M},{[_]:[Te,it,Ee,Le,sn],endpoint:AB,[y]:V},{[_]:[Te,De,Lt,Ln,Yt],endpoint:{[te]:Kf,[ne]:nn,[re]:Se},[y]:V},{[_]:[Te,De,Lt,Ln,Le,rn],[D]:[{[_]:So,endpoint:I_,[y]:V},{endpoint:I_,[y]:V}],[y]:M},{[_]:[Te,De,Lt,Ln,Le,sn],endpoint:I_,[y]:V},{[_]:[Te,De,Ee,Yt],endpoint:{[te]:KO,[ne]:nn,[re]:Se},[y]:V},{[_]:[Te,De,Ee,Le,rn],[D]:[{[_]:So,endpoint:{[te]:KO,[ne]:Gt,[re]:Se},[y]:V},{endpoint:PB,[y]:V}],[y]:M},{[_]:[Te,De,Ee,Le,sn],endpoint:PB,[y]:V}],[y]:M},Gf],[y]:M}],[y]:M}],[y]:M},{error:"A region must be set when sending requests to S3.",[y]:Z}]};Qf.ruleSet=R8});var W_=B(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.defaultEndpointResolver=void 0;var v8=ja(),K_=mi(),I8=uD(),k8=new K_.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),N8=(e,n={})=>k8.get(e,()=>(0,K_.resolveEndpoint)(I8.ruleSet,{endpointParams:e,logger:n.logger}));Zf.defaultEndpointResolver=N8;K_.customEndpointFunctions.aws=v8.awsEndpointFunctions});var X_=B(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.resolveHttpAuthSchemeConfig=Eo.defaultS3HttpAuthSchemeProvider=Eo.defaultS3HttpAuthSchemeParametersProvider=void 0;var mD=(jt(),ve(ur)),O8=$f(),B8=ts(),eg=En(),D8=W_(),M8=e=>async(n,t,r)=>{if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(n,t,r),o=(0,eg.getSmithyContext)(t)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);let a=await(0,B8.resolveParams)(r,{getEndpointParameterInstructions:o},n);return Object.assign(s,a)},L8=async(e,n,t)=>({operation:(0,eg.getSmithyContext)(n).operation,region:await(0,eg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Eo.defaultS3HttpAuthSchemeParametersProvider=M8(L8);function fD(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function gD(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}var F8=(e,n,t)=>s=>{let a=e(s).properties?.authSchemes;if(!a)return n(s);let c=[];for(let l of a){let{name:d,properties:f={},...g}=l,p=d.toLowerCase();d!==p&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${p}\``);let h;if(p==="sigv4a"){h="aws.auth#sigv4a";let I=a.find(O=>{let W=O.name.toLowerCase();return W!=="sigv4a"&&W.startsWith("sigv4")});if(O8.SignatureV4MultiRegion.sigv4aDependency()==="none"&&I)continue}else if(p.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${p}\``);let b=t[h];if(!b)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);let T=b(s);T.schemeId=h,T.signingProperties={...T.signingProperties||{},...g,...f},c.push(T)}return c},z8=e=>{let n=[];switch(e.operation){default:n.push(fD(e)),n.push(gD(e))}return n};Eo.defaultS3HttpAuthSchemeProvider=F8(D8.defaultEndpointResolver,z8,{"aws.auth#sigv4":fD,"aws.auth#sigv4a":gD});var U8=e=>{let n=(0,mD.resolveAwsSdkSigV4Config)(e),t=(0,mD.resolveAwsSdkSigV4AConfig)(n);return Object.assign(t,{authSchemePreference:(0,eg.normalizeProvider)(e.authSchemePreference??[])})};Eo.resolveHttpAuthSchemeConfig=U8});var hD=B((XEe,q8)=>{q8.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.918.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/credential-provider-node":"3.918.0","@aws-sdk/middleware-bucket-endpoint":"3.914.0","@aws-sdk/middleware-expect-continue":"3.917.0","@aws-sdk/middleware-flexible-checksums":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-location-constraint":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-sdk-s3":"3.916.0","@aws-sdk/middleware-ssec":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/signature-v4-multi-region":"3.916.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@aws-sdk/xml-builder":"3.914.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/eventstream-serde-browser":"^4.2.3","@smithy/eventstream-serde-config-resolver":"^4.3.3","@smithy/eventstream-serde-node":"^4.2.3","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-blob-browser":"^4.2.4","@smithy/hash-node":"^4.2.3","@smithy/hash-stream-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/md5-js":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-stream":"^4.5.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.3","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.916.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var Y_=B(bo=>{"use strict";var H8=(Nr(),ve(Ys)),$8=Mn(),pD="AWS_ACCESS_KEY_ID",yD="AWS_SECRET_ACCESS_KEY",SD="AWS_SESSION_TOKEN",ED="AWS_CREDENTIAL_EXPIRATION",bD="AWS_CREDENTIAL_SCOPE",CD="AWS_ACCOUNT_ID",j8=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let n=process.env[pD],t=process.env[yD],r=process.env[SD],s=process.env[ED],o=process.env[bD],a=process.env[CD];if(n&&t){let c={accessKeyId:n,secretAccessKey:t,...r&&{sessionToken:r},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...a&&{accountId:a}};return H8.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new $8.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};bo.ENV_ACCOUNT_ID=CD;bo.ENV_CREDENTIAL_SCOPE=bD;bo.ENV_EXPIRATION=ED;bo.ENV_KEY=pD;bo.ENV_SECRET=yD;bo.ENV_SESSION=SD;bo.fromEnv=j8});var xd=B(wn=>{"use strict";var is=Mn(),V8=require("url"),G8=require("buffer"),K8=require("http"),tx=ho(),W8=mo();function _d(e){return new Promise((n,t)=>{let r=K8.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",s=>{t(Object.assign(new is.ProviderError("Unable to connect to instance metadata service"),s)),r.destroy()}),r.on("timeout",()=>{t(new is.ProviderError("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new is.ProviderError("Error response received from instance metadata service"),{statusCode:o})),r.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{n(G8.Buffer.concat(a)),r.destroy()})}),r.end()})}var AD=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",PD=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),TD=1e3,RD=0,nx=({maxRetries:e=RD,timeout:n=TD})=>({maxRetries:e,timeout:n}),Q_=(e,n)=>{let t=e();for(let r=0;r<n;r++)t=t.catch(e);return t},tg="AWS_CONTAINER_CREDENTIALS_FULL_URI",ng="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Z_="AWS_CONTAINER_AUTHORIZATION_TOKEN",X8=(e={})=>{let{timeout:n,maxRetries:t}=nx(e);return()=>Q_(async()=>{let r=await e5({logger:e.logger}),s=JSON.parse(await Y8(n,r));if(!AD(s))throw new is.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return PD(s)},t)},Y8=async(e,n)=>(process.env[Z_]&&(n.headers={...n.headers,Authorization:process.env[Z_]}),(await _d({...n,timeout:e})).toString()),J8="169.254.170.2",Q8={localhost:!0,"127.0.0.1":!0},Z8={"http:":!0,"https:":!0},e5=async({logger:e})=>{if(process.env[ng])return{hostname:J8,path:process.env[ng]};if(process.env[tg]){let n=V8.parse(process.env[tg]);if(!n.hostname||!(n.hostname in Q8))throw new is.CredentialsProviderError(`${n.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!n.protocol||!(n.protocol in Z8))throw new is.CredentialsProviderError(`${n.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...n,port:n.port?parseInt(n.port,10):void 0}}throw new is.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ng} or ${tg} environment variable is set`,{tryNextLink:!1,logger:e})},ex=class e extends is.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(n,t=!0){super(n,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};wn.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(wn.Endpoint||(wn.Endpoint={}));var t5="AWS_EC2_METADATA_SERVICE_ENDPOINT",n5="ec2_metadata_service_endpoint",r5={environmentVariableSelector:e=>e[t5],configFileSelector:e=>e[n5],default:void 0},ec;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ec||(ec={}));var s5="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",o5="ec2_metadata_service_endpoint_mode",i5={environmentVariableSelector:e=>e[s5],configFileSelector:e=>e[o5],default:ec.IPv4},vD=async()=>W8.parseUrl(await a5()||await c5()),a5=async()=>tx.loadConfig(r5)(),c5=async()=>{let e=await tx.loadConfig(i5)();switch(e){case ec.IPv4:return wn.Endpoint.IPv4;case ec.IPv6:return wn.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ec)}`)}},l5=300,d5=300,u5="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",_D=(e,n)=>{let t=l5+Math.floor(Math.random()*d5),r=new Date(Date.now()+t*1e3);n.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(r)}.
For more information, please visit: `+u5);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}},m5=(e,n={})=>{let t=n?.logger||console,r;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=_D(s,t))}catch(o){if(r)t.warn("Credential renew failed: ",o),s=_D(r,t);else throw o}return r=s,s}},ID="/latest/meta-data/iam/security-credentials/",f5="/latest/api/token",J_="AWS_EC2_METADATA_V1_DISABLED",xD="ec2_metadata_v1_disabled",wD="x-aws-ec2-metadata-token",g5=(e={})=>m5(h5(e),{logger:e.logger}),h5=(e={})=>{let n=!1,{logger:t,profile:r}=e,{timeout:s,maxRetries:o}=nx(e),a=async(c,l)=>{if(n||l.headers?.[wD]==null){let g=!1,p=!1,h=await tx.loadConfig({environmentVariableSelector:b=>{let T=b[J_];if(p=!!T&&T!=="false",T===void 0)throw new is.CredentialsProviderError(`${J_} not set in env, checking config file next.`,{logger:e.logger});return p},configFileSelector:b=>{let T=b[xD];return g=!!T&&T!=="false",g},default:!1},{profile:r})();if(e.ec2MetadataV1Disabled||h){let b=[];throw e.ec2MetadataV1Disabled&&b.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&b.push(`config file profile (${xD})`),p&&b.push(`process environment variable (${J_})`),new ex(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${b.join(", ")}].`)}}let f=(await Q_(async()=>{let g;try{g=await y5(l)}catch(p){throw p.statusCode===401&&(n=!1),p}return g},c)).trim();return Q_(async()=>{let g;try{g=await S5(f,l,e)}catch(p){throw p.statusCode===401&&(n=!1),p}return g},c)};return async()=>{let c=await vD();if(n)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(o,{...c,timeout:s});{let l;try{l=(await p5({...c,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(n=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(o,{...c,timeout:s})}return a(o,{...c,headers:{[wD]:l},timeout:s})}}},p5=async e=>_d({...e,path:f5,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),y5=async e=>(await _d({...e,path:ID})).toString(),S5=async(e,n,t)=>{let r=JSON.parse((await _d({...n,path:ID+e})).toString());if(!AD(r))throw new is.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return PD(r)};wn.DEFAULT_MAX_RETRIES=RD;wn.DEFAULT_TIMEOUT=TD;wn.ENV_CMDS_AUTH_TOKEN=Z_;wn.ENV_CMDS_FULL_URI=tg;wn.ENV_CMDS_RELATIVE_URI=ng;wn.fromContainerMetadata=X8;wn.fromInstanceMetadata=g5;wn.getInstanceMetadataEndpoint=vD;wn.httpRequest=_d;wn.providerConfigFromInit=nx});var kD=B(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.checkUrl=void 0;var E5=Mn(),b5="169.254.170.2",C5="169.254.170.23",_5="[fd00:ec2::23]",x5=(e,n)=>{if(e.protocol!=="https:"&&!(e.hostname===b5||e.hostname===C5||e.hostname===_5)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new E5.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:n})}};rg.checkUrl=x5});var ND=B(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.createGetRequest=T5;sg.getCredentials=R5;var rx=Mn(),w5=je(),A5=Ie(),P5=Wo();function T5(e){return new w5.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((n,[t,r])=>(n[t]=r,n),{}),fragment:e.hash})}async function R5(e,n){let r=await(0,P5.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(r);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new rx.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:n});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,A5.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(r)}catch{}throw Object.assign(new rx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:n}),{Code:s.Code,Message:s.Message})}throw new rx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:n})}});var OD=B(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.retryWrapper=void 0;var v5=(e,n,t)=>async()=>{for(let r=0;r<n;++r)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};og.retryWrapper=v5});var MD=B(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.fromHttp=void 0;var I5=(Yr(),ve(Xr)),k5=(Nr(),ve(Ys)),N5=Ko(),BD=Mn(),O5=I5.__importDefault(require("fs/promises")),B5=kD(),DD=ND(),D5=OD(),M5="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",L5="http://169.254.170.2",F5="AWS_CONTAINER_CREDENTIALS_FULL_URI",z5="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",U5="AWS_CONTAINER_AUTHORIZATION_TOKEN",q5=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let n,t=e.awsContainerCredentialsRelativeUri??process.env[M5],r=e.awsContainerCredentialsFullUri??process.env[F5],s=e.awsContainerAuthorizationToken??process.env[U5],o=e.awsContainerAuthorizationTokenFile??process.env[z5],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&r&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),r)n=r;else if(t)n=`${L5}${t}`;else throw new BD.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(n);(0,B5.checkUrl)(c,e.logger);let l=N5.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,D5.retryWrapper)(async()=>{let d=(0,DD.createGetRequest)(c);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await O5.default.readFile(o)).toString());try{let f=await l.handle(d);return(0,DD.getCredentials)(f.response).then(g=>(0,k5.setCredentialFeature)(g,"CREDENTIALS_HTTP","z"))}catch(f){throw new BD.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ig.fromHttp=q5});var sx=B(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.fromHttp=void 0;var H5=MD();Object.defineProperty(ag,"fromHttp",{enumerable:!0,get:function(){return H5.fromHttp}})});function $5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function j5(e){return{schemeId:"smithy.api#noAuth"}}var wd,LD,FD,zD,ox=P(()=>{jt();wd=k(En()),LD=async(e,n,t)=>({operation:(0,wd.getSmithyContext)(n).operation,region:await(0,wd.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});FD=e=>{let n=[];switch(e.operation){case"CreateToken":{n.push(j5(e));break}default:n.push($5(e))}return n},zD=e=>{let n=oi(e);return Object.assign(n,{authSchemePreference:(0,wd.normalizeProvider)(e.authSchemePreference??[])})}});var UD,qD,ix=P(()=>{UD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),qD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var cg,ax=P(()=>{cg={name:"@aws-sdk/nested-clients",version:"3.916.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Ad=B(yi=>{"use strict";var HD=require("os"),cx=require("process"),G5=Ga(),$D={isCrtAvailable:!1},K5=()=>$D.isCrtAvailable?["md/crt-avail"]:null,jD=({serviceId:e,clientVersion:n})=>async t=>{let r=[["aws-sdk-js",n],["ua","2.1"],[`os/${HD.platform()}`,HD.release()],["lang/js"],["md/nodejs",`${cx.versions.node}`]],s=K5();s&&r.push(s),e&&r.push([`api/${e}`,n]),cx.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${cx.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...r,[`app/${o}`]]:[...r]},W5=jD,VD="AWS_SDK_UA_APP_ID",GD="sdk_ua_app_id",X5="sdk-ua-app-id",Y5={environmentVariableSelector:e=>e[VD],configFileSelector:e=>e[GD]??e[X5],default:G5.DEFAULT_UA_APP_ID};yi.NODE_APP_ID_CONFIG_OPTIONS=Y5;yi.UA_APP_ID_ENV_NAME=VD;yi.UA_APP_ID_INI_NAME=GD;yi.createDefaultUserAgentProvider=jD;yi.crtAvailability=$D;yi.defaultUserAgent=W5});var Pd=B(XD=>{"use strict";var lx=Aa(),J5=Kt(),Q5=require("buffer"),KD=require("crypto"),dx=class{algorithmIdentifier;secret;hash;constructor(n,t){this.algorithmIdentifier=n,this.secret=t,this.reset()}update(n,t){this.hash.update(J5.toUint8Array(WD(n,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?KD.createHmac(this.algorithmIdentifier,WD(this.secret)):KD.createHash(this.algorithmIdentifier)}};function WD(e,n){return Q5.Buffer.isBuffer(e)?e:typeof e=="string"?lx.fromString(e,n):ArrayBuffer.isView(e)?lx.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):lx.fromArrayBuffer(e)}XD.Hash=dx});var Td=B(YD=>{"use strict";var ux=require("node:fs"),Z5=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof ux.ReadStream){if(e.path!=null)return ux.lstatSync(e.path).size;if(typeof e.fd=="number")return ux.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};YD.calculateBodyLength=Z5});var iM,hr,JD,Rd,tc,nc,Os,mx,fx,QD,ZD,eM,aM,cM,gr,tM,lM,nM,rM,sM,oM,eW,dM,uM=P(()=>{iM="required",hr="argv",JD="isSet",Rd="booleanEquals",tc="error",nc="endpoint",Os="tree",mx="PartitionResult",fx="getAttr",QD={[iM]:!1,type:"String"},ZD={[iM]:!0,default:!1,type:"Boolean"},eM={ref:"Endpoint"},aM={fn:Rd,[hr]:[{ref:"UseFIPS"},!0]},cM={fn:Rd,[hr]:[{ref:"UseDualStack"},!0]},gr={},tM={fn:fx,[hr]:[{ref:mx},"supportsFIPS"]},lM={ref:mx},nM={fn:Rd,[hr]:[!0,{fn:fx,[hr]:[lM,"supportsDualStack"]}]},rM=[aM],sM=[cM],oM=[{ref:"Region"}],eW={version:"1.0",parameters:{Region:QD,UseDualStack:ZD,UseFIPS:ZD,Endpoint:QD},rules:[{conditions:[{fn:JD,[hr]:[eM]}],rules:[{conditions:rM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:tc},{conditions:sM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:tc},{endpoint:{url:eM,properties:gr,headers:gr},type:nc}],type:Os},{conditions:[{fn:JD,[hr]:oM}],rules:[{conditions:[{fn:"aws.partition",[hr]:oM,assign:mx}],rules:[{conditions:[aM,cM],rules:[{conditions:[{fn:Rd,[hr]:[!0,tM]},nM],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gr,headers:gr},type:nc}],type:Os},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:tc}],type:Os},{conditions:rM,rules:[{conditions:[{fn:Rd,[hr]:[tM,!0]}],rules:[{conditions:[{fn:"stringEquals",[hr]:[{fn:fx,[hr]:[lM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:gr,headers:gr},type:nc},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gr,headers:gr},type:nc}],type:Os},{error:"FIPS is enabled but this partition does not support FIPS",type:tc}],type:Os},{conditions:sM,rules:[{conditions:[nM],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gr,headers:gr},type:nc}],type:Os},{error:"DualStack is enabled but this partition does not support DualStack",type:tc}],type:Os},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:gr,headers:gr},type:nc}],type:Os}],type:Os},{error:"Invalid Configuration: Missing Region",type:tc}]},dM=eW});var mM,rc,tW,fM,gM=P(()=>{mM=k(ja()),rc=k(mi());uM();tW=new rc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),fM=(e,n={})=>tW.get(e,()=>(0,rc.resolveEndpoint)(dM,{endpointParams:e,logger:n.logger}));rc.customEndpointFunctions.aws=mM.awsEndpointFunctions});var hM,pM,lg,dg,yM,SM=P(()=>{jt();Dn();hM=k(Ie()),pM=k(mo()),lg=k(fn()),dg=k(Kt());ox();gM();yM=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??lg.fromBase64,base64Encoder:e?.base64Encoder??lg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??fM,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??FD,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Hn},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new _s}],logger:e?.logger??new hM.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??pM.parseUrl,utf8Decoder:e?.utf8Decoder??dg.fromUtf8,utf8Encoder:e?.utf8Encoder??dg.toUtf8})});var vd=B(_M=>{"use strict";var nW=Mr(),EM=ho(),rW=Mn(),sW="AWS_EXECUTION_ENV",bM="AWS_REGION",CM="AWS_DEFAULT_REGION",oW="AWS_EC2_METADATA_DISABLED",iW=["in-region","cross-region","mobile","standard","legacy"],aW="/latest/meta-data/placement/region",cW="AWS_DEFAULTS_MODE",lW="defaults_mode",dW={environmentVariableSelector:e=>e[cW],configFileSelector:e=>e[lW],default:"legacy"},uW=({region:e=EM.loadConfig(nW.NODE_REGION_CONFIG_OPTIONS),defaultsMode:n=EM.loadConfig(dW)}={})=>rW.memoize(async()=>{let t=typeof n=="function"?await n():n;switch(t?.toLowerCase()){case"auto":return mW(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${iW.join(", ")}, got ${t}`)}}),mW=async e=>{if(e){let n=typeof e=="function"?await e():e,t=await fW();return t?n===t?"in-region":"cross-region":"standard"}return"standard"},fW=async()=>{if(process.env[sW]&&(process.env[bM]||process.env[CM]))return process.env[bM]??process.env[CM];if(!process.env[oW])try{let{getInstanceMetadataEndpoint:e,httpRequest:n}=await Promise.resolve().then(()=>k(xd())),t=await e();return(await n({...t,path:aW})).toString()}catch{}};_M.resolveDefaultsModeConfig=uW});var ug,_o,xM,mg,Co,fg,wM,AM,PM,TM,RM,vM,IM=P(()=>{ax();jt();ug=k(Ad()),_o=k(Mr()),xM=k(Pd()),mg=k(Ns()),Co=k(ho()),fg=k(Ko()),wM=k(Td()),AM=k(Ka());SM();PM=k(Ie()),TM=k(vd()),RM=k(Ie()),vM=e=>{(0,RM.emitWarningIfUnsupportedVersion)(process.version);let n=(0,TM.resolveDefaultsModeConfig)(e),t=()=>n().then(PM.loadConfigsForDefaultMode),r=yM(e);ba(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,Co.loadConfig)(xa,s),bodyLengthChecker:e?.bodyLengthChecker??wM.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ug.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:cg.version}),maxAttempts:e?.maxAttempts??(0,Co.loadConfig)(mg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Co.loadConfig)(_o.NODE_REGION_CONFIG_OPTIONS,{..._o.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:fg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Co.loadConfig)({...mg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||AM.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??xM.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Co.loadConfig)(_o.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Co.loadConfig)(_o.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Co.loadConfig)(ug.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var kd=B(xo=>{"use strict";var Id=Mr(),gW=e=>({setRegion(n){e.region=n},region(){return e.region}}),hW=e=>({region:e.region()});Object.defineProperty(xo,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Id.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(xo,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Id.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(xo,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Id.REGION_ENV_NAME}});Object.defineProperty(xo,"REGION_INI_NAME",{enumerable:!0,get:function(){return Id.REGION_INI_NAME}});Object.defineProperty(xo,"resolveRegionConfig",{enumerable:!0,get:function(){return Id.resolveRegionConfig}});xo.getAwsRegionExtensionConfiguration=gW;xo.resolveAwsRegionExtensionConfiguration=hW});var kM,NM,OM=P(()=>{kM=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(a=>a.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},NM=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var gg,hg,pg,BM,DM=P(()=>{gg=k(kd()),hg=k(je()),pg=k(Ie());OM();BM=(e,n)=>{let t=Object.assign((0,gg.getAwsRegionExtensionConfiguration)(e),(0,pg.getDefaultExtensionConfiguration)(e),(0,hg.getHttpHandlerExtensionConfiguration)(e),kM(e));return n.forEach(r=>r.configure(t)),Object.assign(e,(0,gg.resolveAwsRegionExtensionConfiguration)(t),(0,pg.resolveDefaultRuntimeConfig)(t),(0,hg.resolveHttpHandlerRuntimeConfig)(t),NM(t))}});var yg,MM,LM,Sg,FM,zM,UM,Eg,gx,Nd,hx=P(()=>{yg=k(id()),MM=k(ad()),LM=k(cd()),Sg=k(Ga()),FM=k(Mr());Dn();zM=k(ud()),UM=k(ts()),Eg=k(Ns()),gx=k(Ie());ox();ix();IM();DM();Nd=class extends gx.Client{config;constructor(...[n]){let t=vM(n||{});super(t),this.initConfig=t;let r=UD(t),s=(0,Sg.resolveUserAgentConfig)(r),o=(0,Eg.resolveRetryConfig)(s),a=(0,FM.resolveRegionConfig)(o),c=(0,yg.resolveHostHeaderConfig)(a),l=(0,UM.resolveEndpointConfig)(c),d=zD(l),f=BM(d,n?.extensions||[]);this.config=f,this.middlewareStack.use((0,Sg.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Eg.getRetryPlugin)(this.config)),this.middlewareStack.use((0,zM.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yg.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,MM.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,LM.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(kl(this.config,{httpAuthSchemeParametersProvider:LD,identityProviderConfigProvider:async g=>new ti({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Nl(this.config))}destroy(){super.destroy()}}});var qM,cn,bg=P(()=>{qM=k(Ie()),cn=class e extends qM.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}}});var Si,pW,Od,Bd,px,yx,Dd,Md,Ld,Fd,yW,zd,Ud,qd,Hd,$d,Cg=P(()=>{Si=k(Ie());bg();pW={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Od=class e extends cn{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(n){super({name:"AccessDeniedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.reason=n.reason,this.error_description=n.error_description}},Bd=class e extends cn{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(n){super({name:"AuthorizationPendingException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},px=e=>({...e,...e.clientSecret&&{clientSecret:Si.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Si.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Si.SENSITIVE_STRING}}),yx=e=>({...e,...e.accessToken&&{accessToken:Si.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Si.SENSITIVE_STRING},...e.idToken&&{idToken:Si.SENSITIVE_STRING}}),Dd=class e extends cn{name="ExpiredTokenException";$fault="client";error;error_description;constructor(n){super({name:"ExpiredTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Md=class e extends cn{name="InternalServerException";$fault="server";error;error_description;constructor(n){super({name:"InternalServerException",$fault:"server",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Ld=class e extends cn{name="InvalidClientException";$fault="client";error;error_description;constructor(n){super({name:"InvalidClientException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Fd=class e extends cn{name="InvalidGrantException";$fault="client";error;error_description;constructor(n){super({name:"InvalidGrantException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},yW={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},zd=class e extends cn{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(n){super({name:"InvalidRequestException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.reason=n.reason,this.error_description=n.error_description}},Ud=class e extends cn{name="InvalidScopeException";$fault="client";error;error_description;constructor(n){super({name:"InvalidScopeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},qd=class e extends cn{name="SlowDownException";$fault="client";error;error_description;constructor(n){super({name:"SlowDownException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Hd=class e extends cn{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(n){super({name:"UnauthorizedClientException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},$d=class e extends cn{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(n){super({name:"UnsupportedGrantTypeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}}});var Y,HM,$M,SW,EW,bW,CW,_W,xW,wW,AW,PW,TW,RW,vW,IW,pr,jM=P(()=>{jt();Dn();Y=k(Ie());Cg();bg();HM=async(e,n)=>{let t=Vl(e,n),r={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,Y.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,Y._json)(o)})),t.m("POST").h(r).b(s),t.build()},$M=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return SW(e,n);let t=(0,Y.map)({$metadata:pr(e)}),r=(0,Y.expectNonNull)((0,Y.expectObject)(await La(e.body,n)),"body"),s=(0,Y.take)(r,{accessToken:Y.expectString,expiresIn:Y.expectInt32,idToken:Y.expectString,refreshToken:Y.expectString,tokenType:Y.expectString});return Object.assign(t,s),t},SW=async(e,n)=>{let t={...e,body:await iC(e.body,n)},r=ai(e,t.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await bW(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await CW(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await _W(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await xW(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await wW(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await AW(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await PW(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await TW(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await RW(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await vW(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await IW(t,n);default:let s=t.body;return EW({output:e,parsedBody:s,errorCode:r})}},EW=(0,Y.withBaseException)(cn),bW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new Od({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},CW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Bd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},_W=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Dd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},xW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Md({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},wW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Ld({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},AW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Fd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},PW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new zd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},TW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Ud({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},RW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new qd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},vW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Hd({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},IW=async(e,n)=>{let t=(0,Y.map)({}),r=e.body,s=(0,Y.take)(r,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new $d({$metadata:pr(e),...t});return(0,Y.decorateServiceException)(o,e.body)},pr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var VM,GM,Sx,jd,Ex=P(()=>{VM=k(ts()),GM=k(Js()),Sx=k(Ie());ix();Cg();jM();jd=class extends Sx.Command.classBuilder().ep(qD).m(function(n,t,r,s){return[(0,GM.getSerdePlugin)(r,this.serialize,this.deserialize),(0,VM.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(px,yx).ser(HM).de($M).build(){}});var KM,kW,_g,WM=P(()=>{KM=k(Ie());Ex();hx();kW={CreateTokenCommand:jd},_g=class extends Nd{};(0,KM.createAggregatedClient)(kW,_g)});var XM=P(()=>{Ex()});var YM=P(()=>{Cg()});var bx={};cr(bx,{$Command:()=>Sx.Command,AccessDeniedException:()=>Od,AccessDeniedExceptionReason:()=>pW,AuthorizationPendingException:()=>Bd,CreateTokenCommand:()=>jd,CreateTokenRequestFilterSensitiveLog:()=>px,CreateTokenResponseFilterSensitiveLog:()=>yx,ExpiredTokenException:()=>Dd,InternalServerException:()=>Md,InvalidClientException:()=>Ld,InvalidGrantException:()=>Fd,InvalidRequestException:()=>zd,InvalidRequestExceptionReason:()=>yW,InvalidScopeException:()=>Ud,SSOOIDC:()=>_g,SSOOIDCClient:()=>Nd,SSOOIDCServiceException:()=>cn,SlowDownException:()=>qd,UnauthorizedClientException:()=>Hd,UnsupportedGrantTypeException:()=>$d,__Client:()=>gx.Client});var Cx=P(()=>{hx();WM();XM();YM();bg()});var e3=B(Gd=>{"use strict";var NW=(Nr(),ve(Ys)),OW=(kb(),ve($v)),nr=Mn(),Vd=Is(),BW=require("fs"),DW=({logger:e,signingName:n}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!n)throw new nr.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=OW.getBearerTokenEnvKey(n);if(!(t in process.env))throw new nr.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let r={token:process.env[t]};return NW.setTokenFeature(r,"BEARER_SERVICE_ENV_VARS","3"),r},MW=300*1e3,_x="To refresh this SSO session run 'aws sso login' with the corresponding profile.",LW=async(e,n={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(Cx(),bx));return new t(Object.assign({},n.clientConfig??{},{region:e??n.clientConfig?.region,logger:n.clientConfig?.logger??n.parentClientConfig?.logger}))},FW=async(e,n,t={})=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>(Cx(),bx));return(await LW(n,t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},JM=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new nr.TokenProviderError(`Token is expired. ${_x}`,!1)},Ei=(e,n,t=!1)=>{if(typeof n>"u")throw new nr.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${_x}`,!1)},{writeFile:zW}=BW.promises,UW=(e,n)=>{let t=Vd.getSSOTokenFilepath(e),r=JSON.stringify(n,null,2);return zW(t,r)},QM=new Date(0),ZM=(e={})=>async({callerClientConfig:n}={})=>{let t={...e,parentClientConfig:{...n,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Vd.parseKnownFiles(t),s=Vd.getProfileName({profile:t.profile??n?.profile}),o=r[s];if(o){if(!o.sso_session)throw new nr.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new nr.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let a=o.sso_session,l=(await Vd.loadSsoSessionData(t))[a];if(!l)throw new nr.TokenProviderError(`Sso session '${a}' could not be found in shared credentials file.`,!1);for(let b of["sso_start_url","sso_region"])if(!l[b])throw new nr.TokenProviderError(`Sso session '${a}' is missing required property '${b}'.`,!1);l.sso_start_url;let d=l.sso_region,f;try{f=await Vd.getSSOTokenFromFile(a)}catch{throw new nr.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${_x}`,!1)}Ei("accessToken",f.accessToken),Ei("expiresAt",f.expiresAt);let{accessToken:g,expiresAt:p}=f,h={token:g,expiration:new Date(p)};if(h.expiration.getTime()-Date.now()>MW)return h;if(Date.now()-QM.getTime()<30*1e3)return JM(h),h;Ei("clientId",f.clientId,!0),Ei("clientSecret",f.clientSecret,!0),Ei("refreshToken",f.refreshToken,!0);try{QM.setTime(Date.now());let b=await FW(f,d,t);Ei("accessToken",b.accessToken),Ei("expiresIn",b.expiresIn);let T=new Date(Date.now()+b.expiresIn*1e3);try{await UW(a,{...f,accessToken:b.accessToken,expiresAt:T.toISOString(),refreshToken:b.refreshToken})}catch{}return{token:b.accessToken,expiration:T}}catch{return JM(h),h}},qW=({token:e,logger:n})=>async()=>{if(n?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new nr.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},HW=(e={})=>nr.memoize(nr.chain(ZM(e),async()=>{throw new nr.TokenProviderError("Could not load token from any providers",!1)}),n=>n.expiration!==void 0&&n.expiration.getTime()-Date.now()<3e5,n=>n.expiration!==void 0);Gd.fromEnvSigningName=DW;Gd.fromSso=ZM;Gd.fromStatic=qW;Gd.nodeProvider=HW});var wx=B(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.resolveHttpAuthSchemeConfig=wo.defaultSSOHttpAuthSchemeProvider=wo.defaultSSOHttpAuthSchemeParametersProvider=void 0;var $W=(jt(),ve(ur)),xx=En(),jW=async(e,n,t)=>({operation:(0,xx.getSmithyContext)(n).operation,region:await(0,xx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wo.defaultSSOHttpAuthSchemeParametersProvider=jW;function VW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function xg(e){return{schemeId:"smithy.api#noAuth"}}var GW=e=>{let n=[];switch(e.operation){case"GetRoleCredentials":{n.push(xg(e));break}case"ListAccountRoles":{n.push(xg(e));break}case"ListAccounts":{n.push(xg(e));break}case"Logout":{n.push(xg(e));break}default:n.push(VW(e))}return n};wo.defaultSSOHttpAuthSchemeProvider=GW;var KW=e=>{let n=(0,$W.resolveAwsSdkSigV4Config)(e);return Object.assign(n,{authSchemePreference:(0,xx.normalizeProvider)(e.authSchemePreference??[])})};wo.resolveHttpAuthSchemeConfig=KW});var t3=B((oCe,WW)=>{WW.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.916.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var p3=B(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.ruleSet=void 0;var m3="required",Sr="fn",Er="argv",ic="ref",n3=!0,r3="isSet",Kd="booleanEquals",sc="error",oc="endpoint",Bs="tree",Ax="PartitionResult",Px="getAttr",s3={[m3]:!1,type:"String"},o3={[m3]:!0,default:!1,type:"Boolean"},i3={[ic]:"Endpoint"},f3={[Sr]:Kd,[Er]:[{[ic]:"UseFIPS"},!0]},g3={[Sr]:Kd,[Er]:[{[ic]:"UseDualStack"},!0]},yr={},a3={[Sr]:Px,[Er]:[{[ic]:Ax},"supportsFIPS"]},h3={[ic]:Ax},c3={[Sr]:Kd,[Er]:[!0,{[Sr]:Px,[Er]:[h3,"supportsDualStack"]}]},l3=[f3],d3=[g3],u3=[{[ic]:"Region"}],XW={version:"1.0",parameters:{Region:s3,UseDualStack:o3,UseFIPS:o3,Endpoint:s3},rules:[{conditions:[{[Sr]:r3,[Er]:[i3]}],rules:[{conditions:l3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:sc},{conditions:d3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:sc},{endpoint:{url:i3,properties:yr,headers:yr},type:oc}],type:Bs},{conditions:[{[Sr]:r3,[Er]:u3}],rules:[{conditions:[{[Sr]:"aws.partition",[Er]:u3,assign:Ax}],rules:[{conditions:[f3,g3],rules:[{conditions:[{[Sr]:Kd,[Er]:[n3,a3]},c3],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yr,headers:yr},type:oc}],type:Bs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:sc}],type:Bs},{conditions:l3,rules:[{conditions:[{[Sr]:Kd,[Er]:[a3,n3]}],rules:[{conditions:[{[Sr]:"stringEquals",[Er]:[{[Sr]:Px,[Er]:[h3,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:yr,headers:yr},type:oc},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yr,headers:yr},type:oc}],type:Bs},{error:"FIPS is enabled but this partition does not support FIPS",type:sc}],type:Bs},{conditions:d3,rules:[{conditions:[c3],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yr,headers:yr},type:oc}],type:Bs},{error:"DualStack is enabled but this partition does not support DualStack",type:sc}],type:Bs},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:yr,headers:yr},type:oc}],type:Bs}],type:Bs},{error:"Invalid Configuration: Missing Region",type:sc}]};wg.ruleSet=XW});var y3=B(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.defaultEndpointResolver=void 0;var YW=ja(),Tx=mi(),JW=p3(),QW=new Tx.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ZW=(e,n={})=>QW.get(e,()=>(0,Tx.resolveEndpoint)(JW.ruleSet,{endpointParams:e,logger:n.logger}));Ag.defaultEndpointResolver=ZW;Tx.customEndpointFunctions.aws=YW.awsEndpointFunctions});var b3=B(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.getRuntimeConfig=void 0;var eX=(jt(),ve(ur)),tX=(Dn(),ve(ni)),nX=Ie(),rX=mo(),S3=fn(),E3=Kt(),sX=wx(),oX=y3(),iX=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??S3.fromBase64,base64Encoder:e?.base64Encoder??S3.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oX.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sX.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new eX.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new tX.NoAuthSigner}],logger:e?.logger??new nX.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??rX.parseUrl,utf8Decoder:e?.utf8Decoder??E3.fromUtf8,utf8Encoder:e?.utf8Encoder??E3.toUtf8});Pg.getRuntimeConfig=iX});var A3=B(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.getRuntimeConfig=void 0;var aX=(Yr(),ve(Xr)),cX=aX.__importDefault(t3()),C3=(jt(),ve(ur)),_3=Ad(),Tg=Mr(),lX=Pd(),x3=Ns(),bi=ho(),w3=Ko(),dX=Td(),uX=Ka(),mX=b3(),fX=Ie(),gX=vd(),hX=Ie(),pX=e=>{(0,hX.emitWarningIfUnsupportedVersion)(process.version);let n=(0,gX.resolveDefaultsModeConfig)(e),t=()=>n().then(fX.loadConfigsForDefaultMode),r=(0,mX.getRuntimeConfig)(e);(0,C3.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,bi.loadConfig)(C3.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??dX.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_3.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:cX.default.version}),maxAttempts:e?.maxAttempts??(0,bi.loadConfig)(x3.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,bi.loadConfig)(Tg.NODE_REGION_CONFIG_OPTIONS,{...Tg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:w3.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,bi.loadConfig)({...x3.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||uX.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??lX.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??w3.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,bi.loadConfig)(Tg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,bi.loadConfig)(Tg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,bi.loadConfig)(_3.NODE_APP_ID_CONFIG_OPTIONS,s)}};Rg.getRuntimeConfig=pX});var j3=B(Nt=>{"use strict";var P3=id(),yX=ad(),SX=cd(),T3=Ga(),EX=Mr(),Ds=(Dn(),ve(ni)),bX=ud(),Jd=ts(),R3=Ns(),se=Ie(),v3=wx(),CX=A3(),I3=kd(),k3=je(),Mg=Js(),Wd=(jt(),ve(ur)),_X=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Lg={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},xX=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(a=>a.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},wX=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),AX=(e,n)=>{let t=Object.assign(I3.getAwsRegionExtensionConfiguration(e),se.getDefaultExtensionConfiguration(e),k3.getHttpHandlerExtensionConfiguration(e),xX(e));return n.forEach(r=>r.configure(t)),Object.assign(e,I3.resolveAwsRegionExtensionConfiguration(t),se.resolveDefaultRuntimeConfig(t),k3.resolveHttpHandlerRuntimeConfig(t),wX(t))},ac=class extends se.Client{config;constructor(...[n]){let t=CX.getRuntimeConfig(n||{});super(t),this.initConfig=t;let r=_X(t),s=T3.resolveUserAgentConfig(r),o=R3.resolveRetryConfig(s),a=EX.resolveRegionConfig(o),c=P3.resolveHostHeaderConfig(a),l=Jd.resolveEndpointConfig(c),d=v3.resolveHttpAuthSchemeConfig(l),f=AX(d,n?.extensions||[]);this.config=f,this.middlewareStack.use(T3.getUserAgentPlugin(this.config)),this.middlewareStack.use(R3.getRetryPlugin(this.config)),this.middlewareStack.use(bX.getContentLengthPlugin(this.config)),this.middlewareStack.use(P3.getHostHeaderPlugin(this.config)),this.middlewareStack.use(yX.getLoggerPlugin(this.config)),this.middlewareStack.use(SX.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ds.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:v3.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Ds.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Ds.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ao=class e extends se.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}},vg=class e extends Ao{name="InvalidRequestException";$fault="client";constructor(n){super({name:"InvalidRequestException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Ig=class e extends Ao{name="ResourceNotFoundException";$fault="client";constructor(n){super({name:"ResourceNotFoundException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},kg=class e extends Ao{name="TooManyRequestsException";$fault="client";constructor(n){super({name:"TooManyRequestsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Ng=class e extends Ao{name="UnauthorizedException";$fault="client";constructor(n){super({name:"UnauthorizedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},N3=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),O3=e=>({...e,...e.secretAccessKey&&{secretAccessKey:se.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:se.SENSITIVE_STRING}}),B3=e=>({...e,...e.roleCredentials&&{roleCredentials:O3(e.roleCredentials)}}),D3=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),M3=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),L3=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),PX=async(e,n)=>{let t=Ds.requestBuilder(e,n),r=se.map({},se.isSerializableHeaderValue,{[Ug]:e[zg]});t.bp("/federation/credentials");let s=se.map({[UX]:[,se.expectNonNull(e[zX],"roleName")],[z3]:[,se.expectNonNull(e[F3],"accountId")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},TX=async(e,n)=>{let t=Ds.requestBuilder(e,n),r=se.map({},se.isSerializableHeaderValue,{[Ug]:e[zg]});t.bp("/assignment/roles");let s=se.map({[$3]:[,e[H3]],[q3]:[()=>e.maxResults!==void 0,()=>e[U3].toString()],[z3]:[,se.expectNonNull(e[F3],"accountId")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},RX=async(e,n)=>{let t=Ds.requestBuilder(e,n),r=se.map({},se.isSerializableHeaderValue,{[Ug]:e[zg]});t.bp("/assignment/accounts");let s=se.map({[$3]:[,e[H3]],[q3]:[()=>e.maxResults!==void 0,()=>e[U3].toString()]});return t.m("GET").h(r).q(s).b(void 0),t.build()},vX=async(e,n)=>{let t=Ds.requestBuilder(e,n),r=se.map({},se.isSerializableHeaderValue,{[Ug]:e[zg]});return t.bp("/logout"),t.m("POST").h(r).b(void 0),t.build()},IX=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fg(e,n);let t=se.map({$metadata:Po(e)}),r=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,n)),"body"),s=se.take(r,{roleCredentials:se._json});return Object.assign(t,s),t},kX=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fg(e,n);let t=se.map({$metadata:Po(e)}),r=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,n)),"body"),s=se.take(r,{nextToken:se.expectString,roleList:se._json});return Object.assign(t,s),t},NX=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fg(e,n);let t=se.map({$metadata:Po(e)}),r=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,n)),"body"),s=se.take(r,{accountList:se._json,nextToken:se.expectString});return Object.assign(t,s),t},OX=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fg(e,n);let t=se.map({$metadata:Po(e)});return await se.collectBody(e.body,n),t},Fg=async(e,n)=>{let t={...e,body:await Wd.parseJsonErrorBody(e.body,n)},r=Wd.loadRestJsonErrorCode(e,t.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await DX(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await MX(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await LX(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await FX(t);default:let s=t.body;return BX({output:e,parsedBody:s,errorCode:r})}},BX=se.withBaseException(Ao),DX=async(e,n)=>{let t=se.map({}),r=e.body,s=se.take(r,{message:se.expectString});Object.assign(t,s);let o=new vg({$metadata:Po(e),...t});return se.decorateServiceException(o,e.body)},MX=async(e,n)=>{let t=se.map({}),r=e.body,s=se.take(r,{message:se.expectString});Object.assign(t,s);let o=new Ig({$metadata:Po(e),...t});return se.decorateServiceException(o,e.body)},LX=async(e,n)=>{let t=se.map({}),r=e.body,s=se.take(r,{message:se.expectString});Object.assign(t,s);let o=new kg({$metadata:Po(e),...t});return se.decorateServiceException(o,e.body)},FX=async(e,n)=>{let t=se.map({}),r=e.body,s=se.take(r,{message:se.expectString});Object.assign(t,s);let o=new Ng({$metadata:Po(e),...t});return se.decorateServiceException(o,e.body)},Po=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),F3="accountId",zg="accessToken",z3="account_id",U3="maxResults",q3="max_result",H3="nextToken",$3="next_token",zX="roleName",UX="role_name",Ug="x-amz-sso_bearer_token",Og=class extends se.Command.classBuilder().ep(Lg).m(function(n,t,r,s){return[Mg.getSerdePlugin(r,this.serialize,this.deserialize),Jd.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(N3,B3).ser(PX).de(IX).build(){},Xd=class extends se.Command.classBuilder().ep(Lg).m(function(n,t,r,s){return[Mg.getSerdePlugin(r,this.serialize,this.deserialize),Jd.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(D3,void 0).ser(TX).de(kX).build(){},Yd=class extends se.Command.classBuilder().ep(Lg).m(function(n,t,r,s){return[Mg.getSerdePlugin(r,this.serialize,this.deserialize),Jd.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(M3,void 0).ser(RX).de(NX).build(){},Bg=class extends se.Command.classBuilder().ep(Lg).m(function(n,t,r,s){return[Mg.getSerdePlugin(r,this.serialize,this.deserialize),Jd.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(L3,void 0).ser(vX).de(OX).build(){},qX={GetRoleCredentialsCommand:Og,ListAccountRolesCommand:Xd,ListAccountsCommand:Yd,LogoutCommand:Bg},Dg=class extends ac{};se.createAggregatedClient(qX,Dg);var HX=Ds.createPaginator(ac,Xd,"nextToken","nextToken","maxResults"),$X=Ds.createPaginator(ac,Yd,"nextToken","nextToken","maxResults");Object.defineProperty(Nt,"$Command",{enumerable:!0,get:function(){return se.Command}});Object.defineProperty(Nt,"__Client",{enumerable:!0,get:function(){return se.Client}});Nt.GetRoleCredentialsCommand=Og;Nt.GetRoleCredentialsRequestFilterSensitiveLog=N3;Nt.GetRoleCredentialsResponseFilterSensitiveLog=B3;Nt.InvalidRequestException=vg;Nt.ListAccountRolesCommand=Xd;Nt.ListAccountRolesRequestFilterSensitiveLog=D3;Nt.ListAccountsCommand=Yd;Nt.ListAccountsRequestFilterSensitiveLog=M3;Nt.LogoutCommand=Bg;Nt.LogoutRequestFilterSensitiveLog=L3;Nt.ResourceNotFoundException=Ig;Nt.RoleCredentialsFilterSensitiveLog=O3;Nt.SSO=Dg;Nt.SSOClient=ac;Nt.SSOServiceException=Ao;Nt.TooManyRequestsException=kg;Nt.UnauthorizedException=Ng;Nt.paginateListAccountRoles=HX;Nt.paginateListAccounts=$X});var G3=B(Rx=>{"use strict";var V3=j3();Object.defineProperty(Rx,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return V3.GetRoleCredentialsCommand}});Object.defineProperty(Rx,"SSOClient",{enumerable:!0,get:function(){return V3.SSOClient}})});var vx=B(Hg=>{"use strict";var Lr=Mn(),qg=Is(),K3=(Nr(),ve(Ys)),jX=e3(),X3=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Qd=!1,W3=async({ssoStartUrl:e,ssoSession:n,ssoAccountId:t,ssoRegion:r,ssoRoleName:s,ssoClient:o,clientConfig:a,parentClientConfig:c,profile:l,filepath:d,configFilepath:f,ignoreCache:g,logger:p})=>{let h,b="To refresh this SSO session run aws sso login with the corresponding profile.";if(n)try{let Dt=await jX.fromSso({profile:l,filepath:d,configFilepath:f,ignoreCache:g})();h={accessToken:Dt.token,expiresAt:new Date(Dt.expiration).toISOString()}}catch(Dt){throw new Lr.CredentialsProviderError(Dt.message,{tryNextLink:Qd,logger:p})}else try{h=await qg.getSSOTokenFromFile(e)}catch{throw new Lr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${b}`,{tryNextLink:Qd,logger:p})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Lr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${b}`,{tryNextLink:Qd,logger:p});let{accessToken:T}=h,{SSOClient:I,GetRoleCredentialsCommand:O}=await Promise.resolve().then(function(){return G3()}),W=o||new I(Object.assign({},a??{},{logger:a?.logger??c?.logger,region:a?.region??r})),ce;try{ce=await W.send(new O({accountId:t,roleName:s,accessToken:T}))}catch(Dt){throw new Lr.CredentialsProviderError(Dt,{tryNextLink:Qd,logger:p})}let{roleCredentials:{accessKeyId:me,secretAccessKey:Ce,sessionToken:Ke,expiration:_t,credentialScope:Oe,accountId:ze}={}}=ce;if(!me||!Ce||!Ke||!_t)throw new Lr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Qd,logger:p});let tt={accessKeyId:me,secretAccessKey:Ce,sessionToken:Ke,expiration:new Date(_t),...Oe&&{credentialScope:Oe},...ze&&{accountId:ze}};return n?K3.setCredentialFeature(tt,"CREDENTIALS_SSO","s"):K3.setCredentialFeature(tt,"CREDENTIALS_SSO_LEGACY","u"),tt},Y3=(e,n)=>{let{sso_start_url:t,sso_account_id:r,sso_region:s,sso_role_name:o}=e;if(!t||!r||!s||!o)throw new Lr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:n});return e},VX=(e={})=>async({callerClientConfig:n}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:o,ssoSession:a}=e,{ssoClient:c}=e,l=qg.getProfileName({profile:e.profile??n?.profile});if(!t&&!r&&!s&&!o&&!a){let f=(await qg.parseKnownFiles(e))[l];if(!f)throw new Lr.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!X3(f))throw new Lr.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let O=(await qg.loadSsoSessionData(e))[f.sso_session],W=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(s&&s!==O.sso_region)throw new Lr.CredentialsProviderError("Conflicting SSO region"+W,{tryNextLink:!1,logger:e.logger});if(t&&t!==O.sso_start_url)throw new Lr.CredentialsProviderError("Conflicting SSO start_url"+W,{tryNextLink:!1,logger:e.logger});f.sso_region=O.sso_region,f.sso_start_url=O.sso_start_url}let{sso_start_url:g,sso_account_id:p,sso_region:h,sso_role_name:b,sso_session:T}=Y3(f,e.logger);return W3({ssoStartUrl:g,ssoSession:T,ssoAccountId:p,ssoRegion:h,ssoRoleName:b,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!r||!s||!o)throw new Lr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return W3({ssoStartUrl:t,ssoSession:a,ssoAccountId:r,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Hg.fromSSO=VX;Hg.isSsoProfile=X3;Hg.validateSsoProfile=Y3});function GX(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function KX(e){return{schemeId:"smithy.api#noAuth"}}var Zd,J3,Q3,WX,Z3,Ix=P(()=>{jt();Zd=k(En());eu();J3=async(e,n,t)=>({operation:(0,Zd.getSmithyContext)(n).operation,region:await(0,Zd.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Q3=e=>{let n=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{n.push(KX(e));break}default:n.push(GX(e))}return n},WX=e=>Object.assign(e,{stsClientCtor:as}),Z3=e=>{let n=WX(e),t=oi(n);return Object.assign(t,{authSchemePreference:(0,Zd.normalizeProvider)(e.authSchemePreference??[])})}});var e1,$g,jg=P(()=>{e1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$g={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var u1,we,Ve,To,hn,m1,f1,bt,t1,cs,cc,Nx,n1,kx,g1,r1,pn,s1,h1,p1,An,rr,o1,y1,S1,i1,E1,a1,c1,l1,d1,XX,b1,C1=P(()=>{u1="required",we="type",Ve="argv",To="booleanEquals",hn="stringEquals",m1="sigv4",f1="us-east-1",bt="endpoint",t1="https://sts.{Region}.{PartitionResult#dnsSuffix}",cs="tree",cc="error",Nx="getAttr",n1={[u1]:!1,[we]:"String"},kx={[u1]:!0,default:!1,[we]:"Boolean"},g1={ref:"Endpoint"},r1={fn:"isSet",[Ve]:[{ref:"Region"}]},pn={ref:"Region"},s1={fn:"aws.partition",[Ve]:[pn],assign:"PartitionResult"},h1={ref:"UseFIPS"},p1={ref:"UseDualStack"},An={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:m1,signingName:"sts",signingRegion:f1}]},headers:{}},rr={},o1={conditions:[{fn:hn,[Ve]:[pn,"aws-global"]}],[bt]:An,[we]:bt},y1={fn:To,[Ve]:[h1,!0]},S1={fn:To,[Ve]:[p1,!0]},i1={fn:Nx,[Ve]:[{ref:"PartitionResult"},"supportsFIPS"]},E1={ref:"PartitionResult"},a1={fn:To,[Ve]:[!0,{fn:Nx,[Ve]:[E1,"supportsDualStack"]}]},c1=[{fn:"isSet",[Ve]:[g1]}],l1=[y1],d1=[S1],XX={version:"1.0",parameters:{Region:n1,UseDualStack:kx,UseFIPS:kx,Endpoint:n1,UseGlobalEndpoint:kx},rules:[{conditions:[{fn:To,[Ve]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Ve]:c1},r1,s1,{fn:To,[Ve]:[h1,!1]},{fn:To,[Ve]:[p1,!1]}],rules:[{conditions:[{fn:hn,[Ve]:[pn,"ap-northeast-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"ap-south-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"ap-southeast-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"ap-southeast-2"]}],endpoint:An,[we]:bt},o1,{conditions:[{fn:hn,[Ve]:[pn,"ca-central-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"eu-central-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"eu-north-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"eu-west-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"eu-west-2"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"eu-west-3"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"sa-east-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,f1]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"us-east-2"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"us-west-1"]}],endpoint:An,[we]:bt},{conditions:[{fn:hn,[Ve]:[pn,"us-west-2"]}],endpoint:An,[we]:bt},{endpoint:{url:t1,properties:{authSchemes:[{name:m1,signingName:"sts",signingRegion:"{Region}"}]},headers:rr},[we]:bt}],[we]:cs},{conditions:c1,rules:[{conditions:l1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[we]:cc},{conditions:d1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[we]:cc},{endpoint:{url:g1,properties:rr,headers:rr},[we]:bt}],[we]:cs},{conditions:[r1],rules:[{conditions:[s1],rules:[{conditions:[y1,S1],rules:[{conditions:[{fn:To,[Ve]:[!0,i1]},a1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},[we]:bt}],[we]:cs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[we]:cc}],[we]:cs},{conditions:l1,rules:[{conditions:[{fn:To,[Ve]:[i1,!0]}],rules:[{conditions:[{fn:hn,[Ve]:[{fn:Nx,[Ve]:[E1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:rr,headers:rr},[we]:bt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},[we]:bt}],[we]:cs},{error:"FIPS is enabled but this partition does not support FIPS",[we]:cc}],[we]:cs},{conditions:d1,rules:[{conditions:[a1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},[we]:bt}],[we]:cs},{error:"DualStack is enabled but this partition does not support DualStack",[we]:cc}],[we]:cs},o1,{endpoint:{url:t1,properties:rr,headers:rr},[we]:bt}],[we]:cs}],[we]:cs},{error:"Invalid Configuration: Missing Region",[we]:cc}]},b1=XX});var _1,lc,YX,x1,w1=P(()=>{_1=k(ja()),lc=k(mi());C1();YX=new lc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),x1=(e,n={})=>YX.get(e,()=>(0,lc.resolveEndpoint)(b1,{endpointParams:e,logger:n.logger}));lc.customEndpointFunctions.aws=_1.awsEndpointFunctions});var A1,P1,Vg,Gg,T1,R1=P(()=>{jt();Dn();A1=k(Ie()),P1=k(mo()),Vg=k(fn()),Gg=k(Kt());Ix();w1();T1=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Vg.fromBase64,base64Encoder:e?.base64Encoder??Vg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??x1,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Q3,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Hn},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new _s}],logger:e?.logger??new A1.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??P1.parseUrl,utf8Decoder:e?.utf8Decoder??Gg.fromUtf8,utf8Encoder:e?.utf8Encoder??Gg.toUtf8})});var Kg,vo,v1,Wg,Ro,Xg,I1,k1,N1,O1,B1,D1,M1=P(()=>{ax();jt();Kg=k(Ad()),vo=k(Mr());Dn();v1=k(Pd()),Wg=k(Ns()),Ro=k(ho()),Xg=k(Ko()),I1=k(Td()),k1=k(Ka());R1();N1=k(Ie()),O1=k(vd()),B1=k(Ie()),D1=e=>{(0,B1.emitWarningIfUnsupportedVersion)(process.version);let n=(0,O1.resolveDefaultsModeConfig)(e),t=()=>n().then(N1.loadConfigsForDefaultMode),r=T1(e);ba(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,Ro.loadConfig)(xa,s),bodyLengthChecker:e?.bodyLengthChecker??I1.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Kg.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:cg.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await e.credentialDefaultProvider(a?.__config||{})()),signer:new Hn},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new _s}],maxAttempts:e?.maxAttempts??(0,Ro.loadConfig)(Wg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ro.loadConfig)(vo.NODE_REGION_CONFIG_OPTIONS,{...vo.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Xg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ro.loadConfig)({...Wg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||k1.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??v1.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Xg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ro.loadConfig)(vo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ro.loadConfig)(vo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ro.loadConfig)(Kg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var L1,F1,z1=P(()=>{L1=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(a=>a.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},F1=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Yg,Jg,Qg,U1,q1=P(()=>{Yg=k(kd()),Jg=k(je()),Qg=k(Ie());z1();U1=(e,n)=>{let t=Object.assign((0,Yg.getAwsRegionExtensionConfiguration)(e),(0,Qg.getDefaultExtensionConfiguration)(e),(0,Jg.getHttpHandlerExtensionConfiguration)(e),L1(e));return n.forEach(r=>r.configure(t)),Object.assign(e,(0,Yg.resolveAwsRegionExtensionConfiguration)(t),(0,Qg.resolveDefaultRuntimeConfig)(t),(0,Jg.resolveHttpHandlerRuntimeConfig)(t),F1(t))}});var Zg,H1,$1,eh,j1,V1,G1,th,Ox,as,eu=P(()=>{Zg=k(id()),H1=k(ad()),$1=k(cd()),eh=k(Ga()),j1=k(Mr());Dn();V1=k(ud()),G1=k(ts()),th=k(Ns()),Ox=k(Ie());Ix();jg();M1();q1();as=class extends Ox.Client{config;constructor(...[n]){let t=D1(n||{});super(t),this.initConfig=t;let r=e1(t),s=(0,eh.resolveUserAgentConfig)(r),o=(0,th.resolveRetryConfig)(s),a=(0,j1.resolveRegionConfig)(o),c=(0,Zg.resolveHostHeaderConfig)(a),l=(0,G1.resolveEndpointConfig)(c),d=Z3(l),f=U1(d,n?.extensions||[]);this.config=f,this.middlewareStack.use((0,eh.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,th.getRetryPlugin)(this.config)),this.middlewareStack.use((0,V1.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Zg.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H1.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$1.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(kl(this.config,{httpAuthSchemeParametersProvider:J3,identityProviderConfigProvider:async g=>new ti({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Nl(this.config))}destroy(){super.destroy()}}});var K1,Kn,nh=P(()=>{K1=k(Ie()),Kn=class e extends K1.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}}});var Bx,Dx,Mx,tu,nu,ru,su,ou,iu,Lx,Fx,au,cu=P(()=>{Bx=k(Ie());nh();Dx=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Bx.SENSITIVE_STRING}}),Mx=e=>({...e,...e.Credentials&&{Credentials:Dx(e.Credentials)}}),tu=class e extends Kn{name="ExpiredTokenException";$fault="client";constructor(n){super({name:"ExpiredTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},nu=class e extends Kn{name="MalformedPolicyDocumentException";$fault="client";constructor(n){super({name:"MalformedPolicyDocumentException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ru=class e extends Kn{name="PackedPolicyTooLargeException";$fault="client";constructor(n){super({name:"PackedPolicyTooLargeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},su=class e extends Kn{name="RegionDisabledException";$fault="client";constructor(n){super({name:"RegionDisabledException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ou=class e extends Kn{name="IDPRejectedClaimException";$fault="client";constructor(n){super({name:"IDPRejectedClaimException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},iu=class e extends Kn{name="InvalidIdentityTokenException";$fault="client";constructor(n){super({name:"InvalidIdentityTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Lx=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Bx.SENSITIVE_STRING}}),Fx=e=>({...e,...e.Credentials&&{Credentials:Dx(e.Credentials)}}),au=class e extends Kn{name="IDPCommunicationErrorException";$fault="client";constructor(n){super({name:"IDPCommunicationErrorException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}}});var W1,ke,X1,Y1,J1,Q1,Z1,JX,QX,ZX,e9,t9,n9,r9,s9,o9,eL,i9,a9,c9,l9,d9,u9,tL,m9,f9,nL,g9,h9,p9,y9,S9,E9,b9,Ls,C9,rL,sL,oL,iL,zx,_9,Ux,dc,x9,qx,Hx,uc,$x,mc,jx,Vx,Gx,fc,gc,Kx,Wx,Xx,hc,Yx,pc,yc,Jx,Qx,Ms,Zx,ew,tw,nw,rw,aL,sw,ow,iw,Ut,cL,w9,aw=P(()=>{jt();W1=k(je()),ke=k(Ie());cu();nh();X1=async(e,n)=>{let t=sL,r;return r=cL({...s9(e,n),[iL]:_9,[aL]:oL}),rL(n,t,"/",void 0,r)},Y1=async(e,n)=>{let t=sL,r;return r=cL({...o9(e,n),[iL]:x9,[aL]:oL}),rL(n,t,"/",void 0,r)},J1=async(e,n)=>{if(e.statusCode>=300)return Z1(e,n);let t=await nd(e.body,n),r={};return r=m9(t.AssumeRoleResult,n),{$metadata:Ls(e),...r}},Q1=async(e,n)=>{if(e.statusCode>=300)return Z1(e,n);let t=await nd(e.body,n),r={};return r=f9(t.AssumeRoleWithWebIdentityResult,n),{$metadata:Ls(e),...r}},Z1=async(e,n)=>{let t={...e,body:await yC(e.body,n)},r=w9(e,t.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await JX(t,n);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await t9(t,n);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await n9(t,n);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await r9(t,n);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await QX(t,n);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await ZX(t,n);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await e9(t,n);default:let s=t.body;return C9({output:e,parsedBody:s.Error,errorCode:r})}},JX=async(e,n)=>{let t=e.body,r=g9(t.Error,n),s=new tu({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},QX=async(e,n)=>{let t=e.body,r=h9(t.Error,n),s=new au({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},ZX=async(e,n)=>{let t=e.body,r=p9(t.Error,n),s=new ou({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},e9=async(e,n)=>{let t=e.body,r=y9(t.Error,n),s=new iu({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},t9=async(e,n)=>{let t=e.body,r=S9(t.Error,n),s=new nu({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},n9=async(e,n)=>{let t=e.body,r=E9(t.Error,n),s=new ru({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},r9=async(e,n)=>{let t=e.body,r=b9(t.Error,n),s=new su({$metadata:Ls(e),...r});return(0,ke.decorateServiceException)(s,t)},s9=(e,n)=>{let t={};if(e[pc]!=null&&(t[pc]=e[pc]),e[yc]!=null&&(t[yc]=e[yc]),e[gc]!=null){let r=eL(e[gc],n);e[gc]?.length===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}if(e[fc]!=null&&(t[fc]=e[fc]),e[mc]!=null&&(t[mc]=e[mc]),e[tw]!=null){let r=u9(e[tw],n);e[tw]?.length===0&&(t.Tags=[]),Object.entries(r).forEach(([s,o])=>{let a=`Tags.${s}`;t[a]=o})}if(e[rw]!=null){let r=d9(e[rw],n);e[rw]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(r).forEach(([s,o])=>{let a=`TransitiveTagKeys.${s}`;t[a]=o})}if(e[Vx]!=null&&(t[Vx]=e[Vx]),e[Zx]!=null&&(t[Zx]=e[Zx]),e[nw]!=null&&(t[nw]=e[nw]),e[Ms]!=null&&(t[Ms]=e[Ms]),e[Wx]!=null){let r=c9(e[Wx],n);e[Wx]?.length===0&&(t.ProvidedContexts=[]),Object.entries(r).forEach(([s,o])=>{let a=`ProvidedContexts.${s}`;t[a]=o})}return t},o9=(e,n)=>{let t={};if(e[pc]!=null&&(t[pc]=e[pc]),e[yc]!=null&&(t[yc]=e[yc]),e[ow]!=null&&(t[ow]=e[ow]),e[Xx]!=null&&(t[Xx]=e[Xx]),e[gc]!=null){let r=eL(e[gc],n);e[gc]?.length===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}return e[fc]!=null&&(t[fc]=e[fc]),e[mc]!=null&&(t[mc]=e[mc]),t},eL=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=i9(s,n);Object.entries(o).forEach(([a,c])=>{t[`member.${r}.${a}`]=c}),r++}return t},i9=(e,n)=>{let t={};return e[iw]!=null&&(t[iw]=e[iw]),t},a9=(e,n)=>{let t={};return e[Kx]!=null&&(t[Kx]=e[Kx]),e[$x]!=null&&(t[$x]=e[$x]),t},c9=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=a9(s,n);Object.entries(o).forEach(([a,c])=>{t[`member.${r}.${a}`]=c}),r++}return t},l9=(e,n)=>{let t={};return e[Gx]!=null&&(t[Gx]=e[Gx]),e[sw]!=null&&(t[sw]=e[sw]),t},d9=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},u9=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=l9(s,n);Object.entries(o).forEach(([a,c])=>{t[`member.${r}.${a}`]=c}),r++}return t},tL=(e,n)=>{let t={};return e[Ux]!=null&&(t[Ux]=(0,ke.expectString)(e[Ux])),e[qx]!=null&&(t[qx]=(0,ke.expectString)(e[qx])),t},m9=(e,n)=>{let t={};return e[uc]!=null&&(t[uc]=nL(e[uc],n)),e[dc]!=null&&(t[dc]=tL(e[dc],n)),e[hc]!=null&&(t[hc]=(0,ke.strictParseInt32)(e[hc])),e[Ms]!=null&&(t[Ms]=(0,ke.expectString)(e[Ms])),t},f9=(e,n)=>{let t={};return e[uc]!=null&&(t[uc]=nL(e[uc],n)),e[Qx]!=null&&(t[Qx]=(0,ke.expectString)(e[Qx])),e[dc]!=null&&(t[dc]=tL(e[dc],n)),e[hc]!=null&&(t[hc]=(0,ke.strictParseInt32)(e[hc])),e[Yx]!=null&&(t[Yx]=(0,ke.expectString)(e[Yx])),e[Hx]!=null&&(t[Hx]=(0,ke.expectString)(e[Hx])),e[Ms]!=null&&(t[Ms]=(0,ke.expectString)(e[Ms])),t},nL=(e,n)=>{let t={};return e[zx]!=null&&(t[zx]=(0,ke.expectString)(e[zx])),e[Jx]!=null&&(t[Jx]=(0,ke.expectString)(e[Jx])),e[ew]!=null&&(t[ew]=(0,ke.expectString)(e[ew])),e[jx]!=null&&(t[jx]=(0,ke.expectNonNull)((0,ke.parseRfc3339DateTimeWithOffset)(e[jx]))),t},g9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},h9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},p9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},y9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},S9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},E9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},b9=(e,n)=>{let t={};return e[Ut]!=null&&(t[Ut]=(0,ke.expectString)(e[Ut])),t},Ls=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),C9=(0,ke.withBaseException)(Kn),rL=async(e,n,t,r,s)=>{let{hostname:o,protocol:a="https",port:c,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:n};return r!==void 0&&(d.hostname=r),s!==void 0&&(d.body=s),new W1.HttpRequest(d)},sL={"content-type":"application/x-www-form-urlencoded"},oL="2011-06-15",iL="Action",zx="AccessKeyId",_9="AssumeRole",Ux="AssumedRoleId",dc="AssumedRoleUser",x9="AssumeRoleWithWebIdentity",qx="Arn",Hx="Audience",uc="Credentials",$x="ContextAssertion",mc="DurationSeconds",jx="Expiration",Vx="ExternalId",Gx="Key",fc="Policy",gc="PolicyArns",Kx="ProviderArn",Wx="ProvidedContexts",Xx="ProviderId",hc="PackedPolicySize",Yx="Provider",pc="RoleArn",yc="RoleSessionName",Jx="SecretAccessKey",Qx="SubjectFromWebIdentityToken",Ms="SourceIdentity",Zx="SerialNumber",ew="SessionToken",tw="Tags",nw="TokenCode",rw="TransitiveTagKeys",aL="Version",sw="Value",ow="WebIdentityToken",iw="arn",Ut="message",cL=e=>Object.entries(e).map(([n,t])=>(0,ke.extendedEncodeURIComponent)(n)+"="+(0,ke.extendedEncodeURIComponent)(t)).join("&"),w9=(e,n)=>{if(n.Error?.Code!==void 0)return n.Error.Code;if(e.statusCode==404)return"NotFound"}});var lL,dL,uL,Ci,rh=P(()=>{lL=k(ts()),dL=k(Js()),uL=k(Ie());jg();cu();aw();Ci=class extends uL.Command.classBuilder().ep($g).m(function(n,t,r,s){return[(0,dL.getSerdePlugin)(r,this.serialize,this.deserialize),(0,lL.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Mx).ser(X1).de(J1).build(){}});var mL,fL,gL,_i,sh=P(()=>{mL=k(ts()),fL=k(Js()),gL=k(Ie());jg();cu();aw();_i=class extends gL.Command.classBuilder().ep($g).m(function(n,t,r,s){return[(0,fL.getSerdePlugin)(r,this.serialize,this.deserialize),(0,mL.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Lx,Fx).ser(Y1).de(Q1).build(){}});var hL,A9,oh,pL=P(()=>{hL=k(Ie());rh();sh();eu();A9={AssumeRoleCommand:Ci,AssumeRoleWithWebIdentityCommand:_i},oh=class extends as{};(0,hL.createAggregatedClient)(A9,oh)});var yL=P(()=>{rh();sh()});var SL=P(()=>{cu()});var EL,bL,CL,_L,xL,wL,AL=P(()=>{Nr();rh();sh();EL="us-east-1",bL=e=>{if(typeof e?.Arn=="string"){let n=e.Arn.split(":");if(n.length>4&&n[4]!=="")return n[4]}},CL=async(e,n,t)=>{let r=typeof e=="function"?await e():e,s=typeof n=="function"?await n():n;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (provider)`,`${s} (parent client)`,`${EL} (STS default)`),r??s??EL},_L=(e,n)=>{let t,r;return async(s,o)=>{if(r=s,!t){let{logger:f=e?.parentClientConfig?.logger,profile:g=e?.parentClientConfig?.profile,region:p,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:b}=e,T=await CL(p,e?.parentClientConfig?.region,b),I=!wL(h);t=new n({...e,profile:g,credentialDefaultProvider:()=>async()=>r,region:T,requestHandler:I?h:void 0,logger:f})}let{Credentials:a,AssumedRoleUser:c}=await t.send(new Ci(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=bL(c),d={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...l&&{accountId:l}};return Xs(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},xL=(e,n)=>{let t;return async r=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:f,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:p}=e,h=await CL(f,e?.parentClientConfig?.region,p),b=!wL(g);t=new n({...e,profile:d,region:h,requestHandler:b?g:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new _i(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let a=bL(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...a&&{accountId:a}};return a&&Xs(c,"RESOLVED_ACCOUNT_ID","T"),Xs(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},wL=e=>e?.metadata?.handlerProtocol==="h2"});var PL,TL,RL,P9,vL=P(()=>{AL();eu();PL=(e,n)=>n?class extends e{constructor(r){super(r);for(let s of n)this.middlewareStack.use(s)}}:e,TL=(e={},n)=>_L(e,PL(as,n)),RL=(e={},n)=>xL(e,PL(as,n)),P9=e=>n=>e({roleAssumer:TL(n),roleAssumerWithWebIdentity:RL(n),...n})});var cw={};cr(cw,{AssumeRoleCommand:()=>Ci,AssumeRoleResponseFilterSensitiveLog:()=>Mx,AssumeRoleWithWebIdentityCommand:()=>_i,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Lx,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Fx,CredentialsFilterSensitiveLog:()=>Dx,ExpiredTokenException:()=>tu,IDPCommunicationErrorException:()=>au,IDPRejectedClaimException:()=>ou,InvalidIdentityTokenException:()=>iu,MalformedPolicyDocumentException:()=>nu,PackedPolicyTooLargeException:()=>ru,RegionDisabledException:()=>su,STS:()=>oh,STSClient:()=>as,STSServiceException:()=>Kn,__Client:()=>Ox.Client,decorateDefaultCredentialProvider:()=>P9,getDefaultRoleAssumer:()=>TL,getDefaultRoleAssumerWithWebIdentity:()=>RL});var lw=P(()=>{eu();pL();yL();SL();vL();nh()});var mw=B(IL=>{"use strict";var uw=Is(),dw=Mn(),T9=require("child_process"),R9=require("util"),v9=(Nr(),ve(Ys)),I9=(e,n,t)=>{if(n.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(n.AccessKeyId===void 0||n.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(n.Expiration){let o=new Date;if(new Date(n.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let r=n.AccountId;!r&&t?.[e]?.aws_account_id&&(r=t[e].aws_account_id);let s={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,...n.SessionToken&&{sessionToken:n.SessionToken},...n.Expiration&&{expiration:new Date(n.Expiration)},...n.CredentialScope&&{credentialScope:n.CredentialScope},...r&&{accountId:r}};return v9.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},k9=async(e,n,t)=>{let r=n[e];if(n[e]){let s=r.credential_process;if(s!==void 0){let o=R9.promisify(uw.externalDataInterceptor?.getTokenRecord?.().exec??T9.exec);try{let{stdout:a}=await o(s),c;try{c=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return I9(e,c,n)}catch(a){throw new dw.CredentialsProviderError(a.message,{logger:t})}}else throw new dw.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new dw.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},N9=(e={})=>async({callerClientConfig:n}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await uw.parseKnownFiles(e);return k9(uw.getProfileName({profile:e.profile??n?.profile}),t,e.logger)};IL.fromProcess=N9});var fw=B(ls=>{"use strict";var O9=ls&&ls.__createBinding||(Object.create?(function(e,n,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,s)}):(function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]})),B9=ls&&ls.__setModuleDefault||(Object.create?(function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}):function(e,n){e.default=n}),D9=ls&&ls.__importStar||(function(){var e=function(n){return e=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},e(n)};return function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var r=e(n),s=0;s<r.length;s++)r[s]!=="default"&&O9(t,n,r[s]);return B9(t,n),t}})();Object.defineProperty(ls,"__esModule",{value:!0});ls.fromWebToken=void 0;var M9=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:s,providerId:o,policyArns:a,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>D9((lw(),ve(cw))));d=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:a,Policy:c,DurationSeconds:l})};ls.fromWebToken=M9});var NL=B(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.fromTokenFile=void 0;var L9=(Nr(),ve(Ys)),F9=Mn(),z9=Is(),U9=require("fs"),q9=fw(),kL="AWS_WEB_IDENTITY_TOKEN_FILE",H9="AWS_ROLE_ARN",$9="AWS_ROLE_SESSION_NAME",j9=(e={})=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[kL],r=e?.roleArn??process.env[H9],s=e?.roleSessionName??process.env[$9];if(!t||!r)throw new F9.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,q9.fromWebToken)({...e,webIdentityToken:z9.externalDataInterceptor?.getTokenRecord?.()[t]??(0,U9.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:s})(n);return t===process.env[kL]&&(0,L9.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};ih.fromTokenFile=j9});var gw=B(lu=>{"use strict";var OL=NL(),BL=fw();Object.keys(OL).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return OL[e]}})});Object.keys(BL).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return BL[e]}})})});var UL=B(zL=>{"use strict";var pw=Is(),du=Mn(),Io=(Nr(),ve(Ys)),V9=(e,n,t)=>{let r={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>k(sx())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>k(xd()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>du.chain(o(s??{}),a(s))().then(hw)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>k(xd()));return async()=>o(s)().then(hw)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>k(Y_()));return async()=>o(s)().then(hw)}};if(e in r)return r[e];throw new du.CredentialsProviderError(`Unsupported credential source in profile ${n}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},hw=e=>Io.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),G9=(e,{profile:n="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(K9(e,{profile:n,logger:t})||W9(e,{profile:n,logger:t})),K9=(e,{profile:n,logger:t})=>{let r=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return r&&t?.debug?.(`    ${n} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),r},W9=(e,{profile:n,logger:t})=>{let r=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return r&&t?.debug?.(`    ${n} isCredentialSourceProfile credential_source=${e.credential_source}`),r},X9=async(e,n,t,r={},s)=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=n[e],{source_profile:a,region:c}=o;if(!t.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(lw(),cw));t.roleAssumer=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:c??t?.parentClientConfig?.region}},t.clientPlugins)}if(a&&a in r)throw new du.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${pw.getProfileName(t)}. Profiles visited: `+Object.keys(r).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let l=a?s(a,n,t,{...r,[a]:!0},DL(n[a]??{})):(await V9(o.credential_source,e,t.logger)(t))();if(DL(o))return l.then(d=>Io.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:f}=o;if(f){if(!t.mfaCodeProvider)throw new du.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});d.SerialNumber=f,d.TokenCode=await t.mfaCodeProvider(f)}let g=await l;return t.roleAssumer(g,d).then(p=>Io.setCredentialFeature(p,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},DL=e=>!e.role_arn&&!!e.credential_source,Y9=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",J9=async(e,n)=>Promise.resolve().then(()=>k(mw())).then(({fromProcess:t})=>t({...e,profile:n})().then(r=>Io.setCredentialFeature(r,"CREDENTIALS_PROFILE_PROCESS","v"))),Q9=async(e,n,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>k(vx()));return r({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>n.sso_session?Io.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Io.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},Z9=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ML=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,LL=async(e,n)=>{n?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Io.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},e7=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,t7=async(e,n)=>Promise.resolve().then(()=>k(gw())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:n.roleAssumerWithWebIdentity,logger:n.logger,parentClientConfig:n.parentClientConfig})().then(r=>Io.setCredentialFeature(r,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),FL=async(e,n,t,r={},s=!1)=>{let o=n[e];if(Object.keys(r).length>0&&ML(o))return LL(o,t);if(s||G9(o,{profile:e,logger:t.logger}))return X9(e,n,t,r,FL);if(ML(o))return LL(o,t);if(e7(o))return t7(o,t);if(Y9(o))return J9(t,e);if(Z9(o))return await Q9(e,o,t);throw new du.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},n7=(e={})=>async({callerClientConfig:n}={})=>{let t={...e,parentClientConfig:{...n,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await pw.parseKnownFiles(t);return FL(pw.getProfileName({profile:e.profile??n?.profile}),r,t)};zL.fromIni=n7});var VL=B(ah=>{"use strict";var yw=Y_(),xi=Mn(),r7=Is(),qL="AWS_EC2_METADATA_DISABLED",s7=async e=>{let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:r,fromInstanceMetadata:s}=await Promise.resolve().then(()=>k(xd()));if(process.env[t]||process.env[n]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>k(sx()));return xi.chain(o(e),r(e))}return process.env[qL]&&process.env[qL]!=="false"?async()=>{throw new xi.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},HL=!1,o7=(e={})=>xi.memoize(xi.chain(async()=>{if(e.profile??process.env[r7.ENV_PROFILE])throw process.env[yw.ENV_KEY]&&process.env[yw.ENV_SECRET]&&(HL||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),HL=!0)),new xi.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),yw.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:n,ssoAccountId:t,ssoRegion:r,ssoRoleName:s,ssoSession:o}=e;if(!n&&!t&&!r&&!s&&!o)throw new xi.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>k(vx()));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:n}=await Promise.resolve().then(()=>k(UL()));return n(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:n}=await Promise.resolve().then(()=>k(mw()));return n(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:n}=await Promise.resolve().then(()=>k(gw()));return n(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await s7(e))()),async()=>{throw new xi.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),jL,$L),$L=e=>e?.expiration!==void 0,jL=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;ah.credentialsTreatedAsExpired=jL;ah.credentialsWillNeedRefresh=$L;ah.defaultProvider=o7});var cF=B(qt=>{"use strict";var ko=xf(),GL=qC(),i7=je(),KL="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",WL="s3_disable_multiregion_access_points",a7={environmentVariableSelector:e=>ko.booleanSelector(e,KL,ko.SelectorType.ENV),configFileSelector:e=>ko.booleanSelector(e,WL,ko.SelectorType.CONFIG),default:!1},XL="AWS_S3_USE_ARN_REGION",YL="s3_use_arn_region",c7={environmentVariableSelector:e=>ko.booleanSelector(e,XL,ko.SelectorType.ENV),configFileSelector:e=>ko.booleanSelector(e,YL,ko.SelectorType.CONFIG),default:void 0},l7=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,d7=/(\d+\.){3}\d+/,u7=/\.\./,JL=/\./,m7=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,QL=/^s3(-external-1)?\.amazonaws\.com$/,Sw="amazonaws.com",f7=e=>typeof e.bucketName=="string",g7=e=>l7.test(e)&&!d7.test(e)&&!u7.test(e),ZL=e=>{let n=e.match(m7);return[n[4],e.replace(new RegExp(`^${n[0]}`),"")]},h7=e=>QL.test(e)?["us-east-1",Sw]:ZL(e),eF=e=>QL.test(e)?[e.replace(`.${Sw}`,""),Sw]:ZL(e),p7=e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},y7=e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},S7=e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},tF=e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},nF=(e,n)=>{if(e!==n.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${n.clientPartition}"`)},E7=(e,n)=>{},bw=e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},rF=e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Sc=(e,n={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||n?.tlsCompatible&&JL.test(e))throw new Error(`Invalid DNS label ${e}`)},b7=e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},sF=e=>{let n=e.includes(":")?":":"/",[t,...r]=e.split(n);if(t==="accesspoint"){if(r.length!==1||r[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${n}{accesspointname}`);return{accesspointName:r[0]}}else if(t==="outpost"){if(!r[0]||r[1]!=="accesspoint"||!r[2]||r.length!==3)throw new Error(`Outpost ARN should have resource outpost${n}{outpostId}${n}accesspoint${n}{accesspointName}`);let[s,o,a]=r;return{outpostId:s,accesspointName:a}}else throw new Error(`ARN resource should begin with 'accesspoint${n}' or 'outpost${n}'`)},C7=e=>{},oF=e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},_7=e=>{try{e.split(".").forEach(n=>{Sc(n)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},Ew=e=>(b7(e),f7(e)?x7(e):w7(e)),x7=({accelerateEndpoint:e=!1,clientRegion:n,baseHostname:t,bucketName:r,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,pathStyleEndpoint:a=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[d,f]=l?[n,t]:h7(t);return a||!g7(r)||c&&JL.test(r)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${f}`:t}:(e?t=`s3-accelerate${s?".dualstack":""}.${f}`:s&&(t=`s3.dualstack.${d}.${f}`),{bucketEndpoint:!0,hostname:`${r}.${t}`})},w7=e=>{let{isCustomEndpoint:n,baseHostname:t,clientRegion:r}=e,s=n?t:eF(t)[1],{pathStyleEndpoint:o,accelerateEndpoint:a=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:d,clientPartition:f="aws"}=e;p7({pathStyleEndpoint:o,accelerateEndpoint:a,tlsCompatible:l});let{service:g,partition:p,accountId:h,region:b,resource:T}=d;y7(g),nF(p,{clientPartition:f}),rF(h);let{accesspointName:I,outpostId:O}=sF(T);return g==="s3-object-lambda"?A7({...e,tlsCompatible:l,bucketName:d,accesspointName:I,hostnameSuffix:s}):b===""?P7({...e,mrapAlias:I,hostnameSuffix:s}):O?T7({...e,clientRegion:r,outpostId:O,accesspointName:I,hostnameSuffix:s}):R7({...e,clientRegion:r,accesspointName:I,hostnameSuffix:s})},A7=({dualstackEndpoint:e=!1,fipsEndpoint:n=!1,tlsCompatible:t=!0,useArnRegion:r,clientRegion:s,clientSigningRegion:o=s,accesspointName:a,bucketName:c,hostnameSuffix:l})=>{let{accountId:d,region:f,service:g}=c;bw(s);let p=`${a}-${d}`;Sc(p,{tlsCompatible:t});let h=r?f:s,b=r?f:o;return{bucketEndpoint:!0,hostname:`${p}.${g}${n?"-fips":""}.${h}.${l}`,signingRegion:b,signingService:g}},P7=({disableMultiregionAccessPoints:e,dualstackEndpoint:n=!1,isCustomEndpoint:t,mrapAlias:r,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return _7(r),{bucketEndpoint:!0,hostname:`${r}${t?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},T7=({useArnRegion:e,clientRegion:n,clientSigningRegion:t=n,bucketName:r,outpostId:s,dualstackEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:d,hostnameSuffix:f})=>{bw(n);let g=`${l}-${r.accountId}`;Sc(g,{tlsCompatible:c});let p=e?r.region:n,h=e?r.region:t;return tF(r.service),Sc(s,{tlsCompatible:c}),oF(a),{bucketEndpoint:!0,hostname:`${`${g}.${s}`}${d?"":`.s3-outposts.${p}`}.${f}`,signingRegion:h,signingService:"s3-outposts"}},R7=({useArnRegion:e,clientRegion:n,clientSigningRegion:t=n,bucketName:r,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{bw(n);let f=`${c}-${r.accountId}`;Sc(f,{tlsCompatible:a});let g=e?r.region:n,p=e?r.region:t;return S7(r.service),{bucketEndpoint:!0,hostname:`${f}${l?"":`.s3-accesspoint${o?"-fips":""}${s?".dualstack":""}.${g}`}.${d}`,signingRegion:p}},iF=e=>(n,t)=>async r=>{let{Bucket:s}=r.input,o=e.bucketEndpoint,a=r.request;if(i7.HttpRequest.isInstance(a)){if(e.bucketEndpoint)a.hostname=s;else if(GL.validate(s)){let c=GL.parse(s),l=await e.region(),d=await e.useDualstackEndpoint(),f=await e.useFipsEndpoint(),{partition:g,signingRegion:p=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:d,useFipsEndpoint:f})||{},h=await e.useArnRegion(),{hostname:b,bucketEndpoint:T,signingRegion:I,signingService:O}=Ew({bucketName:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:f,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:g,clientSigningRegion:p,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});I&&I!==p&&(t.signing_region=I),O&&O!=="s3"&&(t.signing_service=O),a.hostname=b,o=T}else{let c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=Ew({bucketName:s,clientRegion:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});a.hostname=f,o=g}o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/"))}return n({...r,request:a})},aF={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},v7=e=>({applyToStack:n=>{n.addRelativeTo(iF(e),aF)}});function I7(e){let{bucketEndpoint:n=!1,forcePathStyle:t=!1,useAccelerateEndpoint:r=!1,useArnRegion:s,disableMultiregionAccessPoints:o=!1}=e;return Object.assign(e,{bucketEndpoint:n,forcePathStyle:t,useAccelerateEndpoint:r,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)})}qt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS=a7;qt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME=KL;qt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME=WL;qt.NODE_USE_ARN_REGION_CONFIG_OPTIONS=c7;qt.NODE_USE_ARN_REGION_ENV_NAME=XL;qt.NODE_USE_ARN_REGION_INI_NAME=YL;qt.bucketEndpointMiddleware=iF;qt.bucketEndpointMiddlewareOptions=aF;qt.bucketHostname=Ew;qt.getArnResources=sF;qt.getBucketEndpointPlugin=v7;qt.getSuffixForArnEndpoint=eF;qt.resolveBucketEndpointConfig=I7;qt.validateAccountId=rF;qt.validateDNSHostLabel=Sc;qt.validateNoDualstack=C7;qt.validateNoFIPS=oF;qt.validateOutpostService=tF;qt.validatePartition=nF;qt.validateRegion=E7});var fF=B(Oo=>{"use strict";var uF=gf(),wi=im(),Ec=class e{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(n));r>-1&&s>0;r--,s/=256)t[r]=s;return n<0&&lF(t),new e(t)}valueOf(){let n=this.bytes.slice(0),t=n[0]&128;return t&&lF(n),parseInt(wi.toHex(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function lF(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}var ch=class{toUtf8;fromUtf8;constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){let t=[];for(let o of Object.keys(n)){let a=this.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[o]))}let r=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(n.value,3),a;case"string":let c=this.fromUtf8(n.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Ec.fromNumber(n.value.valueOf()).bytes,1),f;case"uuid":if(!z7.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(wi.fromHex(n.value.replace(/\-/g,"")),1),g}}parse(n){let t={},r=0;for(;r<n.byteLength;){let s=n.getUint8(r++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,s));switch(r+=s,n.getUint8(r++)){case 0:t[o]={type:dF,value:!0};break;case 1:t[o]={type:dF,value:!1};break;case 2:t[o]={type:k7,value:n.getInt8(r++)};break;case 3:t[o]={type:N7,value:n.getInt16(r,!1)},r+=2;break;case 4:t[o]={type:O7,value:n.getInt32(r,!1)},r+=4;break;case 5:t[o]={type:B7,value:new Ec(new Uint8Array(n.buffer,n.byteOffset+r,8))},r+=8;break;case 6:let a=n.getUint16(r,!1);r+=2,t[o]={type:D7,value:new Uint8Array(n.buffer,n.byteOffset+r,a)},r+=a;break;case 7:let c=n.getUint16(r,!1);r+=2,t[o]={type:M7,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,c))},r+=c;break;case 8:t[o]={type:L7,value:new Date(new Ec(new Uint8Array(n.buffer,n.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let l=new Uint8Array(n.buffer,n.byteOffset+r,16);r+=16,t[o]={type:F7,value:`${wi.toHex(l.subarray(0,4))}-${wi.toHex(l.subarray(4,6))}-${wi.toHex(l.subarray(6,8))}-${wi.toHex(l.subarray(8,10))}-${wi.toHex(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},dF="boolean",k7="byte",N7="short",O7="integer",B7="long",D7="binary",M7="string",L7="timestamp",F7="uuid",z7=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,mF=4,No=mF*2,Ai=4,U7=No+Ai*2;function q7({byteLength:e,byteOffset:n,buffer:t}){if(e<U7)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(t,n,e),s=r.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=r.getUint32(mF,!1),a=r.getUint32(No,!1),c=r.getUint32(e-Ai,!1),l=new uF.Crc32().update(new Uint8Array(t,n,No));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,n+No,e-(No+Ai))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,n+No+Ai,o),body:new Uint8Array(t,n+No+Ai+o,s-o-(No+Ai+Ai))}}var Cw=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(n,t){this.headerMarshaller=new ch(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){let n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return n},isEndOfStream(){return t}}}getAvailableMessages(){let n=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return n},isEndOfStream(){return t}}}encode({headers:n,body:t}){let r=this.headerMarshaller.format(n),s=r.byteLength+t.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new uF.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(t,r.byteLength+12),a.setUint32(s-4,c.update(o.subarray(8,s-4)).digest(),!1),o}decode(n){let{headers:t,body:r}=q7(n);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(n){return this.headerMarshaller.format(n)}},_w=class{options;constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let n of this.options.inputStream)yield this.options.decoder.decode(n)}},xw=class{options;constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let n of this.options.messageStream)yield this.options.encoder.encode(n);this.options.includeEndFrame&&(yield new Uint8Array(0))}},ww=class{options;constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let n of this.options.messageStream){let t=await this.options.deserializer(n);t!==void 0&&(yield t)}}},Aw=class{options;constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let n of this.options.inputStream)yield this.options.serializer(n)}};Oo.EventStreamCodec=Cw;Oo.HeaderMarshaller=ch;Oo.Int64=Ec;Oo.MessageDecoderStream=_w;Oo.MessageEncoderStream=xw;Oo.SmithyMessageDecoderStream=ww;Oo.SmithyMessageEncoderStream=Aw});var gF=B(Pw=>{"use strict";var uu=fF();function H7(e){let n=0,t=0,r=null,s=null,o=c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);n=c,t=4,r=new Uint8Array(c),new DataView(r.buffer).setUint32(0,c,!1)},a=async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await c.next();if(d){if(n)if(n===t)yield r;else throw new Error("Truncated event message received.");else return;return}let f=l.length,g=0;for(;g<f;){if(!r){let h=f-g;s||(s=new Uint8Array(4));let b=Math.min(4-t,h);if(s.set(l.slice(g,g+b),t),t+=b,g+=b,t<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let p=Math.min(n-t,f-g);r.set(l.slice(g,g+p),t),t+=p,g+=p,n&&n===t&&(yield r,r=null,n=0,t=0)}}};return{[Symbol.asyncIterator]:a}}function $7(e,n){return async function(t){let{value:r}=t.headers[":message-type"];if(r==="error"){let s=new Error(t.headers[":error-message"].value||"UnknownError");throw s.name=t.headers[":error-code"].value,s}else if(r==="exception"){let s=t.headers[":exception-type"].value,o={[s]:t},a=await e(o);if(a.$unknown){let c=new Error(n(t.body));throw c.name=s,c}throw a[s]}else if(r==="event"){let s={[t.headers[":event-type"].value]:t},o=await e(s);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}var lh=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new uu.EventStreamCodec(n,t),this.utfEncoder=n}deserialize(n,t){let r=H7(n);return new uu.SmithyMessageDecoderStream({messageStream:new uu.MessageDecoderStream({inputStream:r,decoder:this.eventStreamCodec}),deserializer:$7(t,this.utfEncoder)})}serialize(n,t){return new uu.MessageEncoderStream({messageStream:new uu.SmithyMessageEncoderStream({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},j7=e=>new lh(e);Pw.EventStreamMarshaller=lh;Pw.eventStreamSerdeProvider=j7});var hF=B(Tw=>{"use strict";var V7=gF(),G7=require("stream");async function*K7(e){let n=!1,t=!1,r=new Array;for(e.on("error",s=>{if(n||(n=!0),s)throw s}),e.on("data",s=>{r.push(s)}),e.on("end",()=>{n=!0});!t;){let s=await new Promise(o=>setTimeout(()=>o(r.shift()),0));s&&(yield s),t=n&&r.length===0}}var dh=class{universalMarshaller;constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new V7.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){let r=typeof n[Symbol.asyncIterator]=="function"?n:K7(n);return this.universalMarshaller.deserialize(r,t)}serialize(n,t){return G7.Readable.from(this.universalMarshaller.serialize(n,t))}},W7=e=>new dh(e);Tw.EventStreamMarshaller=dh;Tw.eventStreamSerdeProvider=W7});var pF=B(Rw=>{"use strict";var X7=require("fs"),Y7=Kt(),J7=require("stream"),uh=class extends J7.Writable{hash;constructor(n,t){super(t),this.hash=n}_write(n,t,r){try{this.hash.update(Y7.toUint8Array(n))}catch(s){return r(s)}r()}},Q7=(e,n)=>new Promise((t,r)=>{if(!Z7(n)){r(new Error("Unable to calculate hash for non-file streams."));return}let s=X7.createReadStream(n.path,{start:n.start,end:n.end}),o=new e,a=new uh(o);s.pipe(a),s.on("error",c=>{a.end(),r(c)}),a.on("error",r),a.on("finish",function(){o.digest().then(t).catch(r)})}),Z7=e=>typeof e.path=="string",eY=(e,n)=>{if(n.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let t=new e,r=new uh(t);return n.pipe(r),new Promise((s,o)=>{n.on("error",a=>{r.end(),o(a)}),r.on("error",o),r.on("finish",()=>{t.digest().then(s).catch(o)})})};Rw.fileStreamHasher=Q7;Rw.readableStreamHasher=eY});var CF=B(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.getRuntimeConfig=void 0;var yF=(jt(),ve(ur)),tY=$f(),nY=Ie(),rY=mo(),SF=fn(),EF=Wo(),bF=Kt(),sY=X_(),oY=W_(),iY=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??SF.fromBase64,base64Encoder:e?.base64Encoder??SF.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oY.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??EF.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sY.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new yF.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new yF.AwsSdkSigV4ASigner}],logger:e?.logger??new nY.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??EF.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??tY.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??rY.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??bF.fromUtf8,utf8Encoder:e?.utf8Encoder??bF.toUtf8});mh.getRuntimeConfig=iY});var PF=B(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.getRuntimeConfig=void 0;var aY=(Yr(),ve(Xr)),cY=aY.__importDefault(hD()),vw=(jt(),ve(ur)),lY=VL(),dY=cF(),_F=DC(),uY=Rf(),xF=Ad(),fh=Mr(),mY=hF(),Iw=Pd(),fY=pF(),wF=Ns(),br=ho(),AF=Ko(),gY=Td(),hY=Ka(),pY=CF(),yY=Ie(),SY=vd(),EY=Ie(),bY=e=>{(0,EY.emitWarningIfUnsupportedVersion)(process.version);let n=(0,SY.resolveDefaultsModeConfig)(e),t=()=>n().then(yY.loadConfigsForDefaultMode),r=(0,pY.getRuntimeConfig)(e);(0,vw.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,br.loadConfig)(vw.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??gY.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??lY.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,xF.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:cY.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,br.loadConfig)(uY.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??mY.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,br.loadConfig)(wF.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??Iw.Hash.bind(null,"md5"),region:e?.region??(0,br.loadConfig)(fh.NODE_REGION_CONFIG_OPTIONS,{...fh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,br.loadConfig)(_F.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:AF.NodeHttpHandler.create(e?.requestHandler??t),responseChecksumValidation:e?.responseChecksumValidation??(0,br.loadConfig)(_F.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,br.loadConfig)({...wF.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||hY.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??Iw.Hash.bind(null,"sha1"),sha256:e?.sha256??Iw.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,br.loadConfig)(vw.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??AF.streamCollector,streamHasher:e?.streamHasher??fY.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,br.loadConfig)(dY.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,br.loadConfig)(fh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,br.loadConfig)(fh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,br.loadConfig)(xF.NODE_APP_ID_CONFIG_OPTIONS,s)}};gh.getRuntimeConfig=bY});var IF=B(mu=>{"use strict";function TF(e){return n=>async t=>{let r={...t.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=r[o.target];if(a){let c;typeof a=="string"?vF(a,e)?c=e.base64Decoder(a):(c=e.utf8Decoder(a),r[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),r[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),r[o.hash]=e.base64Encoder(await l.digest())}}return n({...t,input:r})}}var RF={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},CY=e=>({applyToStack:n=>{n.add(TF(e),RF)}});function vF(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return n.base64Decoder(e).length===32}catch{return!1}}mu.getSsecPlugin=CY;mu.isValidBase64EncodedSSECustomerKey=vF;mu.ssecMiddleware=TF;mu.ssecMiddlewareOptions=RF});var OF=B(hh=>{"use strict";function kF(e){return n=>async t=>{let{CreateBucketConfiguration:r}=t.input,s=await e.region();return!r?.LocationConstraint&&!r?.Location&&s!=="us-east-1"&&(t.input.CreateBucketConfiguration=t.input.CreateBucketConfiguration??{},t.input.CreateBucketConfiguration.LocationConstraint=s),n(t)}}var NF={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},_Y=e=>({applyToStack:n=>{n.add(kF(e),NF)}});hh.getLocationConstraintPlugin=_Y;hh.locationConstraintMiddleware=kF;hh.locationConstraintMiddlewareOptions=NF});var LF=B(zn=>{"use strict";var xY=e=>new Promise(n=>setTimeout(n,e*1e3)),MF={minDelay:2,maxDelay:120};zn.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(zn.WaiterState||(zn.WaiterState={}));var wY=e=>{if(e.state===zn.WaiterState.ABORTED){let n=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw n.name="AbortError",n}else if(e.state===zn.WaiterState.TIMEOUT){let n=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw n.name="TimeoutError",n}else if(e.state!==zn.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},AY=(e,n,t,r)=>{if(r>t)return n;let s=e*2**(r-1);return PY(e,s)},PY=(e,n)=>e+Math.random()*(n-e),TY=async({minDelay:e,maxDelay:n,maxWaitTime:t,abortController:r,client:s,abortSignal:o},a,c)=>{let l={},{state:d,reason:f}=await c(s,a);if(f){let b=BF(f);l[b]|=0,l[b]+=1}if(d!==zn.WaiterState.RETRY)return{state:d,reason:f,observedResponses:l};let g=1,p=Date.now()+t*1e3,h=Math.log(n/e)/Math.log(2)+1;for(;;){if(r?.signal?.aborted||o?.aborted){let O="AbortController signal aborted.";return l[O]|=0,l[O]+=1,{state:zn.WaiterState.ABORTED,observedResponses:l}}let b=AY(e,n,h,g);if(Date.now()+b*1e3>p)return{state:zn.WaiterState.TIMEOUT,observedResponses:l};await xY(b);let{state:T,reason:I}=await c(s,a);if(I){let O=BF(I);l[O]|=0,l[O]+=1}if(T!==zn.WaiterState.RETRY)return{state:T,reason:I,observedResponses:l};g+=1}},BF=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),RY=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},DF=e=>{let n,t=new Promise(r=>{n=()=>r({state:zn.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",n):e.onabort=n});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",n)},aborted:t}},vY=async(e,n,t)=>{let r={...MF,...e};RY(r);let s=[TY(r,n,t)],o=[];if(e.abortSignal){let{aborted:a,clearListener:c}=DF(e.abortSignal);o.push(c),s.push(a)}if(e.abortController?.signal){let{aborted:a,clearListener:c}=DF(e.abortController.signal);o.push(c),s.push(a)}return Promise.race(s).then(a=>{for(let c of o)c();return a})};zn.checkExceptions=wY;zn.createWaiter=vY;zn.waiterServiceDefaults=MF});var $q=B(S=>{"use strict";var IY=qA(),Qe=DC(),FF=id(),kY=ad(),NY=cd(),ee=Rf(),zF=Ga(),OY=Mr(),z=(Dn(),ve(ni)),BY=jN(),DY=ud(),q=ts(),UF=Ns(),i=Ie(),qF=X_(),H=Js(),fe=(jt(),ve(ur)),E=ed(),d0=je(),MY=wm(),LY=PF(),HF=kd(),Hr=IF(),FY=OF(),Ot=LF(),zY=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),$={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ln=class e extends i.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}},UY={requester:"requester"},qY={requester:"requester"},rp=class e extends ln{name="NoSuchUpload";$fault="client";constructor(n){super({name:"NoSuchUpload",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},HY={Enabled:"Enabled",Suspended:"Suspended"},$Y={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},jY={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},VY={Destination:"Destination"},GY={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},KY={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},WY={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},XY={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},YY={COPY:"COPY",REPLACE:"REPLACE"},JY={OFF:"OFF",ON:"ON"},QY={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},ZY={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},eJ={COPY:"COPY",REPLACE:"REPLACE"},sp=class e extends ln{name="ObjectNotInActiveTierError";$fault="client";constructor(n){super({name:"ObjectNotInActiveTierError",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},op=class e extends ln{name="BucketAlreadyExists";$fault="client";constructor(n){super({name:"BucketAlreadyExists",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ip=class e extends ln{name="BucketAlreadyOwnedByYou";$fault="client";constructor(n){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},tJ={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},nJ={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},rJ={Directory:"Directory"},sJ={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},oJ={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},iJ={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},aJ={DISABLED:"DISABLED",ENABLED:"ENABLED"},cJ={AES256:"AES256",aws_kms:"aws:kms"},lJ={DISABLED:"DISABLED",ENABLED:"ENABLED"},dJ={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},ap=class e extends ln{name="NoSuchBucket";$fault="client";constructor(n){super({name:"NoSuchBucket",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}};S.AnalyticsFilter=void 0;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(S.AnalyticsFilter||(S.AnalyticsFilter={}));var uJ={CSV:"CSV"},mJ={V_1:"V_1"},fJ={Disabled:"Disabled",Enabled:"Enabled"},gJ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},hJ={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},pJ={All:"All",Current:"Current"},yJ={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},SJ={Daily:"Daily",Weekly:"Weekly"},EJ={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},bJ={Disabled:"Disabled",Enabled:"Enabled"},CJ={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},_J={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},xJ={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},wJ={aws:"aws",customer:"customer"};S.MetricsFilter=void 0;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.AccessPointArn!==void 0?t.AccessPointArn(n.AccessPointArn):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(S.MetricsFilter||(S.MetricsFilter={}));var AJ={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},PJ={prefix:"prefix",suffix:"suffix"},TJ={Disabled:"Disabled",Enabled:"Enabled"},RJ={Disabled:"Disabled",Enabled:"Enabled"},vJ={Disabled:"Disabled",Enabled:"Enabled"},IJ={Disabled:"Disabled",Enabled:"Enabled"},kJ={Disabled:"Disabled",Enabled:"Enabled"},NJ={Disabled:"Disabled",Enabled:"Enabled"},OJ={Disabled:"Disabled",Enabled:"Enabled"},BJ={BucketOwner:"BucketOwner",Requester:"Requester"},DJ={Disabled:"Disabled",Enabled:"Enabled"},MJ={Enabled:"Enabled",Suspended:"Suspended"},LJ={http:"http",https:"https"},FJ={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},zJ={ENABLED:"ENABLED"},cp=class e extends ln{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(n){super({name:"InvalidObjectState",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=n.StorageClass,this.AccessTier=n.AccessTier}},lp=class e extends ln{name="NoSuchKey";$fault="client";constructor(n){super({name:"NoSuchKey",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},UJ={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},qJ={Enabled:"Enabled"},HJ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},dp=class e extends ln{name="NotFound";$fault="client";constructor(n){super({name:"NotFound",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},$J={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},jJ={url:"url"},yz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),Sz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Ez=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),bz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),Cz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),_z=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),xz=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:i.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:i.SENSITIVE_STRING}}),wz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.Credentials&&{Credentials:xz(e.Credentials)}}),Az=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),Pz=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:i.SENSITIVE_STRING}}),Tz=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Pz(e.ApplyServerSideEncryptionByDefault)}}),G0=e=>({...e,...e.Rules&&{Rules:e.Rules.map(n=>Tz(n))}}),Rz=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:G0(e.ServerSideEncryptionConfiguration)}}),vz=e=>({...e,...e.KeyId&&{KeyId:i.SENSITIVE_STRING}}),Iz=e=>({...e,...e.SSEKMS&&{SSEKMS:vz(e.SSEKMS)}}),kz=e=>({...e,...e.Encryption&&{Encryption:Iz(e.Encryption)}}),Nz=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:kz(e.S3BucketDestination)}}),CS=e=>({...e,...e.Destination&&{Destination:Nz(e.Destination)}}),Oz=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:CS(e.InventoryConfiguration)}}),Bz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),Dz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Mz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Lz=e=>({...e}),Fz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),zz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Uz=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(n=>CS(n))}}),VJ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},GJ={RESTORE_STATUS:"RestoreStatus"},KJ={STANDARD:"STANDARD"},WJ={Disabled:"Disabled",Enabled:"Enabled"},up=class e extends ln{name="EncryptionTypeMismatch";$fault="client";constructor(n){super({name:"EncryptionTypeMismatch",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},mp=class e extends ln{name="InvalidRequest";$fault="client";constructor(n){super({name:"InvalidRequest",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},fp=class e extends ln{name="InvalidWriteOffset";$fault="client";constructor(n){super({name:"InvalidWriteOffset",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},gp=class e extends ln{name="TooManyParts";$fault="client";constructor(n){super({name:"TooManyParts",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},hp=class e extends ln{name="IdempotencyParameterMismatch";$fault="client";constructor(n){super({name:"IdempotencyParameterMismatch",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},pp=class e extends ln{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(n){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},XJ={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},YJ={SQL:"SQL"},JJ={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},QJ={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},ZJ={DOCUMENT:"DOCUMENT",LINES:"LINES"},eQ={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},tQ={SELECT:"SELECT"};S.SelectObjectContentEventStream=void 0;(function(e){e.visit=(n,t)=>n.Records!==void 0?t.Records(n.Records):n.Stats!==void 0?t.Stats(n.Stats):n.Progress!==void 0?t.Progress(n.Progress):n.Cont!==void 0?t.Cont(n.Cont):n.End!==void 0?t.End(n.End):t._(n.$unknown[0],n.$unknown[1])})(S.SelectObjectContentEventStream||(S.SelectObjectContentEventStream={}));var qz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Hz=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:G0(e.ServerSideEncryptionConfiguration)}}),$z=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:CS(e.InventoryConfiguration)}}),jz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),Vz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),Gz=e=>({...e,...e.KMSKeyId&&{KMSKeyId:i.SENSITIVE_STRING}}),Kz=e=>({...e,...e.Encryption&&{Encryption:Gz(e.Encryption)}}),Wz=e=>({...e,...e.S3&&{S3:Kz(e.S3)}}),Xz=e=>({...e,...e.OutputLocation&&{OutputLocation:Wz(e.OutputLocation)}}),Yz=e=>({...e,...e.RestoreRequest&&{RestoreRequest:Xz(e.RestoreRequest)}}),nQ=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},Jz=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),Qz=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),Zz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),eU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),tU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),nU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),rU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),rQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[rue]:[()=>i.isSerializableHeaderValue(e[JF]),()=>i.dateToUtcString(e[JF]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"AbortMultipartUpload"],[Nu]:[,i.expectNonNull(e[Jn],"UploadId")]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},sQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[ga]:e[ct],[ha]:e[lt],[pa]:e[dt],[ya]:e[ut],[Sa]:e[mt],[xl]:e[ft],[aue]:[()=>i.isSerializableHeaderValue(e[nz]),()=>e[nz].toString()],[et]:e[Ze],[K]:e[G],[bl]:e[xu],[Iu]:e[wS],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Nu]:[,i.expectNonNull(e[Jn],"UploadId")]}),o,a;return e.MultipartUpload!==void 0&&(a=Ine(e.MultipartUpload),a=a.n("CompleteMultipartUpload"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(r).q(s).b(o),t.build()},oQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[_l]:e[ll],[Au]:e[dl],[wA]:e[be],[Pu]:e[ul],[Tu]:e[ml],[Ru]:e[fl],[vu]:e[gl],[Tq]:e[PU],[Rq]:e[TU],[vq]:[()=>i.isSerializableHeaderValue(e[yp]),()=>i.dateToUtcString(e[yp]).toString()],[Iq]:e[RU],[kq]:[()=>i.isSerializableHeaderValue(e[Sp]),()=>i.dateToUtcString(e[Sp]).toString()],[ca]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[Tl]:e[Sl],[iue]:e[Bce],[Cue]:e[Dle],[ir]:e[kn],[Mu]:e[Ae],[Lu]:e[wu],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[ar]:e[Sn],[jo]:e[$o],[Bt]:[()=>i.isSerializableHeaderValue(e[pt]),()=>e[pt].toString()],[Nq]:e[vU],[Oq]:e[IU],[Bq]:e[kU],[et]:e[Ze],[RA]:e[sa],[Du]:e[El],[la]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Bu]:e[ma],[K]:e[G],[Fq]:e[BU]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"CopyObject"]});return t.m("PUT").h(r).q(s).b(void 0),t.build()},iQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[_l]:e[ll],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[AA]:e[nA],[Tl]:e[Sl],[hde]:[()=>i.isSerializableHeaderValue(e[sz]),()=>e[sz].toString()],[due]:e[hu]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,o;return e.CreateBucketConfiguration!==void 0&&(o=Lne(e.CreateBucketConfiguration),s=Ge,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),t.m("PUT").h(r).b(s),t.build()},aQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[hA]:[,""]}),o,a;return e.MetadataConfiguration!==void 0&&(a=Pre(e.MetadataConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(r).q(s).b(o),t.build()},cQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[pA]:[,""]}),o,a;return e.MetadataTableConfiguration!==void 0&&(a=Rre(e.MetadataTableConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(r).q(s).b(o),t.build()},lQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[_l]:e[ll],[Au]:e[dl],[Pu]:e[ul],[Tu]:e[ml],[Ru]:e[fl],[vu]:e[gl],[ca]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[Tl]:e[Sl],[ir]:e[kn],[Mu]:e[Ae],[Lu]:e[wu],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[ar]:e[Sn],[jo]:e[$o],[Bt]:[()=>i.isSerializableHeaderValue(e[pt]),()=>e[pt].toString()],[et]:e[Ze],[RA]:e[sa],[Du]:e[El],[la]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Bu]:e[ma],[K]:e[G],[wA]:e[be],[xl]:e[ft]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Cq]:[,""]});return t.m("POST").h(r).q(s).b(void 0),t.build()},dQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[Sde]:e[Rle],[ir]:e[kn],[ar]:e[Sn],[jo]:e[$o],[Bt]:[()=>i.isSerializableHeaderValue(e[pt]),()=>e[pt].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[sde]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},uQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(r).b(void 0),t.build()},mQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[AS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},fQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},gQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[uA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},hQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},pQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},yQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[gA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},SQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[hA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},EQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[pA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},bQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},CQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[SA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},_Q=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[EA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},xQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[CA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},wQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Cl]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},AQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[_A]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},PQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[PA]:e[rA],[et]:e[Ze],[xA]:[()=>i.isSerializableHeaderValue(e[tl]),()=>e[tl].toString()],[K]:e[G],[bl]:e[xu],[sue]:[()=>i.isSerializableHeaderValue(e[QF]),()=>i.dateToUtcString(e[QF]).toString()],[oue]:[()=>i.isSerializableHeaderValue(e[ZF]),()=>e[ZF].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"DeleteObject"],[Qn]:[,e[Re]]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},TQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[PA]:e[rA],[et]:e[Ze],[xA]:[()=>i.isSerializableHeaderValue(e[tl]),()=>e[tl].toString()],[K]:e[G],[gt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jle]:[,""]}),o,a;return e.Delete!==void 0&&(a=qne(e.Delete),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(r).q(s).b(o),t.build()},RQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Cl]:[,""],[Qn]:[,e[Re]]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},vQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[bA]:[,""]});return t.m("DELETE").h(r).q(s).b(void 0),t.build()},IQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[nq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},kQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[PS]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},NQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[AS]:[,""],[mn]:[,"GetBucketAnalyticsConfiguration"],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},OQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},BQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[uA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},DQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kS]:[,""],[mn]:[,"GetBucketIntelligentTieringConfiguration"],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},MQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""],[mn]:[,"GetBucketInventoryConfiguration"],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},LQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[gA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},FQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[cq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},zQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[lq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},UQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[hA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},qQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[pA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},HQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[mn]:[,"GetBucketMetricsConfiguration"],[kr]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},$Q=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},jQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[SA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},VQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[EA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},GQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[ede]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},KQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[CA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},WQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[mq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},XQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Cl]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},YQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[_q]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},JQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[_A]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},QQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[bl]:e[xu],[mA]:[()=>i.isSerializableHeaderValue(e[Ep]),()=>i.dateToUtcString(e[Ep]).toString()],[Iu]:e[wS],[fA]:[()=>i.isSerializableHeaderValue(e[bp]),()=>i.dateToUtcString(e[bp]).toString()],[fq]:e[VU],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[et]:e[Ze],[K]:e[G],[Pq]:e[AU]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"GetObject"],[gq]:[,e[GU]],[hq]:[,e[KU]],[pq]:[,e[WU]],[yq]:[,e[XU]],[Sq]:[,e[YU]],[Eq]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[JU]).toString()],[Qn]:[,e[Re]],[OS]:[()=>e.PartNumber!==void 0,()=>e[Wn].toString()]});return t.m("GET").h(r).q(s).b(void 0),t.build()},ZQ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[PS]:[,""],[Qn]:[,e[Re]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},eZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[cue]:[()=>i.isSerializableHeaderValue(e[qs]),()=>e[qs].toString()],[uue]:e[Lo],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[et]:e[Ze],[K]:e[G],[lue]:[()=>i.isSerializableHeaderValue(e[rz]),()=>(e[rz]||[]).map(i.quoteHeader).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Hle]:[,""],[Qn]:[,e[Re]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},tZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[aq]:[,""],[Qn]:[,e[Re]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},nZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[uq]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},rZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[bq]:[,""],[Qn]:[,e[Re]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},sZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Cl]:[,""],[Qn]:[,e[Re]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},oZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[cde]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},iZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[bA]:[,""]});return t.m("GET").h(r).q(s).b(void 0),t.build()},aZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(r).b(void 0),t.build()},cZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[bl]:e[xu],[mA]:[()=>i.isSerializableHeaderValue(e[Ep]),()=>i.dateToUtcString(e[Ep]).toString()],[Iu]:e[wS],[fA]:[()=>i.isSerializableHeaderValue(e[bp]),()=>i.dateToUtcString(e[bp]).toString()],[fq]:e[VU],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[et]:e[Ze],[K]:e[G],[Pq]:e[AU]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[gq]:[,e[GU]],[hq]:[,e[KU]],[pq]:[,e[WU]],[yq]:[,e[XU]],[Sq]:[,e[YU]],[Eq]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[JU]).toString()],[Qn]:[,e[Re]],[OS]:[()=>e.PartNumber!==void 0,()=>e[Wn].toString()]});return t.m("HEAD").h(r).q(s).b(void 0),t.build()},lZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[AS]:[,""],[mn]:[,"ListBucketAnalyticsConfigurations"],[fa]:[,e[rt]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},dZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kS]:[,""],[mn]:[,"ListBucketIntelligentTieringConfigurations"],[fa]:[,e[rt]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},uZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""],[mn]:[,"ListBucketInventoryConfigurations"],[fa]:[,e[rt]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},mZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[mn]:[,"ListBucketMetricsConfigurations"],[fa]:[,e[rt]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},fZ=async(e,n)=>{let t=z.requestBuilder(e,n),r={};t.bp("/");let s=i.map({[mn]:[,"ListBuckets"],[Yle]:[()=>e.MaxBuckets!==void 0,()=>e[Nce].toString()],[fa]:[,e[rt]],[ku]:[,e[X]],[$le]:[,e[gu]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},gZ=async(e,n)=>{let t=z.requestBuilder(e,n),r={};t.bp("/");let s=i.map({[mn]:[,"ListDirectoryBuckets"],[fa]:[,e[rt]],[Jle]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[Dce].toString()]});return t.m("GET").h(r).q(s).b(void 0),t.build()},hZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Cq]:[,""],[TS]:[,e[Tn]],[RS]:[,e[vn]],[iq]:[,e[Mo]],[Zle]:[()=>e.MaxUploads!==void 0,()=>e[Dh].toString()],[ku]:[,e[X]],[lde]:[,e[ep]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},pZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[TA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>(e[nl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TS]:[,e[Tn]],[RS]:[,e[vn]],[Xle]:[,e[Oh]],[yA]:[()=>e.MaxKeys!==void 0,()=>e[_r].toString()],[ku]:[,e[X]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},yZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[TA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>(e[nl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Gle]:[,"2"],[TS]:[,e[Tn]],[RS]:[,e[vn]],[yA]:[()=>e.MaxKeys!==void 0,()=>e[_r].toString()],[ku]:[,e[X]],[fa]:[,e[rt]],[Vle]:[()=>e.FetchOwner!==void 0,()=>e[Yae].toString()],[ode]:[,e[Gh]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},SZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze],[TA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>(e[nl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dde]:[,""],[TS]:[,e[Tn]],[RS]:[,e[vn]],[iq]:[,e[Mo]],[yA]:[()=>e.MaxKeys!==void 0,()=>e[_r].toString()],[ku]:[,e[X]],[ude]:[,e[np]]});return t.m("GET").h(r).q(s).b(void 0),t.build()},EZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"ListParts"],[Qle]:[()=>e.MaxParts!==void 0,()=>e[qs].toString()],[tde]:[,e[Lo]],[Nu]:[,i.expectNonNull(e[Jn],"UploadId")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},bZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[gt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[nq]:[,""]}),o,a;return e.AccelerateConfiguration!==void 0&&(a=yne(e.AccelerateConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},CZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[_l]:e[ll],[vt]:e[Rt],[gt]:e[be],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[AA]:e[nA],[Tl]:e[Sl],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[PS]:[,""]}),o,a;return e.AccessControlPolicy!==void 0&&(a=sU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},_Z=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[AS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.AnalyticsConfiguration!==void 0&&(a=xne(e.AnalyticsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},xZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dA]:[,""]}),o,a;return e.CORSConfiguration!==void 0&&(a=Bne(e.CORSConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},wZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[uA]:[,""]}),o,a;return e.ServerSideEncryptionConfiguration!==void 0&&(a=Ese(e.ServerSideEncryptionConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},AZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.IntelligentTieringConfiguration!==void 0&&(a=nre(e.IntelligentTieringConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},PZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.InventoryConfiguration!==void 0&&(a=sre(e.InventoryConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},TZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[gt]:e[be],[K]:e[G],[vA]:e[lA]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[gA]:[,""]}),o,a;return e.LifecycleConfiguration!==void 0&&(a=Rne(e.LifecycleConfiguration),a=a.n("LifecycleConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},RZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[lq]:[,""]}),o,a;return e.BucketLoggingStatus!==void 0&&(a=vne(e.BucketLoggingStatus),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},vZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[kr]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.MetricsConfiguration!==void 0&&(a=kre(e.MetricsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},IZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[bue]:[()=>i.isSerializableHeaderValue(e[iz]),()=>e[iz].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[dq]:[,""]}),o,a;return e.NotificationConfiguration!==void 0&&(a=Mre(e.NotificationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},kZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[K]:e[G],[gt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[SA]:[,""]}),o,a;return e.OwnershipControls!==void 0&&(a=Vre(e.OwnershipControls),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},NZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"text/plain",[vt]:e[Rt],[gt]:e[be],[yde]:[()=>i.isSerializableHeaderValue(e[VF]),()=>e[VF].toString()],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[EA]:[,""]}),o,a;return e.Policy!==void 0&&(a=e.Policy,o=a),t.m("PUT").h(r).q(s).b(o),t.build()},OZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[Aq]:e[eq],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[CA]:[,""]}),o,a;return e.ReplicationConfiguration!==void 0&&(a=nse(e.ReplicationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},BZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[mq]:[,""]}),o,a;return e.RequestPaymentConfiguration!==void 0&&(a=cse(e.RequestPaymentConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},DZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Cl]:[,""]}),o,a;return e.Tagging!==void 0&&(a=Y0(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},MZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[PA]:e[rA],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[_q]:[,""]}),o,a;return e.VersioningConfiguration!==void 0&&(a=zse(e.VersioningConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},LZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[_A]:[,""]}),o,a;return e.WebsiteConfiguration!==void 0&&(a=Use(e.WebsiteConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},FZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),[vu]:e[gl]||"application/octet-stream",[_l]:e[ll],[Au]:e[dl],[Pu]:e[ul],[Tu]:e[ml],[Ru]:e[fl],[aa]:[()=>i.isSerializableHeaderValue(e[zo]),()=>e[zo].toString()],[vt]:e[Rt],[gt]:e[be],[ga]:e[ct],[ha]:e[lt],[pa]:e[dt],[ya]:e[ut],[Sa]:e[mt],[ca]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[bl]:e[xu],[Iu]:e[wS],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[Tl]:e[Sl],[_ue]:[()=>i.isSerializableHeaderValue(e[fz]),()=>e[fz].toString()],[ir]:e[kn],[Mu]:e[Ae],[Lu]:e[wu],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[ar]:e[Sn],[jo]:e[$o],[Bt]:[()=>i.isSerializableHeaderValue(e[pt]),()=>e[pt].toString()],[et]:e[Ze],[RA]:e[sa],[Du]:e[El],[la]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Bu]:e[ma],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"PutObject"]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(r).q(s).b(o),t.build()},zZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[_l]:e[ll],[vt]:e[Rt],[gt]:e[be],[wl]:e[hl],[Al]:e[pl],[Pl]:e[yl],[AA]:e[nA],[Tl]:e[Sl],[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[PS]:[,""],[Qn]:[,e[Re]]}),o,a;return e.AccessControlPolicy!==void 0&&(a=sU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},UZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[aq]:[,""],[Qn]:[,e[Re]]}),o,a;return e.LegalHold!==void 0&&(a=Ure(e.LegalHold),a=a.n("LegalHold"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},qZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[Aq]:e[eq],[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[uq]:[,""]}),o,a;return e.ObjectLockConfiguration!==void 0&&(a=zre(e.ObjectLockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},HZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[xA]:[()=>i.isSerializableHeaderValue(e[tl]),()=>e[tl].toString()],[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[bq]:[,""],[Qn]:[,e[Re]]}),o,a;return e.Retention!==void 0&&(a=qre(e.Retention),a=a.n("Retention"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},$Z=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G],[et]:e[Ze]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Cl]:[,""],[Qn]:[,e[Re]]}),o,a;return e.Tagging!==void 0&&(a=Y0(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},jZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[bA]:[,""]}),o,a;return e.PublicAccessBlockConfiguration!==void 0&&(a=Yre(e.PublicAccessBlockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},VZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[gue]:e[yle],[bl]:e[zae],[Iu]:e[Uae],[mA]:[()=>i.isSerializableHeaderValue(e[GF]),()=>i.dateToUtcString(e[GF]).toString()],[fA]:[()=>i.isSerializableHeaderValue(e[KF]),()=>i.dateToUtcString(e[KF]).toString()],[hue]:e[xle],[yue]:e[wle],[pue]:[()=>i.isSerializableHeaderValue(e[az]),()=>i.dateToUtcString(e[az]).toString()],[Sue]:[()=>i.isSerializableHeaderValue(e[cz]),()=>i.dateToUtcString(e[cz]).toString()],[bde]:e[Mae]??MY.v4()});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[nde]:[,""]});return t.m("PUT").h(r).q(s).b(void 0),t.build()},GZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[gt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[rde]:[,""],[Qn]:[,e[Re]]}),o,a;return e.RestoreRequest!==void 0&&(a=dse(e.RestoreRequest),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(r).q(s).b(o),t.build()},KZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[ide]:[,""],[ade]:[,"2"]}),o;o=Ge;let a=new E.XmlNode(vle);return a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a.cc(e,MU),a.cc(e,DU),e[$i]!=null&&a.c(aU(e[$i]).n($i)),e[Wi]!=null&&a.c(cU(e[Wi]).n(Wi)),e[jh]!=null&&a.c(lse(e[jh]).n(jh)),e[Wh]!=null&&a.c(pse(e[Wh]).n(Wh)),o+=a.toString(),t.m("POST").h(r).q(s).b(o),t.build()},WZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Kle]:[,""]}),o,a;return e.InventoryTableConfiguration!==void 0&&(a=mre(e.InventoryTableConfiguration),a=a.n("InventoryTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},XZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[vt]:e[Rt],[gt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Wle]:[,""]}),o,a;return e.JournalTableConfiguration!==void 0&&(a=gre(e.JournalTableConfiguration),a=a.n("JournalTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(r).q(s).b(o),t.build()},YZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"content-type":"application/octet-stream",[aa]:[()=>i.isSerializableHeaderValue(e[zo]),()=>e[zo].toString()],[vt]:e[Rt],[gt]:e[be],[ga]:e[ct],[ha]:e[lt],[pa]:e[dt],[ya]:e[ut],[Sa]:e[mt],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"UploadPart"],[OS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wn].toString()],[Nu]:[,i.expectNonNull(e[Jn],"UploadId")]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(r).q(s).b(o),t.build()},JZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{[Tq]:e[PU],[Rq]:e[TU],[vq]:[()=>i.isSerializableHeaderValue(e[yp]),()=>i.dateToUtcString(e[yp]).toString()],[Iq]:e[RU],[kq]:[()=>i.isSerializableHeaderValue(e[Sp]),()=>i.dateToUtcString(e[Sp]).toString()],[Ede]:e[Oae],[dn]:e[Qt],[jr]:e[$r],[un]:e[Zt],[Nq]:e[vU],[Oq]:e[IU],[Bq]:e[kU],[et]:e[Ze],[K]:e[G],[Fq]:e[BU]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mn]:[,"UploadPartCopy"],[OS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wn].toString()],[Nu]:[,i.expectNonNull(e[Jn],"UploadId")]});return t.m("PUT").h(r).q(s).b(void 0),t.build()},QZ=async(e,n)=>{let t=z.requestBuilder(e,n),r=i.map({},i.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),"content-type":"application/octet-stream",[fue]:e[dle],[Eue]:e[Sle],[nue]:[()=>i.isSerializableHeaderValue(e[oz]),()=>e[oz].toString()],[Cde]:e[wh],[_de]:e[Ah],[xde]:e[eA],[wde]:e[dl],[Ade]:e[ul],[Pde]:e[ml],[Tde]:e[fl],[aa]:[()=>i.isSerializableHeaderValue(e[zo]),()=>e[zo].toString()],[Rde]:e[tA],[vde]:e[gl],[Ode]:e[ct],[Bde]:e[lt],[Dde]:e[dt],[Mde]:e[ut],[Lde]:e[mt],[Fde]:[()=>i.isSerializableHeaderValue(e[zr]),()=>e[zr].toString()],[Ide]:e[st],[kde]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[zde]:e[Ht],[Nde]:[()=>i.isSerializableHeaderValue(e[Tt]),()=>i.dateToUtcString(e[Tt]).toString()],[Ude]:[()=>i.isSerializableHeaderValue(e[Cp]),()=>e[Cp].toString()],[$de]:e[El],[Hde]:e[ma],[jde]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[qde]:[()=>i.isSerializableHeaderValue(e[rl]),()=>e[rl].toString()],[Kde]:e[aA],[Gde]:e[St],[Vde]:e[cA],[Xde]:e[kn],[Qde]:e[Qt],[Yde]:e[Sn],[Zde]:e[Zt],[Wde]:e[Ae],[eue]:[()=>i.isSerializableHeaderValue(e[Pp]),()=>e[Pp].toString()],[tue]:e[Re],[Jde]:[()=>i.isSerializableHeaderValue(e[pt]),()=>e[pt].toString()]});t.bp("/WriteGetObjectResponse");let s,o;e.Body!==void 0&&(o=e.Body,s=o);let{hostname:a}=await n.endpoint();if(n.disableHostPrefix!==!0){if(a="{RequestRoute}."+a,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(a=a.replace("{RequestRoute}",e.RequestRoute),!d0.isValidHostname(a))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(a),t.m("POST").h(r).b(s),t.build()},ZZ=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},eee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Ou]],[kn]:[,e.headers[ir]],[Re]:[,e.headers[ps]],[Sn]:[,e.headers[ar]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Me]!=null&&(t[Me]=i.expectString(r[Me])),r[ct]!=null&&(t[ct]=i.expectString(r[ct])),r[lt]!=null&&(t[lt]=i.expectString(r[lt])),r[dt]!=null&&(t[dt]=i.expectString(r[dt])),r[ut]!=null&&(t[ut]=i.expectString(r[ut])),r[mt]!=null&&(t[mt]=i.expectString(r[mt])),r[ft]!=null&&(t[ft]=i.expectString(r[ft])),r[st]!=null&&(t[st]=i.expectString(r[st])),r[ye]!=null&&(t[ye]=i.expectString(r[ye])),r[ji]!=null&&(t[ji]=i.expectString(r[ji])),t},tee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Ou]],[NU]:[,e.headers[Dq]],[Re]:[,e.headers[ps]],[kn]:[,e.headers[ir]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[$o]:[,e.headers[jo]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[St]:[,e.headers[Et]]}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.CopyObjectResult=noe(r),t},nee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[ji]:[,e.headers[cq]],[fu]:[,e.headers[wq]]});return await i.collectBody(e.body,n),t},ree=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},see=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},oee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[xU]:[()=>e.headers[Tp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Tp]))],[wU]:[,e.headers[xq]],[kn]:[,e.headers[ir]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[$o]:[,e.headers[jo]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[St]:[,e.headers[Et]],[be]:[,e.headers[wA]],[ft]:[,e.headers[xl]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Me]!=null&&(t[Me]=i.expectString(r[Me])),r[ye]!=null&&(t[ye]=i.expectString(r[ye])),r[Jn]!=null&&(t[Jn]=i.expectString(r[Jn])),t},iee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[kn]:[,e.headers[ir]],[Sn]:[,e.headers[ar]],[$o]:[,e.headers[jo]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Nw]!=null&&(t[Nw]=jie(r[Nw])),t},aee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},cee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},lee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},dee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},uee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},mee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},fee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},gee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},hee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},pee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},yee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},See=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Eee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},bee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Cee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},_ee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[zr]:[()=>e.headers[Uo]!==void 0,()=>i.parseBoolean(e.headers[Uo])],[Re]:[,e.headers[ps]],[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},xee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.Deleted).trim()===""?t[yh]=[]:r[yh]!=null&&(t[yh]=coe(i.getArrayIfSingleItem(r[yh]))),String(r.Error).trim()===""?t[XF]=[]:r[qr]!=null&&(t[XF]=Soe(i.getArrayIfSingleItem(r[qr]))),t},wee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Re]:[,e.headers[ps]]});return await i.collectBody(e.body,n),t},Aee=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Pee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Q]!=null&&(t[Q]=i.expectString(r[Q])),t},Tee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.AccessControlList).trim()===""?t[pu]=[]:r[Oi]!=null&&r[Oi][Vs]!=null&&(t[pu]=hU(i.getArrayIfSingleItem(r[Oi][Vs]))),r[He]!=null&&(t[He]=Ho(r[He])),t},Ree=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.AnalyticsConfiguration=uU(r),t},vee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.CORSRule).trim()===""?t[b0]=[]:r[E0]!=null&&(t[b0]=ooe(i.getArrayIfSingleItem(r[E0]))),t},Iee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.ServerSideEncryptionConfiguration=qie(r),t},kee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.IntelligentTieringConfiguration=yU(r),t},Nee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.InventoryConfiguration=SU(r),t},Oee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[lA]:[,e.headers[vA]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.Rule).trim()===""?t[Ir]=[]:r[Xn]!=null&&(t[Ir]=Koe(i.getArrayIfSingleItem(r[Xn]))),t},Bee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[$c]!=null&&(t[$c]=i.expectString(r[$c])),t},Dee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Vi]!=null&&(t[Vi]=Woe(r[Vi])),t},Mee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.GetBucketMetadataConfigurationResult=woe(r),t},Lee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.GetBucketMetadataTableConfigurationResult=Aoe(r),t},Fee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.MetricsConfiguration=EU(r),t},zee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[zi]!=null&&(t[zi]=Eoe(r[zi])),String(r.CloudFunctionConfiguration).trim()===""?t[R0]=[]:r[jF]!=null&&(t[R0]=Hoe(i.getArrayIfSingleItem(r[jF]))),String(r.QueueConfiguration).trim()===""?t[B0]=[]:r[O0]!=null&&(t[B0]=Aie(i.getArrayIfSingleItem(r[O0]))),String(r.TopicConfiguration).trim()===""?t[U0]=[]:r[z0]!=null&&(t[U0]=oae(i.getArrayIfSingleItem(r[z0]))),t},Uee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.OwnershipControls=gie(r),t},qee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=await cae(e.body,n);return t.Policy=i.expectString(r),t},Hee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.PolicyStatus=Cie(r),t},$ee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.ReplicationConfiguration=Iie(r),t},jee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[zh]!=null&&(t[zh]=i.expectString(r[zh])),t},Vee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.TagSet).trim()===""?t[Fr]=[]:r[Fr]!=null&&r[Fr][xe]!=null&&(t[Fr]=ua(i.getArrayIfSingleItem(r[Fr][xe]))),t},Gee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[I0]!=null&&(t[Bh]=i.expectString(r[I0])),r[Q]!=null&&(t[Q]=i.expectString(r[Q])),t},Kee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Ui]!=null&&(t[Ui]=yoe(r[Ui])),r[Hi]!=null&&(t[Hi]=Roe(r[Hi])),r[Yi]!=null&&(t[Yi]=Rie(r[Yi])),String(r.RoutingRules).trim()===""?t[Cc]=[]:r[Cc]!=null&&r[Cc][xp]!=null&&(t[Cc]=Lie(i.getArrayIfSingleItem(r[Cc][xp]))),t},Wee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[zr]:[()=>e.headers[Uo]!==void 0,()=>i.parseBoolean(e.headers[Uo])],[eA]:[,e.headers[rq]],[Ht]:[,e.headers[Ou]],[cA]:[,e.headers[Mq]],[Tt]:[()=>e.headers[sl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[sl]))],[zo]:[()=>e.headers[aa]!==void 0,()=>i.strictParseLong(e.headers[aa])],[st]:[,e.headers[vS]],[ct]:[,e.headers[ga]],[lt]:[,e.headers[ha]],[dt]:[,e.headers[pa]],[ut]:[,e.headers[ya]],[mt]:[,e.headers[Sa]],[ft]:[,e.headers[xl]],[Cp]:[()=>e.headers[Rp]!==void 0,()=>i.strictParseInt32(e.headers[Rp])],[Re]:[,e.headers[ps]],[dl]:[,e.headers[Au]],[ul]:[,e.headers[Pu]],[ml]:[,e.headers[Tu]],[fl]:[,e.headers[Ru]],[tA]:[,e.headers[sq]],[gl]:[,e.headers[vu]],[gs]:[()=>e.headers[ca]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[ca]))],[OU]:[,e.headers[oq]],[wu]:[,e.headers[Lu]],[kn]:[,e.headers[ir]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[Ae]:[,e.headers[Mu]],[St]:[,e.headers[Et]],[aA]:[,e.headers[Lq]],[rl]:[()=>e.headers[vp]!==void 0,()=>i.strictParseInt32(e.headers[vp])],[Pp]:[()=>e.headers[Ip]!==void 0,()=>i.strictParseInt32(e.headers[Ip])],[El]:[,e.headers[Du]],[hs]:[()=>e.headers[la]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[la]))],[ma]:[,e.headers[Bu]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),r=e.body;return n.sdkStreamMixin(r),t.Body=r,t},Xee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.AccessControlList).trim()===""?t[pu]=[]:r[Oi]!=null&&r[Oi][Vs]!=null&&(t[pu]=hU(i.getArrayIfSingleItem(r[Oi][Vs]))),r[He]!=null&&(t[He]=Ho(r[He])),t},Yee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[zr]:[()=>e.headers[Uo]!==void 0,()=>i.parseBoolean(e.headers[Uo])],[Tt]:[()=>e.headers[sl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[sl]))],[Re]:[,e.headers[ps]],[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Dw]!=null&&(t[Dw]=Qse(r[Dw])),r[st]!=null&&(t[st]=i.expectString(r[st])),r[e0]!=null&&(t[e0]=Poe(r[e0])),r[t0]!=null&&(t[t0]=i.strictParseLong(r[t0])),r[Ae]!=null&&(t[Ae]=i.expectString(r[Ae])),t},Jee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.LegalHold=cie(r),t},Qee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.ObjectLockConfiguration=aie(r),t},Zee=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.Retention=lie(r),t},ete=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Re]:[,e.headers[ps]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.TagSet).trim()===""?t[Fr]=[]:r[Fr]!=null&&r[Fr][xe]!=null&&(t[Fr]=ua(i.getArrayIfSingleItem(r[Fr][xe]))),t},tte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=e.body;return n.sdkStreamMixin(r),t.Body=r,t},nte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.PublicAccessBlockConfiguration=xie(r),t},rte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[fu]:[,e.headers[wq]],[Pae]:[,e.headers[gde]],[xae]:[,e.headers[fde]],[gu]:[,e.headers[pde]],[hae]:[()=>e.headers[hz]!==void 0,()=>i.parseBoolean(e.headers[hz])]});return await i.collectBody(e.body,n),t},ste=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[zr]:[()=>e.headers[Uo]!==void 0,()=>i.parseBoolean(e.headers[Uo])],[eA]:[,e.headers[rq]],[Ht]:[,e.headers[Ou]],[cA]:[,e.headers[Mq]],[pae]:[,e.headers[mde]],[Tt]:[()=>e.headers[sl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[sl]))],[zo]:[()=>e.headers[aa]!==void 0,()=>i.strictParseLong(e.headers[aa])],[ct]:[,e.headers[ga]],[lt]:[,e.headers[ha]],[dt]:[,e.headers[pa]],[ut]:[,e.headers[ya]],[mt]:[,e.headers[Sa]],[ft]:[,e.headers[xl]],[st]:[,e.headers[vS]],[Cp]:[()=>e.headers[Rp]!==void 0,()=>i.strictParseInt32(e.headers[Rp])],[Re]:[,e.headers[ps]],[dl]:[,e.headers[Au]],[ul]:[,e.headers[Pu]],[ml]:[,e.headers[Tu]],[fl]:[,e.headers[Ru]],[gl]:[,e.headers[vu]],[tA]:[,e.headers[sq]],[gs]:[()=>e.headers[ca]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[ca]))],[OU]:[,e.headers[oq]],[wu]:[,e.headers[Lu]],[kn]:[,e.headers[ir]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[Ae]:[,e.headers[Mu]],[St]:[,e.headers[Et]],[aA]:[,e.headers[Lq]],[rl]:[()=>e.headers[vp]!==void 0,()=>i.strictParseInt32(e.headers[vp])],[Pp]:[()=>e.headers[Ip]!==void 0,()=>i.strictParseInt32(e.headers[Ip])],[El]:[,e.headers[Du]],[hs]:[()=>e.headers[la]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[la]))],[ma]:[,e.headers[Bu]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,s)=>(r[s.substring(11)]=e.headers[s],r),{})]});return await i.collectBody(e.body,n),t},ote=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.AnalyticsConfiguration).trim()===""?t[$F]=[]:r[u0]!=null&&(t[$F]=Kse(i.getArrayIfSingleItem(r[u0]))),r[rt]!=null&&(t[rt]=i.expectString(r[rt])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[qn]!=null&&(t[qn]=i.expectString(r[qn])),t},ite=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[rt]!=null&&(t[rt]=i.expectString(r[rt])),String(r.IntelligentTieringConfiguration).trim()===""?t[ez]=[]:r[T0]!=null&&(t[ez]=Ioe(i.getArrayIfSingleItem(r[T0]))),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[qn]!=null&&(t[qn]=i.expectString(r[qn])),t},ate=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[rt]!=null&&(t[rt]=i.expectString(r[rt])),String(r.InventoryConfiguration).trim()===""?t[YF]=[]:r[P0]!=null&&(t[YF]=Noe(i.getArrayIfSingleItem(r[P0]))),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[qn]!=null&&(t[qn]=i.expectString(r[qn])),t},cte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[rt]!=null&&(t[rt]=i.expectString(r[rt])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),String(r.MetricsConfiguration).trim()===""?t[tz]=[]:r[v0]!=null&&(t[tz]=Zoe(i.getArrayIfSingleItem(r[v0]))),r[qn]!=null&&(t[qn]=i.expectString(r[qn])),t},lte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.Buckets).trim()===""?t[ds]=[]:r[ds]!=null&&r[ds][Me]!=null&&(t[ds]=mU(i.getArrayIfSingleItem(r[ds][Me]))),r[rt]!=null&&(t[rt]=i.expectString(r[rt])),r[He]!=null&&(t[He]=Ho(r[He])),r[X]!=null&&(t[X]=i.expectString(r[X])),t},dte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.Buckets).trim()===""?t[ds]=[]:r[ds]!=null&&r[ds][Me]!=null&&(t[ds]=mU(i.getArrayIfSingleItem(r[ds][Me]))),r[rt]!=null&&(t[rt]=i.expectString(r[rt])),t},ute=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Me]!=null&&(t[Me]=i.expectString(r[Me])),String(r.CommonPrefixes).trim()===""?t[Pn]=[]:r[Pn]!=null&&(t[Pn]=_S(i.getArrayIfSingleItem(r[Pn]))),r[Tn]!=null&&(t[Tn]=i.expectString(r[Tn])),r[vn]!=null&&(t[vn]=i.expectString(r[vn])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[Mo]!=null&&(t[Mo]=i.expectString(r[Mo])),r[Dh]!=null&&(t[Dh]=i.strictParseInt32(r[Dh])),r[jc]!=null&&(t[jc]=i.expectString(r[jc])),r[Qw]!=null&&(t[Qw]=i.expectString(r[Qw])),r[X]!=null&&(t[X]=i.expectString(r[X])),r[ep]!=null&&(t[ep]=i.expectString(r[ep])),String(r.Upload).trim()===""?t[dz]=[]:r[lz]!=null&&(t[dz]=nie(i.getArrayIfSingleItem(r[lz]))),t},mte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.CommonPrefixes).trim()===""?t[Pn]=[]:r[Pn]!=null&&(t[Pn]=_S(i.getArrayIfSingleItem(r[Pn]))),String(r.Contents).trim()===""?t[Bo]=[]:r[Bo]!=null&&(t[Bo]=bU(i.getArrayIfSingleItem(r[Bo]))),r[Tn]!=null&&(t[Tn]=i.expectString(r[Tn])),r[vn]!=null&&(t[vn]=i.expectString(r[vn])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[Oh]!=null&&(t[Oh]=i.expectString(r[Oh])),r[_r]!=null&&(t[_r]=i.strictParseInt32(r[_r])),r[Ct]!=null&&(t[Ct]=i.expectString(r[Ct])),r[Jw]!=null&&(t[Jw]=i.expectString(r[Jw])),r[X]!=null&&(t[X]=i.expectString(r[X])),t},fte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.CommonPrefixes).trim()===""?t[Pn]=[]:r[Pn]!=null&&(t[Pn]=_S(i.getArrayIfSingleItem(r[Pn]))),String(r.Contents).trim()===""?t[Bo]=[]:r[Bo]!=null&&(t[Bo]=bU(i.getArrayIfSingleItem(r[Bo]))),r[rt]!=null&&(t[rt]=i.expectString(r[rt])),r[Tn]!=null&&(t[Tn]=i.expectString(r[Tn])),r[vn]!=null&&(t[vn]=i.expectString(r[vn])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[Gw]!=null&&(t[Gw]=i.strictParseInt32(r[Gw])),r[_r]!=null&&(t[_r]=i.strictParseInt32(r[_r])),r[Ct]!=null&&(t[Ct]=i.expectString(r[Ct])),r[qn]!=null&&(t[qn]=i.expectString(r[qn])),r[X]!=null&&(t[X]=i.expectString(r[X])),r[Gh]!=null&&(t[Gh]=i.expectString(r[Gh])),t},gte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return String(r.CommonPrefixes).trim()===""?t[Pn]=[]:r[Pn]!=null&&(t[Pn]=_S(i.getArrayIfSingleItem(r[Pn]))),String(r.DeleteMarker).trim()===""?t[WF]=[]:r[zr]!=null&&(t[WF]=uoe(i.getArrayIfSingleItem(r[zr]))),r[Tn]!=null&&(t[Tn]=i.expectString(r[Tn])),r[vn]!=null&&(t[vn]=i.expectString(r[vn])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[Mo]!=null&&(t[Mo]=i.expectString(r[Mo])),r[_r]!=null&&(t[_r]=i.strictParseInt32(r[_r])),r[Ct]!=null&&(t[Ct]=i.expectString(r[Ct])),r[jc]!=null&&(t[jc]=i.expectString(r[jc])),r[Zw]!=null&&(t[Zw]=i.expectString(r[Zw])),r[X]!=null&&(t[X]=i.expectString(r[X])),r[np]!=null&&(t[np]=i.expectString(r[np])),String(r.Version).trim()===""?t[mz]=[]:r[uz]!=null&&(t[mz]=fie(i.getArrayIfSingleItem(r[uz]))),t},hte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[xU]:[()=>e.headers[Tp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Tp]))],[wU]:[,e.headers[xq]],[St]:[,e.headers[Et]]}),r=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,n)),"body");return r[Me]!=null&&(t[Me]=i.expectString(r[Me])),r[be]!=null&&(t[be]=i.expectString(r[be])),r[ft]!=null&&(t[ft]=i.expectString(r[ft])),r[zc]!=null&&(t[zc]=pU(r[zc])),r[Xe]!=null&&(t[Xe]=i.parseBoolean(r[Xe])),r[ye]!=null&&(t[ye]=i.expectString(r[ye])),r[qs]!=null&&(t[qs]=i.strictParseInt32(r[qs])),r[Vc]!=null&&(t[Vc]=i.expectString(r[Vc])),r[He]!=null&&(t[He]=Ho(r[He])),r[Lo]!=null&&(t[Lo]=i.expectString(r[Lo])),String(r.Part).trim()===""?t[yu]=[]:r[_p]!=null&&(t[yu]=Eie(i.getArrayIfSingleItem(r[_p]))),r[Ae]!=null&&(t[Ae]=i.expectString(r[Ae])),r[Jn]!=null&&(t[Jn]=i.expectString(r[Jn])),t},pte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},yte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Ste=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Ete=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},bte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Cte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},_te=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},xte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[lA]:[,e.headers[vA]]});return await i.collectBody(e.body,n),t},wte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Ate=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Pte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Tte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Rte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},vte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Ite=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},kte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Nte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Ote=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Bte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Ou]],[st]:[,e.headers[vS]],[ct]:[,e.headers[ga]],[lt]:[,e.headers[ha]],[dt]:[,e.headers[pa]],[ut]:[,e.headers[ya]],[mt]:[,e.headers[Sa]],[ft]:[,e.headers[xl]],[kn]:[,e.headers[ir]],[Re]:[,e.headers[ps]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[$o]:[,e.headers[jo]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[yn]:[()=>e.headers[pz]!==void 0,()=>i.strictParseLong(e.headers[pz])],[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},Dte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},Mte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},Lte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},Fte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},zte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[Re]:[,e.headers[ps]]});return await i.collectBody(e.body,n),t},Ute=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},qte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Hte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[St]:[,e.headers[Et]],[cle]:[,e.headers[mue]]});return await i.collectBody(e.body,n),t},$te=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)}),r=e.body;return t.Payload=dne(r,n),t},jte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Vte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},Gte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[kn]:[,e.headers[ir]],[st]:[,e.headers[vS]],[ct]:[,e.headers[ga]],[lt]:[,e.headers[ha]],[dt]:[,e.headers[pa]],[ut]:[,e.headers[ya]],[mt]:[,e.headers[Sa]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[St]:[,e.headers[Et]]});return await i.collectBody(e.body,n),t},Kte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e),[NU]:[,e.headers[Dq]],[kn]:[,e.headers[ir]],[Qt]:[,e.headers[dn]],[Zt]:[,e.headers[un]],[Sn]:[,e.headers[ar]],[pt]:[()=>e.headers[Bt]!==void 0,()=>i.parseBoolean(e.headers[Bt])],[St]:[,e.headers[Et]]}),r=i.expectObject(await fe.parseXmlBody(e.body,n));return t.CopyPartResult=roe(r),t},Wte=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return j(e,n);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,n),t},j=async(e,n)=>{let t={...e,body:await fe.parseXmlErrorBody(e.body,n)},r=fe.loadRestXmlErrorCode(e,t.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await one(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await cne(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Yte(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Jte(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await rne(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await ene(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await sne(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await ine(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Qte(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await tne(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await nne(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await lne(t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Zte(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await ane(t);default:let s=t.body;return Xte({output:e,parsedBody:s,errorCode:r})}},Xte=i.withBaseException(ln),Yte=async(e,n)=>{let t=i.map({});e.body;let r=new op({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},Jte=async(e,n)=>{let t=i.map({});e.body;let r=new ip({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},Qte=async(e,n)=>{let t=i.map({});e.body;let r=new up({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},Zte=async(e,n)=>{let t=i.map({});e.body;let r=new hp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},ene=async(e,n)=>{let t=i.map({}),r=e.body;r[zs]!=null&&(t[zs]=i.expectString(r[zs])),r[Ae]!=null&&(t[Ae]=i.expectString(r[Ae]));let s=new cp({$metadata:F(e),...t});return i.decorateServiceException(s,e.body)},tne=async(e,n)=>{let t=i.map({});e.body;let r=new mp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},nne=async(e,n)=>{let t=i.map({});e.body;let r=new fp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},rne=async(e,n)=>{let t=i.map({});e.body;let r=new ap({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},sne=async(e,n)=>{let t=i.map({});e.body;let r=new lp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},one=async(e,n)=>{let t=i.map({});e.body;let r=new rp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},ine=async(e,n)=>{let t=i.map({});e.body;let r=new dp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},ane=async(e,n)=>{let t=i.map({});e.body;let r=new pp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},cne=async(e,n)=>{let t=i.map({});e.body;let r=new sp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},lne=async(e,n)=>{let t=i.map({});e.body;let r=new gp({$metadata:F(e),...t});return i.decorateServiceException(r,e.body)},dne=(e,n)=>n.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await gne(t.Records)}:t.Stats!=null?{Stats:await hne(t.Stats,n)}:t.Progress!=null?{Progress:await fne(t.Progress,n)}:t.Cont!=null?{Cont:await une(t.Cont,n)}:t.End!=null?{End:await mne(t.End,n)}:{$unknown:t}),une=async(e,n)=>{let t={};return await fe.parseXmlBody(e.body,n),Object.assign(t,toe()),t},mne=async(e,n)=>{let t={};return await fe.parseXmlBody(e.body,n),Object.assign(t,hoe()),t},fne=async(e,n)=>{let t={},r=await fe.parseXmlBody(e.body,n);return t.Details=_ie(r),t},gne=async(e,n)=>{let t={};return t.Payload=e.body,t},hne=async(e,n)=>{let t={},r=await fe.parseXmlBody(e.body,n);return t.Details=Yie(r),t},pne=(e,n)=>{let t=new E.XmlNode(Di);return e[Pi]!=null&&t.c(E.XmlNode.of(Pi,String(e[Pi])).n(Pi)),t},yne=(e,n)=>{let t=new E.XmlNode(uae);return e[Q]!=null&&t.c(E.XmlNode.of(Eae,e[Q]).n(Q)),t},sU=(e,n)=>{let t=new E.XmlNode(dae);return t.lc(e,"Grants","AccessControlList",()=>iU(e[pu])),e[He]!=null&&t.c(jre(e[He]).n(He)),t},Sne=(e,n)=>{let t=new E.XmlNode(Bi);return e[He]!=null&&t.c(E.XmlNode.of(Zce,e[He]).n(He)),t},Ene=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(m0,t).n(en)),bne=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(g0,t).n(en)),Cne=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(p0,t).n(en)),_ne=(e,n)=>{let t=new E.XmlNode(lae);return t.cc(e,X),t.l(e,"Tags","Tag",()=>da(e[In])),t},xne=(e,n)=>{let t=new E.XmlNode(u0);return e[ue]!=null&&t.c(E.XmlNode.of(gae,e[ue]).n(ue)),e[de]!=null&&t.c(Ane(e[de]).n(de)),e[ea]!=null&&t.c(Tse(e[ea]).n(ea)),t},wne=(e,n)=>{let t=new E.XmlNode(mae);return e[Rr]!=null&&t.c(Pne(e[Rr]).n(Rr)),t},Ane=(e,n)=>{let t=new E.XmlNode(fae);return S.AnalyticsFilter.visit(e,{Prefix:r=>{e[X]!=null&&t.c(E.XmlNode.of(X,r).n(X))},Tag:r=>{e[xe]!=null&&t.c(al(r).n(xe))},And:r=>{e[yt]!=null&&t.c(_ne(r).n(yt))},_:(r,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(r).c(s))}}),t},Pne=(e,n)=>{let t=new E.XmlNode(yae);return e[Cr]!=null&&t.c(E.XmlNode.of(Sae,e[Cr]).n(Cr)),e[Pc]!=null&&t.c(E.XmlNode.of(xc,e[Pc]).n(Pc)),e[Me]!=null&&t.c(E.XmlNode.of(xS,e[Me]).n(Me)),t.cc(e,X),t},Tne=(e,n)=>{let t=new E.XmlNode(bae);return t.cc(e,Hae),e[Yn]!=null&&t.c(E.XmlNode.of(Tae,e[Yn]).n(Yn)),t},Rne=(e,n)=>{let t=new E.XmlNode(Cae);return t.l(e,"Rules","Rule",()=>xre(e[Ir])),t},vne=(e,n)=>{let t=new E.XmlNode(Aae);return e[Vi]!=null&&t.c(Are(e[Vi]).n(Vi)),t},Ine=(e,n)=>{let t=new E.XmlNode(Iae);return t.l(e,"Parts","Part",()=>Nne(e[yu])),t},kne=(e,n)=>{let t=new E.XmlNode(Nae);return t.cc(e,st),t.cc(e,ct),t.cc(e,lt),t.cc(e,dt),t.cc(e,ut),t.cc(e,mt),e[Wn]!=null&&t.c(E.XmlNode.of(Wn,String(e[Wn])).n(Wn)),t},Nne=(e,n)=>e.filter(t=>t!=null).map(t=>kne(t).n(en)),One=(e,n)=>{let t=new E.XmlNode(Mi);return t.cc(e,Th),t.cc(e,kh),t},Bne=(e,n)=>{let t=new E.XmlNode(kae);return t.l(e,"CORSRules","CORSRule",()=>Mne(e[b0])),t},Dne=(e,n)=>{let t=new E.XmlNode(E0);return t.cc(e,Pt),t.l(e,"AllowedHeaders","AllowedHeader",()=>Ene(e[f0])),t.l(e,"AllowedMethods","AllowedMethod",()=>bne(e[h0])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>Cne(e[y0])),t.l(e,"ExposeHeaders","ExposeHeader",()=>Xne(e[C0])),e[vi]!=null&&t.c(E.XmlNode.of(vi,String(e[vi])).n(vi)),t},Mne=(e,n)=>e.filter(t=>t!=null).map(t=>Dne(t).n(en)),Lne=(e,n)=>{let t=new E.XmlNode(vae);return e[$c]!=null&&t.c(E.XmlNode.of(_ae,e[$c]).n($c)),e[ji]!=null&&t.c(wre(e[ji]).n(ji)),e[Me]!=null&&t.c(Tne(e[Me]).n(Me)),t.lc(e,"Tags","Tags",()=>da(e[In])),t},Fne=(e,n)=>{let t=new E.XmlNode(Bae);return t.cc(e,Xae),t.cc(e,Fae),t.cc(e,jU),t.cc(e,iA),t.cc(e,LU),t.cc(e,$U),e[ph]!=null&&t.c(E.XmlNode.of(ph,String(e[ph])).n(ph)),t},zne=(e,n)=>{let t=new E.XmlNode(Dae);return t.cc(e,sle),t.cc(e,jU),t.cc(e,iA),t.cc(e,LU),t.cc(e,$U),t},Une=(e,n)=>{let t=new E.XmlNode(Fi);return e[xr]!=null&&t.c(E.XmlNode.of(UU,e[xr]).n(xr)),e[Ne]!=null&&t.c(E.XmlNode.of(Ne,String(e[Ne])).n(Ne)),e[Ni]!=null&&t.c(E.XmlNode.of(Ni,String(e[Ni])).n(Ni)),t},qne=(e,n)=>{let t=new E.XmlNode($ae);return t.l(e,"Objects","Object",()=>Fre(e[tle])),e[bh]!=null&&t.c(E.XmlNode.of(bh,String(e[bh])).n(bh)),t},Hne=(e,n)=>{let t=new E.XmlNode(Li);return e[Q]!=null&&t.c(E.XmlNode.of(qae,e[Q]).n(Q)),t},$ne=(e,n)=>{let t=new E.XmlNode(Jt);return e[Me]!=null&&t.c(E.XmlNode.of(xS,e[Me]).n(Me)),e[Ac]!=null&&t.c(E.XmlNode.of(xc,e[Ac]).n(Ac)),t.cc(e,Ae),e[Bi]!=null&&t.c(Sne(e[Bi]).n(Bi)),e[Rn]!=null&&t.c(Vne(e[Rn]).n(Rn)),e[Qi]!=null&&t.c(ase(e[Qi]).n(Qi)),e[Gi]!=null&&t.c(vre(e[Gi]).n(Gi)),t},jne=(e,n)=>{let t=new E.XmlNode(us);return e[zw]!=null&&t.c(E.XmlNode.of(kn,e[zw]).n(zw)),e[Kw]!=null&&t.c(E.XmlNode.of(Sn,e[Kw]).n(Kw)),t.cc(e,Cce),t},Vne=(e,n)=>{let t=new E.XmlNode(Rn);return t.cc(e,qh),t},Gne=(e,n)=>{let t=new E.XmlNode(Ui);return e[ye]!=null&&t.c(E.XmlNode.of(oA,e[ye]).n(ye)),t},Kne=(e,n)=>new E.XmlNode(zi),K0=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(ia,t).n(en)),Wne=(e,n)=>{let t=new E.XmlNode(qi);return e[Q]!=null&&t.c(E.XmlNode.of(Vae,e[Q]).n(Q)),t},Xne=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(_0,t).n(en)),Yne=(e,n)=>{let t=new E.XmlNode(x0);return e[Ct]!=null&&t.c(E.XmlNode.of(Jae,e[Ct]).n(Ct)),e[or]!=null&&t.c(E.XmlNode.of(Qae,e[or]).n(or)),t},Jne=(e,n)=>e.filter(t=>t!=null).map(t=>Yne(t).n(en)),Qne=(e,n)=>{let t=new E.XmlNode(Ph);return t.cc(e,ZU),t},Zne=(e,n)=>{let t=new E.XmlNode(Vs);if(e[sr]!=null){let r=oU(e[sr]).n(sr);r.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(r)}return t.cc(e,ms),t},oU=(e,n)=>{let t=new E.XmlNode(sr);return t.cc(e,Ur),t.cc(e,xh),t.cc(e,Pt),t.cc(e,tp),t.a("xsi:type",e[Yn]),t},iU=(e,n)=>e.filter(t=>t!=null).map(t=>Zne(t).n(Vs)),ere=(e,n)=>{let t=new E.XmlNode(Hi);return t.cc(e,Yh),t},aU=(e,n)=>{let t=new E.XmlNode($i);return e[Nc]!=null&&t.c(Fne(e[Nc]).n(Nc)),t.cc(e,Lae),e[Uc]!=null&&t.c(hre(e[Uc]).n(Uc)),e[n0]!=null&&t.c(Wre(e[n0]).n(n0)),t},tre=(e,n)=>{let t=new E.XmlNode(lce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>da(e[In])),t},nre=(e,n)=>{let t=new E.XmlNode(T0);return e[ue]!=null&&t.c(E.XmlNode.of(gce,e[ue]).n(ue)),e[de]!=null&&t.c(rre(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(hce,e[Q]).n(Q)),t.l(e,"Tierings","Tiering",()=>Ose(e[q0])),t},rre=(e,n)=>{let t=new E.XmlNode(fce);return t.cc(e,X),e[xe]!=null&&t.c(al(e[xe]).n(xe)),e[yt]!=null&&t.c(tre(e[yt]).n(yt)),t},sre=(e,n)=>{let t=new E.XmlNode(P0);return e[Jt]!=null&&t.c(ore(e[Jt]).n(Jt)),e[Ri]!=null&&t.c(E.XmlNode.of(Ri,String(e[Ri])).n(Ri)),e[de]!=null&&t.c(are(e[de]).n(de)),e[ue]!=null&&t.c(E.XmlNode.of(sce,e[ue]).n(ue)),e[Lc]!=null&&t.c(E.XmlNode.of(oce,e[Lc]).n(Lc)),t.lc(e,"OptionalFields","OptionalFields",()=>cre(e[bc])),e[Jc]!=null&&t.c(dre(e[Jc]).n(Jc)),t},ore=(e,n)=>{let t=new E.XmlNode(Zae);return e[Rr]!=null&&t.c(lre(e[Rr]).n(Rr)),t},ire=(e,n)=>{let t=new E.XmlNode(ece);return e[F0]!=null&&t.c(Pse(e[F0]).n(Ap)),e[L0]!=null&&t.c(wse(e[L0]).n(wp)),t},are=(e,n)=>{let t=new E.XmlNode(tce);return t.cc(e,X),t},cre=(e,n)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(ice,t).n(A0)),lre=(e,n)=>{let t=new E.XmlNode(ace);return t.cc(e,xc),e[Me]!=null&&t.c(E.XmlNode.of(xS,e[Me]).n(Me)),e[Cr]!=null&&t.c(E.XmlNode.of(nce,e[Cr]).n(Cr)),t.cc(e,X),e[us]!=null&&t.c(ire(e[us]).n(us)),t},dre=(e,n)=>{let t=new E.XmlNode(cce);return e[Dc]!=null&&t.c(E.XmlNode.of(rce,e[Dc]).n(Dc)),t},ure=(e,n)=>{let t=new E.XmlNode(vh);return e[Us]!=null&&t.c(E.XmlNode.of(FU,e[Us]).n(Us)),e[Rn]!=null&&t.c(W0(e[Rn]).n(Rn)),t},mre=(e,n)=>{let t=new E.XmlNode(uce);return e[Us]!=null&&t.c(E.XmlNode.of(FU,e[Us]).n(Us)),e[Rn]!=null&&t.c(W0(e[Rn]).n(Rn)),t},fre=(e,n)=>{let t=new E.XmlNode(Ih);return e[fs]!=null&&t.c(lU(e[fs]).n(fs)),e[Rn]!=null&&t.c(W0(e[Rn]).n(Rn)),t},gre=(e,n)=>{let t=new E.XmlNode(Ece);return e[fs]!=null&&t.c(lU(e[fs]).n(fs)),t},hre=(e,n)=>{let t=new E.XmlNode(pce);return e[Yn]!=null&&t.c(E.XmlNode.of(Sce,e[Yn]).n(Yn)),t},pre=(e,n)=>{let t=new E.XmlNode(yce);return t.cc(e,iA),t},yre=(e,n)=>{let t=new E.XmlNode(xce);return e[ue]!=null&&t.c(E.XmlNode.of(sA,e[ue]).n(ue)),e[Nh]!=null&&t.c(E.XmlNode.of(Nh,e[Nh]).n(S0)),t.l(e,"Events","Event",()=>K0(e[js])),e[de]!=null&&t.c(X0(e[de]).n(de)),t},Sre=(e,n)=>e.filter(t=>t!=null).map(t=>yre(t).n(en)),Ere=(e,n)=>{let t=new E.XmlNode(_ce);return e[Un]!=null&&t.c(E.XmlNode.of(Un,i.serializeDateTime(e[Un]).toString()).n(Un)),e[Ne]!=null&&t.c(E.XmlNode.of(Ne,String(e[Ne])).n(Ne)),e[Ti]!=null&&t.c(E.XmlNode.of(Ti,String(e[Ti])).n(Ti)),t},bre=(e,n)=>{let t=new E.XmlNode(Tce);return e[Ht]!=null&&t.c(Ere(e[Ht]).n(Ht)),t.cc(e,Pt),t.cc(e,X),e[de]!=null&&t.c(_re(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(Kae,e[Q]).n(Q)),t.l(e,"Transitions","Transition",()=>Lse(e[j0])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>Dre(e[k0])),e[Ki]!=null&&t.c(Ore(e[Ki]).n(Ki)),e[Di]!=null&&t.c(pne(e[Di]).n(Di)),t},Cre=(e,n)=>{let t=new E.XmlNode(Rce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>da(e[In])),e[Pr]!=null&&t.c(E.XmlNode.of(qU,String(e[Pr])).n(Pr)),e[Tr]!=null&&t.c(E.XmlNode.of(HU,String(e[Tr])).n(Tr)),t},_re=(e,n)=>{let t=new E.XmlNode(vce);return t.cc(e,X),e[xe]!=null&&t.c(al(e[xe]).n(xe)),e[Pr]!=null&&t.c(E.XmlNode.of(qU,String(e[Pr])).n(Pr)),e[Tr]!=null&&t.c(E.XmlNode.of(HU,String(e[Tr])).n(Tr)),e[yt]!=null&&t.c(Cre(e[yt]).n(yt)),t},xre=(e,n)=>e.filter(t=>t!=null).map(t=>bre(t).n(en)),wre=(e,n)=>{let t=new E.XmlNode(wce);return e[Yn]!=null&&t.c(E.XmlNode.of(Ice,e[Yn]).n(Yn)),e[Ct]!=null&&t.c(E.XmlNode.of(Ace,e[Ct]).n(Ct)),t},Are=(e,n)=>{let t=new E.XmlNode(Vi);return t.cc(e,Qh),t.lc(e,"TargetGrants","TargetGrants",()=>Ise(e[_c])),t.cc(e,Zh),e[oa]!=null&&t.c(kse(e[oa]).n(oa)),t},Pre=(e,n)=>{let t=new E.XmlNode(Oce);return e[Ih]!=null&&t.c(fre(e[Ih]).n(Ih)),e[vh]!=null&&t.c(ure(e[vh]).n(vh)),t},Tre=(e,n)=>{let t=new E.XmlNode(zU);return e[Ct]!=null&&t.c(E.XmlNode.of(Fce,e[Ct]).n(Ct)),e[or]!=null&&t.c(E.XmlNode.of(Hce,e[or]).n(or)),t},Rre=(e,n)=>{let t=new E.XmlNode(Uce);return e[Xh]!=null&&t.c(hse(e[Xh]).n(Xh)),t},W0=(e,n)=>{let t=new E.XmlNode(qce);return e[o0]!=null&&t.c(E.XmlNode.of(Fle,e[o0]).n(o0)),t.cc(e,bce),t},vre=(e,n)=>{let t=new E.XmlNode(Gi);return e[Q]!=null&&t.c(E.XmlNode.of(zce,e[Q]).n(Q)),e[Bc]!=null&&t.c(dU(e[Bc]).n(Bc)),t},Ire=(e,n)=>{let t=new E.XmlNode(kce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>da(e[In])),t.cc(e,Fs),t},kre=(e,n)=>{let t=new E.XmlNode(v0);return e[ue]!=null&&t.c(E.XmlNode.of(Lce,e[ue]).n(ue)),e[de]!=null&&t.c(Nre(e[de]).n(de)),t},Nre=(e,n)=>{let t=new E.XmlNode(Mce);return S.MetricsFilter.visit(e,{Prefix:r=>{e[X]!=null&&t.c(E.XmlNode.of(X,r).n(X))},Tag:r=>{e[xe]!=null&&t.c(al(r).n(xe))},AccessPointArn:r=>{e[Fs]!=null&&t.c(E.XmlNode.of(Fs,r).n(Fs))},And:r=>{e[yt]!=null&&t.c(Ire(r).n(yt))},_:(r,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(r).c(s))}}),t},Ore=(e,n)=>{let t=new E.XmlNode(Ki);return e[wr]!=null&&t.c(E.XmlNode.of(Ne,String(e[wr])).n(wr)),e[Ar]!=null&&t.c(E.XmlNode.of(tq,String(e[Ar])).n(Ar)),t},Bre=(e,n)=>{let t=new E.XmlNode(N0);return e[wr]!=null&&t.c(E.XmlNode.of(Ne,String(e[wr])).n(wr)),e[Ae]!=null&&t.c(E.XmlNode.of(QU,e[Ae]).n(Ae)),e[Ar]!=null&&t.c(E.XmlNode.of(tq,String(e[Ar])).n(Ar)),t},Dre=(e,n)=>e.filter(t=>t!=null).map(t=>Bre(t).n(en)),Mre=(e,n)=>{let t=new E.XmlNode($ce);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>Dse(e[U0])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>Qre(e[B0])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>Sre(e[R0])),e[zi]!=null&&t.c(Kne(e[zi]).n(zi)),t},X0=(e,n)=>{let t=new E.XmlNode(jce);return e[ye]!=null&&t.c(fse(e[ye]).n(M0)),t},Lre=(e,n)=>{let t=new E.XmlNode(Wce);return e[ye]!=null&&t.c(E.XmlNode.of(oA,e[ye]).n(ye)),e[Re]!=null&&t.c(E.XmlNode.of(ele,e[Re]).n(Re)),t.cc(e,st),e[Eh]!=null&&t.c(E.XmlNode.of(Eh,i.dateToUtcString(e[Eh]).toString()).n(Eh)),e[yn]!=null&&t.c(E.XmlNode.of(yn,String(e[yn])).n(yn)),t},Fre=(e,n)=>e.filter(t=>t!=null).map(t=>Lre(t).n(en)),zre=(e,n)=>{let t=new E.XmlNode(Xce);return t.cc(e,Lh),e[Xn]!=null&&t.c(Hre(e[Xn]).n(Xn)),t},Ure=(e,n)=>{let t=new E.XmlNode(Yce);return e[Q]!=null&&t.c(E.XmlNode.of(ma,e[Q]).n(Q)),t},qre=(e,n)=>{let t=new E.XmlNode(Jce);return e[xr]!=null&&t.c(E.XmlNode.of(UU,e[xr]).n(xr)),e[Xc]!=null&&t.c(E.XmlNode.of(Un,i.serializeDateTime(e[Xc]).toString()).n(Xc)),t},Hre=(e,n)=>{let t=new E.XmlNode(Qce);return e[Fi]!=null&&t.c(Une(e[Fi]).n(Fi)),t},$re=(e,n)=>{let t=new E.XmlNode(Mh);return e[c0]!=null&&t.c(gse(e[c0]).n(c0)),t},cU=(e,n)=>{let t=new E.XmlNode(Wi);return e[Nc]!=null&&t.c(zne(e[Nc]).n(Nc)),e[Uc]!=null&&t.c(pre(e[Uc]).n(Uc)),t},jre=(e,n)=>{let t=new E.XmlNode(He);return t.cc(e,Ur),t.cc(e,Pt),t},Vre=(e,n)=>{let t=new E.XmlNode(Vce);return t.l(e,"Rules","Rule",()=>Kre(e[Ir])),t},Gre=(e,n)=>{let t=new E.XmlNode(Kce);return t.cc(e,hu),t},Kre=(e,n)=>e.filter(t=>t!=null).map(t=>Gre(t).n(en)),Wre=(e,n)=>new E.XmlNode(rle),Xre=(e,n)=>{let t=new E.XmlNode(Xi);return t.cc(e,Fh),t},Yre=(e,n)=>{let t=new E.XmlNode(nle);return e[Rc]!=null&&t.c(E.XmlNode.of(Ch,String(e[Rc])).n(Rc)),e[Fc]!=null&&t.c(E.XmlNode.of(Ch,String(e[Fc])).n(Fc)),e[vc]!=null&&t.c(E.XmlNode.of(Ch,String(e[vc])).n(vc)),e[Kc]!=null&&t.c(E.XmlNode.of(Ch,String(e[Kc])).n(Kc)),t},Jre=(e,n)=>{let t=new E.XmlNode(O0);return e[ue]!=null&&t.c(E.XmlNode.of(sA,e[ue]).n(ue)),e[Uh]!=null&&t.c(E.XmlNode.of(Uh,e[Uh]).n(D0)),t.l(e,"Events","Event",()=>K0(e[js])),e[de]!=null&&t.c(X0(e[de]).n(de)),t},Qre=(e,n)=>e.filter(t=>t!=null).map(t=>Jre(t).n(en)),lU=(e,n)=>{let t=new E.XmlNode(fs);return e[Ht]!=null&&t.c(E.XmlNode.of(Wae,e[Ht]).n(Ht)),e[Ne]!=null&&t.c(E.XmlNode.of(ile,String(e[Ne])).n(Ne)),t},Zre=(e,n)=>{let t=new E.XmlNode(Zi);return t.cc(e,Do),t.cc(e,Rh),t.cc(e,Fo),t.cc(e,Hh),t.cc(e,$h),t},ese=(e,n)=>{let t=new E.XmlNode(Yi);return t.cc(e,Do),t.cc(e,Fo),t},tse=(e,n)=>{let t=new E.XmlNode(Ji);return e[Q]!=null&&t.c(E.XmlNode.of(ale,e[Q]).n(Q)),t},nse=(e,n)=>{let t=new E.XmlNode(ole);return t.cc(e,Vh),t.l(e,"Rules","Rule",()=>ise(e[Ir])),t},rse=(e,n)=>{let t=new E.XmlNode(hle);return t.cc(e,Pt),e[ki]!=null&&t.c(E.XmlNode.of(ki,String(e[ki])).n(ki)),t.cc(e,X),e[de]!=null&&t.c(ose(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(fle,e[Q]).n(Q)),e[ra]!=null&&t.c(xse(e[ra]).n(ra)),e[qi]!=null&&t.c(Wne(e[qi]).n(qi)),e[Jt]!=null&&t.c($ne(e[Jt]).n(Jt)),e[Li]!=null&&t.c(Hne(e[Li]).n(Li)),t},sse=(e,n)=>{let t=new E.XmlNode(ule);return t.cc(e,X),t.l(e,"Tags","Tag",()=>da(e[In])),t},ose=(e,n)=>{let t=new E.XmlNode(mle);return t.cc(e,X),e[xe]!=null&&t.c(al(e[xe]).n(xe)),e[yt]!=null&&t.c(sse(e[yt]).n(yt)),t},ise=(e,n)=>e.filter(t=>t!=null).map(t=>rse(t).n(en)),ase=(e,n)=>{let t=new E.XmlNode(Qi);return e[Q]!=null&&t.c(E.XmlNode.of(Ele,e[Q]).n(Q)),e[el]!=null&&t.c(dU(e[el]).n(el)),t},dU=(e,n)=>{let t=new E.XmlNode(ble);return e[Ii]!=null&&t.c(E.XmlNode.of(Ii,String(e[Ii])).n(Ii)),t},cse=(e,n)=>{let t=new E.XmlNode(lle);return t.cc(e,zh),t},lse=(e,n)=>{let t=new E.XmlNode(jh);return e[Uw]!=null&&t.c(E.XmlNode.of(Gae,String(e[Uw])).n(Uw)),t},dse=(e,n)=>{let t=new E.XmlNode(ple);return e[Ne]!=null&&t.c(E.XmlNode.of(Ne,String(e[Ne])).n(Ne)),e[Ph]!=null&&t.c(Qne(e[Ph]).n(Ph)),e[Yn]!=null&&t.c(E.XmlNode.of(gle,e[Yn]).n(Yn)),t.cc(e,ZU),t.cc(e,jae),e[Kh]!=null&&t.c(yse(e[Kh]).n(Kh)),e[Mh]!=null&&t.c($re(e[Mh]).n(Mh)),t},use=(e,n)=>{let t=new E.XmlNode(xp);return e[Mi]!=null&&t.c(One(e[Mi]).n(Mi)),e[Zi]!=null&&t.c(Zre(e[Zi]).n(Zi)),t},mse=(e,n)=>e.filter(t=>t!=null).map(t=>use(t).n(xp)),fse=(e,n)=>{let t=new E.XmlNode(Ple);return t.l(e,"FilterRules","FilterRule",()=>Jne(e[w0])),t},gse=(e,n)=>{let t=new E.XmlNode(Tle);return t.cc(e,xS),e[X]!=null&&t.c(E.XmlNode.of(Pce,e[X]).n(X)),e[us]!=null&&t.c(jne(e[us]).n(us)),e[Ow]!=null&&t.c(E.XmlNode.of(Gce,e[Ow]).n(Ow)),t.lc(e,"AccessControlList","AccessControlList",()=>iU(e[Oi])),e[sa]!=null&&t.c(Y0(e[sa]).n(sa)),t.lc(e,"UserMetadata","UserMetadata",()=>Fse(e[zle])),t.cc(e,Ae),t},hse=(e,n)=>{let t=new E.XmlNode(Xh);return e[$s]!=null&&t.c(E.XmlNode.of(Ole,e[$s]).n($s)),e[vr]!=null&&t.c(E.XmlNode.of(Ble,e[vr]).n(vr)),t},pse=(e,n)=>{let t=new E.XmlNode(Wh);return e[_h]!=null&&t.c(E.XmlNode.of(_h,String(e[_h])).n(_h)),e[Sh]!=null&&t.c(E.XmlNode.of(Sh,String(e[Sh])).n(Sh)),t},yse=(e,n)=>{let t=new E.XmlNode(Kh);return e[$i]!=null&&t.c(aU(e[$i]).n($i)),t.cc(e,DU),t.cc(e,MU),e[Wi]!=null&&t.c(cU(e[Wi]).n(Wi)),t},Sse=(e,n)=>{let t=new E.XmlNode(Ile);return e[Yc]!=null&&t.c(E.XmlNode.of(kn,e[Yc]).n(Yc)),e[Hc]!=null&&t.c(E.XmlNode.of(Sn,e[Hc]).n(Hc)),t},Ese=(e,n)=>{let t=new E.XmlNode(kle);return t.l(e,"Rules","Rule",()=>Cse(e[Ir])),t},bse=(e,n)=>{let t=new E.XmlNode(Nle);return e[wc]!=null&&t.c(Sse(e[wc]).n(wc)),e[pt]!=null&&t.c(E.XmlNode.of(pt,String(e[pt])).n(pt)),t},Cse=(e,n)=>e.filter(t=>t!=null).map(t=>bse(t).n(en)),_se=(e,n)=>new E.XmlNode(na),xse=(e,n)=>{let t=new E.XmlNode(ra);return e[ta]!=null&&t.c(Ase(e[ta]).n(ta)),e[Ji]!=null&&t.c(tse(e[Ji]).n(Ji)),t},wse=(e,n)=>{let t=new E.XmlNode(wp);return e[qc]!=null&&t.c(E.XmlNode.of(Sn,e[qc]).n(qc)),t},Ase=(e,n)=>{let t=new E.XmlNode(ta);return e[Q]!=null&&t.c(E.XmlNode.of(Ale,e[Q]).n(Q)),t},Pse=(e,n)=>new E.XmlNode(Ap),Tse=(e,n)=>{let t=new E.XmlNode(ea);return e[Oc]!=null&&t.c(Rse(e[Oc]).n(Oc)),t},Rse=(e,n)=>{let t=new E.XmlNode(Cle);return e[Gc]!=null&&t.c(E.XmlNode.of(_le,e[Gc]).n(Gc)),e[Jt]!=null&&t.c(wne(e[Jt]).n(Jt)),t},al=(e,n)=>{let t=new E.XmlNode(xe);return e[ye]!=null&&t.c(E.XmlNode.of(oA,e[ye]).n(ye)),t.cc(e,or),t},Y0=(e,n)=>{let t=new E.XmlNode(sa);return t.lc(e,"TagSet","TagSet",()=>da(e[Fr])),t},da=(e,n)=>e.filter(t=>t!=null).map(t=>al(t).n(xe)),vse=(e,n)=>{let t=new E.XmlNode(Mle);if(e[sr]!=null){let r=oU(e[sr]).n(sr);r.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(r)}return e[ms]!=null&&t.c(E.XmlNode.of(wae,e[ms]).n(ms)),t},Ise=(e,n)=>e.filter(t=>t!=null).map(t=>vse(t).n(Vs)),kse=(e,n)=>{let t=new E.XmlNode(oa);return e[na]!=null&&t.c(_se(e[na]).n(na)),e[Xi]!=null&&t.c(Xre(e[Xi]).n(Xi)),t},Nse=(e,n)=>{let t=new E.XmlNode(H0);return e[Ne]!=null&&t.c(E.XmlNode.of(mce,String(e[Ne])).n(Ne)),e[zs]!=null&&t.c(E.XmlNode.of(dce,e[zs]).n(zs)),t},Ose=(e,n)=>e.filter(t=>t!=null).map(t=>Nse(t).n(en)),Bse=(e,n)=>{let t=new E.XmlNode(z0);return e[ue]!=null&&t.c(E.XmlNode.of(sA,e[ue]).n(ue)),e[Jh]!=null&&t.c(E.XmlNode.of(Jh,e[Jh]).n($0)),t.l(e,"Events","Event",()=>K0(e[js])),e[de]!=null&&t.c(X0(e[de]).n(de)),t},Dse=(e,n)=>e.filter(t=>t!=null).map(t=>Bse(t).n(en)),Mse=(e,n)=>{let t=new E.XmlNode(V0);return e[Un]!=null&&t.c(E.XmlNode.of(Un,i.serializeDateTime(e[Un]).toString()).n(Un)),e[Ne]!=null&&t.c(E.XmlNode.of(Ne,String(e[Ne])).n(Ne)),e[Ae]!=null&&t.c(E.XmlNode.of(QU,e[Ae]).n(Ae)),t},Lse=(e,n)=>e.filter(t=>t!=null).map(t=>Mse(t).n(en)),Fse=(e,n)=>e.filter(t=>t!=null).map(t=>Tre(t).n(zU)),zse=(e,n)=>{let t=new E.XmlNode(Ule);return e[Bh]!=null&&t.c(E.XmlNode.of(Bh,e[Bh]).n(I0)),e[Q]!=null&&t.c(E.XmlNode.of(Rae,e[Q]).n(Q)),t},Use=(e,n)=>{let t=new E.XmlNode(qle);return e[Ui]!=null&&t.c(Gne(e[Ui]).n(Ui)),e[Hi]!=null&&t.c(ere(e[Hi]).n(Hi)),e[Yi]!=null&&t.c(ese(e[Yi]).n(Yi)),t.lc(e,"RoutingRules","RoutingRules",()=>mse(e[Cc])),t},qse=(e,n)=>{let t={};return e[Pi]!=null&&(t[Pi]=i.strictParseInt32(e[Pi])),t},Hse=(e,n)=>{let t={};return e[He]!=null&&(t[He]=i.expectString(e[He])),t},$se=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),jse=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Vse=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Gse=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[In]=[]:e[xe]!=null&&(t[In]=ua(i.getArrayIfSingleItem(e[xe]))),t},uU=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=Xse(i.expectUnion(e[de]))),e[ea]!=null&&(t[ea]=Jie(e[ea])),t},Kse=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>uU(t)),Wse=(e,n)=>{let t={};return e[Rr]!=null&&(t[Rr]=Yse(e[Rr])),t},Xse=(e,n)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:cl(e[xe])}:e[yt]!=null?{And:Gse(e[yt])}:{$unknown:Object.entries(e)[0]},Yse=(e,n)=>{let t={};return e[Cr]!=null&&(t[Cr]=i.expectString(e[Cr])),e[Pc]!=null&&(t[Pc]=i.expectString(e[Pc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[X]!=null&&(t[X]=i.expectString(e[X])),t},Jse=(e,n)=>{let t={};return e[Ct]!=null&&(t[Ct]=i.expectString(e[Ct])),e[Bw]!=null&&(t[Bw]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Bw]))),e[gu]!=null&&(t[gu]=i.expectString(e[gu])),e[fu]!=null&&(t[fu]=i.expectString(e[fu])),t},mU=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Jse(t)),Qse=(e,n)=>{let t={};return e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},fU=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Zse=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},_S=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Zse(t)),eoe=(e,n)=>{let t={};return e[Th]!=null&&(t[Th]=i.expectString(e[Th])),e[kh]!=null&&(t[kh]=i.expectString(e[kh])),t},toe=(e,n)=>({}),noe=(e,n)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},roe=(e,n)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},soe=(e,n)=>{let t={};return e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),String(e.AllowedHeader).trim()===""?t[f0]=[]:e[m0]!=null&&(t[f0]=$se(i.getArrayIfSingleItem(e[m0]))),String(e.AllowedMethod).trim()===""?t[h0]=[]:e[g0]!=null&&(t[h0]=jse(i.getArrayIfSingleItem(e[g0]))),String(e.AllowedOrigin).trim()===""?t[y0]=[]:e[p0]!=null&&(t[y0]=Vse(i.getArrayIfSingleItem(e[p0]))),String(e.ExposeHeader).trim()===""?t[C0]=[]:e[_0]!=null&&(t[C0]=Coe(i.getArrayIfSingleItem(e[_0]))),e[vi]!=null&&(t[vi]=i.strictParseInt32(e[vi])),t},ooe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>soe(t)),ioe=(e,n)=>{let t={};return e[xr]!=null&&(t[xr]=i.expectString(e[xr])),e[Ne]!=null&&(t[Ne]=i.strictParseInt32(e[Ne])),e[Ni]!=null&&(t[Ni]=i.strictParseInt32(e[Ni])),t},aoe=(e,n)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Re]!=null&&(t[Re]=i.expectString(e[Re])),e[zr]!=null&&(t[zr]=i.parseBoolean(e[zr])),e[Lw]!=null&&(t[Lw]=i.expectString(e[Lw])),t},coe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>aoe(t)),loe=(e,n)=>{let t={};return e[He]!=null&&(t[He]=Ho(e[He])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Re]!=null&&(t[Re]=i.expectString(e[Re])),e[Mc]!=null&&(t[Mc]=i.parseBoolean(e[Mc])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),t},doe=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},uoe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>loe(t)),moe=(e,n)=>{let t={};return e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[Ac]!=null&&(t[Ac]=i.expectString(e[Ac])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Bi]!=null&&(t[Bi]=Hse(e[Bi])),e[Rn]!=null&&(t[Rn]=goe(e[Rn])),e[Qi]!=null&&(t[Qi]=Die(e[Qi])),e[Gi]!=null&&(t[Gi]=Joe(e[Gi])),t},foe=(e,n)=>{let t={};return e[l0]!=null&&(t[l0]=i.expectString(e[l0])),e[$s]!=null&&(t[$s]=i.expectString(e[$s])),e[Qc]!=null&&(t[Qc]=i.expectString(e[Qc])),t},goe=(e,n)=>{let t={};return e[qh]!=null&&(t[qh]=i.expectString(e[qh])),t},hoe=(e,n)=>({}),poe=(e,n)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Re]!=null&&(t[Re]=i.expectString(e[Re])),e[Mw]!=null&&(t[Mw]=i.expectString(e[Mw])),e[Yw]!=null&&(t[Yw]=i.expectString(e[Yw])),t},J0=(e,n)=>{let t={};return e[wh]!=null&&(t[wh]=i.expectString(e[wh])),e[Ah]!=null&&(t[Ah]=i.expectString(e[Ah])),t},yoe=(e,n)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),t},Soe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>poe(t)),Eoe=(e,n)=>({}),Q0=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),boe=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Coe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),_oe=(e,n)=>{let t={};return e[Ct]!=null&&(t[Ct]=i.expectString(e[Ct])),e[or]!=null&&(t[or]=i.expectString(e[or])),t},xoe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>_oe(t)),woe=(e,n)=>{let t={};return e[Ww]!=null&&(t[Ww]=Xoe(e[Ww])),t},Aoe=(e,n)=>{let t={};return e[Xw]!=null&&(t[Xw]=Yoe(e[Xw])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[qr]!=null&&(t[qr]=J0(e[qr])),t},Poe=(e,n)=>{let t={};return e[rl]!=null&&(t[Lle]=i.strictParseInt32(e[rl])),e[Lo]!=null&&(t[Lo]=i.expectString(e[Lo])),e[Vc]!=null&&(t[Vc]=i.expectString(e[Vc])),e[qs]!=null&&(t[qs]=i.strictParseInt32(e[qs])),e[Xe]!=null&&(t[Xe]=i.parseBoolean(e[Xe])),String(e.Part).trim()===""?t[yu]=[]:e[_p]!=null&&(t[yu]=bie(i.getArrayIfSingleItem(e[_p]))),t},Toe=(e,n)=>{let t={};return e[sr]!=null&&(t[sr]=gU(e[sr])),e[ms]!=null&&(t[ms]=i.expectString(e[ms])),t},gU=(e,n)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectString(e[Ur])),e[xh]!=null&&(t[xh]=i.expectString(e[xh])),e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),e[tp]!=null&&(t[tp]=i.expectString(e[tp])),e[gz]!=null&&(t[Yn]=i.expectString(e[gz])),t},hU=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Toe(t)),Roe=(e,n)=>{let t={};return e[Yh]!=null&&(t[Yh]=i.expectString(e[Yh])),t},pU=(e,n)=>{let t={};return e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),e[Ur]!=null&&(t[Ur]=i.expectString(e[Ur])),t},voe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[In]=[]:e[xe]!=null&&(t[In]=ua(i.getArrayIfSingleItem(e[xe]))),t},yU=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[de]!=null&&(t[de]=koe(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Tiering).trim()===""?t[q0]=[]:e[H0]!=null&&(t[q0]=rae(i.getArrayIfSingleItem(e[H0]))),t},Ioe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>yU(t)),koe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=cl(e[xe])),e[yt]!=null&&(t[yt]=voe(e[yt])),t},SU=(e,n)=>{let t={};return e[Jt]!=null&&(t[Jt]=Ooe(e[Jt])),e[Ri]!=null&&(t[Ri]=i.parseBoolean(e[Ri])),e[de]!=null&&(t[de]=Doe(e[de])),e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[Lc]!=null&&(t[Lc]=i.expectString(e[Lc])),String(e.OptionalFields).trim()===""?t[bc]=[]:e[bc]!=null&&e[bc][A0]!=null&&(t[bc]=Moe(i.getArrayIfSingleItem(e[bc][A0]))),e[Jc]!=null&&(t[Jc]=Foe(e[Jc])),t},Noe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>SU(t)),Ooe=(e,n)=>{let t={};return e[Rr]!=null&&(t[Rr]=Loe(e[Rr])),t},Boe=(e,n)=>{let t={};return e[Ap]!=null&&(t[F0]=Xie(e[Ap])),e[wp]!=null&&(t[L0]=Kie(e[wp])),t},Doe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},Moe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Loe=(e,n)=>{let t={};return e[xc]!=null&&(t[xc]=i.expectString(e[xc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[Cr]!=null&&(t[Cr]=i.expectString(e[Cr])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[us]!=null&&(t[us]=Boe(e[us])),t},Foe=(e,n)=>{let t={};return e[Dc]!=null&&(t[Dc]=i.expectString(e[Dc])),t},zoe=(e,n)=>{let t={};return e[Us]!=null&&(t[Us]=i.expectString(e[Us])),e[Zc]!=null&&(t[Zc]=i.expectString(e[Zc])),e[qr]!=null&&(t[qr]=J0(e[qr])),e[vr]!=null&&(t[vr]=i.expectString(e[vr])),e[Hs]!=null&&(t[Hs]=i.expectString(e[Hs])),t},Uoe=(e,n)=>{let t={};return e[Zc]!=null&&(t[Zc]=i.expectString(e[Zc])),e[qr]!=null&&(t[qr]=J0(e[qr])),e[vr]!=null&&(t[vr]=i.expectString(e[vr])),e[Hs]!=null&&(t[Hs]=i.expectString(e[Hs])),e[fs]!=null&&(t[fs]=Pie(e[fs])),t},qoe=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[S0]!=null&&(t[Nh]=i.expectString(e[S0])),String(e.Event).trim()===""?t[js]=[]:e[ia]!=null&&(t[js]=Q0(i.getArrayIfSingleItem(e[ia]))),e[de]!=null&&(t[de]=Z0(e[de])),t},Hoe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>qoe(t)),$oe=(e,n)=>{let t={};return e[Un]!=null&&(t[Un]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Un]))),e[Ne]!=null&&(t[Ne]=i.strictParseInt32(e[Ne])),e[Ti]!=null&&(t[Ti]=i.parseBoolean(e[Ti])),t},joe=(e,n)=>{let t={};return e[Ht]!=null&&(t[Ht]=$oe(e[Ht])),e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=Goe(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Transition).trim()===""?t[j0]=[]:e[V0]!=null&&(t[j0]=aae(i.getArrayIfSingleItem(e[V0]))),String(e.NoncurrentVersionTransition).trim()===""?t[k0]=[]:e[N0]!=null&&(t[k0]=oie(i.getArrayIfSingleItem(e[N0]))),e[Ki]!=null&&(t[Ki]=rie(e[Ki])),e[Di]!=null&&(t[Di]=qse(e[Di])),t},Voe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[In]=[]:e[xe]!=null&&(t[In]=ua(i.getArrayIfSingleItem(e[xe]))),e[Pr]!=null&&(t[Pr]=i.strictParseLong(e[Pr])),e[Tr]!=null&&(t[Tr]=i.strictParseLong(e[Tr])),t},Goe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=cl(e[xe])),e[Pr]!=null&&(t[Pr]=i.strictParseLong(e[Pr])),e[Tr]!=null&&(t[Tr]=i.strictParseLong(e[Tr])),e[yt]!=null&&(t[yt]=Voe(e[yt])),t},Koe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>joe(t)),Woe=(e,n)=>{let t={};return e[Qh]!=null&&(t[Qh]=i.expectString(e[Qh])),String(e.TargetGrants).trim()===""?t[_c]=[]:e[_c]!=null&&e[_c][Vs]!=null&&(t[_c]=eae(i.getArrayIfSingleItem(e[_c][Vs]))),e[Zh]!=null&&(t[Zh]=i.expectString(e[Zh])),e[oa]!=null&&(t[oa]=tae(e[oa])),t},Xoe=(e,n)=>{let t={};return e[Fw]!=null&&(t[Fw]=foe(e[Fw])),e[Vw]!=null&&(t[Vw]=Uoe(e[Vw])),e[$w]!=null&&(t[$w]=zoe(e[$w])),t},Yoe=(e,n)=>{let t={};return e[a0]!=null&&(t[a0]=zie(e[a0])),t},Joe=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Bc]!=null&&(t[Bc]=CU(e[Bc])),t},Qoe=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[In]=[]:e[xe]!=null&&(t[In]=ua(i.getArrayIfSingleItem(e[xe]))),e[Fs]!=null&&(t[Fs]=i.expectString(e[Fs])),t},EU=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=eie(i.expectUnion(e[de]))),t},Zoe=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>EU(t)),eie=(e,n)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:cl(e[xe])}:e[Fs]!=null?{AccessPointArn:i.expectString(e[Fs])}:e[yt]!=null?{And:Qoe(e[yt])}:{$unknown:Object.entries(e)[0]},tie=(e,n)=>{let t={};return e[Jn]!=null&&(t[Jn]=i.expectString(e[Jn])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[jw]!=null&&(t[jw]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[jw]))),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[He]!=null&&(t[He]=Ho(e[He])),e[zc]!=null&&(t[zc]=pU(e[zc])),e[be]!=null&&(t[be]=i.expectString(e[be])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},nie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>tie(t)),rie=(e,n)=>{let t={};return e[wr]!=null&&(t[wr]=i.strictParseInt32(e[wr])),e[Ar]!=null&&(t[Ar]=i.strictParseInt32(e[Ar])),t},sie=(e,n)=>{let t={};return e[wr]!=null&&(t[wr]=i.strictParseInt32(e[wr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Ar]!=null&&(t[Ar]=i.strictParseInt32(e[Ar])),t},oie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>sie(t)),Z0=(e,n)=>{let t={};return e[M0]!=null&&(t[ye]=Fie(e[M0])),t},iie=(e,n)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),e[st]!=null&&(t[st]=i.expectString(e[st])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=fU(i.getArrayIfSingleItem(e[be]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[yn]!=null&&(t[yn]=i.strictParseLong(e[yn])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[He]!=null&&(t[He]=Ho(e[He])),e[Wc]!=null&&(t[Wc]=_U(e[Wc])),t},bU=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>iie(t)),aie=(e,n)=>{let t={};return e[Lh]!=null&&(t[Lh]=i.expectString(e[Lh])),e[Xn]!=null&&(t[Xn]=die(e[Xn])),t},cie=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},lie=(e,n)=>{let t={};return e[xr]!=null&&(t[xr]=i.expectString(e[xr])),e[Xc]!=null&&(t[Xc]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Xc]))),t},die=(e,n)=>{let t={};return e[Fi]!=null&&(t[Fi]=ioe(e[Fi])),t},uie=(e,n)=>{let t={};return e[Wn]!=null&&(t[Wn]=i.strictParseInt32(e[Wn])),e[yn]!=null&&(t[yn]=i.strictParseLong(e[yn])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},mie=(e,n)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=fU(i.getArrayIfSingleItem(e[be]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[yn]!=null&&(t[yn]=i.strictParseLong(e[yn])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Re]!=null&&(t[Re]=i.expectString(e[Re])),e[Mc]!=null&&(t[Mc]=i.parseBoolean(e[Mc])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),e[He]!=null&&(t[He]=Ho(e[He])),e[Wc]!=null&&(t[Wc]=_U(e[Wc])),t},fie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>mie(t)),Ho=(e,n)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectString(e[Ur])),e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),t},gie=(e,n)=>{let t={};return String(e.Rule).trim()===""?t[Ir]=[]:e[Xn]!=null&&(t[Ir]=pie(i.getArrayIfSingleItem(e[Xn]))),t},hie=(e,n)=>{let t={};return e[hu]!=null&&(t[hu]=i.expectString(e[hu])),t},pie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>hie(t)),yie=(e,n)=>{let t={};return e[Wn]!=null&&(t[Wn]=i.strictParseInt32(e[Wn])),e[Tt]!=null&&(t[Tt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Tt]))),e[st]!=null&&(t[st]=i.expectString(e[st])),e[yn]!=null&&(t[yn]=i.strictParseLong(e[yn])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},Sie=(e,n)=>{let t={};return e[Fh]!=null&&(t[Fh]=i.expectString(e[Fh])),t},Eie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>yie(t)),bie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>uie(t)),Cie=(e,n)=>{let t={};return e[qw]!=null&&(t[qw]=i.parseBoolean(e[qw])),t},_ie=(e,n)=>{let t={};return e[kc]!=null&&(t[kc]=i.strictParseLong(e[kc])),e[Tc]!=null&&(t[Tc]=i.strictParseLong(e[Tc])),e[Ic]!=null&&(t[Ic]=i.strictParseLong(e[Ic])),t},xie=(e,n)=>{let t={};return e[Rc]!=null&&(t[Rc]=i.parseBoolean(e[Rc])),e[Fc]!=null&&(t[Fc]=i.parseBoolean(e[Fc])),e[vc]!=null&&(t[vc]=i.parseBoolean(e[vc])),e[Kc]!=null&&(t[Kc]=i.parseBoolean(e[Kc])),t},wie=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[D0]!=null&&(t[Uh]=i.expectString(e[D0])),String(e.Event).trim()===""?t[js]=[]:e[ia]!=null&&(t[js]=Q0(i.getArrayIfSingleItem(e[ia]))),e[de]!=null&&(t[de]=Z0(e[de])),t},Aie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>wie(t)),Pie=(e,n)=>{let t={};return e[Ht]!=null&&(t[Ht]=i.expectString(e[Ht])),e[Ne]!=null&&(t[Ne]=i.strictParseInt32(e[Ne])),t},Tie=(e,n)=>{let t={};return e[Do]!=null&&(t[Do]=i.expectString(e[Do])),e[Rh]!=null&&(t[Rh]=i.expectString(e[Rh])),e[Fo]!=null&&(t[Fo]=i.expectString(e[Fo])),e[Hh]!=null&&(t[Hh]=i.expectString(e[Hh])),e[$h]!=null&&(t[$h]=i.expectString(e[$h])),t},Rie=(e,n)=>{let t={};return e[Do]!=null&&(t[Do]=i.expectString(e[Do])),e[Fo]!=null&&(t[Fo]=i.expectString(e[Fo])),t},vie=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Iie=(e,n)=>{let t={};return e[Vh]!=null&&(t[Vh]=i.expectString(e[Vh])),String(e.Rule).trim()===""?t[Ir]=[]:e[Xn]!=null&&(t[Ir]=Bie(i.getArrayIfSingleItem(e[Xn]))),t},kie=(e,n)=>{let t={};return e[Pt]!=null&&(t[Pt]=i.expectString(e[Pt])),e[ki]!=null&&(t[ki]=i.strictParseInt32(e[ki])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=Oie(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[ra]!=null&&(t[ra]=Gie(e[ra])),e[qi]!=null&&(t[qi]=boe(e[qi])),e[Jt]!=null&&(t[Jt]=moe(e[Jt])),e[Li]!=null&&(t[Li]=doe(e[Li])),t},Nie=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[In]=[]:e[xe]!=null&&(t[In]=ua(i.getArrayIfSingleItem(e[xe]))),t},Oie=(e,n)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=cl(e[xe])),e[yt]!=null&&(t[yt]=Nie(e[yt])),t},Bie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>kie(t)),Die=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[el]!=null&&(t[el]=CU(e[el])),t},CU=(e,n)=>{let t={};return e[Ii]!=null&&(t[Ii]=i.strictParseInt32(e[Ii])),t},_U=(e,n)=>{let t={};return e[Hw]!=null&&(t[Hw]=i.parseBoolean(e[Hw])),e[r0]!=null&&(t[r0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[r0]))),t},Mie=(e,n)=>{let t={};return e[Mi]!=null&&(t[Mi]=eoe(e[Mi])),e[Zi]!=null&&(t[Zi]=Tie(e[Zi])),t},Lie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Mie(t)),Fie=(e,n)=>{let t={};return String(e.FilterRule).trim()===""?t[w0]=[]:e[x0]!=null&&(t[w0]=xoe(i.getArrayIfSingleItem(e[x0]))),t},zie=(e,n)=>{let t={};return e[$s]!=null&&(t[$s]=i.expectString(e[$s])),e[vr]!=null&&(t[vr]=i.expectString(e[vr])),e[Hs]!=null&&(t[Hs]=i.expectString(e[Hs])),e[Qc]!=null&&(t[Qc]=i.expectString(e[Qc])),t},Uie=(e,n)=>{let t={};return e[Yc]!=null&&(t[Yc]=i.expectString(e[Yc])),e[Hc]!=null&&(t[Hc]=i.expectString(e[Hc])),t},qie=(e,n)=>{let t={};return String(e.Rule).trim()===""?t[Ir]=[]:e[Xn]!=null&&(t[Ir]=$ie(i.getArrayIfSingleItem(e[Xn]))),t},Hie=(e,n)=>{let t={};return e[wc]!=null&&(t[wc]=Uie(e[wc])),e[pt]!=null&&(t[pt]=i.parseBoolean(e[pt])),t},$ie=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Hie(t)),jie=(e,n)=>{let t={};return e[kw]!=null&&(t[kw]=i.expectString(e[kw])),e[s0]!=null&&(t[s0]=i.expectString(e[s0])),e[i0]!=null&&(t[i0]=i.expectString(e[i0])),e[Ht]!=null&&(t[Ht]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ht]))),t},Vie=(e,n)=>({}),Gie=(e,n)=>{let t={};return e[ta]!=null&&(t[ta]=Wie(e[ta])),e[Ji]!=null&&(t[Ji]=vie(e[Ji])),t},Kie=(e,n)=>{let t={};return e[qc]!=null&&(t[qc]=i.expectString(e[qc])),t},Wie=(e,n)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Xie=(e,n)=>({}),Yie=(e,n)=>{let t={};return e[kc]!=null&&(t[kc]=i.strictParseLong(e[kc])),e[Tc]!=null&&(t[Tc]=i.strictParseLong(e[Tc])),e[Ic]!=null&&(t[Ic]=i.strictParseLong(e[Ic])),t},Jie=(e,n)=>{let t={};return e[Oc]!=null&&(t[Oc]=Qie(e[Oc])),t},Qie=(e,n)=>{let t={};return e[Gc]!=null&&(t[Gc]=i.expectString(e[Gc])),e[Jt]!=null&&(t[Jt]=Wse(e[Jt])),t},cl=(e,n)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[or]!=null&&(t[or]=i.expectString(e[or])),t},ua=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>cl(t)),Zie=(e,n)=>{let t={};return e[sr]!=null&&(t[sr]=gU(e[sr])),e[ms]!=null&&(t[ms]=i.expectString(e[ms])),t},eae=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Zie(t)),tae=(e,n)=>{let t={};return e[na]!=null&&(t[na]=Vie(e[na])),e[Xi]!=null&&(t[Xi]=Sie(e[Xi])),t},nae=(e,n)=>{let t={};return e[Ne]!=null&&(t[Ne]=i.strictParseInt32(e[Ne])),e[zs]!=null&&(t[zs]=i.expectString(e[zs])),t},rae=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>nae(t)),sae=(e,n)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[$0]!=null&&(t[Jh]=i.expectString(e[$0])),String(e.Event).trim()===""?t[js]=[]:e[ia]!=null&&(t[js]=Q0(i.getArrayIfSingleItem(e[ia]))),e[de]!=null&&(t[de]=Z0(e[de])),t},oae=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>sae(t)),iae=(e,n)=>{let t={};return e[Un]!=null&&(t[Un]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Un]))),e[Ne]!=null&&(t[Ne]=i.strictParseInt32(e[Ne])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),t},aae=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>iae(t)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),cae=(e,n)=>i.collectBody(e,n).then(t=>n.utf8Encoder(t)),yt="And",lae="AnalyticsAndOperator",u0="AnalyticsConfiguration",ll="ACL",Oi="AccessControlList",$F="AnalyticsConfigurationList",dae="AccessControlPolicy",Bi="AccessControlTranslation",uae="AccelerateConfiguration",xU="AbortDate",mae="AnalyticsExportDestination",fae="AnalyticsFilter",m0="AllowedHeader",f0="AllowedHeaders",gae="AnalyticsId",Di="AbortIncompleteMultipartUpload",xc="AccountId",kw="AccessKeyId",g0="AllowedMethod",h0="AllowedMethods",p0="AllowedOrigin",y0="AllowedOrigins",hae="AccessPointAlias",Fs="AccessPointArn",ph="AllowQuotedRecordDelimiter",eA="AcceptRanges",wU="AbortRuleId",pae="ArchiveStatus",yae="AnalyticsS3BucketDestination",Sae="AnalyticsS3ExportFileFormat",wc="ApplyServerSideEncryptionByDefault",zs="AccessTier",Ac="Account",Me="Bucket",fu="BucketArn",Pc="BucketAccountId",Eae="BucketAccelerateStatus",tl="BypassGovernanceRetention",bae="BucketInfo",pt="BucketKeyEnabled",Cae="BucketLifecycleConfiguration",_ae="BucketLocationConstraint",xae="BucketLocationName",wae="BucketLogsPermission",Aae="BucketLoggingStatus",Pae="BucketLocationType",xS="BucketName",Tc="BytesProcessed",Rc="BlockPublicAcls",vc="BlockPublicPolicy",gu="BucketRegion",Ic="BytesReturned",kc="BytesScanned",Tae="BucketType",Rae="BucketVersioningStatus",ds="Buckets",Nw="Credentials",be="ChecksumAlgorithm",Ow="CannedACL",vae="CreateBucketConfiguration",dl="CacheControl",ct="ChecksumCRC32",lt="ChecksumCRC32C",dt="ChecksumCRC64NVME",ul="ContentDisposition",Bw="CreationDate",ml="ContentEncoding",S0="CloudFunction",jF="CloudFunctionConfiguration",fl="ContentLanguage",zo="ContentLength",AU="ChecksumMode",Rt="ContentMD5",Iae="CompletedMultipartUpload",kae="CORSConfiguration",E0="CORSRule",b0="CORSRules",Pn="CommonPrefixes",Nae="CompletedPart",tA="ContentRange",VF="ConfirmRemoveSelfBucketAccess",PU="CopySource",ut="ChecksumSHA1",mt="ChecksumSHA256",TU="CopySourceIfMatch",yp="CopySourceIfModifiedSince",RU="CopySourceIfNoneMatch",Sp="CopySourceIfUnmodifiedSince",Oae="CopySourceRange",vU="CopySourceSSECustomerAlgorithm",IU="CopySourceSSECustomerKey",kU="CopySourceSSECustomerKeyMD5",Nc="CSV",NU="CopySourceVersionId",Bae="CSVInput",Dae="CSVOutput",Us="ConfigurationState",ft="ChecksumType",Mae="ClientToken",gl="ContentType",Lae="CompressionType",rt="ContinuationToken",Dw="Checksum",Bo="Contents",Mw="Code",Fae="Comments",Mi="Condition",Tn="Delimiter",Pi="DaysAfterInitiation",Oc="DataExport",zae="DestinationIfMatch",GF="DestinationIfModifiedSince",Uae="DestinationIfNoneMatch",KF="DestinationIfUnmodifiedSince",zr="DeleteMarker",Li="DeleteMarkerReplication",qae="DeleteMarkerReplicationStatus",Lw="DeleteMarkerVersionId",WF="DeleteMarkers",Ur="DisplayName",Hae="DataRedundancy",Fi="DefaultRetention",Fw="DestinationResult",Ne="Days",Un="Date",yh="Deleted",$ae="Delete",Jt="Destination",jae="Description",gs="Expires",xh="EmailAddress",zi="EventBridgeConfiguration",G="ExpectedBucketOwner",wh="ErrorCode",Rn="EncryptionConfiguration",Ui="ErrorDocument",C0="ExposeHeaders",_0="ExposeHeader",Ah="ErrorMessage",Ti="ExpiredObjectDeleteMarker",qi="ExistingObjectReplication",Vae="ExistingObjectReplicationStatus",Gae="EnableRequestProgress",OU="ExpiresString",BU="ExpectedSourceBucketOwner",Kae="ExpirationStatus",Wae="ExpirationState",vn="EncodingType",st="ETag",zw="EncryptionType",Bc="EventThreshold",DU="ExpressionType",us="Encryption",Uw="Enabled",Sh="End",qr="Error",XF="Errors",ia="Event",js="Events",MU="Expression",Ht="Expiration",de="Filter",LU="FieldDelimiter",Xae="FileHeaderInfo",Yae="FetchOwner",x0="FilterRule",Jae="FilterRuleName",Qae="FilterRuleValue",w0="FilterRules",A0="Field",Cr="Format",Dc="Frequency",Vs="Grant",hl="GrantFullControl",Ph="GlacierJobParameters",pl="GrantRead",yl="GrantReadACP",nA="GrantWrite",Sl="GrantWriteACP",pu="Grants",sr="Grantee",Th="HttpErrorCodeReturnedEquals",Do="HostName",Rh="HttpRedirectCode",ue="Id",P0="InventoryConfiguration",YF="InventoryConfigurationList",FU="InventoryConfigurationState",Hi="IndexDocument",Pt="ID",Zae="InventoryDestination",Ri="IsEnabled",ece="InventoryEncryption",tce="InventoryFilter",nce="InventoryFormat",rce="InventoryFrequency",sce="InventoryId",oce="InventoryIncludedObjectVersions",Mc="IsLatest",xu="IfMatch",JF="IfMatchInitiatedTime",QF="IfMatchLastModifiedTime",ZF="IfMatchSize",Ep="IfModifiedSince",wS="IfNoneMatch",ice="InventoryOptionalField",Lc="IncludedObjectVersions",qw="IsPublic",Fc="IgnorePublicAcls",Hw="IsRestoreInProgress",$i="InputSerialization",ace="InventoryS3BucketDestination",cce="InventorySchedule",Xe="IsTruncated",lce="IntelligentTieringAndOperator",dce="IntelligentTieringAccessTier",T0="IntelligentTieringConfiguration",ez="IntelligentTieringConfigurationList",$w="InventoryTableConfigurationResult",uce="InventoryTableConfigurationUpdates",vh="InventoryTableConfiguration",mce="IntelligentTieringDays",fce="IntelligentTieringFilter",gce="IntelligentTieringId",hce="IntelligentTieringStatus",bp="IfUnmodifiedSince",zc="Initiator",jw="Initiated",Uc="JSON",pce="JSONInput",yce="JSONOutput",Sce="JSONType",Ih="JournalTableConfiguration",Vw="JournalTableConfigurationResult",Ece="JournalTableConfigurationUpdates",ye="Key",Gw="KeyCount",qc="KeyId",bce="KmsKeyArn",Mo="KeyMarker",Cce="KMSContext",Kw="KMSKeyId",Hc="KMSMasterKeyID",kh="KeyPrefixEquals",ji="Location",$c="LocationConstraint",Vi="LoggingEnabled",_ce="LifecycleExpiration",Nh="LambdaFunctionArn",R0="LambdaFunctionConfigurations",xce="LambdaFunctionConfiguration",wce="LocationInfo",Tt="LastModified",Eh="LastModifiedTime",Ace="LocationNameAsString",Pce="LocationPrefix",Tce="LifecycleRule",Rce="LifecycleRuleAndOperator",vce="LifecycleRuleFilter",Ice="LocationType",Oh="Marker",kce="MetricsAndOperator",vi="MaxAgeSeconds",Nce="MaxBuckets",v0="MetricsConfiguration",tz="MetricsConfigurationList",Ww="MetadataConfigurationResult",Oce="MetadataConfiguration",Bce="MetadataDirective",Dce="MaxDirectoryBuckets",I0="MfaDelete",zU="MetadataEntry",Mce="MetricsFilter",rA="MFA",Bh="MFADelete",Lce="MetricsId",_r="MaxKeys",Fce="MetadataKey",Cp="MissingMeta",nz="MpuObjectSize",qs="MaxParts",zce="MetricsStatus",Uce="MetadataTableConfiguration",Xw="MetadataTableConfigurationResult",qce="MetadataTableEncryptionConfiguration",Dh="MaxUploads",Hce="MetadataValue",Gi="Metrics",Yw="Message",Ii="Minutes",xr="Mode",Ct="Name",$ce="NotificationConfiguration",jce="NotificationConfigurationFilter",qn="NextContinuationToken",wr="NoncurrentDays",sA="NotificationId",jc="NextKeyMarker",Jw="NextMarker",Ar="NewerNoncurrentVersions",Vc="NextPartNumberMarker",Qw="NextUploadIdMarker",Ki="NoncurrentVersionExpiration",Zw="NextVersionIdMarker",k0="NoncurrentVersionTransitions",N0="NoncurrentVersionTransition",He="Owner",rz="ObjectAttributes",Vce="OwnershipControls",Gce="ObjectCannedACL",Kce="OwnershipControlsRule",bc="OptionalFields",Wce="ObjectIdentifier",oA="ObjectKey",Mh="OutputLocation",Xce="ObjectLockConfiguration",Lh="ObjectLockEnabled",sz="ObjectLockEnabledForBucket",Yce="ObjectLockLegalHold",ma="ObjectLockLegalHoldStatus",El="ObjectLockMode",Jce="ObjectLockRetention",UU="ObjectLockRetentionMode",hs="ObjectLockRetainUntilDate",Qce="ObjectLockRule",hu="ObjectOwnership",nl="OptionalObjectAttributes",Zce="OwnerOverride",e0="ObjectParts",Wi="OutputSerialization",Pr="ObjectSizeGreaterThan",qU="ObjectSizeGreaterThanBytes",Tr="ObjectSizeLessThan",HU="ObjectSizeLessThanBytes",Gc="OutputSchemaVersion",t0="ObjectSize",ele="ObjectVersionId",tle="Objects",X="Prefix",nle="PublicAccessBlockConfiguration",rl="PartsCount",Fh="PartitionDateSource",rle="ParquetInput",Wn="PartNumber",Lo="PartNumberMarker",Xi="PartitionedPrefix",zh="Payer",_p="Part",n0="Parquet",yu="Parts",ms="Permission",Fo="Protocol",ki="Priority",bh="Quiet",Uh="QueueArn",O0="QueueConfiguration",B0="QueueConfigurations",$U="QuoteCharacter",jU="QuoteEscapeCharacter",sle="QuoteFields",D0="Queue",VU="Range",Yi="RedirectAllRequestsTo",St="RequestCharged",GU="ResponseCacheControl",KU="ResponseContentDisposition",WU="ResponseContentEncoding",XU="ResponseContentLanguage",YU="ResponseContentType",ole="ReplicationConfiguration",iA="RecordDelimiter",JU="ResponseExpires",ile="RecordExpirationDays",r0="RestoreExpiryDate",fs="RecordExpiration",qh="ReplicaKmsKeyID",Hh="ReplaceKeyPrefixWith",$h="ReplaceKeyWith",Ji="ReplicaModifications",ale="ReplicaModificationsStatus",cle="RestoreOutputPath",Ze="RequestPayer",Kc="RestrictPublicBuckets",lle="RequestPaymentConfiguration",jh="RequestProgress",dle="RequestRoute",ule="ReplicationRuleAndOperator",mle="ReplicationRuleFilter",fle="ReplicationRuleStatus",gle="RestoreRequestType",hle="ReplicationRule",ple="RestoreRequest",Cc="RoutingRules",xp="RoutingRule",yle="RenameSource",aA="ReplicationStatus",Wc="RestoreStatus",Sle="RequestToken",Ele="ReplicationTimeStatus",ble="ReplicationTimeValue",Qi="ReplicationTime",Xc="RetainUntilDate",cA="Restore",Zi="Redirect",Vh="Role",Xn="Rule",Ir="Rules",Q="Status",Gh="StartAfter",s0="SecretAccessKey",o0="SseAlgorithm",Rr="S3BucketDestination",Ae="StorageClass",ea="StorageClassAnalysis",Cle="StorageClassAnalysisDataExport",_le="StorageClassAnalysisSchemaVersion",oz="StatusCode",iz="SkipDestinationValidation",xle="SourceIfMatch",az="SourceIfModifiedSince",wle="SourceIfNoneMatch",cz="SourceIfUnmodifiedSince",wp="SSE-KMS",ta="SseKmsEncryptedObjects",Ale="SseKmsEncryptedObjectsStatus",Ple="S3KeyFilter",M0="S3Key",Tle="S3Location",Rle="SessionMode",vle="SelectObjectContentRequest",Kh="SelectParameters",na="SimplePrefix",Wh="ScanRange",Ap="SSE-S3",ra="SourceSelectionCriteria",kn="ServerSideEncryption",Yc="SSEAlgorithm",Ile="ServerSideEncryptionByDefault",kle="ServerSideEncryptionConfiguration",Qt="SSECustomerAlgorithm",$r="SSECustomerKey",Zt="SSECustomerKeyMD5",L0="SSEKMS",$o="SSEKMSEncryptionContext",Sn="SSEKMSKeyId",Nle="ServerSideEncryptionRule",F0="SSES3",i0="SessionToken",Ole="S3TablesBucketArn",Xh="S3TablesDestination",a0="S3TablesDestinationResult",Ble="S3TablesName",c0="S3",Jc="Schedule",Ch="Setting",yn="Size",_h="Start",Yh="Suffix",sa="Tagging",Jh="TopicArn",Hs="TableArn",Qh="TargetBucket",$s="TableBucketArn",l0="TableBucketType",Pp="TagCount",z0="TopicConfiguration",U0="TopicConfigurations",Dle="TaggingDirective",lA="TransitionDefaultMinimumObjectSize",_c="TargetGrants",Mle="TargetGrant",vr="TableName",Qc="TableNamespace",oa="TargetObjectKeyFormat",Zh="TargetPrefix",Lle="TotalPartsCount",Fr="TagSet",Fle="TableSseAlgorithm",QU="TransitionStorageClass",Zc="TableStatus",xe="Tag",In="Tags",ZU="Tier",q0="Tierings",H0="Tiering",el="Time",eq="Token",$0="Topic",j0="Transitions",V0="Transition",Yn="Type",lz="Upload",Jn="UploadId",ep="UploadIdMarker",zle="UserMetadata",tp="URI",dz="Uploads",uz="Version",tq="VersionCount",Ule="VersioningConfiguration",Re="VersionId",np="VersionIdMarker",or="Value",mz="Versions",qle="WebsiteConfiguration",fz="WriteOffsetBytes",wu="WebsiteRedirectLocation",Ni="Years",AS="analytics",nq="accelerate",PS="acl",rq="accept-ranges",Hle="attributes",$le="bucket-region",dA="cors",Au="cache-control",Pu="content-disposition",Tu="content-encoding",Ru="content-language",aa="content-length",vt="content-md5",sq="content-range",vu="content-type",fa="continuation-token",jle="delete",TS="delimiter",ca="expires",uA="encryption",RS="encoding-type",vS="etag",oq="expiresstring",Vle="fetch-owner",kr="id",bl="if-match",mA="if-modified-since",IS="inventory",Iu="if-none-match",kS="intelligent-tiering",fA="if-unmodified-since",iq="key-marker",gA="lifecycle",aq="legal-hold",sl="last-modified",cq="location",lq="logging",Gle="list-type",NS="metrics",hA="metadataConfiguration",Kle="metadataInventoryTable",Wle="metadataJournalTable",pA="metadataTable",Xle="marker",Yle="max-buckets",Jle="max-directory-buckets",en="member",yA="max-keys",Qle="max-parts",Zle="max-uploads",dq="notification",SA="ownershipControls",uq="object-lock",EA="policy",bA="publicAccessBlock",OS="partNumber",ede="policyStatus",tde="part-number-marker",ku="prefix",CA="replication",nde="renameObject",mq="requestPayment",fq="range",gq="response-cache-control",hq="response-content-disposition",pq="response-content-encoding",yq="response-content-language",Sq="response-content-type",Eq="response-expires",rde="restore",bq="retention",sde="session",ode="start-after",ide="select",ade="select-type",Cl="tagging",cde="torrent",Cq="uploads",Nu="uploadId",lde="upload-id-marker",_q="versioning",Qn="versionId",Ge='<?xml version="1.0" encoding="UTF-8"?>',dde="versions",ude="version-id-marker",_A="website",gz="xsi:type",_l="x-amz-acl",Tp="x-amz-abort-date",hz="x-amz-access-point-alias",xq="x-amz-abort-rule-id",mde="x-amz-archive-status",wq="x-amz-bucket-arn",xA="x-amz-bypass-governance-retention",fde="x-amz-bucket-location-name",gde="x-amz-bucket-location-type",hde="x-amz-bucket-object-lock-enabled",Aq="x-amz-bucket-object-lock-token",pde="x-amz-bucket-region",wA="x-amz-checksum-algorithm",ga="x-amz-checksum-crc32",ha="x-amz-checksum-crc32c",pa="x-amz-checksum-crc64nvme",Pq="x-amz-checksum-mode",yde="x-amz-confirm-remove-self-bucket-access",ya="x-amz-checksum-sha1",Sa="x-amz-checksum-sha256",Tq="x-amz-copy-source",Rq="x-amz-copy-source-if-match",vq="x-amz-copy-source-if-modified-since",Iq="x-amz-copy-source-if-none-match",kq="x-amz-copy-source-if-unmodified-since",Sde="x-amz-create-session-mode",Ede="x-amz-copy-source-range",Nq="x-amz-copy-source-server-side-encryption-customer-algorithm",Oq="x-amz-copy-source-server-side-encryption-customer-key",Bq="x-amz-copy-source-server-side-encryption-customer-key-md5",Dq="x-amz-copy-source-version-id",xl="x-amz-checksum-type",bde="x-amz-client-token",Uo="x-amz-delete-marker",Ou="x-amz-expiration",K="x-amz-expected-bucket-owner",Cde="x-amz-fwd-error-code",_de="x-amz-fwd-error-message",xde="x-amz-fwd-header-accept-ranges",wde="x-amz-fwd-header-cache-control",Ade="x-amz-fwd-header-content-disposition",Pde="x-amz-fwd-header-content-encoding",Tde="x-amz-fwd-header-content-language",Rde="x-amz-fwd-header-content-range",vde="x-amz-fwd-header-content-type",Ide="x-amz-fwd-header-etag",kde="x-amz-fwd-header-expires",Nde="x-amz-fwd-header-last-modified",Ode="x-amz-fwd-header-x-amz-checksum-crc32",Bde="x-amz-fwd-header-x-amz-checksum-crc32c",Dde="x-amz-fwd-header-x-amz-checksum-crc64nvme",Mde="x-amz-fwd-header-x-amz-checksum-sha1",Lde="x-amz-fwd-header-x-amz-checksum-sha256",Fde="x-amz-fwd-header-x-amz-delete-marker",zde="x-amz-fwd-header-x-amz-expiration",Ude="x-amz-fwd-header-x-amz-missing-meta",qde="x-amz-fwd-header-x-amz-mp-parts-count",Hde="x-amz-fwd-header-x-amz-object-lock-legal-hold",$de="x-amz-fwd-header-x-amz-object-lock-mode",jde="x-amz-fwd-header-x-amz-object-lock-retain-until-date",Vde="x-amz-fwd-header-x-amz-restore",Gde="x-amz-fwd-header-x-amz-request-charged",Kde="x-amz-fwd-header-x-amz-replication-status",Wde="x-amz-fwd-header-x-amz-storage-class",Xde="x-amz-fwd-header-x-amz-server-side-encryption",Yde="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",Jde="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",Qde="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Zde="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",eue="x-amz-fwd-header-x-amz-tagging-count",tue="x-amz-fwd-header-x-amz-version-id",nue="x-amz-fwd-status",wl="x-amz-grant-full-control",Al="x-amz-grant-read",Pl="x-amz-grant-read-acp",AA="x-amz-grant-write",Tl="x-amz-grant-write-acp",rue="x-amz-if-match-initiated-time",sue="x-amz-if-match-last-modified-time",oue="x-amz-if-match-size",PA="x-amz-mfa",iue="x-amz-metadata-directive",Rp="x-amz-missing-meta",aue="x-amz-mp-object-size",cue="x-amz-max-parts",vp="x-amz-mp-parts-count",lue="x-amz-object-attributes",Bu="x-amz-object-lock-legal-hold",Du="x-amz-object-lock-mode",la="x-amz-object-lock-retain-until-date",due="x-amz-object-ownership",TA="x-amz-optional-object-attributes",pz="x-amz-object-size",uue="x-amz-part-number-marker",Mq="x-amz-restore",Et="x-amz-request-charged",mue="x-amz-restore-output-path",et="x-amz-request-payer",fue="x-amz-request-route",gue="x-amz-rename-source",Lq="x-amz-replication-status",hue="x-amz-rename-source-if-match",pue="x-amz-rename-source-if-modified-since",yue="x-amz-rename-source-if-none-match",Sue="x-amz-rename-source-if-unmodified-since",Eue="x-amz-request-token",Mu="x-amz-storage-class",gt="x-amz-sdk-checksum-algorithm",bue="x-amz-skip-destination-validation",Fq="x-amz-source-expected-bucket-owner",ir="x-amz-server-side-encryption",ar="x-amz-server-side-encryption-aws-kms-key-id",Bt="x-amz-server-side-encryption-bucket-key-enabled",jo="x-amz-server-side-encryption-context",dn="x-amz-server-side-encryption-customer-algorithm",jr="x-amz-server-side-encryption-customer-key",un="x-amz-server-side-encryption-customer-key-md5",RA="x-amz-tagging",Ip="x-amz-tagging-count",Cue="x-amz-tagging-directive",vA="x-amz-transition-default-minimum-object-size",ps="x-amz-version-id",_ue="x-amz-write-offset-bytes",Lu="x-amz-website-redirect-location",mn="x-id",Su=class extends i.Command.classBuilder().ep({...$,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(Az,wz).ser(dQ).de(iee).build(){},xue=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(a=>a.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},wue=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Aue=(e,n)=>{let t=Object.assign(HF.getAwsRegionExtensionConfiguration(e),i.getDefaultExtensionConfiguration(e),d0.getHttpHandlerExtensionConfiguration(e),xue(e));return n.forEach(r=>r.configure(t)),Object.assign(e,HF.resolveAwsRegionExtensionConfiguration(t),i.resolveDefaultRuntimeConfig(t),d0.resolveHttpHandlerRuntimeConfig(t),wue(t))},qo=class extends i.Client{config;constructor(...[n]){let t=LY.getRuntimeConfig(n||{});super(t),this.initConfig=t;let r=zY(t),s=zF.resolveUserAgentConfig(r),o=Qe.resolveFlexibleChecksumsConfig(s),a=UF.resolveRetryConfig(o),c=OY.resolveRegionConfig(a),l=FF.resolveHostHeaderConfig(c),d=q.resolveEndpointConfig(l),f=BY.resolveEventStreamSerdeConfig(d),g=qF.resolveHttpAuthSchemeConfig(f),p=ee.resolveS3Config(g,{session:[()=>this,Su]}),h=Aue(p,n?.extensions||[]);this.config=h,this.middlewareStack.use(zF.getUserAgentPlugin(this.config)),this.middlewareStack.use(UF.getRetryPlugin(this.config)),this.middlewareStack.use(DY.getContentLengthPlugin(this.config)),this.middlewareStack.use(FF.getHostHeaderPlugin(this.config)),this.middlewareStack.use(kY.getLoggerPlugin(this.config)),this.middlewareStack.use(NY.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(z.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:qF.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async b=>new z.DefaultIdentityProviderConfig({"aws.auth#sigv4":b.credentials,"aws.auth#sigv4a":b.credentials})})),this.middlewareStack.use(z.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ee.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(IY.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ee.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},kp=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(rQ).de(ZZ).build(){},Np=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(Sz,yz).ser(sQ).de(eee).build(){},Op=class extends i.Command.classBuilder().ep({...$,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(bz,Ez).ser(oQ).de(tee).build(){},Bp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),FY.getLocationConstraintPlugin(r)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(iQ).de(nee).build(){},Dp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(aQ).de(ree).build(){},Mp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(cQ).de(see).build(){},Lp=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(_z,Cz).ser(lQ).de(oee).build(){},Fp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(mQ).de(cee).build(){},zp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(uQ).de(aee).build(){},Up=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(fQ).de(lee).build(){},qp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(gQ).de(dee).build(){},Hp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(hQ).de(uee).build(){},$p=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(pQ).de(mee).build(){},jp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(yQ).de(fee).build(){},Vp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(SQ).de(gee).build(){},Gp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(EQ).de(hee).build(){},Kp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(bQ).de(pee).build(){},Wp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(CQ).de(yee).build(){},Xp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(_Q).de(See).build(){},Yp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(xQ).de(Eee).build(){},Jp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(wQ).de(bee).build(){},Qp=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(AQ).de(Cee).build(){},Zp=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(PQ).de(_ee).build(){},ey=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(TQ).de(xee).build(){},ty=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(RQ).de(wee).build(){},ny=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(vQ).de(Aee).build(){},ry=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(IQ).de(Pee).build(){},sy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(kQ).de(Tee).build(){},oy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(NQ).de(Ree).build(){},iy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(OQ).de(vee).build(){},ay=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,Rz).ser(BQ).de(Iee).build(){},cy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(DQ).de(kee).build(){},ly=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,Oz).ser(MQ).de(Nee).build(){},dy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(LQ).de(Oee).build(){},uy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(FQ).de(Bee).build(){},my=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(zQ).de(Dee).build(){},fy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(UQ).de(Mee).build(){},gy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(qQ).de(Lee).build(){},hy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(HQ).de(Fee).build(){},py=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser($Q).de(zee).build(){},yy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(jQ).de(Uee).build(){},Sy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(VQ).de(qee).build(){},Ey=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(GQ).de(Hee).build(){},by=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(KQ).de($ee).build(){},Cy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(WQ).de(jee).build(){},_y=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(XQ).de(Vee).build(){},xy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(YQ).de(Gee).build(){},wy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(JQ).de(Kee).build(){},Ay=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(ZQ).de(Xee).build(){},Py=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(Mz,void 0).ser(eZ).de(Yee).build(){},Ty=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),Hr.getSsecPlugin(r),ee.getS3ExpiresMiddlewarePlugin(r)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(Dz,Bz).ser(QQ).de(Wee).build(){},Ry=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(tZ).de(Jee).build(){},vy=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(nZ).de(Qee).build(){},Iy=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(rZ).de(Zee).build(){},ky=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(sZ).de(ete).build(){},Ny=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,Lz).ser(oZ).de(tte).build(){},Oy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(iZ).de(nte).build(){},ol=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(aZ).de(rte).build(){},il=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r),ee.getS3ExpiresMiddlewarePlugin(r)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(zz,Fz).ser(cZ).de(ste).build(){},By=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(lZ).de(ote).build(){},Dy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(dZ).de(ite).build(){},My=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,Uz).ser(uZ).de(ate).build(){},Ly=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(mZ).de(cte).build(){},Eu=class extends i.Command.classBuilder().ep($).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(fZ).de(lte).build(){},bu=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(gZ).de(dte).build(){},Fy=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(hZ).de(ute).build(){},zy=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(pZ).de(mte).build(){},Cu=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(yZ).de(fte).build(){},Uy=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(SZ).de(gte).build(){},_u=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(qz,void 0).ser(EZ).de(hte).build(){},qy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(bZ).de(pte).build(){},Hy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(CZ).de(yte).build(){},$y=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(_Z).de(Ste).build(){},jy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(xZ).de(Ete).build(){},Vy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(Hz,void 0).ser(wZ).de(bte).build(){},Gy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(AZ).de(Cte).build(){},Ky=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f($z,void 0).ser(PZ).de(_te).build(){},Wy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(TZ).de(xte).build(){},Xy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(RZ).de(wte).build(){},Yy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(vZ).de(Ate).build(){},Jy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(IZ).de(Pte).build(){},Qy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(kZ).de(Tte).build(){},Zy=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(NZ).de(Rte).build(){},eS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(OZ).de(vte).build(){},tS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(BZ).de(Ite).build(){},nS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(DZ).de(kte).build(){},rS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(MZ).de(Nte).build(){},sS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(LZ).de(Ote).build(){},oS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(zZ).de(Dte).build(){},iS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getCheckContentLengthHeaderPlugin(r),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Vz,jz).ser(FZ).de(Bte).build(){},aS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(UZ).de(Mte).build(){},cS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(qZ).de(Lte).build(){},lS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(HZ).de(Fte).build(){},dS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser($Z).de(zte).build(){},uS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(jZ).de(Ute).build(){},mS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(VZ).de(qte).build(){},fS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(r)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(Yz,void 0).ser(GZ).de(Hte).build(){},gS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(Qz,Jz).ser(KZ).de($te).build(){},hS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(WZ).de(jte).build(){},pS=class extends i.Command.classBuilder().ep({...$,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(XZ).de(Vte).build(){},yS=class extends i.Command.classBuilder().ep({...$,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(eU,Zz).ser(YZ).de(Gte).build(){},SS=class extends i.Command.classBuilder().ep({...$,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(r),Hr.getSsecPlugin(r)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(nU,tU).ser(JZ).de(Kte).build(){},ES=class extends i.Command.classBuilder().ep({...$,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,r,s){return[H.getSerdePlugin(r,this.serialize,this.deserialize),q.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(rU,void 0).ser(QZ).de(Wte).build(){},Pue={AbortMultipartUploadCommand:kp,CompleteMultipartUploadCommand:Np,CopyObjectCommand:Op,CreateBucketCommand:Bp,CreateBucketMetadataConfigurationCommand:Dp,CreateBucketMetadataTableConfigurationCommand:Mp,CreateMultipartUploadCommand:Lp,CreateSessionCommand:Su,DeleteBucketCommand:zp,DeleteBucketAnalyticsConfigurationCommand:Fp,DeleteBucketCorsCommand:Up,DeleteBucketEncryptionCommand:qp,DeleteBucketIntelligentTieringConfigurationCommand:Hp,DeleteBucketInventoryConfigurationCommand:$p,DeleteBucketLifecycleCommand:jp,DeleteBucketMetadataConfigurationCommand:Vp,DeleteBucketMetadataTableConfigurationCommand:Gp,DeleteBucketMetricsConfigurationCommand:Kp,DeleteBucketOwnershipControlsCommand:Wp,DeleteBucketPolicyCommand:Xp,DeleteBucketReplicationCommand:Yp,DeleteBucketTaggingCommand:Jp,DeleteBucketWebsiteCommand:Qp,DeleteObjectCommand:Zp,DeleteObjectsCommand:ey,DeleteObjectTaggingCommand:ty,DeletePublicAccessBlockCommand:ny,GetBucketAccelerateConfigurationCommand:ry,GetBucketAclCommand:sy,GetBucketAnalyticsConfigurationCommand:oy,GetBucketCorsCommand:iy,GetBucketEncryptionCommand:ay,GetBucketIntelligentTieringConfigurationCommand:cy,GetBucketInventoryConfigurationCommand:ly,GetBucketLifecycleConfigurationCommand:dy,GetBucketLocationCommand:uy,GetBucketLoggingCommand:my,GetBucketMetadataConfigurationCommand:fy,GetBucketMetadataTableConfigurationCommand:gy,GetBucketMetricsConfigurationCommand:hy,GetBucketNotificationConfigurationCommand:py,GetBucketOwnershipControlsCommand:yy,GetBucketPolicyCommand:Sy,GetBucketPolicyStatusCommand:Ey,GetBucketReplicationCommand:by,GetBucketRequestPaymentCommand:Cy,GetBucketTaggingCommand:_y,GetBucketVersioningCommand:xy,GetBucketWebsiteCommand:wy,GetObjectCommand:Ty,GetObjectAclCommand:Ay,GetObjectAttributesCommand:Py,GetObjectLegalHoldCommand:Ry,GetObjectLockConfigurationCommand:vy,GetObjectRetentionCommand:Iy,GetObjectTaggingCommand:ky,GetObjectTorrentCommand:Ny,GetPublicAccessBlockCommand:Oy,HeadBucketCommand:ol,HeadObjectCommand:il,ListBucketAnalyticsConfigurationsCommand:By,ListBucketIntelligentTieringConfigurationsCommand:Dy,ListBucketInventoryConfigurationsCommand:My,ListBucketMetricsConfigurationsCommand:Ly,ListBucketsCommand:Eu,ListDirectoryBucketsCommand:bu,ListMultipartUploadsCommand:Fy,ListObjectsCommand:zy,ListObjectsV2Command:Cu,ListObjectVersionsCommand:Uy,ListPartsCommand:_u,PutBucketAccelerateConfigurationCommand:qy,PutBucketAclCommand:Hy,PutBucketAnalyticsConfigurationCommand:$y,PutBucketCorsCommand:jy,PutBucketEncryptionCommand:Vy,PutBucketIntelligentTieringConfigurationCommand:Gy,PutBucketInventoryConfigurationCommand:Ky,PutBucketLifecycleConfigurationCommand:Wy,PutBucketLoggingCommand:Xy,PutBucketMetricsConfigurationCommand:Yy,PutBucketNotificationConfigurationCommand:Jy,PutBucketOwnershipControlsCommand:Qy,PutBucketPolicyCommand:Zy,PutBucketReplicationCommand:eS,PutBucketRequestPaymentCommand:tS,PutBucketTaggingCommand:nS,PutBucketVersioningCommand:rS,PutBucketWebsiteCommand:sS,PutObjectCommand:iS,PutObjectAclCommand:oS,PutObjectLegalHoldCommand:aS,PutObjectLockConfigurationCommand:cS,PutObjectRetentionCommand:lS,PutObjectTaggingCommand:dS,PutPublicAccessBlockCommand:uS,RenameObjectCommand:mS,RestoreObjectCommand:fS,SelectObjectContentCommand:gS,UpdateBucketMetadataInventoryTableConfigurationCommand:hS,UpdateBucketMetadataJournalTableConfigurationCommand:pS,UploadPartCommand:yS,UploadPartCopyCommand:SS,WriteGetObjectResponseCommand:ES},bS=class extends qo{};i.createAggregatedClient(Pue,bS);var Tue=z.createPaginator(qo,Eu,"ContinuationToken","ContinuationToken","MaxBuckets"),Rue=z.createPaginator(qo,bu,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),vue=z.createPaginator(qo,Cu,"ContinuationToken","NextContinuationToken","MaxKeys"),Iue=z.createPaginator(qo,_u,"PartNumberMarker","NextPartNumberMarker","MaxParts"),zq=async(e,n)=>{let t;try{return t=await e.send(new ol(n)),{state:Ot.WaiterState.SUCCESS,reason:t}}catch(r){if(t=r,r.name&&r.name=="NotFound")return{state:Ot.WaiterState.RETRY,reason:t}}return{state:Ot.WaiterState.RETRY,reason:t}},kue=async(e,n)=>{let t={minDelay:5,maxDelay:120};return Ot.createWaiter({...t,...e},n,zq)},Nue=async(e,n)=>{let t={minDelay:5,maxDelay:120},r=await Ot.createWaiter({...t,...e},n,zq);return Ot.checkExceptions(r)},Uq=async(e,n)=>{let t;try{t=await e.send(new ol(n))}catch(r){if(t=r,r.name&&r.name=="NotFound")return{state:Ot.WaiterState.SUCCESS,reason:t}}return{state:Ot.WaiterState.RETRY,reason:t}},Oue=async(e,n)=>{let t={minDelay:5,maxDelay:120};return Ot.createWaiter({...t,...e},n,Uq)},Bue=async(e,n)=>{let t={minDelay:5,maxDelay:120},r=await Ot.createWaiter({...t,...e},n,Uq);return Ot.checkExceptions(r)},qq=async(e,n)=>{let t;try{return t=await e.send(new il(n)),{state:Ot.WaiterState.SUCCESS,reason:t}}catch(r){if(t=r,r.name&&r.name=="NotFound")return{state:Ot.WaiterState.RETRY,reason:t}}return{state:Ot.WaiterState.RETRY,reason:t}},Due=async(e,n)=>{let t={minDelay:5,maxDelay:120};return Ot.createWaiter({...t,...e},n,qq)},Mue=async(e,n)=>{let t={minDelay:5,maxDelay:120},r=await Ot.createWaiter({...t,...e},n,qq);return Ot.checkExceptions(r)},Hq=async(e,n)=>{let t;try{t=await e.send(new il(n))}catch(r){if(t=r,r.name&&r.name=="NotFound")return{state:Ot.WaiterState.SUCCESS,reason:t}}return{state:Ot.WaiterState.RETRY,reason:t}},Lue=async(e,n)=>{let t={minDelay:5,maxDelay:120};return Ot.createWaiter({...t,...e},n,Hq)},Fue=async(e,n)=>{let t={minDelay:5,maxDelay:120},r=await Ot.createWaiter({...t,...e},n,Hq);return Ot.checkExceptions(r)};Object.defineProperty(S,"$Command",{enumerable:!0,get:function(){return i.Command}});Object.defineProperty(S,"__Client",{enumerable:!0,get:function(){return i.Client}});S.AbortMultipartUploadCommand=kp;S.AnalyticsS3ExportFileFormat=uJ;S.ArchiveStatus=$J;S.BucketAccelerateStatus=HY;S.BucketAlreadyExists=op;S.BucketAlreadyOwnedByYou=ip;S.BucketCannedACL=tJ;S.BucketLocationConstraint=oJ;S.BucketLogsPermission=_J;S.BucketType=rJ;S.BucketVersioningStatus=MJ;S.ChecksumAlgorithm=XY;S.ChecksumMode=zJ;S.ChecksumType=GY;S.CompleteMultipartUploadCommand=Np;S.CompleteMultipartUploadOutputFilterSensitiveLog=yz;S.CompleteMultipartUploadRequestFilterSensitiveLog=Sz;S.CompressionType=JJ;S.CopyObjectCommand=Op;S.CopyObjectOutputFilterSensitiveLog=Ez;S.CopyObjectRequestFilterSensitiveLog=bz;S.CreateBucketCommand=Bp;S.CreateBucketMetadataConfigurationCommand=Dp;S.CreateBucketMetadataTableConfigurationCommand=Mp;S.CreateMultipartUploadCommand=Lp;S.CreateMultipartUploadOutputFilterSensitiveLog=Cz;S.CreateMultipartUploadRequestFilterSensitiveLog=_z;S.CreateSessionCommand=Su;S.CreateSessionOutputFilterSensitiveLog=wz;S.CreateSessionRequestFilterSensitiveLog=Az;S.DataRedundancy=nJ;S.DeleteBucketAnalyticsConfigurationCommand=Fp;S.DeleteBucketCommand=zp;S.DeleteBucketCorsCommand=Up;S.DeleteBucketEncryptionCommand=qp;S.DeleteBucketIntelligentTieringConfigurationCommand=Hp;S.DeleteBucketInventoryConfigurationCommand=$p;S.DeleteBucketLifecycleCommand=jp;S.DeleteBucketMetadataConfigurationCommand=Vp;S.DeleteBucketMetadataTableConfigurationCommand=Gp;S.DeleteBucketMetricsConfigurationCommand=Kp;S.DeleteBucketOwnershipControlsCommand=Wp;S.DeleteBucketPolicyCommand=Xp;S.DeleteBucketReplicationCommand=Yp;S.DeleteBucketTaggingCommand=Jp;S.DeleteBucketWebsiteCommand=Qp;S.DeleteMarkerReplicationStatus=TJ;S.DeleteObjectCommand=Zp;S.DeleteObjectTaggingCommand=ty;S.DeleteObjectsCommand=ey;S.DeletePublicAccessBlockCommand=ny;S.EncodingType=jJ;S.EncryptionFilterSensitiveLog=Gz;S.EncryptionTypeMismatch=up;S.Event=AJ;S.ExistingObjectReplicationStatus=IJ;S.ExpirationState=lJ;S.ExpirationStatus=bJ;S.ExpressionType=YJ;S.FileHeaderInfo=QJ;S.FilterRuleName=PJ;S.GetBucketAccelerateConfigurationCommand=ry;S.GetBucketAclCommand=sy;S.GetBucketAnalyticsConfigurationCommand=oy;S.GetBucketCorsCommand=iy;S.GetBucketEncryptionCommand=ay;S.GetBucketEncryptionOutputFilterSensitiveLog=Rz;S.GetBucketIntelligentTieringConfigurationCommand=cy;S.GetBucketInventoryConfigurationCommand=ly;S.GetBucketInventoryConfigurationOutputFilterSensitiveLog=Oz;S.GetBucketLifecycleConfigurationCommand=dy;S.GetBucketLocationCommand=uy;S.GetBucketLoggingCommand=my;S.GetBucketMetadataConfigurationCommand=fy;S.GetBucketMetadataTableConfigurationCommand=gy;S.GetBucketMetricsConfigurationCommand=hy;S.GetBucketNotificationConfigurationCommand=py;S.GetBucketOwnershipControlsCommand=yy;S.GetBucketPolicyCommand=Sy;S.GetBucketPolicyStatusCommand=Ey;S.GetBucketReplicationCommand=by;S.GetBucketRequestPaymentCommand=Cy;S.GetBucketTaggingCommand=_y;S.GetBucketVersioningCommand=xy;S.GetBucketWebsiteCommand=wy;S.GetObjectAclCommand=Ay;S.GetObjectAttributesCommand=Py;S.GetObjectAttributesRequestFilterSensitiveLog=Mz;S.GetObjectCommand=Ty;S.GetObjectLegalHoldCommand=Ry;S.GetObjectLockConfigurationCommand=vy;S.GetObjectOutputFilterSensitiveLog=Bz;S.GetObjectRequestFilterSensitiveLog=Dz;S.GetObjectRetentionCommand=Iy;S.GetObjectTaggingCommand=ky;S.GetObjectTorrentCommand=Ny;S.GetObjectTorrentOutputFilterSensitiveLog=Lz;S.GetPublicAccessBlockCommand=Oy;S.HeadBucketCommand=ol;S.HeadObjectCommand=il;S.HeadObjectOutputFilterSensitiveLog=Fz;S.HeadObjectRequestFilterSensitiveLog=zz;S.IdempotencyParameterMismatch=hp;S.IntelligentTieringAccessTier=gJ;S.IntelligentTieringStatus=fJ;S.InvalidObjectState=cp;S.InvalidRequest=mp;S.InvalidWriteOffset=fp;S.InventoryConfigurationFilterSensitiveLog=CS;S.InventoryConfigurationState=aJ;S.InventoryDestinationFilterSensitiveLog=Nz;S.InventoryEncryptionFilterSensitiveLog=Iz;S.InventoryFormat=hJ;S.InventoryFrequency=SJ;S.InventoryIncludedObjectVersions=pJ;S.InventoryOptionalField=yJ;S.InventoryS3BucketDestinationFilterSensitiveLog=kz;S.JSONType=ZJ;S.ListBucketAnalyticsConfigurationsCommand=By;S.ListBucketIntelligentTieringConfigurationsCommand=Dy;S.ListBucketInventoryConfigurationsCommand=My;S.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=Uz;S.ListBucketMetricsConfigurationsCommand=Ly;S.ListBucketsCommand=Eu;S.ListDirectoryBucketsCommand=bu;S.ListMultipartUploadsCommand=Fy;S.ListObjectVersionsCommand=Uy;S.ListObjectsCommand=zy;S.ListObjectsV2Command=Cu;S.ListPartsCommand=_u;S.ListPartsRequestFilterSensitiveLog=qz;S.LocationType=sJ;S.MFADelete=WJ;S.MFADeleteStatus=DJ;S.MetadataDirective=YY;S.MetricsStatus=RJ;S.NoSuchBucket=ap;S.NoSuchKey=lp;S.NoSuchUpload=rp;S.NotFound=dp;S.ObjectAlreadyInActiveTierError=pp;S.ObjectAttributes=UJ;S.ObjectCannedACL=WY;S.ObjectLockEnabled=qJ;S.ObjectLockLegalHoldStatus=JY;S.ObjectLockMode=QY;S.ObjectLockRetentionMode=HJ;S.ObjectNotInActiveTierError=sp;S.ObjectOwnership=iJ;S.ObjectStorageClass=VJ;S.ObjectVersionStorageClass=KJ;S.OptionalObjectAttributes=GJ;S.OutputLocationFilterSensitiveLog=Wz;S.OwnerOverride=VY;S.PartitionDateSource=xJ;S.Payer=BJ;S.Permission=jY;S.Protocol=LJ;S.PutBucketAccelerateConfigurationCommand=qy;S.PutBucketAclCommand=Hy;S.PutBucketAnalyticsConfigurationCommand=$y;S.PutBucketCorsCommand=jy;S.PutBucketEncryptionCommand=Vy;S.PutBucketEncryptionRequestFilterSensitiveLog=Hz;S.PutBucketIntelligentTieringConfigurationCommand=Gy;S.PutBucketInventoryConfigurationCommand=Ky;S.PutBucketInventoryConfigurationRequestFilterSensitiveLog=$z;S.PutBucketLifecycleConfigurationCommand=Wy;S.PutBucketLoggingCommand=Xy;S.PutBucketMetricsConfigurationCommand=Yy;S.PutBucketNotificationConfigurationCommand=Jy;S.PutBucketOwnershipControlsCommand=Qy;S.PutBucketPolicyCommand=Zy;S.PutBucketReplicationCommand=eS;S.PutBucketRequestPaymentCommand=tS;S.PutBucketTaggingCommand=nS;S.PutBucketVersioningCommand=rS;S.PutBucketWebsiteCommand=sS;S.PutObjectAclCommand=oS;S.PutObjectCommand=iS;S.PutObjectLegalHoldCommand=aS;S.PutObjectLockConfigurationCommand=cS;S.PutObjectOutputFilterSensitiveLog=jz;S.PutObjectRequestFilterSensitiveLog=Vz;S.PutObjectRetentionCommand=lS;S.PutObjectTaggingCommand=dS;S.PutPublicAccessBlockCommand=uS;S.QuoteFields=eQ;S.RenameObjectCommand=mS;S.ReplicaModificationsStatus=kJ;S.ReplicationRuleStatus=OJ;S.ReplicationStatus=FJ;S.ReplicationTimeStatus=vJ;S.RequestCharged=UY;S.RequestPayer=qY;S.RestoreObjectCommand=fS;S.RestoreObjectRequestFilterSensitiveLog=Yz;S.RestoreRequestFilterSensitiveLog=Xz;S.RestoreRequestType=tQ;S.S3=bS;S.S3Client=qo;S.S3LocationFilterSensitiveLog=Kz;S.S3ServiceException=ln;S.S3TablesBucketType=wJ;S.SSEKMSFilterSensitiveLog=vz;S.SelectObjectContentCommand=gS;S.SelectObjectContentEventStreamFilterSensitiveLog=nQ;S.SelectObjectContentOutputFilterSensitiveLog=Jz;S.SelectObjectContentRequestFilterSensitiveLog=Qz;S.ServerSideEncryption=KY;S.ServerSideEncryptionByDefaultFilterSensitiveLog=Pz;S.ServerSideEncryptionConfigurationFilterSensitiveLog=G0;S.ServerSideEncryptionRuleFilterSensitiveLog=Tz;S.SessionCredentialsFilterSensitiveLog=xz;S.SessionMode=dJ;S.SseKmsEncryptedObjectsStatus=NJ;S.StorageClass=ZY;S.StorageClassAnalysisSchemaVersion=mJ;S.TableSseAlgorithm=cJ;S.TaggingDirective=eJ;S.Tier=XJ;S.TooManyParts=gp;S.TransitionDefaultMinimumObjectSize=CJ;S.TransitionStorageClass=EJ;S.Type=$Y;S.UpdateBucketMetadataInventoryTableConfigurationCommand=hS;S.UpdateBucketMetadataJournalTableConfigurationCommand=pS;S.UploadPartCommand=yS;S.UploadPartCopyCommand=SS;S.UploadPartCopyOutputFilterSensitiveLog=tU;S.UploadPartCopyRequestFilterSensitiveLog=nU;S.UploadPartOutputFilterSensitiveLog=Zz;S.UploadPartRequestFilterSensitiveLog=eU;S.WriteGetObjectResponseCommand=ES;S.WriteGetObjectResponseRequestFilterSensitiveLog=rU;S.paginateListBuckets=Tue;S.paginateListDirectoryBuckets=Rue;S.paginateListObjectsV2=vue;S.paginateListParts=Iue;S.waitForBucketExists=kue;S.waitForBucketNotExists=Oue;S.waitForObjectExists=Due;S.waitForObjectNotExists=Lue;S.waitUntilBucketExists=Nue;S.waitUntilBucketNotExists=Bue;S.waitUntilObjectExists=Mue;S.waitUntilObjectNotExists=Fue});var Vq=B(jq=>{"use strict";var zue=tm();function Uue(e){let{port:n,query:t}=e,{protocol:r,path:s,hostname:o}=e;r&&r.slice(-1)!==":"&&(r+=":"),n&&(o+=`:${n}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let a=t?zue.buildQueryString(t):"";a&&a[0]!=="?"&&(a=`?${a}`);let c="";if(e.username!=null||e.password!=null){let d=e.username??"",f=e.password??"";c=`${d}:${f}@`}let l="";return e.fragment&&(l=`#${e.fragment}`),`${r}//${c}${o}${s}${a}${l}`}jq.formatUrl=Uue});var Gq=B(IA=>{"use strict";var que=Vq(),Hue=ts(),$ue=je(),jue=$f(),Vue="UNSIGNED-PAYLOAD",Gue="X-Amz-Content-Sha256",Fu=class{signer;constructor(n){let t={service:n.signingName||n.service||"s3",uriEscapePath:n.uriEscapePath||!1,applyChecksum:n.applyChecksum||!1,...n};this.signer=new jue.SignatureV4MultiRegion(t)}presign(n,{unsignableHeaders:t=new Set,hoistableHeaders:r=new Set,unhoistableHeaders:s=new Set,...o}={}){return this.prepareRequest(n,{unsignableHeaders:t,unhoistableHeaders:s,hoistableHeaders:r}),this.signer.presign(n,{expiresIn:900,unsignableHeaders:t,unhoistableHeaders:s,...o})}presignWithCredentials(n,t,{unsignableHeaders:r=new Set,hoistableHeaders:s=new Set,unhoistableHeaders:o=new Set,...a}={}){return this.prepareRequest(n,{unsignableHeaders:r,unhoistableHeaders:o,hoistableHeaders:s}),this.signer.presignWithCredentials(n,t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o,...a})}prepareRequest(n,{unsignableHeaders:t=new Set,unhoistableHeaders:r=new Set,hoistableHeaders:s=new Set}={}){t.add("content-type"),Object.keys(n.headers).map(l=>l.toLowerCase()).filter(l=>l.startsWith("x-amz-server-side-encryption")).forEach(l=>{s.has(l)||r.add(l)}),n.headers[Gue]=Vue;let o=n.headers.host,a=n.port,c=`${n.hostname}${n.port!=null?":"+a:""}`;(!o||o===n.hostname&&n.port!=null)&&(n.headers.host=c)}},Kue=async(e,n,t={})=>{let r,s;if(typeof e.config.endpointProvider=="function"){let p=(await Hue.getEndpointFromInstructions(n.input,n.constructor,e.config)).properties?.authSchemes?.[0];p?.name==="sigv4a"?s=p?.signingRegionSet?.join(","):s=p?.signingRegion,r=new Fu({...e.config,signingName:p?.signingName,region:async()=>s})}else r=new Fu(e.config);let o=(g,p)=>async h=>{let{request:b}=h;if(!$ue.HttpRequest.isInstance(b))throw new Error("Request to be presigned is not an valid HTTP request.");delete b.headers["amz-sdk-invocation-id"],delete b.headers["amz-sdk-request"],delete b.headers["x-amz-user-agent"];let T,I={...t,signingRegion:t.signingRegion??p.signing_region??s,signingService:t.signingService??p.signing_service};return p.s3ExpressIdentity?T=await r.presignWithCredentials(b,p.s3ExpressIdentity,I):T=await r.presign(b,I),{response:{},output:{$metadata:{httpStatusCode:200},presigned:T}}},a="presignInterceptMiddleware",c=e.middlewareStack.clone();c.addRelativeTo(o,{name:a,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let l=n.resolveMiddleware(c,e.config,{}),{output:d}=await l({input:n.input}),{presigned:f}=d;return que.formatUrl(f)};IA.S3RequestPresigner=Fu;IA.getSignedUrl=Kue});var nme={};cr(nme,{handler:()=>Zue});module.exports=ve(nme);var DS=k($q(),1),Yq=k(Gq(),1),Wue="*",{BUCKET_NAME:kA,S3_REGION:Jq=process.env.AWS_REGION||"us-west-2",ALLOWED_PREFIXES:Xue="recordings/,transcriptions/",MAX_BYTES:Yue="15728640"}=process.env;if(!kA)throw new Error("Missing BUCKET_NAME");var Jue=new DS.S3Client({region:Jq}),Kq=Xue.split(",").map(e=>e.trim()).filter(Boolean),Wq=parseInt(Yue,10)||15*1024*1024,Que=new Set(["audio/mp4","audio/mpeg","audio/wav","text/plain"]),Zue=async e=>{try{let n=eme(e.body),t=Xq(n.key,"key"),r=Xq(n.contentType,"contentType"),s=Number(n.contentLength||0);if(!Kq.some(c=>t.startsWith(c)))return BS(400,`key must start with one of: ${Kq.join(" ")}`);if(!Que.has(r))return BS(400,`Unsupported contentType: ${r}`);if(!s||s>Wq)return BS(400,`contentLength missing or exceeds limit (${Wq} bytes).`);let o=new DS.PutObjectCommand({Bucket:kA,Key:t,ContentType:r,ContentLength:s}),a=await(0,Yq.getSignedUrl)(Jue,o,{expiresIn:60});return tme({url:a,method:"PUT",headers:{"Content-Type":r,"Content-Length":String(s)},key:t,bucket:kA,region:Jq,expiresIn:60})}catch(n){return console.error(n),BS(500,n?.message||"Internal error")}};function eme(e){try{return e?JSON.parse(e):{}}catch{return{}}}function Xq(e,n){if(typeof e!="string"||!e.trim())throw new Error(`Missing or invalid ${n}`);return e.trim()}function tme(e){return Qq(200,e)}function BS(e,n){return Qq(e,{error:n})}function Qq(e,n){return{statusCode:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":Wue,"Access-Control-Allow-Methods":"POST,OPTIONS","Access-Control-Allow-Headers":"Content-Type"},body:JSON.stringify(n)}}0&&(module.exports={handler});
