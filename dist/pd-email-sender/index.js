var She=Object.create;var mS=Object.defineProperty;var Che=Object.getOwnPropertyDescriptor;var bhe=Object.getOwnPropertyNames;var _he=Object.getPrototypeOf,vhe=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(e&&(t=e(e=0)),t);var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),po=(e,t)=>{for(var r in t)mS(e,r,{get:t[r],enumerable:!0})},_V=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bhe(t))!vhe.call(e,s)&&s!==r&&mS(e,s,{get:()=>t[s],enumerable:!(n=Che(t,s))||n.enumerable});return e};var $=(e,t,r)=>(r=e!=null?She(_he(e)):{},_V(t||!e||!e.__esModule?mS(r,"default",{value:e,enumerable:!0}):r,e)),lt=e=>_V(mS({},"__esModule",{value:!0}),e);var Rc=C(Tr=>{"use strict";Tr.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Tr.HttpAuthLocation||(Tr.HttpAuthLocation={}));Tr.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Tr.HttpApiKeyAuthLocation||(Tr.HttpApiKeyAuthLocation={}));Tr.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Tr.EndpointURLScheme||(Tr.EndpointURLScheme={}));Tr.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Tr.AlgorithmId||(Tr.AlgorithmId={}));var Ahe=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Tr.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Tr.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},xhe=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Ihe=e=>Ahe(e),The=e=>xhe(e);Tr.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Tr.FieldPosition||(Tr.FieldPosition={}));var whe="__smithy_context";Tr.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Tr.IniSectionType||(Tr.IniSectionType={}));Tr.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Tr.RequestHandlerProtocol||(Tr.RequestHandlerProtocol={}));Tr.SMITHY_CONTEXT_KEY=whe;Tr.getDefaultClientConfiguration=Ihe;Tr.resolveDefaultRuntimeConfig=The});var rr=C(_l=>{"use strict";var Nhe=Rc(),Rhe=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Phe=e=>({httpHandler:e.httpHandler()}),VP=class{name;kind;values;constructor({name:t,kind:r=Nhe.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},HP=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},zP=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=Ohe(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function Ohe(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var KP=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Dhe(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}_l.Field=VP;_l.Fields=HP;_l.HttpRequest=zP;_l.HttpResponse=KP;_l.getHttpHandlerExtensionConfiguration=Rhe;_l.isValidHostname=Dhe;_l.resolveHttpHandlerRuntimeConfig=Phe});var em=C(Dg=>{"use strict";var khe=rr();function Bhe(e){return e}var vV=e=>t=>async r=>{if(!khe.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},AV={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Lhe=e=>({applyToStack:t=>{t.add(vV(e),AV)}});Dg.getHostHeaderPlugin=Lhe;Dg.hostHeaderMiddleware=vV;Dg.hostHeaderMiddlewareOptions=AV;Dg.resolveHostHeaderConfig=Bhe});var tm=C(hS=>{"use strict";var xV=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??t.inputFilterSensitiveLog,m=l??t.outputFilterSensitiveLog,{$metadata:h,...p}=n.output;return o?.info?.({clientName:s,commandName:i,input:u(r.input),output:m(p),metadata:h}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},IV={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Mhe=e=>({applyToStack:t=>{t.add(xV(),IV)}});hS.getLoggerPlugin=Mhe;hS.loggerMiddleware=xV;hS.loggerMiddlewareOptions=IV});var TV=C(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.InvokeStore=void 0;var Uhe=require("async_hooks"),GP=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";GP||(globalThis.awslambda=globalThis.awslambda||{});var Fhe={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},$P=class{static storage=new Uhe.AsyncLocalStorage;static PROTECTED_KEYS=Fhe;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},pS;!GP&&globalThis.awslambda?.InvokeStore?pS=globalThis.awslambda.InvokeStore:(pS=$P,!GP&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=pS));gS.InvokeStore=pS});var wV=C(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.recursionDetectionMiddleware=void 0;var qhe=TV(),jhe=rr(),WP="X-Amzn-Trace-Id",Vhe="AWS_LAMBDA_FUNCTION_NAME",Hhe="_X_AMZN_TRACE_ID",zhe=()=>e=>async t=>{let{request:r}=t;if(!jhe.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===WP.toLowerCase())??WP;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[Vhe],i=process.env[Hhe],a=qhe.InvokeStore.getXRayTraceId()??i,c=l=>typeof l=="string"&&l.length>0;return c(s)&&c(a)&&(r.headers[WP]=a),e({...t,request:r})};yS.recursionDetectionMiddleware=zhe});var rm=C(ES=>{"use strict";var JP=wV(),Khe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ghe=e=>({applyToStack:t=>{t.add(JP.recursionDetectionMiddleware(),Khe)}});ES.getRecursionDetectionPlugin=Ghe;Object.keys(JP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ES,e)&&Object.defineProperty(ES,e,{enumerable:!0,get:function(){return JP[e]}})})});var XP,$he,NV=H(()=>{XP=$(Rc()),$he=e=>e[XP.SMITHY_CONTEXT_KEY]||(e[XP.SMITHY_CONTEXT_KEY]={})});var Ps=C(YP=>{"use strict";var RV=Rc(),Whe=e=>e[RV.SMITHY_CONTEXT_KEY]||(e[RV.SMITHY_CONTEXT_KEY]={}),Jhe=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};YP.getSmithyContext=Whe;YP.normalizeProvider=Jhe});var PV,OV=H(()=>{PV=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function Xhe(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var DV,kg,SS=H(()=>{DV=$(Ps());OV();kg=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=PV(i,o),c=Xhe(e.httpAuthSchemes),l=(0,DV.getSmithyContext)(n),u=[];for(let m of a){let h=c.get(m.schemeId);if(!h){u.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let p=h.identityProvider(await t.identityProviderConfigProvider(e));if(!p){u.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:y={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},g),m.signingProperties=Object.assign(m.signingProperties||{},y),l.selectedHttpAuthScheme={httpAuthOption:m,identity:await p(m.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(s)}});var kV,Bg,BV=H(()=>{SS();kV={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Bg=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(kg(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),kV)}})});var Pc=C(nm=>{"use strict";var Yhe=rr(),LV=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(Yhe.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:QP(/^x-[\w-]+-request-?id$/,l),extendedRequestId:QP(/^x-[\w-]+-id-2$/,l),cfId:QP(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw o}},QP=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],MV=(e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},UV={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},FV={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Qhe(e,t,r){return{applyToStack:n=>{n.add(LV(e,r),UV),n.add(MV(e,t),FV)}}}nm.deserializerMiddleware=LV;nm.deserializerMiddlewareOption=UV;nm.getSerdePlugin=Qhe;nm.serializerMiddleware=MV;nm.serializerMiddlewareOption=FV});var qV,jV,Zhe,VV=H(()=>{qV=$(Pc());SS();jV={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:qV.serializerMiddlewareOption.name},Zhe=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(kg(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),jV)}})});var HV=H(()=>{SS();BV();VV()});var zV,KV,epe,tpe,ZP,e1=H(()=>{zV=$(rr()),KV=$(Ps()),epe=e=>t=>{throw t},tpe=(e,t)=>{},ZP=e=>(t,r)=>async n=>{if(!zV.HttpRequest.isInstance(n.request))return t(n);let i=(0,KV.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||epe)(o));return(c.successHandler||tpe)(l.response,o),l}});var GV,Lg,$V=H(()=>{e1();GV={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Lg=e=>({applyToStack:t=>{t.addRelativeTo(ZP(e),GV)}})});var WV=H(()=>{e1();$V()});var vl,JV=H(()=>{vl=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function XV(e,t,r,n,s){return async function*(o,a,...c){let l=a,u=o.startingToken??l[r],m=!0,h;for(;m;){if(l[r]=u,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)h=await rpe(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let p=u;u=npe(h,n),m=!!(u&&(!o.stopOnSameToken||u!==p))}return void 0}}var rpe,npe,YV=H(()=>{rpe=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};npe=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var CS=C(QV=>{"use strict";var spe=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";QV.isArrayBuffer=spe});var sm=C(r1=>{"use strict";var ipe=CS(),t1=require("buffer"),ope=(e,t=0,r=e.byteLength-t)=>{if(!ipe.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return t1.Buffer.from(e,t,r)},ape=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?t1.Buffer.from(e,t):t1.Buffer.from(e)};r1.fromArrayBuffer=ope;r1.fromString=ape});var ZV=C(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.fromBase64=void 0;var cpe=sm(),lpe=/^[A-Za-z0-9+/]*={0,2}$/,dpe=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!lpe.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,cpe.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};bS.fromBase64=dpe});var jn=C(_S=>{"use strict";var e6=sm(),t6=e=>{let t=e6.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},upe=e=>typeof e=="string"?t6(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),fpe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return e6.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};_S.fromUtf8=t6;_S.toUint8Array=upe;_S.toUtf8=fpe});var r6=C(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.toBase64=void 0;var mpe=sm(),hpe=jn(),ppe=e=>{let t;if(typeof e=="string"?t=(0,hpe.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,mpe.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};vS.toBase64=ppe});var ls=C(Mg=>{"use strict";var n6=ZV(),s6=r6();Object.keys(n6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Mg,e)&&Object.defineProperty(Mg,e,{enumerable:!0,get:function(){return n6[e]}})});Object.keys(s6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Mg,e)&&Object.defineProperty(Mg,e,{enumerable:!0,get:function(){return s6[e]}})})});var s1=C(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.ChecksumStream=void 0;var gpe=ls(),ype=require("stream"),n1=class extends ype.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=i??gpe.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};AS.ChecksumStream=n1});var Al=C(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.isBlob=im.isReadableStream=void 0;var Epe=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);im.isReadableStream=Epe;var Spe=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);im.isBlob=Spe});var i6=C(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.ChecksumStream=void 0;var Cpe=typeof ReadableStream=="function"?ReadableStream:function(){},i1=class extends Cpe{};xS.ChecksumStream=i1});var o6=C(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.createChecksumStream=void 0;var bpe=ls(),_pe=Al(),vpe=i6(),Ape=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,_pe.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let i=s??bpe.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let o=new TransformStream({start(){},async transform(c,l){t.update(c),l.enqueue(c)},async flush(c){let l=await t.digest(),u=i(l);if(e!==u){let m=new Error(`Checksum mismatch: expected "${e}" but received "${u}" in response header "${n}".`);c.error(m)}else c.terminate()}});r.pipeThrough(o);let a=o.readable;return Object.setPrototypeOf(a,vpe.ChecksumStream.prototype),a};IS.createChecksumStream=Ape});var a6=C(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.createChecksumStream=wpe;var xpe=Al(),Ipe=s1(),Tpe=o6();function wpe(e){return typeof ReadableStream=="function"&&(0,xpe.isReadableStream)(e.source)?(0,Tpe.createChecksumStream)(e):new Ipe.ChecksumStream(e)}});var c1=C(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.ByteArrayCollector=void 0;var a1=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};TS.ByteArrayCollector=a1});var u6=C(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.createBufferedReadable=void 0;Oc.createBufferedReadableStream=c6;Oc.merge=l6;Oc.flush=wS;Oc.sizeOf=om;Oc.modeOf=d6;var Npe=c1();function c6(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new Npe.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:u,done:m}=await n.read(),h=u;if(m){if(a!==-1){let p=wS(o,a);om(p)>0&&l.enqueue(p)}l.close()}else{let p=d6(h,!1);if(a!==p&&(a>=0&&l.enqueue(wS(o,a)),a=p),a===-1){l.enqueue(h);return}let g=om(h);i+=g;let y=om(o[a]);if(g>=t&&y===0)l.enqueue(h);else{let _=l6(o,a,h);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),_>=t?l.enqueue(wS(o,a)):await c(l)}}};return new ReadableStream({pull:c})}Oc.createBufferedReadable=c6;function l6(e,t,r){switch(t){case 0:return e[0]+=r,om(e[0]);case 1:case 2:return e[t].push(r),om(e[t])}}function wS(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function om(e){return e?.byteLength??e?.length??0}function d6(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var m6=C(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});l1.createBufferedReadable=Ope;var Rpe=require("node:stream"),f6=c1(),Dc=u6(),Ppe=Al();function Ope(e,t,r){if((0,Ppe.isReadableStream)(e))return(0,Dc.createBufferedReadableStream)(e,t,r);let n=new Rpe.Readable({read(){}}),s=!1,i=0,o=["",new f6.ByteArrayCollector(c=>new Uint8Array(c)),new f6.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Dc.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Dc.flush)(o,a)),a=l),a===-1){n.push(c);return}let u=(0,Dc.sizeOf)(c);i+=u;let m=(0,Dc.sizeOf)(o[a]);if(u>=t&&m===0)n.push(c);else{let h=(0,Dc.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Dc.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Dc.flush)(o,a);(0,Dc.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var h6=C(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.getAwsChunkedEncodingStream=void 0;var Dpe=require("stream"),kpe=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,l=new Dpe.Readable({read:()=>{}});return e.on("data",u=>{let m=n(u)||0;l.push(`${m.toString(16)}\r
`),l.push(u),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let u=r(await c);l.push(`${i}:${u}\r
`),l.push(`\r
`)}l.push(null)}),l};NS.getAwsChunkedEncodingStream=kpe});var p6=C(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});d1.headStream=Bpe;async function Bpe(e,t){let r=0,n=[],s=e.getReader(),i=!1;for(;!i;){let{done:c,value:l}=await s.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;i=c}s.releaseLock();let o=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o}});var g6=C(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.headStream=void 0;var Lpe=require("stream"),Mpe=p6(),Upe=Al(),Fpe=(e,t)=>(0,Upe.isReadableStream)(e)?(0,Mpe.headStream)(e,t):new Promise((r,n)=>{let s=new u1;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});RS.headStream=Fpe;var u1=class extends Lpe.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var m1=C(f1=>{"use strict";var y6=e=>encodeURIComponent(e).replace(/[!'()*]/g,qpe),qpe=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,jpe=e=>e.split("/").map(y6).join("/");f1.escapeUri=y6;f1.escapeUriPath=jpe});var PS=C(E6=>{"use strict";var h1=m1();function Vpe(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=h1.escapeUri(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${h1.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${h1.escapeUri(n)}`),t.push(s)}}return t.join("&")}E6.buildQueryString=Vpe});var xl=C(Ug=>{"use strict";var _6=rr(),v6=PS(),OS=require("http"),DS=require("https"),A6=require("stream"),p1=require("http2"),Hpe=["ECONNRESET","EPIPE","ETIMEDOUT"],x6=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},di={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},S6=1e3,zpe=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let i=di.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),o=a=>{a?.connecting?a.on("connect",()=>{di.clearTimeout(i)}):di.clearTimeout(i)};e.socket?o(e.socket):e.on("socket",o)};return r<2e3?(n(0),0):di.setTimeout(n.bind(null,S6),S6)},Kpe=(e,t,r=0,n,s)=>r?di.setTimeout(()=>{let i=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let o=Object.assign(new Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(o),t(o)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(i)},r):-1,Gpe=3e3,$pe=(e,{keepAlive:t,keepAliveMsecs:r},n=Gpe)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})};return n===0?(s(),0):di.setTimeout(s,n)},C6=3e3,Wpe=(e,t,r=0)=>{let n=s=>{let i=r-s,o=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)};return 0<r&&r<6e3?(n(0),0):di.setTimeout(n.bind(null,r===0?0:C6),C6)},b6=6e3;async function I6(e,t,r=b6){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(di.setTimeout(()=>a(!0),Math.max(b6,r)))}),new Promise(a=>{e.on("continue",()=>{di.clearTimeout(i),a(!0)}),e.on("response",()=>{di.clearTimeout(i),a(!1)}),e.on("error",()=>{di.clearTimeout(i),a(!1)})})])),o&&Jpe(e,t.body)}function Jpe(e,t){if(t instanceof A6.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var Xpe=0,g1=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let l=s[c]?.length??0,u=i[c]?.length??0;if(l>=o&&u>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a,throwOnRequestTimeout:c}=t||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:i,throwOnRequestTimeout:c,httpAgent:o instanceof OS.Agent||typeof o?.destroy=="function"?o:new OS.Agent({keepAlive:l,maxSockets:u,...o}),httpsAgent:a instanceof DS.Agent||typeof a?.destroy=="function"?a:new DS.Agent({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o=this.config,a,c=[],l=async be=>{await a,c.forEach(di.clearTimeout),s(be)},u=async be=>{await a,c.forEach(di.clearTimeout),i(be)};if(r?.aborted){let be=new Error("Request aborted");be.name="AbortError",u(be);return}let m=t.protocol==="https:",h=t.headers??{},p=(h.Expect??h.expect)==="100-continue",g=m?o.httpsAgent:o.httpAgent;p&&(g=new(m?DS.Agent:OS.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(di.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(g,this.socketWarningTimestamp,o.logger)},o.socketAcquisitionWarningTimeout??(o.requestTimeout??2e3)+(o.connectionTimeout??1e3)));let y=v6.buildQueryString(t.query||{}),_;if(t.username!=null||t.password!=null){let be=t.username??"",De=t.password??"";_=`${be}:${De}`}let x=t.path;y&&(x+=`?${y}`),t.fragment&&(x+=`#${t.fragment}`);let w=t.hostname??"";w[0]==="["&&w.endsWith("]")?w=t.hostname.slice(1,-1):w=t.hostname;let D={headers:t.headers,host:w,method:t.method,path:x,port:t.port,agent:g,auth:_},W=(m?DS.request:OS.request)(D,be=>{let De=new _6.HttpResponse({statusCode:be.statusCode||-1,reason:be.statusMessage,headers:x6(be.headers),body:be});l({response:De})});if(W.on("error",be=>{Hpe.includes(be.code)?u(Object.assign(be,{name:"TimeoutError"})):u(be)}),r){let be=()=>{W.destroy();let De=new Error("Request aborted");De.name="AbortError",u(De)};if(typeof r.addEventListener=="function"){let De=r;De.addEventListener("abort",be,{once:!0}),W.once("close",()=>De.removeEventListener("abort",be))}else r.onabort=be}let J=n??o.requestTimeout;c.push(zpe(W,u,o.connectionTimeout)),c.push(Kpe(W,u,J,o.throwOnRequestTimeout,o.logger??console)),c.push(Wpe(W,u,o.socketTimeout));let xe=D.agent;typeof xe=="object"&&"keepAlive"in xe&&c.push($pe(W,{keepAlive:xe.keepAlive,keepAliveMsecs:xe.keepAliveMsecs})),a=I6(W,t,J).catch(be=>(c.forEach(di.clearTimeout),i(be)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},y1=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},E1=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let i=p1.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let o=()=>{i.destroy(),this.deleteSession(n,i)};i.on("goaway",o),i.on("error",o),i.on("frameError",o),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new y1;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},S1=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new E1({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let l=!1,u,m=async Ge=>{await u,a(Ge)},h=async Ge=>{await u,c(Ge)};if(r?.aborted){l=!0;let Ge=new Error("Request aborted");Ge.name="AbortError",h(Ge);return}let{hostname:p,method:g,port:y,protocol:_,query:x}=t,w="";if(t.username!=null||t.password!=null){let Ge=t.username??"",$e=t.password??"";w=`${Ge}:${$e}@`}let D=`${_}//${w}${p}${y?`:${y}`:""}`,G={destination:new URL(D)},W=this.connectionManager.lease(G,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),J=Ge=>{i&&this.destroySession(W),l=!0,h(Ge)},xe=v6.buildQueryString(x||{}),be=t.path;xe&&(be+=`?${xe}`),t.fragment&&(be+=`#${t.fragment}`);let De=W.request({...t.headers,[p1.constants.HTTP2_HEADER_PATH]:be,[p1.constants.HTTP2_HEADER_METHOD]:g});if(W.ref(),De.on("response",Ge=>{let $e=new _6.HttpResponse({statusCode:Ge[":status"]||-1,headers:x6(Ge),body:De});l=!0,m({response:$e}),i&&(W.close(),this.connectionManager.deleteSession(D,W))}),o&&De.setTimeout(o,()=>{De.close();let Ge=new Error(`Stream timed out because of no activity for ${o} ms`);Ge.name="TimeoutError",J(Ge)}),r){let Ge=()=>{De.close();let $e=new Error("Request aborted");$e.name="AbortError",J($e)};if(typeof r.addEventListener=="function"){let $e=r;$e.addEventListener("abort",Ge,{once:!0}),De.once("close",()=>$e.removeEventListener("abort",Ge))}else r.onabort=Ge}De.on("frameError",(Ge,$e,rt)=>{J(new Error(`Frame type id ${Ge} in stream id ${rt} has failed with code ${$e}.`))}),De.on("error",J),De.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${De.rstCode}.`))}),De.on("close",()=>{W.unref(),i&&W.destroy(),l||J(new Error("Unexpected error: http2 request did not get a response"))}),u=I6(De,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},C1=class extends A6.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},Ype=e=>Qpe(e)?Zpe(e):new Promise((t,r)=>{let n=new C1;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),Qpe=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Zpe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Ug.DEFAULT_REQUEST_TIMEOUT=Xpe;Ug.NodeHttp2Handler=S1;Ug.NodeHttpHandler=g1;Ug.streamCollector=Ype});var N6=C(BS=>{"use strict";var T6=rr(),ege=PS(),tge=ls();function w6(e,t){return new Request(e,t)}function rge(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var kS={supported:void 0},b1=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),kS.supported===void 0&&(kS.supported=typeof Request<"u"&&"keepalive"in w6("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=ege.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",D=t.password??"";l=`${w}:${D}@`}let{port:u,method:m}=t,h=`${t.protocol}//${l}${t.hostname}${u?`:${u}`:""}${a}`,p=m==="GET"||m==="HEAD"?void 0:t.body,g={body:p,headers:new Headers(t.headers),method:m,credentials:o};this.config?.cache&&(g.cache=this.config.cache),p&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),kS.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let y=()=>{},_=w6(h,g),x=[fetch(_).then(w=>{let D=w.headers,G={};for(let J of D.entries())G[J[0]]=J[1];return w.body!=null?{response:new T6.HttpResponse({headers:G,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(J=>({response:new T6.HttpResponse({headers:G,reason:w.statusText,statusCode:w.status,body:J})}))}),rge(s)];return r&&x.push(new Promise((w,D)=>{let G=()=>{let W=new Error("Request aborted");W.name="AbortError",D(W)};if(typeof r.addEventListener=="function"){let W=r;W.addEventListener("abort",G,{once:!0}),y=()=>W.removeEventListener("abort",G)}else r.onabort=G})),Promise.race(x).finally(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},nge=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):sge(e):ige(e);async function sge(e){let t=await oge(e),r=tge.fromBase64(t);return new Uint8Array(r)}async function ige(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}function oge(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}BS.FetchHttpHandler=b1;BS.keepAliveSupport=kS;BS.streamCollector=nge});var LS=C(v1=>{"use strict";var R6={},_1={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),R6[e]=t,_1[t]=e}function age(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in _1)t[r/2]=_1[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function cge(e){let t="";for(let r=0;r<e.byteLength;r++)t+=R6[e[r]];return t}v1.fromHex=age;v1.toHex=cge});var k6=C(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.sdkStreamMixin=void 0;var lge=N6(),dge=ls(),uge=LS(),fge=jn(),P6=Al(),O6="The stream has already been transformed.",mge=e=>{if(!D6(e)&&!(0,P6.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(O6);return t=!0,await(0,lge.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();if(s==="base64")return(0,dge.toBase64)(i);if(s==="hex")return(0,uge.toHex)(i);if(s===void 0||s==="utf8"||s==="utf-8")return(0,fge.toUtf8)(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(O6);if(t=!0,D6(e))return n(e);if((0,P6.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};MS.sdkStreamMixin=mge;var D6=e=>typeof Blob=="function"&&e instanceof Blob});var L6=C(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.sdkStreamMixin=void 0;var hge=xl(),pge=sm(),A1=require("stream"),gge=k6(),B6="The stream has already been transformed.",yge=e=>{if(!(e instanceof A1.Readable))try{return(0,gge.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(B6);return t=!0,await(0,hge.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,pge.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(B6);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof A1.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,A1.Readable.toWeb(e)}})};US.sdkStreamMixin=yge});var M6=C(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.splitStream=Ege;async function Ege(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var q6=C(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.splitStream=Cge;var U6=require("stream"),Sge=M6(),F6=Al();async function Cge(e){if((0,F6.isReadableStream)(e)||(0,F6.isBlob)(e))return(0,Sge.splitStream)(e);let t=new U6.PassThrough,r=new U6.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Xd=C(ds=>{"use strict";var j6=ls(),V6=jn(),H6=s1(),z6=a6(),K6=m6(),G6=h6(),$6=g6(),W6=L6(),J6=q6(),X6=Al(),T1=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(j6.fromBase64(t)):e.mutate(V6.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?j6.toBase64(this):V6.toUtf8(this)}};ds.Uint8ArrayBlobAdapter=T1;Object.keys(H6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return H6[e]}})});Object.keys(z6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return z6[e]}})});Object.keys(K6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return K6[e]}})});Object.keys(G6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return G6[e]}})});Object.keys($6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return $6[e]}})});Object.keys(W6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return W6[e]}})});Object.keys(J6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return J6[e]}})});Object.keys(X6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ds,e)&&Object.defineProperty(ds,e,{enumerable:!0,get:function(){return X6[e]}})})});var FS,sa,qS=H(()=>{FS=$(Xd()),sa=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return FS.Uint8ArrayBlobAdapter.mutate(e);if(!e)return FS.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return FS.Uint8ArrayBlobAdapter.mutate(await r)}});function Ma(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var jS=H(()=>{});var ia,w1=H(()=>{ia=e=>typeof e=="function"?e():e});var Fg,VS=H(()=>{Fg=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var Y6,Q6,Z6,N1,eH=H(()=>{Y6=$(rr()),Q6=$(Ps());VS();Z6=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,Q6.getSmithyContext)(r),[,o,a,c,l,u]=i??[];try{let m=await e.protocol.deserializeResponse(Fg(o,a,c,l,u),{...e,...r},s);return{response:s,output:m}}catch(m){if(Object.defineProperty(m,"$response",{value:s}),!("$metadata"in m)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{m.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof m.$responseBodyText<"u"&&m.$response&&(m.$response.body=m.$responseBodyText);try{if(Y6.HttpResponse.isInstance(s)){let{headers:p={}}=s,g=Object.entries(p);m.$metadata={httpStatusCode:s.statusCode,requestId:N1(/^x-[\w-]+-request-?id$/,g),extendedRequestId:N1(/^x-[\w-]+-id-2$/,g),cfId:N1(/^x-[\w-]+-cf-id$/,g)}}}catch{}}throw m}},N1=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var tH,rH,nH=H(()=>{tH=$(Ps());VS();rH=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,tH.getSmithyContext)(r),[,i,o,a,c,l]=s??[],u=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,m=await e.protocol.serializeRequest(Fg(i,o,a,c,l),n.input,{...e,...r,endpoint:u});return t({...n,request:m})}});function bge(e){return{applyToStack:t=>{t.add(rH(e),iH),t.add(Z6(e),sH),e.protocol.setSerdeContext(e)}}}var sH,iH,oH=H(()=>{eH();nH();sH={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},iH={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Nn,Il=H(()=>{Nn=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var HS,_ge,aH=H(()=>{Il();HS=class e extends Nn{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},_ge=(e,t,r,n)=>Nn.assign(new HS,{name:t,namespace:e,traits:r,valueSchema:n})});var zS,vge,cH=H(()=>{Il();zS=class e extends Nn{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},vge=(e,t,r,n,s)=>Nn.assign(new zS,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var KS,Age,lH=H(()=>{Il();KS=class e extends Nn{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},Age=(e,t,r,n,s)=>Nn.assign(new KS,{name:t,namespace:e,traits:r,input:n,output:s})});var am,xge,R1=H(()=>{Il();am=class e extends Nn{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},xge=(e,t,r,n,s)=>Nn.assign(new am,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var GS,Ige,dH=H(()=>{Il();R1();GS=class e extends am{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},Ige=(e,t,r,n,s,i)=>Nn.assign(new GS,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function Ua(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var P1=H(()=>{});function qg(e,t){if(e instanceof Je)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=Je;return new r(e,t)}var Je,O1,uH,fH=H(()=>{w1();P1();Je=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,i=t;for(this._isMemberSchema=!1;O1(s);)n.push(s[1]),s=s[0],i=ia(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,Ua(a))}}else this.memberTraits=0;if(i instanceof e){let o=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},o,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=ia(i),uH(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=ia(t);if(r instanceof e)return r;if(O1(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Ua(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=i=>(i&4)===4||!!i?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Ua(this.memberTraits)}getOwnTraits(){return Ua(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return qg([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(i!=null)return qg([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return qg(O1(s)?s:[s,0],t)}if(this.isDocumentSchema())return qg([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],qg([t[5][r],0],t[4][r])]}};O1=e=>Array.isArray(e)&&e.length===2,uH=e=>Array.isArray(e)&&e.length>=5});var jg,Tge,wge,mH=H(()=>{Il();jg=class e extends Nn{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},Tge=(e,t,r,n)=>Nn.assign(new jg,{name:t,namespace:e,traits:n,schemaRef:r}),wge=(e,t,r,n)=>Nn.assign(new jg,{name:t,namespace:e,traits:r,schemaRef:n})});var Nge,hH=H(()=>{Nge={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var $n,pH=H(()=>{$n=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var gH={};po(gH,{ErrorSchema:()=>GS,ListSchema:()=>HS,MapSchema:()=>zS,NormalizedSchema:()=>Je,OperationSchema:()=>KS,SCHEMA:()=>Nge,Schema:()=>Nn,SimpleSchema:()=>jg,StructureSchema:()=>am,TypeRegistry:()=>$n,deref:()=>ia,deserializerMiddlewareOption:()=>sH,error:()=>Ige,getSchemaSerdePlugin:()=>bge,isStaticSchema:()=>uH,list:()=>_ge,map:()=>vge,op:()=>Age,operation:()=>Fg,serializerMiddlewareOption:()=>iH,sim:()=>Tge,simAdapter:()=>wge,struct:()=>xge,translateTraits:()=>Ua});var En=H(()=>{w1();oH();aH();cH();lH();VS();dH();fH();Il();mH();R1();hH();P1();pH()});var Rge,yH=H(()=>{Rge=(e,t,r=n=>n)=>e});var Pge,Oge,Vg,Dge,$S,Hg,kge,D1,k1,B1,L1,Bge,Lge,EH,Mge,Uge,JS,Fge,M1,qge,cm,U1,jge,Vge,Hge,SH,CH,zge,Kge,Yd,F1,WS,zg,q1=H(()=>{Pge=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Oge=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&zg.warn(WS(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&zg.warn(WS(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Vg=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&zg.warn(WS(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Dge=Math.ceil(34028234663852886e22),$S=e=>{let t=Vg(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Dge)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Hg=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},kge=Hg,D1=e=>L1(e,32),k1=e=>L1(e,16),B1=e=>L1(e,8),L1=(e,t)=>{let r=Hg(e);if(r!==void 0&&Bge(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Bge=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Lge=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},EH=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Mge=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return zg.warn(WS(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Uge=e=>{if(e==null)return;let t=EH(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},JS=e=>Vg(typeof e=="string"?cm(e):e),Fge=JS,M1=e=>$S(typeof e=="string"?cm(e):e),qge=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,cm=e=>{let t=e.match(qge);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},U1=e=>typeof e=="string"?SH(e):Vg(e),jge=U1,Vge=U1,Hge=e=>typeof e=="string"?SH(e):$S(e),SH=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},CH=e=>Hg(typeof e=="string"?cm(e):e),zge=CH,Kge=e=>D1(typeof e=="string"?cm(e):e),Yd=e=>k1(typeof e=="string"?cm(e):e),F1=e=>B1(typeof e=="string"?cm(e):e),WS=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),zg={warn:console.warn}});function Gg(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,m=a<10?`0${a}`:`${a}`;return`${Gge[n]}, ${c} ${V1[r]} ${t} ${l}:${u}:${m} GMT`}var Gge,V1,$ge,Wge,Jge,H1,Xge,Yge,Qge,z1,K1,Kg,Zge,eye,tye,j1,rye,nye,sye,Fa,iye,oye,lm,bH=H(()=>{q1();Gge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$ge=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Wge=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=$ge.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l]=t,u=Yd(lm(n)),m=Fa(s,"month",1,12),h=Fa(i,"day",1,31);return Kg(u,m,h,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},Jge=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),H1=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Jge.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,l,u]=t,m=Yd(lm(n)),h=Fa(s,"month",1,12),p=Fa(i,"day",1,31),g=Kg(m,h,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&g.setTime(g.getTime()-oye(u)),g},Xge=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Yge=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Qge=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),z1=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Xge.exec(e);if(t){let[r,n,s,i,o,a,c,l]=t;return Kg(Yd(lm(i)),j1(s),Fa(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=Yge.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return tye(Kg(Zge(i),j1(s),Fa(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Qge.exec(e),t){let[r,n,s,i,o,a,c,l]=t;return Kg(Yd(lm(l)),j1(n),Fa(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},K1=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=JS(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Kg=(e,t,r,n)=>{let s=t-1;return nye(e,s,r),new Date(Date.UTC(e,s,r,Fa(n.hours,"hour",0,23),Fa(n.minutes,"minute",0,59),Fa(n.seconds,"seconds",0,60),iye(n.fractionalMilliseconds)))},Zge=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Yd(lm(e));return r<t?r+100:r},eye=50*365*24*60*60*1e3,tye=e=>e.getTime()-new Date().getTime()>eye?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,j1=e=>{let t=V1.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},rye=[31,28,31,30,31,30,31,31,30,31,30,31],nye=(e,t,r)=>{let n=rye[t];if(t===1&&sye(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${V1[t]} in ${e}: ${r}`)},sye=e=>e%4===0&&(e%100!==0||e%400===0),Fa=(e,t,r,n)=>{let s=F1(lm(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},iye=e=>e==null?0:M1("0."+e)*1e3,oye=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},lm=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var oa={};po(oa,{__addDisposableResource:()=>GH,__assign:()=>XS,__asyncDelegator:()=>UH,__asyncGenerator:()=>MH,__asyncValues:()=>FH,__await:()=>dm,__awaiter:()=>PH,__classPrivateFieldGet:()=>HH,__classPrivateFieldIn:()=>KH,__classPrivateFieldSet:()=>zH,__createBinding:()=>QS,__decorate:()=>AH,__disposeResources:()=>$H,__esDecorate:()=>IH,__exportStar:()=>DH,__extends:()=>_H,__generator:()=>OH,__importDefault:()=>VH,__importStar:()=>jH,__makeTemplateObject:()=>qH,__metadata:()=>RH,__param:()=>xH,__propKey:()=>wH,__read:()=>W1,__rest:()=>vH,__rewriteRelativeImportExtension:()=>WH,__runInitializers:()=>TH,__setFunctionName:()=>NH,__spread:()=>kH,__spreadArray:()=>LH,__spreadArrays:()=>BH,__values:()=>YS,default:()=>lye});function _H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");G1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function vH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function AH(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function xH(e,t){return function(r,n){t(r,n,e)}}function IH(e,t,r,n,s,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,h=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var _=(0,r[p])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=o(_.get))&&(u.get=m),(m=o(_.set))&&(u.set=m),(m=o(_.init))&&s.unshift(m)}else(m=o(_))&&(a==="field"?s.unshift(m):u[c]=m)}l&&Object.defineProperty(l,n.name,u),h=!0}function TH(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function wH(e){return typeof e=="symbol"?e:"".concat(e)}function NH(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function RH(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function PH(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(m){o(m)}}function c(u){try{l(n.throw(u))}catch(m){o(m)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function OH(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function DH(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QS(t,e,r)}function YS(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function kH(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W1(arguments[t]));return e}function BH(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function LH(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function dm(e){return this instanceof dm?(this.v=e,this):new dm(e)}function MH(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,m)}}function a(p,g){n[p]&&(s[p]=function(y){return new Promise(function(_,x){i.push([p,y,_,x])>1||c(p,y)})},g&&(s[p]=g(s[p])))}function c(p,g){try{l(n[p](g))}catch(y){h(i[0][3],y)}}function l(p){p.value instanceof dm?Promise.resolve(p.value.v).then(u,m):h(i[0][2],p)}function u(p){c("next",p)}function m(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function UH(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:dm(e[s](o)),done:!1}:i?i(o):o}:i}}function FH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof YS=="function"?YS(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function qH(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function jH(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=$1(e),n=0;n<r.length;n++)r[n]!=="default"&&QS(t,e,r[n]);return aye(t,e),t}function VH(e){return e&&e.__esModule?e:{default:e}}function HH(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function zH(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function KH(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function GH(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function $H(e){function t(i){e.error=e.hasError?new cye(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function WH(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var G1,XS,QS,aye,$1,cye,lye,aa=H(()=>{G1=function(e,t){return G1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},G1(e,t)};XS=function(){return XS=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},XS.apply(this,arguments)};QS=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});aye=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},$1=function(e){return $1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},$1(e)};cye=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};lye={__extends:_H,__assign:XS,__rest:vH,__decorate:AH,__param:xH,__esDecorate:IH,__runInitializers:TH,__propKey:wH,__setFunctionName:NH,__metadata:RH,__awaiter:PH,__generator:OH,__createBinding:QS,__exportStar:DH,__values:YS,__read:W1,__spread:kH,__spreadArrays:BH,__spreadArray:LH,__await:dm,__asyncGenerator:MH,__asyncDelegator:UH,__asyncValues:FH,__makeTemplateObject:qH,__importStar:jH,__importDefault:VH,__classPrivateFieldGet:HH,__classPrivateFieldSet:zH,__classPrivateFieldIn:KH,__addDisposableResource:GH,__disposeResources:$H,__rewriteRelativeImportExtension:WH}});var XH=C(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.randomUUID=void 0;var dye=(aa(),lt(oa)),JH=dye.__importDefault(require("crypto"));ZS.randomUUID=JH.default.randomUUID.bind(JH.default)});var eC=C(QH=>{"use strict";var YH=XH(),Ks=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),uye=()=>{if(YH.randomUUID)return YH.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ks[e[0]]+Ks[e[1]]+Ks[e[2]]+Ks[e[3]]+"-"+Ks[e[4]]+Ks[e[5]]+"-"+Ks[e[6]]+Ks[e[7]]+"-"+Ks[e[8]]+Ks[e[9]]+"-"+Ks[e[10]]+Ks[e[11]]+Ks[e[12]]+Ks[e[13]]+Ks[e[14]]+Ks[e[15]]};QH.v4=uye});var qa,ZH=H(()=>{qa=$(eC())});var ui,e5=H(()=>{ui=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ui.from=e=>e&&typeof e=="object"&&(e instanceof ui||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ui(String(e)):ui(JSON.stringify(e));ui.fromObject=ui.from});function J1(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var t5=H(()=>{});function kc(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var X1,Y1,Q1,r5,n5,fye,mye,hye,pye,gye,$g,Z1,eO,s5=H(()=>{X1="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Y1="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Q1="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",r5="(\\d?\\d)",n5="(\\d{4})",fye=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),mye=new RegExp(`^${X1}, ${r5} ${Y1} ${n5} ${Q1} GMT$`),hye=new RegExp(`^${X1}, ${r5}-${Y1}-(\\d\\d) ${Q1} GMT$`),pye=new RegExp(`^${X1} ${Y1} ( [1-9]|\\d\\d) ${Q1} ${n5}$`),gye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$g=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Z1=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=fye.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,i,o,a,,c,l]=t;kc(n,1,12),kc(s,1,31),kc(i,0,23),kc(o,0,59),kc(a,0,60);let u=new Date;if(u.setUTCFullYear(Number(r),Number(n)-1,Number(s)),u.setUTCHours(Number(i)),u.setUTCMinutes(Number(o)),u.setUTCSeconds(Number(a)),u.setUTCMilliseconds(Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0),l.toUpperCase()!="Z"){let[,m,h,p]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],g=m==="-"?1:-1;u.setTime(u.getTime()+g*(Number(h)*60*60*1e3+Number(p)*60*1e3))}return u},eO=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,i,o,a,c;if((c=mye.exec(e))?[,t,r,n,s,i,o,a]=c:(c=hye.exec(e))?([,t,r,n,s,i,o,a]=c,n=(Number(n)+1900).toString()):(c=pye.exec(e))&&([,r,t,s,i,o,a,n]=c),n&&o){let l=new Date;return l.setUTCFullYear(Number(n)),l.setUTCMonth(gye.indexOf(r)),kc(t,1,31),l.setUTCDate(Number(t)),kc(s,0,23),l.setUTCHours(Number(s)),kc(i,0,59),l.setUTCMinutes(Number(i)),kc(o,0,60),l.setUTCSeconds(Number(o)),l.setUTCMilliseconds(a?Math.round(parseFloat(`0.${a}`)*1e3):0),l}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function tO(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var i5=H(()=>{});var Wg,o5=H(()=>{Wg=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function rO(e){return new ln(String(e),"bigDecimal")}var a5,ln,c5=H(()=>{a5=/^-?\d*(\.\d+)?$/,ln=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!a5.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&a5.test(r.string)}}});var l5={};po(l5,{LazyJsonString:()=>ui,NumericValue:()=>ln,_parseEpochTimestamp:()=>$g,_parseRfc3339DateTimeWithOffset:()=>Z1,_parseRfc7231DateTime:()=>eO,copyDocumentWithTransform:()=>Rge,dateToUtcString:()=>Gg,expectBoolean:()=>Oge,expectByte:()=>B1,expectFloat32:()=>$S,expectInt:()=>kge,expectInt32:()=>D1,expectLong:()=>Hg,expectNonNull:()=>Lge,expectNumber:()=>Vg,expectObject:()=>EH,expectShort:()=>k1,expectString:()=>Mge,expectUnion:()=>Uge,generateIdempotencyToken:()=>qa.v4,handleFloat:()=>jge,limitedParseDouble:()=>U1,limitedParseFloat:()=>Vge,limitedParseFloat32:()=>Hge,logger:()=>zg,nv:()=>rO,parseBoolean:()=>Pge,parseEpochTimestamp:()=>K1,parseRfc3339DateTime:()=>Wge,parseRfc3339DateTimeWithOffset:()=>H1,parseRfc7231DateTime:()=>z1,quoteHeader:()=>J1,splitEvery:()=>tO,splitHeader:()=>Wg,strictParseByte:()=>F1,strictParseDouble:()=>JS,strictParseFloat:()=>Fge,strictParseFloat32:()=>M1,strictParseInt:()=>zge,strictParseInt32:()=>Kge,strictParseLong:()=>CH,strictParseShort:()=>Yd});var Ni=H(()=>{yH();bH();ZH();e5();q1();t5();s5();i5();o5();c5()});var fi,um=H(()=>{fi=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var d5,nO,u5=H(()=>{d5=$(jn()),nO=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let h=a.flush();yield{[l]:!0,headers:m,body:h}}for await(let m of t)yield m}};return s.serialize(u,m=>{if(m[l])return{headers:m.headers,body:m.body};let h=Object.keys(m).find(w=>w!=="__type")??"",{additionalHeaders:p,body:g,eventType:y,explicitPayloadContentType:_}=this.writeEventBody(h,o,m);return{headers:{":event-type":{type:"string",value:y},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:_??c},...p},body:g}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async h=>{let p=Object.keys(h).find(g=>g!=="__type")??"";if(p==="initial-response"){let g=await this.deserializer.read(r,h[p].body);return delete g[i],{[c]:!0,...g}}else if(p in a){let g=a[p];return{[p]:await this.deserializer.read(g,h[p].body)}}else return{$unknown:h}}),u=l[Symbol.asyncIterator](),m=await u.next();if(m.done)return l;if(m.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,p]of Object.entries(m.value))n[h]=p}return{async*[Symbol.asyncIterator](){for(m?.value?.[c]||(yield m.value);;){let{done:h,value:p}=await u.next();if(h)break;yield p}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.getSchema()[4].includes(t),l={};if(c){let h=r.getMemberSchema(t);if(h.isStructSchema()){for(let[p,g]of h.structIterator()){let{eventHeader:y,eventPayload:_}=g.getMergedTraits();if(_){o=p;break}else if(y){let x=n[t][p],w="binary";g.isNumericSchema()?(-2)**31<=x&&x<=2**31-1?w="integer":w="long":g.isTimestampSchema()?w="timestamp":g.isStringSchema()?w="string":g.isBooleanSchema()&&(w="boolean"),x!=null&&(l[p]={type:w,value:x},delete n[t][p])}}if(o!==null){let p=h.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),s.write(p,n[t][o])}else s.write(h,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,p]=n[t];i=h,s.write(15,p)}let u=s.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??d5.fromUtf8)(u):u,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var f5={};po(f5,{EventStreamSerde:()=>nO});var m5=H(()=>{u5()});var tC,Qd,rC=H(()=>{En();tC=$(rr());um();Qd=class extends fi{options;constructor(t){super(),this.options=t}getRequestType(){return tC.HttpRequest}getResponseType(){return tC.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=Je.of(r.input),i=Ua(r.traits??{});if(i.endpoint){let o=i.endpoint?.[0];if(typeof o=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,l)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(m5(),f5));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var h5,p5,Zd,g5=H(()=>{En();Ni();h5=$(rr()),p5=$(Xd());qS();jS();rC();Zd=class extends Qd{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),l=Je.of(t?.input),u=l.getSchema(),m=!1,h,p=new h5.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(p,c),this.setHostPrefix(p,t,s);let g=Ua(t.traits);if(g.http){p.method=g.http[0];let[y,_]=g.http[1].split("?");p.path=="/"?p.path=y:p.path+=y;let x=new URLSearchParams(_??"");Object.assign(o,Object.fromEntries(x))}}for(let[g,y]of l.structIterator()){let _=y.getMergedTraits()??{},x=s[g];if(x!=null)if(_.httpPayload)y.isStreaming()?y.isStructSchema()?s[g]&&(h=await this.serializeEventStream({eventStream:s[g],requestSchema:l})):h=x:(i.write(y,x),h=i.flush()),delete s[g];else if(_.httpLabel){i.write(y,x);let w=i.flush();p.path.includes(`{${g}+}`)?p.path=p.path.replace(`{${g}+}`,w.split("/").map(Ma).join("/")):p.path.includes(`{${g}}`)&&(p.path=p.path.replace(`{${g}}`,Ma(w))),delete s[g]}else if(_.httpHeader)i.write(y,x),a[_.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof _.httpPrefixHeaders=="string"){for(let[w,D]of Object.entries(x)){let G=_.httpPrefixHeaders+w;i.write([y.getValueSchema(),{httpHeader:G}],D),a[G.toLowerCase()]=i.flush()}delete s[g]}else _.httpQuery||_.httpQueryParams?(this.serializeQuery(y,x,o),delete s[g]):m=!0}return m&&s&&(i.write(u,s),h=i.flush()),p.headers=a,p.query=o,p.body=h,p}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await sa(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(15,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await sa(n.body,r);if(c.byteLength>0){let l=await s.read(i,c);for(let u of a)o[u]=l[u]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=Je.of(t),l=[];for(let[u,m]of c.structIterator()){let h=m.getMemberTraits();if(h.httpPayload){if(m.isStreaming())m.isStructSchema()?o[u]=await this.deserializeEventStream({response:n,responseSchema:c}):o[u]=(0,p5.sdkStreamMixin)(n.body);else if(n.body){let g=await sa(n.body,r);g.byteLength>0&&(o[u]=await a.read(m,g))}}else if(h.httpHeader){let p=String(h.httpHeader).toLowerCase(),g=n.headers[p];if(g!=null)if(m.isListSchema()){let y=m.getValueSchema();y.getMergedTraits().httpHeader=p;let _;y.isTimestampSchema()&&y.getSchema()===4?_=tO(g,",",2):_=Wg(g);let x=[];for(let w of _)x.push(await a.read(y,w.trim()));o[u]=x}else o[u]=await a.read(m,g)}else if(h.httpPrefixHeaders!==void 0){o[u]={};for(let[p,g]of Object.entries(n.headers))if(p.startsWith(h.httpPrefixHeaders)){let y=m.getValueSchema();y.getMergedTraits().httpHeader=p,o[u][p.slice(h.httpPrefixHeaders.length)]=await a.read(y,g)}}else h.httpResponseCode?o[u]=n.statusCode:l.push(u)}return l}}});var y5,Bc,E5=H(()=>{En();y5=$(rr());qS();rC();Bc=class extends Qd{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=Je.of(t?.input),l=c.getSchema(),u,m=new y5.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(m,a),this.setHostPrefix(m,t,r));let h={...r};if(r){let p=c.getEventStreamMember();if(p){if(h[p]){let g={};for(let[y,_]of c.structIterator())y!==p&&h[y]&&(s.write(_,h[y]),g[y]=s.flush());u=await this.serializeEventStream({eventStream:h[p],requestSchema:c,initialRequest:g})}}else s.write(l,h),u=s.flush()}return m.headers=o,m.query=i,m.body=u,m.method="POST",m}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let c=await sa(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(15,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await sa(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var sO,iO=H(()=>{jS();sO=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>Ma(a)).join("/"):Ma(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Jg(e,t){return new nC(e,t)}var S5,nC,C5=H(()=>{S5=$(rr());iO();nC=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new S5.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=sO(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Yi(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:i||r?5:void 0:void 0)??t.timestampFormat.default}var sC=H(()=>{});var oO,b5,eu,aO=H(()=>{En();Ni();oO=$(ls()),b5=$(jn());um();sC();eu=class extends fi{settings;constructor(t){super(),this.settings=t}read(t,r){let n=Je.of(t);if(n.isListSchema())return Wg(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??oO.fromBase64)(r);if(n.isTimestampSchema())switch(Yi(n,this.settings)){case 5:return Z1(r);case 6:return eO(r);case 7:return $g(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=ui.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new ln(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??b5.toUtf8)((this.serdeContext?.base64Decoder??oO.fromBase64)(t))}}});var iC,tu,_5=H(()=>{En();iC=$(jn());um();aO();tu=class extends fi{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new eu(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=Je.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??iC.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??iC.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var cO,Xg,lO=H(()=>{En();Ni();cO=$(ls());um();sC();Xg=class extends fi{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=Je.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Yi(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Gg(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??cO.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:J1(c);o!==""&&(o+=", "),o+=l}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=ui.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??cO.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var ru,v5=H(()=>{En();lO();ru=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Xg(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=Je.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var A5={};po(A5,{FromStringShapeDeserializer:()=>eu,HttpBindingProtocol:()=>Zd,HttpInterceptingShapeDeserializer:()=>tu,HttpInterceptingShapeSerializer:()=>ru,HttpProtocol:()=>Qd,RequestBuilder:()=>nC,RpcProtocol:()=>Bc,SerdeContext:()=>fi,ToStringShapeSerializer:()=>Xg,collectBody:()=>sa,determineTimestampFormat:()=>Yi,extendedEncodeURIComponent:()=>Ma,requestBuilder:()=>Jg,resolvedPath:()=>sO});var Ri=H(()=>{qS();jS();g5();rC();E5();C5();iO();aO();_5();v5();lO();sC();um()});var x5=H(()=>{Ri()});function yye(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var I5=H(()=>{});var nu,T5=H(()=>{nu=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var w5,dO,uO,N5=H(()=>{w5=$(rr()),dO=$(Rc()),uO=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=w5.HttpRequest.clone(t);if(n.in===dO.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===dO.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var R5,fO,P5=H(()=>{R5=$(rr()),fO=class{async sign(t,r,n){let s=R5.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var Lc,O5=H(()=>{Lc=class{async sign(t,r,n){return t}}});var D5=H(()=>{N5();P5();O5()});var k5,Eye,mO,oC,hO,B5=H(()=>{k5=e=>function(r){return oC(r)&&r.expiration.getTime()-Date.now()<e},Eye=3e5,mO=k5(3e5),oC=e=>e.expiration!==void 0,hO=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l?.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l?.forceRefresh)&&(s=await c(l)),a?s:r(s)?(t(s)&&await c(l),s):(a=!0,s))}});var L5=H(()=>{T5();D5();B5()});var Tl={};po(Tl,{DefaultIdentityProviderConfig:()=>nu,EXPIRATION_MS:()=>Eye,HttpApiKeyAuthSigner:()=>uO,HttpBearerAuthSigner:()=>fO,NoAuthSigner:()=>Lc,createIsIdentityExpiredFunction:()=>k5,createPaginator:()=>XV,doesIdentityRequireRefresh:()=>oC,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Bg,getHttpAuthSchemePlugin:()=>Zhe,getHttpSigningPlugin:()=>Lg,getSmithyContext:()=>$he,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>kV,httpAuthSchemeMiddleware:()=>kg,httpAuthSchemeMiddlewareOptions:()=>jV,httpSigningMiddleware:()=>ZP,httpSigningMiddlewareOptions:()=>GV,isIdentityExpired:()=>mO,memoizeIdentityProvider:()=>hO,normalizeProvider:()=>vl,requestBuilder:()=>Jg,setFeature:()=>yye});var Gs=H(()=>{NV();HV();WV();JV();YV();x5();I5();L5()});var Nl=C(su=>{"use strict";var gO=Rc(),yO=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}},Sye=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),M5=e=>Sye.test(e)||e.startsWith("[")&&e.endsWith("]"),Cye=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),SO=(e,t=!1)=>{if(!t)return Cye.test(e);let r=e.split(".");for(let n of r)if(!SO(n))return!1;return!0},EO={},Yg="endpoints";function wl(e){return typeof e!="object"||e==null?e:"ref"in e?`$${wl(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(wl).join(", ")})`:JSON.stringify(e,null,2)}var $s=class extends Error{constructor(t){super(t),this.name="EndpointError"}},bye=(e,t)=>e===t,_ye=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new $s(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new $s(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},U5=(e,t)=>_ye(t).reduce((r,n)=>{if(typeof r!="object")throw new $s(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),vye=e=>e!=null,Aye=e=>!e,pO={[gO.EndpointURLScheme.HTTP]:80,[gO.EndpointURLScheme.HTTPS]:443},xye=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:p,protocol:g="",path:y="",query:_={}}=e,x=new URL(`${g}//${h}${p?`:${p}`:""}${y}`);return x.search=Object.entries(_).map(([w,D])=>`${w}=${D}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(gO.EndpointURLScheme).includes(c))return null;let l=M5(s),u=r.includes(`${n}:${pO[c]}`)||typeof e=="string"&&e.includes(`${n}:${pO[c]}`),m=`${n}${u?`:${pO[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},Iye=(e,t)=>e===t,Tye=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),wye=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Nye={booleanEquals:bye,getAttr:U5,isSet:vye,isValidHostLabel:SO,not:Aye,parseURL:xye,stringEquals:Iye,substring:Tye,uriEncode:wye},F5=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(U5(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},Rye=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],aC=(e,t,r)=>{if(typeof e=="string")return F5(e,r);if(e.fn)return j5.callFunction(e,r);if(e.ref)return Rye(e,r);throw new $s(`'${t}': ${String(e)} is not a string, function or reference.`)},q5=({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:j5.evaluateExpression(i,"arg",r)),s=e.split(".");return s[0]in EO&&s[1]!=null?EO[s[0]][s[1]](...n):Nye[e](...n)},j5={evaluateExpression:aC,callFunction:q5},Pye=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new $s(`'${e}' is already defined in Reference Record.`);let n=q5(t,r);return r.logger?.debug?.(`${Yg} evaluateCondition: ${wl(t)} = ${wl(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},CO=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=Pye(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${Yg} assign: ${i.name} := ${wl(i.value)}`))}return{result:!0,referenceRecord:r}},Oye=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=aC(i,"Header value entry",t);if(typeof o!="string")throw new $s(`Header '${n}' value '${o}' is not a string`);return o})}),{}),V5=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:z5.getEndpointProperty(s,t)}),{}),H5=(e,t)=>{if(Array.isArray(e))return e.map(r=>H5(r,t));switch(typeof e){case"string":return F5(e,t);case"object":if(e===null)throw new $s(`Unexpected endpoint property: ${e}`);return z5.getEndpointProperties(e,t);case"boolean":return e;default:throw new $s(`Unexpected endpoint property type: ${typeof e}`)}},z5={getEndpointProperty:H5,getEndpointProperties:V5},Dye=(e,t)=>{let r=aC(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new $s(`Endpoint URL must be a string, got ${typeof r}`)},kye=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=CO(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${Yg} Resolving endpoint from template: ${wl(n)}`),{...l!=null&&{headers:Oye(l,o)},...c!=null&&{properties:V5(c,o)},url:Dye(a,o)}},Bye=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=CO(r,t);if(s)throw new $s(aC(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},K5=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=kye(r,t);if(n)return n}else if(r.type==="error")Bye(r,t);else if(r.type==="tree"){let n=G5.evaluateTreeRule(r,t);if(n)return n}else throw new $s(`Unknown endpoint rule: ${r}`);throw new $s("Rules evaluation failed")},Lye=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=CO(r,t);if(s)return G5.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},G5={evaluateRules:K5,evaluateTreeRule:Lye},Mye=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${Yg} Initial EndpointParams: ${wl(r)}`);let o=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(o.length>0)for(let[l,u]of o)r[l]=r[l]??u;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new $s(`Missing required parameter: '${l}'`);let c=K5(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Yg} Resolved endpoint: ${wl(c)}`),c};su.EndpointCache=yO;su.EndpointError=$s;su.customEndpointFunctions=EO;su.isIpAddress=M5;su.isValidHostLabel=SO;su.resolveEndpoint=Mye});var W5=C($5=>{"use strict";function Uye(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}$5.parseQueryString=Uye});var Mc=C(X5=>{"use strict";var Fye=W5(),J5=e=>{if(typeof e=="string")return J5(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=Fye.parseQueryString(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};X5.parseUrl=J5});var iu=C(ca=>{"use strict";var fm=Nl(),qye=Mc(),Q5=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Q5(r))return!1;return!0}return!(!fm.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||fm.isIpAddress(e))},Y5=":",jye="/",Vye=e=>{let t=e.split(Y5);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Y5)==="")return null;let c=a.map(l=>l.split(jye)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},Hye=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],zye="1.1",Z5={partitions:Hye,version:zye},e8=Z5,t8="",r8=e=>{let{partitions:t}=e8;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},n8=(e,t="")=>{e8=e,t8=t},Kye=()=>{n8(Z5,"")},Gye=()=>t8,s8={isVirtualHostableS3Bucket:Q5,parseArn:Vye,partition:r8};fm.customEndpointFunctions.aws=s8;var $ye=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>i8(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},i8=e=>qye.parseUrl(e.url);Object.defineProperty(ca,"EndpointError",{enumerable:!0,get:function(){return fm.EndpointError}});Object.defineProperty(ca,"isIpAddress",{enumerable:!0,get:function(){return fm.isIpAddress}});Object.defineProperty(ca,"resolveEndpoint",{enumerable:!0,get:function(){return fm.resolveEndpoint}});ca.awsEndpointFunctions=s8;ca.getUserAgentPrefix=Gye;ca.partition=r8;ca.resolveDefaultAwsRegionalEndpointsConfig=$ye;ca.setPartitionInfo=n8;ca.toEndpointV1=i8;ca.useDefaultPartitionInfo=Kye});var cC,mm,o8=H(()=>{cC={warningEmitted:!1},mm=e=>{e&&!cC.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(cC.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Rl(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var a8=H(()=>{});function c8(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var l8=H(()=>{});function d8(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var u8=H(()=>{});var Pl={};po(Pl,{emitWarningIfUnsupportedVersion:()=>mm,setCredentialFeature:()=>Rl,setFeature:()=>c8,setTokenFeature:()=>d8,state:()=>cC});var la=H(()=>{o8();a8();l8();u8()});var f8,bO,m8=H(()=>{f8=$(rr()),bO=e=>f8.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var hm,_O=H(()=>{hm=e=>new Date(Date.now()+e)});var h8,p8=H(()=>{_O();h8=(e,t)=>Math.abs(hm(t).getTime()-e)>=3e5});var vO,g8=H(()=>{p8();vO=(e,t)=>{let r=Date.parse(e);return h8(r,t)?r-Date.now():t}});var AO=H(()=>{m8();_O();g8()});var y8,Qg,pm,Pi,xO,IO=H(()=>{y8=$(rr());AO();Qg=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},pm=async e=>{let t=Qg("context",e.context),r=Qg("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await Qg("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},Pi=class{async sign(t,r,n){if(!y8.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await pm(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,l=n.context;if(l?.authSchemes?.length??!1){let[m,h]=l.authSchemes;m?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await o.sign(t,{signingDate:hm(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??bO(r.$response);if(n){let s=Qg("config",t.config),i=s.systemClockOffset;s.systemClockOffset=vO(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=bO(t);if(n){let s=Qg("config",r.config);s.systemClockOffset=vO(n,s.systemClockOffset)}}},xO=Pi});var E8,Zg,S8=H(()=>{E8=$(rr());AO();IO();Zg=class extends Pi{async sign(t,r,n){if(!E8.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await pm(n),u=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:hm(s.systemClockOffset),signingRegion:u,signingService:c})}}});var TO,C8=H(()=>{TO=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var lC,wO=H(()=>{lC=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var b8,_8,gm,v8=H(()=>{C8();wO();b8="AWS_AUTH_SCHEME_PREFERENCE",_8="auth_scheme_preference",gm={environmentVariableSelector:(e,t)=>{if(t?.signingName&&lC(t.signingName)in e)return["httpBearerAuth"];if(b8 in e)return TO(e[b8])},configFileSelector:e=>{if(_8 in e)return TO(e[_8])},default:[]}});var mi=C(ou=>{"use strict";var ym=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},NO=class e extends ym{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},RO=class e extends ym{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Wye=(...e)=>async()=>{if(e.length===0)throw new ym("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},Jye=e=>()=>Promise.resolve(e),Xye=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};ou.CredentialsProviderError=NO;ou.ProviderError=ym;ou.TokenProviderError=RO;ou.chain=Wye;ou.fromStatic=Jye;ou.memoize=Xye});var PO,A8,x8,I8=H(()=>{Gs();PO=$(mi()),A8=e=>(e.sigv4aSigningRegionSet=vl(e.sigv4aSigningRegionSet),e),x8={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new PO.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new PO.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var yC=C(vt=>{"use strict";var Ol=LS(),au=jn(),Yye=CS(),R8=rr(),T8=Ps(),dC=m1(),P8="X-Amz-Algorithm",O8="X-Amz-Credential",MO="X-Amz-Date",D8="X-Amz-SignedHeaders",k8="X-Amz-Expires",UO="X-Amz-Signature",FO="X-Amz-Security-Token",Qye="X-Amz-Region-Set",qO="authorization",jO=MO.toLowerCase(),B8="date",L8=[qO,jO,B8],M8=UO.toLowerCase(),pC="x-amz-content-sha256",U8=FO.toLowerCase(),Zye="host",F8={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},q8=/^proxy-/,j8=/^sec-/,eEe=[/^proxy-/i,/^sec-/i],uC="AWS4-HMAC-SHA256",tEe="AWS4-ECDSA-P256-SHA256",V8="AWS4-HMAC-SHA256-PAYLOAD",H8="UNSIGNED-PAYLOAD",z8=50,VO="aws4_request",K8=3600*24*7,Em={},fC=[],mC=(e,t,r)=>`${e}/${t}/${r}/${VO}`,G8=async(e,t,r,n,s)=>{let i=await w8(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${Ol.toHex(i)}:${t.sessionToken}`;if(o in Em)return Em[o];for(fC.push(o);fC.length>z8;)delete Em[fC.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,VO])a=await w8(e,a,c);return Em[o]=a},rEe=()=>{fC.length=0,Object.keys(Em).forEach(e=>{delete Em[e]})},w8=(e,t,r)=>{let n=new e(t);return n.update(au.toUint8Array(r)),n.digest()},OO=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in F8||t?.has(i)||q8.test(i)||j8.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},hC=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===pC)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Yye.isArrayBuffer(t)){let n=new r;return n.update(au.toUint8Array(t)),Ol.toHex(await n.digest())}return H8},DO=class{format(t){let r=[];for(let i of Object.keys(t)){let o=au.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=au.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(kO.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!nEe.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Ol.fromHex(t.value.replace(/\-/g,"")),1),m}}},nEe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,kO=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&N8(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&N8(t),parseInt(Ol.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function N8(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var $8=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},W8=(e,t={})=>{let{headers:r,query:n={}}=R8.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},BO=e=>{e=R8.HttpRequest.clone(e);for(let t of Object.keys(e.headers))L8.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},J8=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===M8)continue;let s=dC.escapeUri(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${dC.escapeUri(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${dC.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},sEe=e=>iEe(e).toISOString().replace(/\.\d{3}Z$/,"Z"),iEe=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,gC=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=T8.normalizeProvider(n),this.credentialProvider=T8.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${J8(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let i=new this.sha256;i.update(au.toUint8Array(n));let o=await i.digest();return`${s}
${t}
${r}
${Ol.toHex(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return dC.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=sEe(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},LO=class extends gC{headerFormatter=new DO;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=r,m=await this.credentialProvider();this.validateResolvedCredentials(m);let h=l??await this.regionProvider(),{longDate:p,shortDate:g}=this.formatDate(n);if(s>K8)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=mC(g,h,u??this.service),_=W8(BO(t),{unhoistableHeaders:o,hoistableHeaders:c});m.sessionToken&&(_.query[FO]=m.sessionToken),_.query[P8]=uC,_.query[O8]=`${m.accessKeyId}/${y}`,_.query[MO]=p,_.query[k8]=s.toString(10);let x=OO(_,i,a);return _.query[D8]=this.getCanonicalHeaderList(x),_.query[UO]=await this.getSignature(p,y,this.getSigningKey(m,h,g,u),this.createCanonicalRequest(_,x,await hC(t,this.sha256))),_}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),u=mC(c,a,o??this.service),m=await hC({headers:{},body:r},this.sha256),h=new this.sha256;h.update(t);let p=Ol.toHex(await h.digest()),g=[V8,l,u,s,p,m].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(au.toUint8Array(t)),Ol.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=BO(t),{longDate:u,shortDate:m}=this.formatDate(r),h=mC(m,c,o??this.service);l.headers[jO]=u,a.sessionToken&&(l.headers[U8]=a.sessionToken);let p=await hC(l,this.sha256);!$8(pC,l.headers)&&this.applyChecksum&&(l.headers[pC]=p);let g=OO(l,s,n),y=await this.getSignature(u,h,this.getSigningKey(a,c,m,o),this.createCanonicalRequest(l,g,p));return l.headers[qO]=`${uC} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${y}`,l}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s,uC),o=new this.sha256(await n);return o.update(au.toUint8Array(i)),Ol.toHex(await o.digest())}getSigningKey(t,r,n,s){return G8(this.sha256,t,n,r,s||this.service)}},oEe={SignatureV4a:null};vt.ALGORITHM_IDENTIFIER=uC;vt.ALGORITHM_IDENTIFIER_V4A=tEe;vt.ALGORITHM_QUERY_PARAM=P8;vt.ALWAYS_UNSIGNABLE_HEADERS=F8;vt.AMZ_DATE_HEADER=jO;vt.AMZ_DATE_QUERY_PARAM=MO;vt.AUTH_HEADER=qO;vt.CREDENTIAL_QUERY_PARAM=O8;vt.DATE_HEADER=B8;vt.EVENT_ALGORITHM_IDENTIFIER=V8;vt.EXPIRES_QUERY_PARAM=k8;vt.GENERATED_HEADERS=L8;vt.HOST_HEADER=Zye;vt.KEY_TYPE_IDENTIFIER=VO;vt.MAX_CACHE_SIZE=z8;vt.MAX_PRESIGNED_TTL=K8;vt.PROXY_HEADER_PATTERN=q8;vt.REGION_SET_PARAM=Qye;vt.SEC_HEADER_PATTERN=j8;vt.SHA256_HEADER=pC;vt.SIGNATURE_HEADER=M8;vt.SIGNATURE_QUERY_PARAM=UO;vt.SIGNED_HEADERS_QUERY_PARAM=D8;vt.SignatureV4=LO;vt.SignatureV4Base=gC;vt.TOKEN_HEADER=U8;vt.TOKEN_QUERY_PARAM=FO;vt.UNSIGNABLE_PATTERNS=eEe;vt.UNSIGNED_PAYLOAD=H8;vt.clearCredentialCache=rEe;vt.createScope=mC;vt.getCanonicalHeaders=OO;vt.getCanonicalQuery=J8;vt.getPayloadHash=hC;vt.getSigningKey=G8;vt.hasHeader=$8;vt.moveHeadersToQuery=W8;vt.prepareRequest=BO;vt.signatureV4aContainer=oEe});function aEe(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=hO(t,mO,oC):r?n=vl(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function cEe(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var HO,cu,X8,Y8=H(()=>{la();Gs();HO=$(yC()),cu=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let u=aEe(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=cEe(e,u);r&&!m.attributed?(n=async h=>m(h).then(p=>Rl(p,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=vl(e.signer):e.regionInfoProvider?a=()=>vl(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:m,signingService:h}=l;e.signingRegion=e.signingRegion||m||u,e.signingName=e.signingName||h||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},g=e.signerConstructor||HO.SignatureV4;return new g(p)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await vl(e.region)(),properties:{}},l);let u=l.signingRegion,m=l.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||m||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},p=e.signerConstructor||HO.SignatureV4;return new p(h)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},X8=cu});var Q8=H(()=>{IO();S8();v8();I8();Y8()});var Z8={};po(Z8,{AWSSDKSigV4Signer:()=>xO,AwsSdkSigV4ASigner:()=>Zg,AwsSdkSigV4Signer:()=>Pi,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>gm,NODE_SIGV4A_CONFIG_OPTIONS:()=>x8,getBearerTokenEnvKey:()=>lC,resolveAWSSDKSigV4Config:()=>X8,resolveAwsSdkSigV4AConfig:()=>A8,resolveAwsSdkSigV4Config:()=>cu,validateSigningProperties:()=>pm});var zO=H(()=>{Q8();wO()});function Dl(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function EC(e){return e[KO]=!0,e}var KO,SC=H(()=>{KO=Symbol("@smithy/core/cbor::tagSymbol")});function rz(e){vr=e,Fc=new DataView(vr.buffer,vr.byteOffset,vr.byteLength)}function ja(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(vr[e]&224)>>5,n=vr[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=sz[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let c=e+1;o===1?s=vr[c]:o===2?s=Fc.getUint16(c):o===4?s=Fc.getUint32(c):s=Fc.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Ot=i,GO(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,Ot=i,GO(o)}else if(n===2||n===3){let o=ny(e+i,t),a=BigInt(0),c=e+i+Ot;for(let l=c;l<c+o;++l)a=a<<BigInt(8)|BigInt(vr[l]);return Ot=i+Ot+o,n===3?-a-BigInt(1):a}else if(n===4){let o=ja(e+i,t),[a,c]=o,l=c<0?-1:1,u="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),m,h=c<0?"-":"";return m=a===0?u:u.slice(0,u.length+a)+"."+u.slice(a),m=m.replace(/^0+/g,""),m===""&&(m="0"),m[0]==="."&&(m="0"+m),m=h+m,Ot=i+Ot,rO(m)}else{let o=ja(e+i,t);return Ot=i+Ot,EC({tag:GO(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return pEe(e,t);case 5:return CEe(e,t);case 4:return EEe(e,t);case 2:return gEe(e,t)}else switch(r){case 3:return hEe(e,t);case 5:return SEe(e,t);case 4:return yEe(e,t);case 2:return QO(e,t)}default:return bEe(e,t)}}function nz(e,t,r){return uEe&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):ez?ez.decode(e.subarray(t,r)):(0,tz.toUtf8)(e.subarray(t,r))}function fEe(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function mEe(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function ny(e,t){let r=vr[e]&31;if(r<24)return Ot=1,r;if(r===24||r===25||r===26||r===27){let n=sz[r];if(Ot=n+1,t-e<Ot)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?vr[s]:n===2?Fc.getUint16(s):n===4?Fc.getUint32(s):fEe(Fc.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function hEe(e,t){let r=ny(e,t),n=Ot;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=nz(vr,e,e+r);return Ot=n+r,s}function pEe(e,t){e+=1;let r=[];for(let n=e;e<t;){if(vr[e]===255){let c=Dl(r.length);return c.set(r,0),Ot=e-n+2,nz(c,0,c.length)}let s=(vr[e]&224)>>5,i=vr[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=QO(e,t);e+=Ot;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function QO(e,t){let r=ny(e,t),n=Ot;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=vr.subarray(e,e+r);return Ot=n+r,s}function gEe(e,t){e+=1;let r=[];for(let n=e;e<t;){if(vr[e]===255){let c=Dl(r.length);return c.set(r,0),Ot=e-n+2,c}let s=(vr[e]&224)>>5,i=vr[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=QO(e,t);e+=Ot;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function yEe(e,t){let r=ny(e,t),n=Ot;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=ja(e,t),c=Ot;i[o]=a,e+=c}return Ot=n+(e-s),i}function EEe(e,t){e+=1;let r=[];for(let n=e;e<t;){if(vr[e]===255)return Ot=e-n+2,r;let s=ja(e,t);e+=Ot,r.push(s)}throw new Error("expected break marker.")}function SEe(e,t){let r=ny(e,t),n=Ot;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(vr[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=ja(e,t);e+=Ot;let l=ja(e,t);e+=Ot,i[c]=l}return Ot=n+(e-s),i}function CEe(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(vr[e]===255)return Ot=e-r+2,n;let s=(vr[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=ja(e,t);e+=Ot;let o=ja(e,t);e+=Ot,n[i]=o}throw new Error("expected break marker.")}function bEe(e,t){let r=vr[e]&31;switch(r){case 21:case 20:return Ot=1,r===21;case 22:return Ot=1,null;case 23:return Ot=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Ot=3,mEe(vr[e+1],vr[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Ot=5,Fc.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Ot=9,Fc.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function GO(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var tz,dEe,uEe,vr,Fc,ez,Ot,sz,iz=H(()=>{Ni();tz=$(jn());SC();dEe=typeof TextDecoder<"u",uEe=typeof Buffer<"u",vr=Dl(0),Fc=new DataView(vr.buffer,vr.byteOffset,vr.byteLength),ez=dEe?new TextDecoder:null,Ot=0;sz={24:1,25:2,26:4,27:8}});function eD(e){at.byteLength-Xe<e&&(Xe<16e6?bC(Math.max(at.byteLength*4,at.byteLength+e)):bC(at.byteLength+e+16e6))}function tD(){let e=Dl(Xe);return e.set(at.subarray(0,Xe),0),Xe=0,e}function bC(e){let t=at;at=Dl(e),t&&(t.copy?t.copy(at,0,0,t.byteLength):at.set(t,0)),Vc=new DataView(at.buffer,at.byteOffset,at.byteLength)}function jc(e,t){t<24?at[Xe++]=e<<5|t:t<256?(at[Xe++]=e<<5|24,at[Xe++]=t):t<65536?(at[Xe++]=e<<5|25,Vc.setUint16(Xe,t),Xe+=2):t<2**32?(at[Xe++]=e<<5|26,Vc.setUint32(Xe,t),Xe+=4):(at[Xe++]=e<<5|27,Vc.setBigUint64(Xe,typeof t=="bigint"?t:BigInt(t)),Xe+=8)}function cz(e){let t=[e];for(;t.length;){let r=t.pop();if(eD(typeof r=="string"?r.length*4:64),typeof r=="string"){if(oz)jc(3,Buffer.byteLength(r)),Xe+=at.write(r,Xe);else{let n=(0,az.fromUtf8)(r);jc(3,n.byteLength),at.set(n,Xe),Xe+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?at[Xe++]=s<<5|i:i<256?(at[Xe++]=s<<5|24,at[Xe++]=i):i<65536?(at[Xe++]=s<<5|25,at[Xe++]=i>>8,at[Xe++]=i):i<4294967296?(at[Xe++]=s<<5|26,Vc.setUint32(Xe,i),Xe+=4):(at[Xe++]=s<<5|27,Vc.setBigUint64(Xe,BigInt(i)),Xe+=8);continue}at[Xe++]=251,Vc.setFloat64(Xe,r),Xe+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)at[Xe++]=s<<5|o;else if(o<256)at[Xe++]=s<<5|24,at[Xe++]=o;else if(o<65536)at[Xe++]=s<<5|25,at[Xe++]=o>>8,at[Xe++]=o&255;else if(o<4294967296)at[Xe++]=s<<5|26,Vc.setUint32(Xe,o),Xe+=4;else if(i<BigInt("18446744073709551616"))at[Xe++]=s<<5|27,Vc.setBigUint64(Xe,i),Xe+=8;else{let a=i.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=i,u=0;for(;c.byteLength-++u>=0;)c[c.byteLength-u]=Number(l&BigInt(255)),l>>=BigInt(8);eD(c.byteLength*2),at[Xe++]=n?194:195,oz?jc(2,Buffer.byteLength(c)):jc(2,c.byteLength),at.set(c,Xe),Xe+=c.byteLength}continue}else if(r===null){at[Xe++]=246;continue}else if(typeof r=="boolean"){at[Xe++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);jc(4,r.length);continue}else if(typeof r.byteLength=="number"){eD(r.length*2),jc(2,r.length),at.set(r,Xe),Xe+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof ln){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));at[Xe++]=196,t.push(o),t.push(i),jc(4,2);continue}if(r[KO])if("tag"in r&&"value"in r){t.push(r.value),jc(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}jc(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var az,oz,_Ee,at,Vc,Xe,lz=H(()=>{Ni();az=$(jn());SC();oz=typeof Buffer<"u",_Ee=2048,at=Dl(_Ee),Vc=new DataView(at.buffer,at.byteOffset,at.byteLength),Xe=0});var rD,dz=H(()=>{iz();lz();rD={deserialize(e){return rz(e),ja(0,e.length)},serialize(e){try{return cz(e),tD()}catch(t){throw tD(),t}},resizeEncodingBuffer(e){bC(e)}}});var _C,vC,AC=H(()=>{SC();_C=e=>EC({tag:1,value:e.getTime()/1e3}),vC=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var iD,xC,nD,sD,oD=H(()=>{Ri();En();Ni();iD=$(ls());dz();AC();xC=class extends fi{createSerializer(){let t=new nD;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new sD;return t.setSerdeContext(this.serdeContext),t}},nD=class extends fi{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=Je.of(t);if(r==null)return n.isIdempotencyToken()?(0,qa.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??iD.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?_C(new Date(Number(r)/1e3|0)):_C(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of s){let u=this.serialize(n.getValueSchema(),l);(u!=null||o)&&(a[c++]=u)}return a}if(s instanceof Date)return _C(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||o)&&(i[a]=c)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let c=this.serialize(a,s[o]);c!=null&&(i[o]=c)}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);return i}return r}flush(){let t=rD.serialize(this.value);return this.value=void 0,t}},sD=class extends fi{read(t,r){let n=rD.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=Je.of(t);if(n.isTimestampSchema()&&typeof r=="number")return $g(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??iD.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(o,c);(l!=null||a)&&i.push(l)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(o,r[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema())for(let[i,o]of n.structIterator())s[i]=this.readValue(o,r[i]);return s}else return r}}});var uz,IC,fz=H(()=>{Ri();En();uz=$(Ps());oD();AC();IC=class extends Bc{codec=new xC;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),ia(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,uz.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=vC(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let c={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},l=$n.for(a),u;try{u=l.getSchema(o)}catch{s.Message&&(s.message=s.Message);let x=$n.for("smithy.ts.sdk.synthetic."+a),w=x.getBaseException();if(w){let D=x.getErrorCtor(w);throw Object.assign(new D({name:o}),c,s)}throw Object.assign(new Error(o),c,s)}let m=Je.of(u),h=l.getErrorCtor(u),p=s.message??s.Message??"Unknown",g=new h(p),y={};for(let[_,x]of m.structIterator())y[_]=this.deserializer.readValue(x,s[_]);throw Object.assign(g,c,{$fault:m.getMergedTraits().error,message:p},y)}getDefaultContentType(){return"application/cbor"}}});var mz=H(()=>{AC();fz();oD()});var go,Cm=H(()=>{En();go=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:u,httpPrefixHeaders:m}=o.getMergedTraits();return!a&&!c&&!l&&!u&&m===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},u=$n.for(a);try{return{errorSchema:o?.(u,c)??u.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let h=$n.for("smithy.ts.sdk.synthetic."+a),p=h.getBaseException();if(p){let g=h.getErrorCtor(p)??Error;throw Object.assign(new g({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,l]of o)a[c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var aD,hz=H(()=>{mz();En();Cm();aD=class extends IC{awsQueryCompatible;mixin=new go;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=vC(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),u=s.message??s.Message??"Unknown",m=$n.for(a[1]).getErrorCtor(a)??Error,h=new m(u),p={};for(let[g,y]of l.structIterator())p[g]=this.deserializer.readValue(y,s[g]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),Object.assign(h,c,{$fault:l.getMergedTraits().error,message:u},p)}}});var vEe,AEe,xEe,pz=H(()=>{vEe=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},AEe=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},xEe=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Ws,Ml=H(()=>{Ws=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function gz(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ln(n,"bigDecimal"):BigInt(n)}return t}var yz=H(()=>{Ni()});var bz=C(Cz=>{"use strict";var lu=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Ul=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,cD=()=>{let e=[],t=[],r=!1,n=new Set,s=m=>m.sort((h,p)=>Ez[p.step]-Ez[h.step]||Sz[p.priority||"normal"]-Sz[h.priority||"normal"]),i=m=>{let h=!1,p=g=>{let y=lu(g.name,g.aliases);if(y.includes(m)){h=!0;for(let _ of y)n.delete(_);return!1}return!0};return e=e.filter(p),t=t.filter(p),h},o=m=>{let h=!1,p=g=>{if(g.middleware===m){h=!0;for(let y of lu(g.name,g.aliases))n.delete(y);return!1}return!0};return e=e.filter(p),t=t.filter(p),h},a=m=>(e.forEach(h=>{m.add(h.middleware,{...h})}),t.forEach(h=>{m.addRelativeTo(h.middleware,{...h})}),m.identifyOnResolve?.(u.identifyOnResolve()),m),c=m=>{let h=[];return m.before.forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...c(p))}),h.push(m),m.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...c(p))}),h},l=(m=!1)=>{let h=[],p=[],g={};return e.forEach(_=>{let x={..._,before:[],after:[]};for(let w of lu(x.name,x.aliases))g[w]=x;h.push(x)}),t.forEach(_=>{let x={..._,before:[],after:[]};for(let w of lu(x.name,x.aliases))g[w]=x;p.push(x)}),p.forEach(_=>{if(_.toMiddleware){let x=g[_.toMiddleware];if(x===void 0){if(m)return;throw new Error(`${_.toMiddleware} is not found when adding ${Ul(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&x.after.push(_),_.relation==="before"&&x.before.push(_)}}),s(h).map(c).reduce((_,x)=>(_.push(...x),_),[])},u={add:(m,h={})=>{let{name:p,override:g,aliases:y}=h,_={step:"initialize",priority:"normal",middleware:m,...h},x=lu(p,y);if(x.length>0){if(x.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${Ul(p,y)}'`);for(let w of x){let D=e.findIndex(W=>W.name===w||W.aliases?.some(J=>J===w));if(D===-1)continue;let G=e[D];if(G.step!==_.step||_.priority!==G.priority)throw new Error(`"${Ul(G.name,G.aliases)}" middleware with ${G.priority} priority in ${G.step} step cannot be overridden by "${Ul(p,y)}" middleware with ${_.priority} priority in ${_.step} step.`);e.splice(D,1)}}for(let w of x)n.add(w)}e.push(_)},addRelativeTo:(m,h)=>{let{name:p,override:g,aliases:y}=h,_={middleware:m,...h},x=lu(p,y);if(x.length>0){if(x.some(w=>n.has(w))){if(!g)throw new Error(`Duplicate middleware name '${Ul(p,y)}'`);for(let w of x){let D=t.findIndex(W=>W.name===w||W.aliases?.some(J=>J===w));if(D===-1)continue;let G=t[D];if(G.toMiddleware!==_.toMiddleware||G.relation!==_.relation)throw new Error(`"${Ul(G.name,G.aliases)}" middleware ${G.relation} "${G.toMiddleware}" middleware cannot be overridden by "${Ul(p,y)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(D,1)}}for(let w of x)n.add(w)}t.push(_)},clone:()=>a(cD()),use:m=>{m.applyToStack(u)},remove:m=>typeof m=="string"?i(m):o(m),removeByTag:m=>{let h=!1,p=g=>{let{tags:y,name:_,aliases:x}=g;if(y&&y.includes(m)){let w=lu(_,x);for(let D of w)n.delete(D);return h=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),h},concat:m=>{let h=a(cD());return h.use(m),h.identifyOnResolve(r||h.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(m=>{let h=m.step??m.relation+" "+m.toMiddleware;return Ul(m.name,m.aliases)+" - "+h}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,h)=>{for(let p of l().map(g=>g.middleware).reverse())m=p(m,h);return r&&console.log(u.identify()),m}};return u},Ez={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Sz={high:3,normal:2,low:1};Cz.constructStack=cD});var pt=C(yr=>{"use strict";var Az=bz(),yD=(Ri(),lt(A5)),dD=Rc(),IEe=(En(),lt(gH)),_z=(Ni(),lt(l5)),uD=class{config;middlewareStack=Az.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(t).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},lD="***SensitiveInformation***";function fD(e,t){if(t==null)return t;let r=IEe.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return lD;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return lD}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return lD}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=fD(o,n[i]));return s}return t}var TC=class{middlewareStack=Az.constructStack();schema;static classBuilder(){return new mD}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:m}){for(let _ of s.bind(this)(m,t,r,n))this.middlewareStack.use(_);let h=t.concat(this.middlewareStack),{logger:p}=r,g={logger:p,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[dD.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...u},{requestHandler:y}=r;return h.resolve(_=>y.handle(_.request,n||{}),g)}},mD=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends TC{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){let o=t._operationSchema,a=o?.[4]??o?.input,c=o?.[5]??o?.output;return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(o?fD.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(o?fD.bind(null,c):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},TEe="***SensitiveInformation***",wEe=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},hD=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},xz=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Iz=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=REe(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw xz(o,t)},NEe=e=>({output:t,parsedBody:r,errorCode:n})=>{Iz({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},REe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),PEe=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},vz=!1,OEe=e=>{e&&!vz&&parseInt(e.substring(1,e.indexOf(".")))<16&&(vz=!0)},DEe=e=>{let t=[];for(let r in dD.AlgorithmId){let n=dD.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},kEe=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},BEe=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),LEe=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},Tz=e=>Object.assign(DEe(e),BEe(e)),MEe=Tz,UEe=e=>Object.assign(kEe(e),LEe(e)),FEe=e=>Array.isArray(e)?e:[e],wz=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=wz(e[r]));return e},qEe=e=>e!=null,pD=class{trace(){}debug(){}info(){}warn(){}error(){}};function Nz(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,HEe(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}Rz(n,null,i,o)}return n}var jEe=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},VEe=(e,t)=>{let r={};for(let n in t)Rz(r,e,t,n);return r},HEe=(e,t,r)=>Nz(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),Rz=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=zEe,c=KEe,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},zEe=e=>e!=null,KEe=e=>e,GEe=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},$Ee=e=>e.toISOString().replace(".000Z","Z"),gD=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(gD);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=gD(e[r]));return t}return e};Object.defineProperty(yr,"collectBody",{enumerable:!0,get:function(){return yD.collectBody}});Object.defineProperty(yr,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return yD.extendedEncodeURIComponent}});Object.defineProperty(yr,"resolvedPath",{enumerable:!0,get:function(){return yD.resolvedPath}});yr.Client=uD;yr.Command=TC;yr.NoOpLogger=pD;yr.SENSITIVE_STRING=TEe;yr.ServiceException=hD;yr._json=gD;yr.convertMap=jEe;yr.createAggregatedClient=wEe;yr.decorateServiceException=xz;yr.emitWarningIfUnsupportedVersion=OEe;yr.getArrayIfSingleItem=FEe;yr.getDefaultClientConfiguration=MEe;yr.getDefaultExtensionConfiguration=Tz;yr.getValueFromTextNode=wz;yr.isSerializableHeaderValue=qEe;yr.loadConfigsForDefaultMode=PEe;yr.map=Nz;yr.resolveDefaultRuntimeConfig=UEe;yr.serializeDateTime=$Ee;yr.serializeFloat=GEe;yr.take=VEe;yr.throwDefaultError=Iz;yr.withBaseException=NEe;Object.keys(_z).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yr,e)&&Object.defineProperty(yr,e,{enumerable:!0,get:function(){return _z[e]}})})});var Pz,Oz,wC,ED=H(()=>{Pz=$(pt()),Oz=$(jn()),wC=(e,t)=>(0,Pz.collectBody)(e,t).then(r=>(t?.utf8Encoder??Oz.toUtf8)(r))});var bm,SD,du,sy=H(()=>{ED();bm=(e,t)=>wC(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),SD=async(e,t)=>{let r=await bm(e,t);return r.message=r.message??r.Message,r},du=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var Dz,iy,CD=H(()=>{Ri();En();Ni();Dz=$(ls());Ml();yz();sy();iy=class extends Ws{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,gz):await bm(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=Je.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(o,u));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._read(c,r[l]);u!=null&&(o[a]=u)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,Dz.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return ui.from(r);if(s.isTimestampSchema()&&r!=null)switch(Yi(s,this.settings)){case 5:return H1(r);case 6:return z1(r);case 7:return K1(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof ln)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new ln(o.string,o.type):new ln(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof ln?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var kz,NC,Bz=H(()=>{Ni();kz="\u039D",NC=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ln){let n=`${kz+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${kz+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Lz,oy,bD=H(()=>{Ri();En();Ni();Lz=$(ls());Ml();Bz();oy=class extends Ws{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=Je.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=Je.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new NC;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=Je.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(o,l));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(o,u));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._write(c,r[a],i);u!==void 0&&(o[l]=u)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,Lz.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Yi(i,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Gg(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return(0,qa.v4)();let o=i.getMergedTraits().mediaType;if(r!=null&&o&&(o==="application/json"||o.endsWith("+json")))return ui.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof ln?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var uu,RC=H(()=>{Ml();CD();bD();uu=class extends Ws{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new oy(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new iy(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var fu,PC=H(()=>{Ri();En();Cm();RC();sy();fu=class extends Bc{serializer;deserializer;serviceTarget;codec;mixin=new go;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new uu({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(ia(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=du(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),u=s.message??s.Message??"Unknown",m=$n.for(a[1]).getErrorCtor(a)??Error,h=new m(u),p={};for(let[g,y]of l.structIterator()){let _=y.getMergedTraits().jsonName??g;p[g]=this.codec.createDeserializer().readObject(y,s[_])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),Object.assign(h,c,{$fault:l.getMergedTraits().error,message:u},p)}}});var _D,Mz=H(()=>{PC();_D=class extends fu{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var vD,Uz=H(()=>{PC();vD=class extends fu{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var AD,Fz=H(()=>{Ri();En();Cm();RC();sy();AD=class extends Zd{serializer;deserializer;codec;mixin=new go;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new uu(r),this.serializer=new ru(this.codec.createSerializer(),r),this.deserializer=new tu(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,i){let o=du(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),u=s.message??s.Message??"Unknown",m=$n.for(a[1]).getErrorCtor(a)??Error,h=new m(u);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[g,y]of l.structIterator()){let _=y.getMergedTraits().jsonName??g;p[g]=this.codec.createDeserializer().readObject(y,s[_])}throw Object.assign(h,c,{$fault:l.getMergedTraits().error,message:u},p)}getDefaultContentType(){return"application/json"}}});var qz,WEe,jz=H(()=>{qz=$(pt()),WEe=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,qz.expectUnion)(e)}});var Hz=C((Pgt,Vz)=>{(()=>{"use strict";var e={d:(E,S)=>{for(var P in S)e.o(S,P)&&!e.o(E,P)&&Object.defineProperty(E,P,{enumerable:!0,get:S[P]})},o:(E,S)=>Object.prototype.hasOwnProperty.call(E,S),r:E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Cl,XMLParser:()=>dhe,XMLValidator:()=>Ehe});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(E,S){let P=[],j=S.exec(E);for(;j;){let U=[];U.startIndex=S.lastIndex-j[0].length;let q=j.length;for(let re=0;re<q;re++)U.push(j[re]);P.push(U),j=S.exec(E)}return P}let i=function(E){return n.exec(E)!=null},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(E,S){S=Object.assign({},o,S);let P=[],j=!1,U=!1;E[0]==="\uFEFF"&&(E=E.substr(1));for(let q=0;q<E.length;q++)if(E[q]==="<"&&E[q+1]==="?"){if(q+=2,q=l(E,q),q.err)return q}else{if(E[q]!=="<"){if(c(E[q]))continue;return x("InvalidChar","char '"+E[q]+"' is not expected.",D(E,q))}{let re=q;if(q++,E[q]==="!"){q=u(E,q);continue}{let X=!1;E[q]==="/"&&(X=!0,q++);let le="";for(;q<E.length&&E[q]!==">"&&E[q]!==" "&&E[q]!=="	"&&E[q]!==`
`&&E[q]!=="\r";q++)le+=E[q];if(le=le.trim(),le[le.length-1]==="/"&&(le=le.substring(0,le.length-1),q--),!i(le)){let Ye;return Ye=le.trim().length===0?"Invalid space after '<'.":"Tag '"+le+"' is an invalid name.",x("InvalidTag",Ye,D(E,q))}let we=p(E,q);if(we===!1)return x("InvalidAttr","Attributes for '"+le+"' have open quote.",D(E,q));let ct=we.value;if(q=we.index,ct[ct.length-1]==="/"){let Ye=q-ct.length;ct=ct.substring(0,ct.length-1);let $t=y(ct,S);if($t!==!0)return x($t.err.code,$t.err.msg,D(E,Ye+$t.err.line));j=!0}else if(X){if(!we.tagClosed)return x("InvalidTag","Closing tag '"+le+"' doesn't have proper closing.",D(E,q));if(ct.trim().length>0)return x("InvalidTag","Closing tag '"+le+"' can't have attributes or invalid starting.",D(E,re));if(P.length===0)return x("InvalidTag","Closing tag '"+le+"' has not been opened.",D(E,re));{let Ye=P.pop();if(le!==Ye.tagName){let $t=D(E,Ye.tagStartPos);return x("InvalidTag","Expected closing tag '"+Ye.tagName+"' (opened in line "+$t.line+", col "+$t.col+") instead of closing tag '"+le+"'.",D(E,re))}P.length==0&&(U=!0)}}else{let Ye=y(ct,S);if(Ye!==!0)return x(Ye.err.code,Ye.err.msg,D(E,q-ct.length+Ye.err.line));if(U===!0)return x("InvalidXml","Multiple possible root nodes found.",D(E,q));S.unpairedTags.indexOf(le)!==-1||P.push({tagName:le,tagStartPos:re}),j=!0}for(q++;q<E.length;q++)if(E[q]==="<"){if(E[q+1]==="!"){q++,q=u(E,q);continue}if(E[q+1]!=="?")break;if(q=l(E,++q),q.err)return q}else if(E[q]==="&"){let Ye=_(E,q);if(Ye==-1)return x("InvalidChar","char '&' is not expected.",D(E,q));q=Ye}else if(U===!0&&!c(E[q]))return x("InvalidXml","Extra text at the end",D(E,q));E[q]==="<"&&q--}}}return j?P.length==1?x("InvalidTag","Unclosed tag '"+P[0].tagName+"'.",D(E,P[0].tagStartPos)):!(P.length>0)||x("InvalidXml","Invalid '"+JSON.stringify(P.map((q=>q.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):x("InvalidXml","Start tag expected.",1)}function c(E){return E===" "||E==="	"||E===`
`||E==="\r"}function l(E,S){let P=S;for(;S<E.length;S++)if(!(E[S]!="?"&&E[S]!=" ")){let j=E.substr(P,S-P);if(S>5&&j==="xml")return x("InvalidXml","XML declaration allowed only at the start of the document.",D(E,S));if(E[S]=="?"&&E[S+1]==">"){S++;break}}return S}function u(E,S){if(E.length>S+5&&E[S+1]==="-"&&E[S+2]==="-"){for(S+=3;S<E.length;S++)if(E[S]==="-"&&E[S+1]==="-"&&E[S+2]===">"){S+=2;break}}else if(E.length>S+8&&E[S+1]==="D"&&E[S+2]==="O"&&E[S+3]==="C"&&E[S+4]==="T"&&E[S+5]==="Y"&&E[S+6]==="P"&&E[S+7]==="E"){let P=1;for(S+=8;S<E.length;S++)if(E[S]==="<")P++;else if(E[S]===">"&&(P--,P===0))break}else if(E.length>S+9&&E[S+1]==="["&&E[S+2]==="C"&&E[S+3]==="D"&&E[S+4]==="A"&&E[S+5]==="T"&&E[S+6]==="A"&&E[S+7]==="["){for(S+=8;S<E.length;S++)if(E[S]==="]"&&E[S+1]==="]"&&E[S+2]===">"){S+=2;break}}return S}let m='"',h="'";function p(E,S){let P="",j="",U=!1;for(;S<E.length;S++){if(E[S]===m||E[S]===h)j===""?j=E[S]:j!==E[S]||(j="");else if(E[S]===">"&&j===""){U=!0;break}P+=E[S]}return j===""&&{value:P,index:S,tagClosed:U}}let g=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function y(E,S){let P=s(E,g),j={};for(let U=0;U<P.length;U++){if(P[U][1].length===0)return x("InvalidAttr","Attribute '"+P[U][2]+"' has no space in starting.",G(P[U]));if(P[U][3]!==void 0&&P[U][4]===void 0)return x("InvalidAttr","Attribute '"+P[U][2]+"' is without value.",G(P[U]));if(P[U][3]===void 0&&!S.allowBooleanAttributes)return x("InvalidAttr","boolean attribute '"+P[U][2]+"' is not allowed.",G(P[U]));let q=P[U][2];if(!w(q))return x("InvalidAttr","Attribute '"+q+"' is an invalid name.",G(P[U]));if(j.hasOwnProperty(q))return x("InvalidAttr","Attribute '"+q+"' is repeated.",G(P[U]));j[q]=1}return!0}function _(E,S){if(E[++S]===";")return-1;if(E[S]==="#")return(function(j,U){let q=/\d/;for(j[U]==="x"&&(U++,q=/[\da-fA-F]/);U<j.length;U++){if(j[U]===";")return U;if(!j[U].match(q))break}return-1})(E,++S);let P=0;for(;S<E.length;S++,P++)if(!(E[S].match(/\w/)&&P<20)){if(E[S]===";")break;return-1}return S}function x(E,S,P){return{err:{code:E,msg:S,line:P.line||P,col:P.col}}}function w(E){return i(E)}function D(E,S){let P=E.substring(0,S).split(/\r?\n/);return{line:P.length,col:P[P.length-1].length+1}}function G(E){return E.startIndex+E[1].length}let W={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(E,S){return S},attributeValueProcessor:function(E,S){return S},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(E,S,P){return E},captureMetaData:!1},J;J=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class xe{constructor(S){this.tagname=S,this.child=[],this[":@"]={}}add(S,P){S==="__proto__"&&(S="#__proto__"),this.child.push({[S]:P})}addChild(S,P){S.tagname==="__proto__"&&(S.tagname="#__proto__"),S[":@"]&&Object.keys(S[":@"]).length>0?this.child.push({[S.tagname]:S.child,":@":S[":@"]}):this.child.push({[S.tagname]:S.child}),P!==void 0&&(this.child[this.child.length-1][J]={startIndex:P})}static getMetaDataSymbol(){return J}}function be(E,S){let P={};if(E[S+3]!=="O"||E[S+4]!=="C"||E[S+5]!=="T"||E[S+6]!=="Y"||E[S+7]!=="P"||E[S+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{S+=9;let j=1,U=!1,q=!1,re="";for(;S<E.length;S++)if(E[S]!=="<"||q)if(E[S]===">"){if(q?E[S-1]==="-"&&E[S-2]==="-"&&(q=!1,j--):j--,j===0)break}else E[S]==="["?U=!0:re+=E[S];else{if(U&&Ir(E,"!ENTITY",S)){let X,le;S+=7,[X,le,S]=Ge(E,S+1),le.indexOf("&")===-1&&(P[X]={regx:RegExp(`&${X};`,"g"),val:le})}else if(U&&Ir(E,"!ELEMENT",S)){S+=8;let{index:X}=er(E,S+1);S=X}else if(U&&Ir(E,"!ATTLIST",S))S+=8;else if(U&&Ir(E,"!NOTATION",S)){S+=9;let{index:X}=$e(E,S+1);S=X}else{if(!Ir(E,"!--",S))throw new Error("Invalid DOCTYPE");q=!0}j++,re=""}if(j!==0)throw new Error("Unclosed DOCTYPE")}return{entities:P,i:S}}let De=(E,S)=>{for(;S<E.length&&/\s/.test(E[S]);)S++;return S};function Ge(E,S){S=De(E,S);let P="";for(;S<E.length&&!/\s/.test(E[S])&&E[S]!=='"'&&E[S]!=="'";)P+=E[S],S++;if(jt(P),S=De(E,S),E.substring(S,S+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(E[S]==="%")throw new Error("Parameter entities are not supported");let j="";return[S,j]=rt(E,S,"entity"),[P,j,--S]}function $e(E,S){S=De(E,S);let P="";for(;S<E.length&&!/\s/.test(E[S]);)P+=E[S],S++;jt(P),S=De(E,S);let j=E.substring(S,S+6).toUpperCase();if(j!=="SYSTEM"&&j!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${j}"`);S+=j.length,S=De(E,S);let U=null,q=null;if(j==="PUBLIC")[S,U]=rt(E,S,"publicIdentifier"),E[S=De(E,S)]!=='"'&&E[S]!=="'"||([S,q]=rt(E,S,"systemIdentifier"));else if(j==="SYSTEM"&&([S,q]=rt(E,S,"systemIdentifier"),!q))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:P,publicIdentifier:U,systemIdentifier:q,index:--S}}function rt(E,S,P){let j="",U=E[S];if(U!=='"'&&U!=="'")throw new Error(`Expected quoted string, found "${U}"`);for(S++;S<E.length&&E[S]!==U;)j+=E[S],S++;if(E[S]!==U)throw new Error(`Unterminated ${P} value`);return[++S,j]}function er(E,S){S=De(E,S);let P="";for(;S<E.length&&!/\s/.test(E[S]);)P+=E[S],S++;if(!jt(P))throw new Error(`Invalid element name: "${P}"`);let j="";if(E[S=De(E,S)]==="E"&&Ir(E,"MPTY",S))S+=4;else if(E[S]==="A"&&Ir(E,"NY",S))S+=2;else{if(E[S]!=="(")throw new Error(`Invalid Element Expression, found "${E[S]}"`);for(S++;S<E.length&&E[S]!==")";)j+=E[S],S++;if(E[S]!==")")throw new Error("Unterminated content model")}return{elementName:P,contentModel:j.trim(),index:S}}function Ir(E,S,P){for(let j=0;j<S.length;j++)if(S[j]!==E[P+j+1])return!1;return!0}function jt(E){if(i(E))return E;throw new Error(`Invalid entity name ${E}`)}let Vt=/^[-+]?0x[a-fA-F0-9]+$/,He=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Ti={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},wi=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function hr(E){return typeof E=="function"?E:Array.isArray(E)?S=>{for(let P of E)if(typeof P=="string"&&S===P||P instanceof RegExp&&P.test(S))return!0}:()=>!1}class Ur{constructor(S){this.options=S,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(P,j)=>String.fromCodePoint(Number.parseInt(j,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(P,j)=>String.fromCodePoint(Number.parseInt(j,16))}},this.addExternalEntities=Xr,this.parseXml=ns,this.parseTextData=Bt,this.resolveNameSpace=pr,this.buildAttributesMap=Un,this.isItStopNode=as,this.replaceEntitiesValue=is,this.readStopNodeData=cs,this.saveTextToParentTag=os,this.addChild=ss,this.ignoreAttributesFn=hr(this.options.ignoreAttributes)}}function Xr(E){let S=Object.keys(E);for(let P=0;P<S.length;P++){let j=S[P];this.lastEntities[j]={regex:new RegExp("&"+j+";","g"),val:E[j]}}}function Bt(E,S,P,j,U,q,re){if(E!==void 0&&(this.options.trimValues&&!j&&(E=E.trim()),E.length>0)){re||(E=this.replaceEntitiesValue(E));let X=this.options.tagValueProcessor(S,E,P,U,q);return X==null?E:typeof X!=typeof E||X!==E?X:this.options.trimValues||E.trim()===E?Gn(E,this.options.parseTagValue,this.options.numberParseOptions):E}}function pr(E){if(this.options.removeNSPrefix){let S=E.split(":"),P=E.charAt(0)==="/"?"/":"";if(S[0]==="xmlns")return"";S.length===2&&(E=P+S[1])}return E}let _r=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Un(E,S,P){if(this.options.ignoreAttributes!==!0&&typeof E=="string"){let j=s(E,_r),U=j.length,q={};for(let re=0;re<U;re++){let X=this.resolveNameSpace(j[re][1]);if(this.ignoreAttributesFn(X,S))continue;let le=j[re][4],we=this.options.attributeNamePrefix+X;if(X.length)if(this.options.transformAttributeName&&(we=this.options.transformAttributeName(we)),we==="__proto__"&&(we="#__proto__"),le!==void 0){this.options.trimValues&&(le=le.trim()),le=this.replaceEntitiesValue(le);let ct=this.options.attributeValueProcessor(X,le,S);q[we]=ct==null?le:typeof ct!=typeof le||ct!==le?ct:Gn(le,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(q[we]=!0)}if(!Object.keys(q).length)return;if(this.options.attributesGroupName){let re={};return re[this.options.attributesGroupName]=q,re}return q}}let ns=function(E){E=E.replace(/\r\n?/g,`
`);let S=new xe("!xml"),P=S,j="",U="";for(let q=0;q<E.length;q++)if(E[q]==="<")if(E[q+1]==="/"){let re=tn(E,">",q,"Closing Tag is not closed."),X=E.substring(q+2,re).trim();if(this.options.removeNSPrefix){let ct=X.indexOf(":");ct!==-1&&(X=X.substr(ct+1))}this.options.transformTagName&&(X=this.options.transformTagName(X)),P&&(j=this.saveTextToParentTag(j,P,U));let le=U.substring(U.lastIndexOf(".")+1);if(X&&this.options.unpairedTags.indexOf(X)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${X}>`);let we=0;le&&this.options.unpairedTags.indexOf(le)!==-1?(we=U.lastIndexOf(".",U.lastIndexOf(".")-1),this.tagsNodeStack.pop()):we=U.lastIndexOf("."),U=U.substring(0,we),P=this.tagsNodeStack.pop(),j="",q=re}else if(E[q+1]==="?"){let re=Fn(E,q,!1,"?>");if(!re)throw new Error("Pi Tag is not closed.");if(j=this.saveTextToParentTag(j,P,U),!(this.options.ignoreDeclaration&&re.tagName==="?xml"||this.options.ignorePiTags)){let X=new xe(re.tagName);X.add(this.options.textNodeName,""),re.tagName!==re.tagExp&&re.attrExpPresent&&(X[":@"]=this.buildAttributesMap(re.tagExp,U,re.tagName)),this.addChild(P,X,U,q)}q=re.closeIndex+1}else if(E.substr(q+1,3)==="!--"){let re=tn(E,"-->",q+4,"Comment is not closed.");if(this.options.commentPropName){let X=E.substring(q+4,re-2);j=this.saveTextToParentTag(j,P,U),P.add(this.options.commentPropName,[{[this.options.textNodeName]:X}])}q=re}else if(E.substr(q+1,2)==="!D"){let re=be(E,q);this.docTypeEntities=re.entities,q=re.i}else if(E.substr(q+1,2)==="!["){let re=tn(E,"]]>",q,"CDATA is not closed.")-2,X=E.substring(q+9,re);j=this.saveTextToParentTag(j,P,U);let le=this.parseTextData(X,P.tagname,U,!0,!1,!0,!0);le==null&&(le=""),this.options.cdataPropName?P.add(this.options.cdataPropName,[{[this.options.textNodeName]:X}]):P.add(this.options.textNodeName,le),q=re+2}else{let re=Fn(E,q,this.options.removeNSPrefix),X=re.tagName,le=re.rawTagName,we=re.tagExp,ct=re.attrExpPresent,Ye=re.closeIndex;this.options.transformTagName&&(X=this.options.transformTagName(X)),P&&j&&P.tagname!=="!xml"&&(j=this.saveTextToParentTag(j,P,U,!1));let $t=P;$t&&this.options.unpairedTags.indexOf($t.tagname)!==-1&&(P=this.tagsNodeStack.pop(),U=U.substring(0,U.lastIndexOf("."))),X!==S.tagname&&(U+=U?"."+X:X);let gr=q;if(this.isItStopNode(this.options.stopNodes,U,X)){let tr="";if(we.length>0&&we.lastIndexOf("/")===we.length-1)X[X.length-1]==="/"?(X=X.substr(0,X.length-1),U=U.substr(0,U.length-1),we=X):we=we.substr(0,we.length-1),q=re.closeIndex;else if(this.options.unpairedTags.indexOf(X)!==-1)q=re.closeIndex;else{let La=this.readStopNodeData(E,le,Ye+1);if(!La)throw new Error(`Unexpected end of ${le}`);q=La.i,tr=La.tagContent}let qn=new xe(X);X!==we&&ct&&(qn[":@"]=this.buildAttributesMap(we,U,X)),tr&&(tr=this.parseTextData(tr,X,U,!0,ct,!0,!0)),U=U.substr(0,U.lastIndexOf(".")),qn.add(this.options.textNodeName,tr),this.addChild(P,qn,U,gr)}else{if(we.length>0&&we.lastIndexOf("/")===we.length-1){X[X.length-1]==="/"?(X=X.substr(0,X.length-1),U=U.substr(0,U.length-1),we=X):we=we.substr(0,we.length-1),this.options.transformTagName&&(X=this.options.transformTagName(X));let tr=new xe(X);X!==we&&ct&&(tr[":@"]=this.buildAttributesMap(we,U,X)),this.addChild(P,tr,U,gr),U=U.substr(0,U.lastIndexOf("."))}else{let tr=new xe(X);this.tagsNodeStack.push(P),X!==we&&ct&&(tr[":@"]=this.buildAttributesMap(we,U,X)),this.addChild(P,tr,U,gr),P=tr}j="",q=Ye}}else j+=E[q];return S.child};function ss(E,S,P,j){this.options.captureMetaData||(j=void 0);let U=this.options.updateTag(S.tagname,P,S[":@"]);U===!1||(typeof U=="string"&&(S.tagname=U),E.addChild(S,j))}let is=function(E){if(this.options.processEntities){for(let S in this.docTypeEntities){let P=this.docTypeEntities[S];E=E.replace(P.regx,P.val)}for(let S in this.lastEntities){let P=this.lastEntities[S];E=E.replace(P.regex,P.val)}if(this.options.htmlEntities)for(let S in this.htmlEntities){let P=this.htmlEntities[S];E=E.replace(P.regex,P.val)}E=E.replace(this.ampEntity.regex,this.ampEntity.val)}return E};function os(E,S,P,j){return E&&(j===void 0&&(j=S.child.length===0),(E=this.parseTextData(E,S.tagname,P,!1,!!S[":@"]&&Object.keys(S[":@"]).length!==0,j))!==void 0&&E!==""&&S.add(this.options.textNodeName,E),E=""),E}function as(E,S,P){let j="*."+P;for(let U in E){let q=E[U];if(j===q||S===q)return!0}return!1}function tn(E,S,P,j){let U=E.indexOf(S,P);if(U===-1)throw new Error(j);return U+S.length-1}function Fn(E,S,P,j=">"){let U=(function(Ye,$t,gr=">"){let tr,qn="";for(let La=$t;La<Ye.length;La++){let bl=Ye[La];if(tr)bl===tr&&(tr="");else if(bl==='"'||bl==="'")tr=bl;else if(bl===gr[0]){if(!gr[1])return{data:qn,index:La};if(Ye[La+1]===gr[1])return{data:qn,index:La}}else bl==="	"&&(bl=" ");qn+=bl}})(E,S+1,j);if(!U)return;let q=U.data,re=U.index,X=q.search(/\s/),le=q,we=!0;X!==-1&&(le=q.substring(0,X),q=q.substring(X+1).trimStart());let ct=le;if(P){let Ye=le.indexOf(":");Ye!==-1&&(le=le.substr(Ye+1),we=le!==U.data.substr(Ye+1))}return{tagName:le,tagExp:q,closeIndex:re,attrExpPresent:we,rawTagName:ct}}function cs(E,S,P){let j=P,U=1;for(;P<E.length;P++)if(E[P]==="<")if(E[P+1]==="/"){let q=tn(E,">",P,`${S} is not closed`);if(E.substring(P+2,q).trim()===S&&(U--,U===0))return{tagContent:E.substring(j,P),i:q};P=q}else if(E[P+1]==="?")P=tn(E,"?>",P+1,"StopNode is not closed.");else if(E.substr(P+1,3)==="!--")P=tn(E,"-->",P+3,"StopNode is not closed.");else if(E.substr(P+1,2)==="![")P=tn(E,"]]>",P,"StopNode is not closed.")-2;else{let q=Fn(E,P,">");q&&((q&&q.tagName)===S&&q.tagExp[q.tagExp.length-1]!=="/"&&U++,P=q.closeIndex)}}function Gn(E,S,P){if(S&&typeof E=="string"){let j=E.trim();return j==="true"||j!=="false"&&(function(U,q={}){if(q=Object.assign({},Ti,q),!U||typeof U!="string")return U;let re=U.trim();if(q.skipLike!==void 0&&q.skipLike.test(re))return U;if(U==="0")return 0;if(q.hex&&Vt.test(re))return(function(le){if(parseInt)return parseInt(le,16);if(Number.parseInt)return Number.parseInt(le,16);if(window&&window.parseInt)return window.parseInt(le,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(re);if(re.search(/.+[eE].+/)!==-1)return(function(le,we,ct){if(!ct.eNotation)return le;let Ye=we.match(wi);if(Ye){let $t=Ye[1]||"",gr=Ye[3].indexOf("e")===-1?"E":"e",tr=Ye[2],qn=$t?le[tr.length+1]===gr:le[tr.length]===gr;return tr.length>1&&qn?le:tr.length!==1||!Ye[3].startsWith(`.${gr}`)&&Ye[3][0]!==gr?ct.leadingZeros&&!qn?(we=(Ye[1]||"")+Ye[3],Number(we)):le:Number(we)}return le})(U,re,q);{let le=He.exec(re);if(le){let we=le[1]||"",ct=le[2],Ye=((X=le[3])&&X.indexOf(".")!==-1&&((X=X.replace(/0+$/,""))==="."?X="0":X[0]==="."?X="0"+X:X[X.length-1]==="."&&(X=X.substring(0,X.length-1))),X),$t=we?U[ct.length+1]===".":U[ct.length]===".";if(!q.leadingZeros&&(ct.length>1||ct.length===1&&!$t))return U;{let gr=Number(re),tr=String(gr);if(gr===0||gr===-0)return gr;if(tr.search(/[eE]/)!==-1)return q.eNotation?gr:U;if(re.indexOf(".")!==-1)return tr==="0"||tr===Ye||tr===`${we}${Ye}`?gr:U;let qn=ct?Ye:re;return ct?qn===tr||we+qn===tr?gr:U:qn===tr||qn===we+tr?gr:U}}return U}var X})(E,P)}return E!==void 0?E:""}let jP=xe.getMetaDataSymbol();function ohe(E,S){return EV(E,S)}function EV(E,S,P){let j,U={};for(let q=0;q<E.length;q++){let re=E[q],X=ahe(re),le="";if(le=P===void 0?X:P+"."+X,X===S.textNodeName)j===void 0?j=re[X]:j+=""+re[X];else{if(X===void 0)continue;if(re[X]){let we=EV(re[X],S,le),ct=lhe(we,S);re[jP]!==void 0&&(we[jP]=re[jP]),re[":@"]?che(we,re[":@"],le,S):Object.keys(we).length!==1||we[S.textNodeName]===void 0||S.alwaysCreateTextNode?Object.keys(we).length===0&&(S.alwaysCreateTextNode?we[S.textNodeName]="":we=""):we=we[S.textNodeName],U[X]!==void 0&&U.hasOwnProperty(X)?(Array.isArray(U[X])||(U[X]=[U[X]]),U[X].push(we)):S.isArray(X,le,ct)?U[X]=[we]:U[X]=we}}}return typeof j=="string"?j.length>0&&(U[S.textNodeName]=j):j!==void 0&&(U[S.textNodeName]=j),U}function ahe(E){let S=Object.keys(E);for(let P=0;P<S.length;P++){let j=S[P];if(j!==":@")return j}}function che(E,S,P,j){if(S){let U=Object.keys(S),q=U.length;for(let re=0;re<q;re++){let X=U[re];j.isArray(X,P+"."+X,!0,!0)?E[X]=[S[X]]:E[X]=S[X]}}}function lhe(E,S){let{textNodeName:P}=S,j=Object.keys(E).length;return j===0||!(j!==1||!E[P]&&typeof E[P]!="boolean"&&E[P]!==0)}class dhe{constructor(S){this.externalEntities={},this.options=(function(P){return Object.assign({},W,P)})(S)}parse(S,P){if(typeof S!="string"){if(!S.toString)throw new Error("XML data is accepted in String or Bytes[] form.");S=S.toString()}if(P){P===!0&&(P={});let q=a(S,P);if(q!==!0)throw Error(`${q.err.msg}:${q.err.line}:${q.err.col}`)}let j=new Ur(this.options);j.addExternalEntities(this.externalEntities);let U=j.parseXml(S);return this.options.preserveOrder||U===void 0?U:ohe(U,this.options)}addEntity(S,P){if(P.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(S.indexOf("&")!==-1||S.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(P==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[S]=P}static getMetaDataSymbol(){return xe.getMetaDataSymbol()}}function uhe(E,S){let P="";return S.format&&S.indentBy.length>0&&(P=`
`),SV(E,S,"",P)}function SV(E,S,P,j){let U="",q=!1;for(let re=0;re<E.length;re++){let X=E[re],le=fhe(X);if(le===void 0)continue;let we="";if(we=P.length===0?le:`${P}.${le}`,le===S.textNodeName){let gr=X[le];mhe(we,S)||(gr=S.tagValueProcessor(le,gr),gr=bV(gr,S)),q&&(U+=j),U+=gr,q=!1;continue}if(le===S.cdataPropName){q&&(U+=j),U+=`<![CDATA[${X[le][0][S.textNodeName]}]]>`,q=!1;continue}if(le===S.commentPropName){U+=j+`<!--${X[le][0][S.textNodeName]}-->`,q=!0;continue}if(le[0]==="?"){let gr=CV(X[":@"],S),tr=le==="?xml"?"":j,qn=X[le][0][S.textNodeName];qn=qn.length!==0?" "+qn:"",U+=tr+`<${le}${qn}${gr}?>`,q=!0;continue}let ct=j;ct!==""&&(ct+=S.indentBy);let Ye=j+`<${le}${CV(X[":@"],S)}`,$t=SV(X[le],S,we,ct);S.unpairedTags.indexOf(le)!==-1?S.suppressUnpairedNode?U+=Ye+">":U+=Ye+"/>":$t&&$t.length!==0||!S.suppressEmptyNode?$t&&$t.endsWith(">")?U+=Ye+`>${$t}${j}</${le}>`:(U+=Ye+">",$t&&j!==""&&($t.includes("/>")||$t.includes("</"))?U+=j+S.indentBy+$t+j:U+=$t,U+=`</${le}>`):U+=Ye+"/>",q=!0}return U}function fhe(E){let S=Object.keys(E);for(let P=0;P<S.length;P++){let j=S[P];if(E.hasOwnProperty(j)&&j!==":@")return j}}function CV(E,S){let P="";if(E&&!S.ignoreAttributes)for(let j in E){if(!E.hasOwnProperty(j))continue;let U=S.attributeValueProcessor(j,E[j]);U=bV(U,S),U===!0&&S.suppressBooleanAttributes?P+=` ${j.substr(S.attributeNamePrefix.length)}`:P+=` ${j.substr(S.attributeNamePrefix.length)}="${U}"`}return P}function mhe(E,S){let P=(E=E.substr(0,E.length-S.textNodeName.length-1)).substr(E.lastIndexOf(".")+1);for(let j in S.stopNodes)if(S.stopNodes[j]===E||S.stopNodes[j]==="*."+P)return!0;return!1}function bV(E,S){if(E&&E.length>0&&S.processEntities)for(let P=0;P<S.entities.length;P++){let j=S.entities[P];E=E.replace(j.regex,j.val)}return E}let hhe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(E,S){return S},attributeValueProcessor:function(E,S){return S},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Cl(E){this.options=Object.assign({},hhe,E),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=hr(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=yhe),this.processTextOrObjNode=phe,this.options.format?(this.indentate=ghe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function phe(E,S,P,j){let U=this.j2x(E,P+1,j.concat(S));return E[this.options.textNodeName]!==void 0&&Object.keys(E).length===1?this.buildTextValNode(E[this.options.textNodeName],S,U.attrStr,P):this.buildObjectNode(U.val,S,U.attrStr,P)}function ghe(E){return this.options.indentBy.repeat(E)}function yhe(E){return!(!E.startsWith(this.options.attributeNamePrefix)||E===this.options.textNodeName)&&E.substr(this.attrPrefixLen)}Cl.prototype.build=function(E){return this.options.preserveOrder?uhe(E,this.options):(Array.isArray(E)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(E={[this.options.arrayNodeName]:E}),this.j2x(E,0,[]).val)},Cl.prototype.j2x=function(E,S,P){let j="",U="",q=P.join(".");for(let re in E)if(Object.prototype.hasOwnProperty.call(E,re))if(E[re]===void 0)this.isAttribute(re)&&(U+="");else if(E[re]===null)this.isAttribute(re)||re===this.options.cdataPropName?U+="":re[0]==="?"?U+=this.indentate(S)+"<"+re+"?"+this.tagEndChar:U+=this.indentate(S)+"<"+re+"/"+this.tagEndChar;else if(E[re]instanceof Date)U+=this.buildTextValNode(E[re],re,"",S);else if(typeof E[re]!="object"){let X=this.isAttribute(re);if(X&&!this.ignoreAttributesFn(X,q))j+=this.buildAttrPairStr(X,""+E[re]);else if(!X)if(re===this.options.textNodeName){let le=this.options.tagValueProcessor(re,""+E[re]);U+=this.replaceEntitiesValue(le)}else U+=this.buildTextValNode(E[re],re,"",S)}else if(Array.isArray(E[re])){let X=E[re].length,le="",we="";for(let ct=0;ct<X;ct++){let Ye=E[re][ct];if(Ye!==void 0)if(Ye===null)re[0]==="?"?U+=this.indentate(S)+"<"+re+"?"+this.tagEndChar:U+=this.indentate(S)+"<"+re+"/"+this.tagEndChar;else if(typeof Ye=="object")if(this.options.oneListGroup){let $t=this.j2x(Ye,S+1,P.concat(re));le+=$t.val,this.options.attributesGroupName&&Ye.hasOwnProperty(this.options.attributesGroupName)&&(we+=$t.attrStr)}else le+=this.processTextOrObjNode(Ye,re,S,P);else if(this.options.oneListGroup){let $t=this.options.tagValueProcessor(re,Ye);$t=this.replaceEntitiesValue($t),le+=$t}else le+=this.buildTextValNode(Ye,re,"",S)}this.options.oneListGroup&&(le=this.buildObjectNode(le,re,we,S)),U+=le}else if(this.options.attributesGroupName&&re===this.options.attributesGroupName){let X=Object.keys(E[re]),le=X.length;for(let we=0;we<le;we++)j+=this.buildAttrPairStr(X[we],""+E[re][X[we]])}else U+=this.processTextOrObjNode(E[re],re,S,P);return{attrStr:j,val:U}},Cl.prototype.buildAttrPairStr=function(E,S){return S=this.options.attributeValueProcessor(E,""+S),S=this.replaceEntitiesValue(S),this.options.suppressBooleanAttributes&&S==="true"?" "+E:" "+E+'="'+S+'"'},Cl.prototype.buildObjectNode=function(E,S,P,j){if(E==="")return S[0]==="?"?this.indentate(j)+"<"+S+P+"?"+this.tagEndChar:this.indentate(j)+"<"+S+P+this.closeTag(S)+this.tagEndChar;{let U="</"+S+this.tagEndChar,q="";return S[0]==="?"&&(q="?",U=""),!P&&P!==""||E.indexOf("<")!==-1?this.options.commentPropName!==!1&&S===this.options.commentPropName&&q.length===0?this.indentate(j)+`<!--${E}-->`+this.newLine:this.indentate(j)+"<"+S+P+q+this.tagEndChar+E+this.indentate(j)+U:this.indentate(j)+"<"+S+P+q+">"+E+U}},Cl.prototype.closeTag=function(E){let S="";return this.options.unpairedTags.indexOf(E)!==-1?this.options.suppressUnpairedNode||(S="/"):S=this.options.suppressEmptyNode?"/":`></${E}`,S},Cl.prototype.buildTextValNode=function(E,S,P,j){if(this.options.cdataPropName!==!1&&S===this.options.cdataPropName)return this.indentate(j)+`<![CDATA[${E}]]>`+this.newLine;if(this.options.commentPropName!==!1&&S===this.options.commentPropName)return this.indentate(j)+`<!--${E}-->`+this.newLine;if(S[0]==="?")return this.indentate(j)+"<"+S+P+"?"+this.tagEndChar;{let U=this.options.tagValueProcessor(S,E);return U=this.replaceEntitiesValue(U),U===""?this.indentate(j)+"<"+S+P+this.closeTag(S)+this.tagEndChar:this.indentate(j)+"<"+S+P+">"+U+"</"+S+this.tagEndChar}},Cl.prototype.replaceEntitiesValue=function(E){if(E&&E.length>0&&this.options.processEntities)for(let S=0;S<this.options.entities.length;S++){let P=this.options.entities[S];E=E.replace(P.regex,P.val)}return E};let Ehe={validate:a};Vz.exports=t})()});var zz=C(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});ID.parseXML=XEe;var JEe=Hz(),xD=new JEe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});xD.addEntity("#xD","\r");xD.addEntity("#10",`
`);function XEe(e){return xD.parse(e,!0)}});var ay=C(DC=>{"use strict";var YEe=zz();function QEe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function ZEe(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var OC=class{value;constructor(t){this.value=t}toString(){return ZEe(""+this.value)}},TD=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new OC(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new e(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${QEe(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(DC,"parseXML",{enumerable:!0,get:function(){return YEe.parseXML}});DC.XmlNode=TD;DC.XmlText=OC});var Kz,Gz,$z,mu,kC=H(()=>{Kz=$(ay());Ri();En();Gz=$(pt()),$z=$(jn());Ml();mu=class extends Ws{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new eu(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=Je.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(i)[0];return i[u].isBlobSchema()?l[u]=r:l[u]=this.read(i[u],r),l}let a=(this.serdeContext?.utf8Encoder??$z.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=Je.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",m=o?r:(r[0]??r)[u],h=Array.isArray(m)?m:[m];for(let p of h)(p!=null||i)&&l.push(this.readSchema(c,p));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;o?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let m=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let p of u){let g=p[m],y=p[h];(y!=null||i)&&(a[g]=this.readSchema(l,y))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let u=l.getMergedTraits(),m=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[m]!=null&&(a[c]=this.readSchema(l,r[m]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,Kz.parseXML)(t)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:t}),o}let n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),(0,Gz.getValueFromTextNode)(i)}return{}}}});var Wz,Jz,BC,Xz=H(()=>{Ri();En();Ni();Wz=$(pt()),Jz=$(ls());Ml();BC=class extends Ws{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=Je.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Jz.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,qa.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ln?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Yi(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,Wz.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),u=o?`${n}${a}`:`${n}${l}.${a}`;this.write(i,c,u),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let m=this.getKey("key",i.getMergedTraits().xmlName),h=a?`${n}${c}.${m}`:`${n}entry.${c}.${m}`,p=this.getKey("value",o.getMergedTraits().xmlName),g=a?`${n}${c}.${p}`:`${n}entry.${c}.${p}`;this.write(i,l,h),this.write(o,u,g),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Ma(t)}=`}writeValue(t){this.buffer+=Ma(t)}}});var cy,wD=H(()=>{Ri();En();Cm();kC();Xz();cy=class extends Bc{options;serializer;deserializer;mixin=new go;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new BC(r),this.deserializer=new mu(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(ia(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;return s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,i=Je.of(t.output),o={};if(n.statusCode>=300){let m=await sa(n.body,r);m.byteLength>0&&Object.assign(o,await s.read(15,m)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let m in n.headers){let h=n.headers[m];delete n.headers[m],n.headers[m.toLowerCase()]=h}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await sa(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(y,_)=>y.find(x=>Je.of(x).getMergedTraits().awsQueryError?.[0]===_)),m=Je.of(l),h=$n.for(l[1]).getErrorCtor(l)??Error,p=new h(c),g={Error:a.Error};for(let[y,_]of m.structIterator()){let x=_.getMergedTraits().xmlName??y,w=a[x]??s[x];g[y]=this.deserializer.readSchema(_,w)}throw Object.assign(p,u,{$fault:m.getMergedTraits().error,message:c},g)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var ND,Yz=H(()=>{wD();ND=class extends cy{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Qz,Zz,ly,RD,PD,OD=H(()=>{Qz=$(ay()),Zz=$(pt());ED();ly=(e,t)=>wC(e,t).then(r=>{if(r.length){let n;try{n=(0,Qz.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,Zz.getValueFromTextNode)(o)}return{}}),RD=async(e,t)=>{let r=await ly(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},PD=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var yo,DD,LC,dy,kD=H(()=>{yo=$(ay());Ri();En();Ni();DD=$(pt()),LC=$(ls());Ml();dy=class extends Ws{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=Je.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??LC.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=yo.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[l,u]of t.structIterator()){let m=r[l];if(m!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){o.addAttribute(u.getMergedTraits().xmlName??l,this.writeSimple(u,m));continue}if(u.isListSchema())this.writeList(u,m,o,c);else if(u.isMapSchema())this.writeMap(u,m,o,c);else if(u.isStructSchema())o.addChildNode(this.writeStruct(u,m,c));else{let h=yo.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,m,h,c),o.addChildNode(h)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,l=!!i.xmlFlattened,[u,m]=this.getXmlnsAttribute(t,s),h=(p,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],p,m);else if(o.isMapSchema())this.writeMap(o,g,p,m);else if(o.isStructSchema()){let y=this.writeStruct(o,g,m);p.addChildNode(y.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let y=yo.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,y,m),p.addChildNode(y)}};if(l)for(let p of r)(c||p!=null)&&h(n,p);else{let p=yo.XmlNode.of(i.xmlName??t.getMemberName());m&&p.addAttribute(u,m);for(let g of r)(c||g!=null)&&h(p,g);n.addChildNode(p)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",u=t.getValueSchema(),m=u.getMergedTraits(),h=m.xmlName??"value",p=!!m.sparse,g=!!o.xmlFlattened,[y,_]=this.getXmlnsAttribute(t,s),x=(w,D,G)=>{let W=yo.XmlNode.of(l,D),[J,xe]=this.getXmlnsAttribute(a,_);xe&&W.addAttribute(J,xe),w.addChildNode(W);let be=yo.XmlNode.of(h);u.isListSchema()?this.writeList(u,G,be,_):u.isMapSchema()?this.writeMap(u,G,be,_,!0):u.isStructSchema()?be=this.writeStruct(u,G,_):this.writeSimpleInto(u,G,be,_),w.addChildNode(be)};if(g){for(let[w,D]of Object.entries(r))if(p||D!=null){let G=yo.XmlNode.of(o.xmlName??t.getMemberName());x(G,w,D),n.addChildNode(G)}}else{let w;i||(w=yo.XmlNode.of(o.xmlName??t.getMemberName()),_&&w.addAttribute(y,_),n.addChildNode(w));for(let[D,G]of Object.entries(r))if(p||G!=null){let W=yo.XmlNode.of("entry");x(W,D,G),(i?n:w).addChildNode(W)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Je.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??LC.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Yi(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,DD.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,DD.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof ln?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,qa.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=Je.of(t),a=new yo.XmlText(i),[c,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var uy,BD=H(()=>{Ml();kC();kD();uy=class extends Ws{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new dy(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new mu(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var LD,eK=H(()=>{Ri();En();Cm();OD();BD();LD=class extends Zd{codec;serializer;deserializer;mixin=new go;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new uy(r),this.serializer=new ru(this.codec.createSerializer(),r),this.deserializer=new tu(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Je.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=PD(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=Je.of(a),u=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",m=$n.for(a[1]).getErrorCtor(a)??Error,h=new m(u);await this.deserializeHttpMessage(a,r,n,s);let p={};for(let[g,y]of l.structIterator()){let _=y.getMergedTraits().xmlName??g,x=s.Error?.[_]??s[_];p[g]=this.codec.createDeserializer().readSchema(y,x)}throw Object.assign(h,c,{$fault:l.getMergedTraits().error,message:u},p)}getDefaultContentType(){return"application/xml"}}});var tK=H(()=>{hz();pz();Mz();Uz();PC();Fz();RC();CD();bD();jz();sy();Yz();wD();eK();BD();kC();kD();OD()});var Js={};po(Js,{AWSSDKSigV4Signer:()=>xO,AwsEc2QueryProtocol:()=>ND,AwsJson1_0Protocol:()=>_D,AwsJson1_1Protocol:()=>vD,AwsJsonRpcProtocol:()=>fu,AwsQueryProtocol:()=>cy,AwsRestJsonProtocol:()=>AD,AwsRestXmlProtocol:()=>LD,AwsSdkSigV4ASigner:()=>Zg,AwsSdkSigV4Signer:()=>Pi,AwsSmithyRpcV2CborProtocol:()=>aD,JsonCodec:()=>uu,JsonShapeDeserializer:()=>iy,JsonShapeSerializer:()=>oy,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>gm,NODE_SIGV4A_CONFIG_OPTIONS:()=>x8,XmlCodec:()=>uy,XmlShapeDeserializer:()=>mu,XmlShapeSerializer:()=>dy,_toBool:()=>AEe,_toNum:()=>xEe,_toStr:()=>vEe,awsExpectUnion:()=>WEe,emitWarningIfUnsupportedVersion:()=>mm,getBearerTokenEnvKey:()=>lC,loadRestJsonErrorCode:()=>du,loadRestXmlErrorCode:()=>PD,parseJsonBody:()=>bm,parseJsonErrorBody:()=>SD,parseXmlBody:()=>ly,parseXmlErrorBody:()=>RD,resolveAWSSDKSigV4Config:()=>X8,resolveAwsSdkSigV4AConfig:()=>A8,resolveAwsSdkSigV4Config:()=>cu,setCredentialFeature:()=>Rl,setFeature:()=>c8,setTokenFeature:()=>d8,state:()=>cC,validateSigningProperties:()=>pm});var rn=H(()=>{la();zO();tK()});var hu=C(_m=>{"use strict";var e0e=(Gs(),lt(Tl)),t0e=iu(),r0e=rr(),Va=(rn(),lt(Js)),iK=void 0;function n0e(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function s0e(e){let t=e0e.normalizeProvider(e.userAgentAppId??iK),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!n0e(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var i0e=/\d{12}\.ddb/;async function o0e(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Va.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?Va.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Va.setFeature(e,"RETRY_MODE_STANDARD","E"):Va.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(i0e)&&Va.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Va.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Va.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Va.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&Va.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))Va.setFeature(e,o,a)}}var rK="user-agent",MD="x-amz-user-agent",nK=" ",UD="/",a0e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,c0e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,sK="-",l0e=1024;function d0e(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=l0e){t.length?t+=","+n:t+=n;continue}break}return t}var oK=e=>(t,r)=>async n=>{let{request:s}=n;if(!r0e.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(MC)||[],a=(await e.defaultUserAgentProvider()).map(MC);await o0e(r,e,n);let c=r;a.push(`m/${d0e(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(MC)||[],u=await e.userAgentAppId();u&&a.push(MC([`app/${u}`]));let m=t0e.getUserAgentPrefix(),h=(m?[m]:[]).concat([...a,...o,...l]).join(nK),p=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(nK);return e.runtime!=="browser"?(p&&(i[MD]=i[MD]?`${i[rK]} ${p}`:p),i[rK]=h):i[MD]=h,t({...n,request:s})},MC=e=>{let t=e[0].split(UD).map(o=>o.replace(a0e,sK)).join(UD),r=e[1]?.replace(c0e,sK),n=t.indexOf(UD),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},aK={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},u0e=e=>({applyToStack:t=>{t.add(oK(e),aK)}});_m.DEFAULT_UA_APP_ID=iK;_m.getUserAgentMiddlewareOptions=aK;_m.getUserAgentPlugin=u0e;_m.resolveUserAgentConfig=s0e;_m.userAgentMiddleware=oK});var UC=C(vm=>{"use strict";var f0e=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},m0e=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};vm.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(vm.SelectorType||(vm.SelectorType={}));vm.booleanSelector=f0e;vm.numberSelector=m0e});var Qi=C(Os=>{"use strict";var Fl=UC(),FC=Ps(),h0e=Nl(),dK="AWS_USE_DUALSTACK_ENDPOINT",uK="use_dualstack_endpoint",p0e=!1,g0e={environmentVariableSelector:e=>Fl.booleanSelector(e,dK,Fl.SelectorType.ENV),configFileSelector:e=>Fl.booleanSelector(e,uK,Fl.SelectorType.CONFIG),default:!1},fK="AWS_USE_FIPS_ENDPOINT",mK="use_fips_endpoint",y0e=!1,E0e={environmentVariableSelector:e=>Fl.booleanSelector(e,fK,Fl.SelectorType.ENV),configFileSelector:e=>Fl.booleanSelector(e,mK,Fl.SelectorType.CONFIG),default:!1},S0e=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:FC.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:FC.normalizeProvider(s??!1)})},C0e=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},b0e=e=>{let t=FC.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?FC.normalizeProvider(typeof r=="string"?s(r):r):()=>C0e({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},hK="AWS_REGION",pK="region",_0e={environmentVariableSelector:e=>e[hK],configFileSelector:e=>e[pK],default:()=>{throw new Error("Region is missing")}},v0e={preferredFile:"credentials"},cK=new Set,A0e=(e,t=h0e.isValidHostLabel)=>{if(!cK.has(e)&&!t(e))throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);cK.add(e)},gK=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),x0e=e=>gK(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,I0e=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=x0e(n);return A0e(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return gK(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},lK=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,T0e=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),w0e=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",N0e=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},R0e=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=w0e(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=lK(s[a]?.variants,c),u=lK(i[o]?.variants,c),m=T0e(a,{regionHostname:l,partitionHostname:u});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=N0e(m,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:m,...h&&{signingRegion:h},...s[a]?.signingService&&{signingService:s[a].signingService}}};Os.CONFIG_USE_DUALSTACK_ENDPOINT=uK;Os.CONFIG_USE_FIPS_ENDPOINT=mK;Os.DEFAULT_USE_DUALSTACK_ENDPOINT=p0e;Os.DEFAULT_USE_FIPS_ENDPOINT=y0e;Os.ENV_USE_DUALSTACK_ENDPOINT=dK;Os.ENV_USE_FIPS_ENDPOINT=fK;Os.NODE_REGION_CONFIG_FILE_OPTIONS=v0e;Os.NODE_REGION_CONFIG_OPTIONS=_0e;Os.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=g0e;Os.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=E0e;Os.REGION_ENV_NAME=hK;Os.REGION_INI_NAME=pK;Os.getRegionInfo=R0e;Os.resolveCustomEndpointsConfig=S0e;Os.resolveEndpointsConfig=b0e;Os.resolveRegionConfig=I0e});var Am=C(qC=>{"use strict";var P0e=rr(),yK="content-length";function EK(e){return t=>async r=>{let n=r.request;if(P0e.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(yK)===-1)try{let o=e(s);n.headers={...n.headers,[yK]:String(o)}}catch{}}return t({...r,request:n})}}var SK={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},O0e=e=>({applyToStack:t=>{t.add(EK(e.bodyLengthChecker),SK)}});qC.contentLengthMiddleware=EK;qC.contentLengthMiddlewareOptions=SK;qC.getContentLengthPlugin=O0e});var qD=C(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0});jC.getHomeDir=void 0;var D0e=require("os"),k0e=require("path"),FD={},B0e=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",L0e=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${k0e.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=B0e();return FD[s]||(FD[s]=(0,D0e.homedir)()),FD[s]};jC.getHomeDir=L0e});var jD=C(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});VC.getSSOTokenFilepath=void 0;var M0e=require("crypto"),U0e=require("path"),F0e=qD(),q0e=e=>{let r=(0,M0e.createHash)("sha1").update(e).digest("hex");return(0,U0e.join)((0,F0e.getHomeDir)(),".aws","sso","cache",`${r}.json`)};VC.getSSOTokenFilepath=q0e});var CK=C(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.getSSOTokenFromFile=ql.tokenIntercept=void 0;var j0e=require("fs"),V0e=jD(),{readFile:H0e}=j0e.promises;ql.tokenIntercept={};var z0e=async e=>{if(ql.tokenIntercept[e])return ql.tokenIntercept[e];let t=(0,V0e.getSSOTokenFilepath)(e),r=await H0e(t,"utf8");return JSON.parse(r)};ql.getSSOTokenFromFile=z0e});var bK=C(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.slurpFile=Zi.fileIntercept=Zi.filePromisesHash=void 0;var K0e=require("fs"),{readFile:G0e}=K0e.promises;Zi.filePromisesHash={};Zi.fileIntercept={};var $0e=(e,t)=>Zi.fileIntercept[e]!==void 0?Zi.fileIntercept[e]:((!Zi.filePromisesHash[e]||t?.ignoreCache)&&(Zi.filePromisesHash[e]=G0e(e,"utf8")),Zi.filePromisesHash[e]);Zi.slurpFile=$0e});var Hc=C(Oi=>{"use strict";var fy=qD(),_K=jD(),VD=CK(),HC=require("path"),zC=Rc(),my=bK(),AK="AWS_PROFILE",xK="default",W0e=e=>e.profile||process.env[AK]||xK,pu=".",J0e=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(pu);return r===-1?!1:Object.values(zC.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(pu),i=r.substring(0,s)===zC.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),X0e="AWS_CONFIG_FILE",IK=()=>process.env[X0e]||HC.join(fy.getHomeDir(),".aws","config"),Y0e="AWS_SHARED_CREDENTIALS_FILE",Q0e=()=>process.env[Y0e]||HC.join(fy.getHomeDir(),".aws","credentials"),Z0e=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,eSe=["__proto__","profile __proto__"],HD=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=Z0e.exec(a);if(c){let[,l,,u]=c;Object.values(zC.IniSectionType).includes(l)&&(r=[l,u].join(pu))}else r=a;if(eSe.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(pu):c;t[r][u]=l}}}}return t},vK=()=>({}),TK=async(e={})=>{let{filepath:t=Q0e(),configFilepath:r=IK()}=e,n=fy.getHomeDir(),s="~/",i=t;t.startsWith(s)&&(i=HC.join(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=HC.join(n,r.slice(2)));let a=await Promise.all([my.slurpFile(o,{ignoreCache:e.ignoreCache}).then(HD).then(J0e).catch(vK),my.slurpFile(i,{ignoreCache:e.ignoreCache}).then(HD).catch(vK)]);return{configFile:a[0],credentialsFile:a[1]}},tSe=e=>Object.entries(e).filter(([t])=>t.startsWith(zC.IniSectionType.SSO_SESSION+pu)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(pu)+1)]:n}),{}),rSe=()=>({}),nSe=async(e={})=>my.slurpFile(e.configFilepath??IK()).then(HD).then(tSe).catch(rSe),sSe=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},iSe=async e=>{let t=await TK(e);return sSe(t.configFile,t.credentialsFile)},oSe={getFileRecord(){return my.fileIntercept},interceptFile(e,t){my.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return VD.tokenIntercept},interceptToken(e,t){VD.tokenIntercept[e]=t}};Object.defineProperty(Oi,"getSSOTokenFromFile",{enumerable:!0,get:function(){return VD.getSSOTokenFromFile}});Oi.CONFIG_PREFIX_SEPARATOR=pu;Oi.DEFAULT_PROFILE=xK;Oi.ENV_PROFILE=AK;Oi.externalDataInterceptor=oSe;Oi.getProfileName=W0e;Oi.loadSharedConfigFiles=TK;Oi.loadSsoSessionData=nSe;Oi.parseKnownFiles=iSe;Object.keys(fy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oi,e)&&Object.defineProperty(Oi,e,{enumerable:!0,get:function(){return fy[e]}})});Object.keys(_K).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oi,e)&&Object.defineProperty(Oi,e,{enumerable:!0,get:function(){return _K[e]}})})});var zc=C(RK=>{"use strict";var hy=mi(),wK=Hc();function NK(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var aSe=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new hy.CredentialsProviderError(r.message||`Not found in ENV: ${NK(e.toString())}`,{logger:t?.logger})}},cSe=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=wK.getProfileName(r),{configFile:s,credentialsFile:i}=await wK.loadSharedConfigFiles(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let u=e(c,t==="config"?s:i);if(u===void 0)throw new Error;return u}catch(l){throw new hy.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${NK(e.toString())}`,{logger:r.logger})}},lSe=e=>typeof e=="function",dSe=e=>lSe(e)?async()=>await e():hy.fromStatic(e),uSe=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return hy.memoize(hy.chain(aSe(e,o),cSe(t,n),dSe(r)))};RK.loadConfig=uSe});var kK=C(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0});KC.getEndpointUrlConfig=void 0;var PK=Hc(),OK="AWS_ENDPOINT_URL",DK="endpoint_url",fSe=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[OK,...r].join("_")];if(n)return n;let s=t[OK];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(PK.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),DK].join(PK.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[DK];if(n)return n},default:void 0});KC.getEndpointUrlConfig=fSe});var BK=C(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});GC.getEndpointFromConfig=void 0;var mSe=zc(),hSe=kK(),pSe=async e=>(0,mSe.loadConfig)((0,hSe.getEndpointUrlConfig)(e??""))();GC.getEndpointFromConfig=pSe});var Eo=C(Kc=>{"use strict";var MK=BK(),LK=Mc(),gSe=(Gs(),lt(Tl)),$C=Ps(),ySe=Pc(),ESe=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),vSe(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!_Se(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},SSe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,CSe=/(\d+\.){3}\d+/,bSe=/\.\./,_Se=e=>SSe.test(e)&&!CSe.test(e)&&!bSe.test(e),vSe=e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},ASe=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},zD=e=>typeof e=="object"?"url"in e?LK.parseUrl(e.url):e:LK.parseUrl(e),UK=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await MK.getEndpointFromConfig(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(zD(o)),r.isCustomEndpoint=!0)}let s=await FK(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},FK=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await ASe(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await ESe(n),n},qK=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&gSe.setFeature(n,"ENDPOINT_OVERRIDE","N");let i=await UK(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=$C.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},jK={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ySe.serializerMiddlewareOption.name},xSe=(e,t)=>({applyToStack:r=>{r.addRelativeTo(qK({config:e,instructions:t}),jK)}}),ISe=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>zD(await $C.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:$C.normalizeProvider(n??!1),useFipsEndpoint:$C.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=MK.getEndpointFromConfig(e.serviceId)),c),a},TSe=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Kc.endpointMiddleware=qK;Kc.endpointMiddlewareOptions=jK;Kc.getEndpointFromInstructions=UK;Kc.getEndpointPlugin=xSe;Kc.resolveEndpointConfig=ISe;Kc.resolveEndpointRequiredConfig=TSe;Kc.resolveParams=FK;Kc.toEndpointV1=zD});var GD=C(jl=>{"use strict";var wSe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],NSe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],RSe=["TimeoutError","RequestTimeout","RequestTimeoutException"],PSe=[500,502,503,504],OSe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],DSe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],VK=e=>e?.$retryable!==void 0,kSe=e=>wSe.includes(e.name),HK=e=>e.$metadata?.clockSkewCorrected,zK=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},BSe=e=>e.$metadata?.httpStatusCode===429||NSe.includes(e.name)||e.$retryable?.throttling==!0,KD=(e,t=0)=>VK(e)||HK(e)||RSe.includes(e.name)||OSe.includes(e?.code||"")||DSe.includes(e?.code||"")||PSe.includes(e.$metadata?.httpStatusCode||0)||zK(e)||e.cause!==void 0&&t<=10&&KD(e.cause,t+1),LSe=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!KD(e)}return!1};jl.isBrowserNetworkError=zK;jl.isClockSkewCorrectedError=HK;jl.isClockSkewError=kSe;jl.isRetryableByTrait=VK;jl.isServerError=LSe;jl.isThrottlingError=BSe;jl.isTransientError=KD});var gu=C(Sn=>{"use strict";var MSe=GD();Sn.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Sn.RETRY_MODES||(Sn.RETRY_MODES={}));var $D=3,USe=Sn.RETRY_MODES.STANDARD,WC=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),MSe.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},py=100,YD=20*1e3,GK=500,WD=500,$K=5,WK=10,JK=1,FSe="amz-sdk-invocation-id",qSe="amz-sdk-request",jSe=()=>{let e=py;return{computeNextBackoffDelay:n=>Math.floor(Math.min(YD,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},KK=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(YD,e),getRetryCost:()=>r}),gy=class{maxAttempts;mode=Sn.RETRY_MODES.STANDARD;capacity=WD;retryBackoffStrategy=jSe();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return KK({retryDelay:py,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?GK:py);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,KK({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(WD,this.capacity+(t.getRetryCost()??JK))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$D}`),$D}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?WK:$K}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},JD=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Sn.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new WC,this.standardRetryStrategy=new gy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},XD=class extends gy{computeNextBackoffDelay;constructor(t,r=py){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Sn.AdaptiveRetryStrategy=JD;Sn.ConfiguredRetryStrategy=XD;Sn.DEFAULT_MAX_ATTEMPTS=$D;Sn.DEFAULT_RETRY_DELAY_BASE=py;Sn.DEFAULT_RETRY_MODE=USe;Sn.DefaultRateLimiter=WC;Sn.INITIAL_RETRY_TOKENS=WD;Sn.INVOCATION_ID_HEADER=FSe;Sn.MAXIMUM_RETRY_DELAY=YD;Sn.NO_RETRY_INCREMENT=JK;Sn.REQUEST_HEADER=qSe;Sn.RETRY_COST=$K;Sn.StandardRetryStrategy=gy;Sn.THROTTLING_RETRY_DELAY_BASE=GK;Sn.TIMEOUT_RETRY_COST=WK});var XK=C(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});JC.isStreamingPayload=void 0;var VSe=require("stream"),HSe=e=>e?.body instanceof VSe.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;JC.isStreamingPayload=HSe});var da=C(Wn=>{"use strict";var dn=gu(),xm=rr(),Vl=GD(),QK=eC(),YK=Ps(),zSe=pt(),KSe=XK(),GSe=(e,t)=>{let r=e,n=dn.NO_RETRY_INCREMENT,s=dn.RETRY_COST,i=dn.TIMEOUT_RETRY_COST,o=e,a=m=>m.name==="TimeoutError"?i:s,c=m=>a(m)<=o;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:m=>{if(!c(m))throw new Error("No retry token available");let h=a(m);return o-=h,h},releaseRetryTokens:m=>{o+=m??n,o=Math.min(o,r)}})},ZK=(e,t)=>Math.floor(Math.min(dn.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),eG=e=>e?Vl.isRetryableByTrait(e)||Vl.isClockSkewError(e)||Vl.isThrottlingError(e)||Vl.isTransientError(e):!1,tG=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),XC=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=dn.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??eG,this.delayDecider=r?.delayDecider??ZK,this.retryQuota=r?.retryQuota??GSe(dn.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=dn.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(xm.HttpRequest.isInstance(c)&&(c.headers[dn.INVOCATION_ID_HEADER]=QK.v4());;)try{xm.HttpRequest.isInstance(c)&&(c.headers[dn.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=o,{response:l,output:u}}catch(l){let u=tG(l);if(i++,this.shouldRetry(u,i,a)){s=this.retryQuota.retrieveRetryTokens(u);let m=this.delayDecider(Vl.isThrottlingError(u)?dn.THROTTLING_RETRY_DELAY_BASE:dn.DEFAULT_RETRY_DELAY_BASE,i),h=$Se(u.$response),p=Math.max(h||0,m);o+=p,await new Promise(g=>setTimeout(g,p));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=o,u}}},$Se=e=>{if(!xm.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},QD=class extends XC{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new dn.DefaultRateLimiter,this.mode=dn.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},ZD="AWS_MAX_ATTEMPTS",ek="max_attempts",WSe={environmentVariableSelector:e=>{let t=e[ZD];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ZD} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ek];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ek} mast be a number, got "${t}"`);return r},default:dn.DEFAULT_MAX_ATTEMPTS},JSe=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=YK.normalizeProvider(n??dn.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await YK.normalizeProvider(r)()===dn.RETRY_MODES.ADAPTIVE?new dn.AdaptiveRetryStrategy(s):new dn.StandardRetryStrategy(s))})},rG="AWS_RETRY_MODE",nG="retry_mode",XSe={environmentVariableSelector:e=>e[rG],configFileSelector:e=>e[nG],default:dn.DEFAULT_RETRY_MODE},sG=()=>e=>async t=>{let{request:r}=t;return xm.HttpRequest.isInstance(r)&&(delete r.headers[dn.INVOCATION_ID_HEADER],delete r.headers[dn.REQUEST_HEADER]),e(t)},iG={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},YSe=e=>({applyToStack:t=>{t.addRelativeTo(sG(),iG)}}),oG=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(QSe(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,m=xm.HttpRequest.isInstance(u);for(m&&(u.headers[dn.INVOCATION_ID_HEADER]=QK.v4());;)try{m&&(u.headers[dn.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:h,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=l,{response:h,output:p}}catch(h){let p=ZSe(h);if(a=tG(h),m&&KSe.isStreamingPayload(u))throw(r.logger instanceof zSe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let g=o.getRetryDelay();l+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},QSe=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",ZSe=e=>{let t={error:e,errorType:eCe(e)},r=cG(e.$response);return r&&(t.retryAfterHint=r),t},eCe=e=>Vl.isThrottlingError(e)?"THROTTLING":Vl.isTransientError(e)?"TRANSIENT":Vl.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",aG={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},tCe=e=>({applyToStack:t=>{t.add(oG(e),aG)}}),cG=e=>{if(!xm.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Wn.AdaptiveRetryStrategy=QD;Wn.CONFIG_MAX_ATTEMPTS=ek;Wn.CONFIG_RETRY_MODE=nG;Wn.ENV_MAX_ATTEMPTS=ZD;Wn.ENV_RETRY_MODE=rG;Wn.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=WSe;Wn.NODE_RETRY_MODE_CONFIG_OPTIONS=XSe;Wn.StandardRetryStrategy=XC;Wn.defaultDelayDecider=ZK;Wn.defaultRetryDecider=eG;Wn.getOmitRetryHeadersPlugin=YSe;Wn.getRetryAfterHint=cG;Wn.getRetryPlugin=tCe;Wn.omitRetryHeadersMiddleware=sG;Wn.omitRetryHeadersMiddlewareOptions=iG;Wn.resolveRetryConfig=JSe;Wn.retryMiddleware=oG;Wn.retryMiddlewareOptions=aG});var rk=C((Zyt,dG)=>{"use strict";var YC=Object.defineProperty,rCe=Object.getOwnPropertyDescriptor,nCe=Object.getOwnPropertyNames,sCe=Object.prototype.hasOwnProperty,tk=(e,t)=>YC(e,"name",{value:t,configurable:!0}),iCe=(e,t)=>{for(var r in t)YC(e,r,{get:t[r],enumerable:!0})},oCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nCe(t))!sCe.call(e,s)&&s!==r&&YC(e,s,{get:()=>t[s],enumerable:!(n=rCe(t,s))||n.enumerable});return e},aCe=e=>oCe(YC({},"__esModule",{value:!0}),e),lG={};iCe(lG,{build:()=>dCe,parse:()=>lCe,validate:()=>cCe});dG.exports=aCe(lG);var cCe=tk(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),lCe=tk(e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,n,s,i,...o]=t;return{partition:r,service:n,region:s,accountId:i,resource:o.join(":")}},"parse"),dCe=tk(e=>{let{partition:t="aws",service:r,region:n,accountId:s,resource:i}=e;if([r,n,s,i].some(o=>typeof o!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${n}:${s}:${i}`},"build")});var tb=C(ur=>{"use strict";var yy=rr(),hG=pt(),uCe=yC(),QC=UC(),fCe=(rn(),lt(Js)),pG=(Gs(),lt(Tl));Rc();var mCe=Ps(),uG=Xd(),hCe=rk(),pCe="content-length",gCe="x-amz-decoded-content-length";function gG(){return(e,t)=>async r=>{let{request:n}=r;if(yy.HttpRequest.isInstance(n)&&!(pCe in n.headers)&&!(gCe in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof hG.NoOpLogger)?t.logger.warn(s):console.warn(s)}return e({...r})}}var yG={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},yCe=e=>({applyToStack:t=>{t.add(gG(),yG)}}),EG=e=>(t,r)=>async n=>{let s=await e.region(),i=e.region,o=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),o=()=>Object.defineProperty(e,"region",{writable:!0,value:i}));try{let a=await t(n);if(r.__s3RegionRedirect){o();let c=await e.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},SG={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function CG(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){let i=s?.$metadata?.httpStatusCode,o=r.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{let c=a;r.logger?.debug(`Redirecting from ${await e.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(n)}}throw s}}}var bG={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},ECe=e=>({applyToStack:t=>{t.add(CG(e),bG),t.addRelativeTo(EG(e),SG)}}),_G=e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(yy.HttpResponse.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{hG.parseRfc7231DateTime(i.headers.expires)}catch(o){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${o}`),delete i.headers.expires}}return s},vG={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},SCe=e=>({applyToStack:t=>{t.addRelativeTo(_G(),vG)}}),ZC=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(t={}){this.data=t}get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}},Im=class{_identity;isRefreshing;accessed;constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},eb=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(t,r=new ZC){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(n,new Im(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(l=>{s.set(n,new Im(Promise.resolve(l)))})),o)):s.set(n,new Im(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}},CCe="Directory",bCe="S3Express",_Ce="sigv4-s3express",nk="X-Amz-S3session-Token",sk=nk.toLowerCase(),vCe="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",ACe="s3_disable_express_session_auth",xCe={environmentVariableSelector:e=>QC.booleanSelector(e,vCe,QC.SelectorType.ENV),configFileSelector:e=>QC.booleanSelector(e,ACe,QC.SelectorType.CONFIG),default:!1},ik=class extends uCe.SignatureV4{async signWithCredentials(t,r,n){let s=fG(r);t.headers[sk]=r.sessionToken;let i=this;return mG(i,s),i.signRequest(t,n??{})}async presignWithCredentials(t,r,n){let s=fG(r);return delete t.headers[sk],t.headers[nk]=r.sessionToken,t.query=t.query??{},t.query[nk]=r.sessionToken,mG(this,s),this.presign(t,n)}};function fG(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function mG(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=s}var AG=e=>(t,r)=>async n=>{if(r.endpointV2){let s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===_Ce;if((s.properties?.backend===bCe||s.properties?.bucketType===CCe)&&(fCe.setFeature(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){let a=n.input.Bucket;if(a){let c=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=c,yy.HttpRequest.isInstance(n.request)&&c.sessionToken&&(n.request.headers[sk]=c.sessionToken)}}}return t(n)},xG={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},ICe=e=>({applyToStack:t=>{t.add(AG(e),xG)}}),TCe=async(e,t,r,n)=>{let s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},wCe=e=>t=>{throw t},NCe=(e,t)=>{},RCe=pG.httpSigningMiddlewareOptions,IG=e=>(t,r)=>async n=>{if(!yy.HttpRequest.isInstance(n.request))return t(n);let i=mCe.getSmithyContext(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l;r.s3ExpressIdentity?l=await TCe(r.s3ExpressIdentity,o,n.request,await e.signer()):l=await c.sign(n.request,a,o);let u=await t({...n,request:l}).catch((c.errorHandler||wCe)(o));return(c.successHandler||NCe)(u.response,o),u},PCe=e=>({applyToStack:t=>{t.addRelativeTo(IG(e),pG.httpSigningMiddlewareOptions)}}),OCe=(e,{session:t})=>{let[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:l,expectContinueHeader:u}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new eb(async m=>r().send(new n({Bucket:m}))),bucketEndpoint:l??!1,expectContinueHeader:u??2097152})},DCe={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},kCe=3e3,TG=e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(!yy.HttpResponse.isInstance(i))return s;let{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let l=a,u=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,u]=await uG.splitStream(a)),i.body=u;let m=await BCe(l,{streamCollector:async p=>uG.headStream(p,kCe)});typeof l?.destroy=="function"&&l.destroy();let h=e.utf8Encoder(m.subarray(m.length-16));if(m.length===0&&DCe[r.commandName]){let p=new Error("S3 aborted request");throw p.name="InternalError",p}return h&&h.endsWith("</Error>")&&(i.statusCode=400),s},BCe=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),wG={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},LCe=e=>({applyToStack:t=>{t.addRelativeTo(TG(e),wG)}});function MCe(e){return(t,r)=>async n=>{if(e.bucketEndpoint){let s=r.endpointV2;if(s){let i=n.input.Bucket;if(typeof i=="string")try{let o=new URL(i);r.endpointV2={...s,url:o}}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),o}}}return t(n)}}var UCe={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function NG({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!hCe.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}var RG={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},FCe=e=>({applyToStack:t=>{t.add(NG(e),RG),t.addRelativeTo(MCe(e),UCe)}});ur.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=xCe;ur.S3ExpressIdentityCache=ZC;ur.S3ExpressIdentityCacheEntry=Im;ur.S3ExpressIdentityProviderImpl=eb;ur.SignatureV4S3Express=ik;ur.checkContentLengthHeader=gG;ur.checkContentLengthHeaderMiddlewareOptions=yG;ur.getCheckContentLengthHeaderPlugin=yCe;ur.getRegionRedirectMiddlewarePlugin=ECe;ur.getS3ExpiresMiddlewarePlugin=SCe;ur.getS3ExpressHttpSigningPlugin=PCe;ur.getS3ExpressPlugin=ICe;ur.getThrow200ExceptionsPlugin=LCe;ur.getValidateBucketNamePlugin=FCe;ur.regionRedirectEndpointMiddleware=EG;ur.regionRedirectEndpointMiddlewareOptions=SG;ur.regionRedirectMiddleware=CG;ur.regionRedirectMiddlewareOptions=bG;ur.resolveS3Config=OCe;ur.s3ExpiresMiddleware=_G;ur.s3ExpiresMiddlewareOptions=vG;ur.s3ExpressHttpSigningMiddleware=IG;ur.s3ExpressHttpSigningMiddlewareOptions=RCe;ur.s3ExpressMiddleware=AG;ur.s3ExpressMiddlewareOptions=xG;ur.throw200ExceptionsMiddleware=TG;ur.throw200ExceptionsMiddlewareOptions=wG;ur.validateBucketNameMiddleware=NG;ur.validateBucketNameMiddlewareOptions=RG});var Tm=C(ak=>{"use strict";var qCe=tb(),PG=yC(),Ey={CrtSignerV4:null},ok=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof Ey.CrtSignerV4=="function"?"crt":typeof PG.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(t){this.sigv4Signer=new qCe.SignatureV4S3Express(t),this.signerOptions=t}async sign(t,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(t,r):this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),i=Ey.CrtSignerV4;if(i&&s instanceof i)return s.signWithCredentials(t,r,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){let n=this.getSigv4aSigner(),s=Ey.CrtSignerV4;if(s&&n instanceof s)return n.presign(t,r);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=Ey.CrtSignerV4,r=PG.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!t&&!r)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1});else if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!r||typeof r!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new r({...this.signerOptions})}}return this.sigv4aSigner}};ak.SignatureV4MultiRegion=ok;ak.signatureV4CrtContainer=Ey});var GG=C(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.ruleSet=void 0;var jG="required",or="type",to="fn",ro="argv",zl="ref",jCe=!1,ck=!0,mk="isSet",wm="booleanEquals",Hl="endpoint",Di="tree",Gc="error",lk={[jG]:!1,[or]:"string"},OG={[jG]:!0,default:!1,[or]:"boolean"},DG={[zl]:"EndpointId"},kG={[to]:mk,[ro]:[{[zl]:"Region"}]},BG={[to]:"aws.partition",[ro]:[{[zl]:"Region"}],assign:"PartitionResult"},VG={[zl]:"UseFIPS"},fk={[zl]:"Endpoint"},dk={authSchemes:[{name:"sigv4a",signingName:"ses",signingRegionSet:["*"]}]},eo={},HG={[to]:wm,[ro]:[{[zl]:"UseDualStack"},!0]},zG={[to]:wm,[ro]:[!0,{[to]:"getAttr",[ro]:[{[zl]:"PartitionResult"},"supportsDualStack"]}]},LG={[Gc]:"DualStack is enabled but this partition does not support DualStack",[or]:Gc},KG={[to]:wm,[ro]:[VG,!0]},MG={[to]:"getAttr",[ro]:[{[zl]:"PartitionResult"},"supportsFIPS"]},UG=[{[to]:mk,[ro]:[fk]}],uk=[HG],FG=[zG],qG=[KG],VCe={version:"1.0",parameters:{Region:lk,UseDualStack:OG,UseFIPS:OG,Endpoint:lk,EndpointId:lk},rules:[{conditions:[{[to]:mk,[ro]:[DG]},kG,BG],rules:[{conditions:[{[to]:"isValidHostLabel",[ro]:[DG,ck]}],rules:[{conditions:[{[to]:wm,[ro]:[VG,jCe]}],rules:[{conditions:UG,endpoint:{url:fk,properties:dk,headers:eo},[or]:Hl},{conditions:uk,rules:[{conditions:FG,rules:[{endpoint:{url:"https://{EndpointId}.endpoints.email.global.{PartitionResult#dualStackDnsSuffix}",properties:dk,headers:eo},[or]:Hl}],[or]:Di},LG],[or]:Di},{endpoint:{url:"https://{EndpointId}.endpoints.email.{PartitionResult#dnsSuffix}",properties:dk,headers:eo},[or]:Hl}],[or]:Di},{error:"Invalid Configuration: FIPS is not supported with multi-region endpoints",[or]:Gc}],[or]:Di},{error:"EndpointId must be a valid host label",[or]:Gc}],[or]:Di},{conditions:UG,rules:[{conditions:qG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[or]:Gc},{conditions:uk,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[or]:Gc},{endpoint:{url:fk,properties:eo,headers:eo},[or]:Hl}],[or]:Di},{conditions:[kG],rules:[{conditions:[BG],rules:[{conditions:[KG,HG],rules:[{conditions:[{[to]:wm,[ro]:[ck,MG]},zG],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[or]:Hl}],[or]:Di},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[or]:Gc}],[or]:Di},{conditions:qG,rules:[{conditions:[{[to]:wm,[ro]:[MG,ck]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eo,headers:eo},[or]:Hl}],[or]:Di},{error:"FIPS is enabled but this partition does not support FIPS",[or]:Gc}],[or]:Di},{conditions:uk,rules:[{conditions:FG,rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[or]:Hl}],[or]:Di},LG],[or]:Di},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:eo,headers:eo},[or]:Hl}],[or]:Di}],[or]:Di},{error:"Invalid Configuration: Missing Region",[or]:Gc}]};rb.ruleSet=VCe});var pk=C(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.defaultEndpointResolver=void 0;var HCe=iu(),hk=Nl(),zCe=GG(),KCe=new hk.EndpointCache({size:50,params:["Endpoint","EndpointId","Region","UseDualStack","UseFIPS"]}),GCe=(e,t={})=>KCe.get(e,()=>(0,hk.resolveEndpoint)(zCe.ruleSet,{endpointParams:e,logger:t.logger}));nb.defaultEndpointResolver=GCe;hk.customEndpointFunctions.aws=HCe.awsEndpointFunctions});var gk=C(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.resolveHttpAuthSchemeConfig=Kl.defaultSESv2HttpAuthSchemeProvider=Kl.defaultSESv2HttpAuthSchemeParametersProvider=void 0;var $G=(rn(),lt(Js)),$Ce=Tm(),WCe=Eo(),sb=Ps(),JCe=pk(),XCe=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=(0,sb.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let o=await(0,WCe.resolveParams)(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},YCe=async(e,t,r)=>({operation:(0,sb.getSmithyContext)(t).operation,region:await(0,sb.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Kl.defaultSESv2HttpAuthSchemeParametersProvider=XCe(YCe);function WG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function JG(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var QCe=(e,t,r)=>s=>{let o=e(s).properties?.authSchemes;if(!o)return t(s);let a=[];for(let c of o){let{name:l,properties:u={},...m}=c,h=l.toLowerCase();l!==h&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${l}\` to \`${h}\``);let p;if(h==="sigv4a"){p="aws.auth#sigv4a";let _=o.find(x=>{let w=x.name.toLowerCase();return w!=="sigv4a"&&w.startsWith("sigv4")});if($Ce.SignatureV4MultiRegion.sigv4aDependency()==="none"&&_)continue}else if(h.startsWith("sigv4"))p="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${h}\``);let g=r[p];if(!g)throw new Error(`Could not find HttpAuthOption create function for \`${p}\``);let y=g(s);y.schemeId=p,y.signingProperties={...y.signingProperties||{},...m,...u},a.push(y)}return a},ZCe=e=>{let t=[];switch(e.operation){default:t.push(WG(e)),t.push(JG(e))}return t};Kl.defaultSESv2HttpAuthSchemeProvider=QCe(JCe.defaultEndpointResolver,ZCe,{"aws.auth#sigv4":WG,"aws.auth#sigv4a":JG});var ebe=e=>{let t=(0,$G.resolveAwsSdkSigV4Config)(e),r=(0,$G.resolveAwsSdkSigV4AConfig)(t);return Object.assign(r,{authSchemePreference:(0,sb.normalizeProvider)(e.authSchemePreference??[])})};Kl.resolveHttpAuthSchemeConfig=ebe});var XG=C((iEt,tbe)=>{tbe.exports={name:"@aws-sdk/client-sesv2",description:"AWS SDK for JavaScript Sesv2 Client for Node.js, Browser and React Native",version:"3.918.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sesv2","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sesv2"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/credential-provider-node":"3.918.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/signature-v4-multi-region":"3.916.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sesv2",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sesv2"}}});var yk=C(Gl=>{"use strict";var rbe=(la(),lt(Pl)),nbe=mi(),YG="AWS_ACCESS_KEY_ID",QG="AWS_SECRET_ACCESS_KEY",ZG="AWS_SESSION_TOKEN",e$="AWS_CREDENTIAL_EXPIRATION",t$="AWS_CREDENTIAL_SCOPE",r$="AWS_ACCOUNT_ID",sbe=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[YG],r=process.env[QG],n=process.env[ZG],s=process.env[e$],i=process.env[t$],o=process.env[r$];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return rbe.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new nbe.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Gl.ENV_ACCOUNT_ID=r$;Gl.ENV_CREDENTIAL_SCOPE=t$;Gl.ENV_EXPIRATION=e$;Gl.ENV_KEY=YG;Gl.ENV_SECRET=QG;Gl.ENV_SESSION=ZG;Gl.fromEnv=sbe});var Cy=C(Xs=>{"use strict";var Ha=mi(),ibe=require("url"),obe=require("buffer"),abe=require("http"),_k=zc(),cbe=Mc();function Sy(e){return new Promise((t,r)=>{let n=abe.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Ha.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Ha.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Ha.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(obe.Buffer.concat(o)),n.destroy()})}),n.end()})}var o$=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",a$=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),c$=1e3,l$=0,vk=({maxRetries:e=l$,timeout:t=c$})=>({maxRetries:e,timeout:t}),Sk=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},ib="AWS_CONTAINER_CREDENTIALS_FULL_URI",ob="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ck="AWS_CONTAINER_AUTHORIZATION_TOKEN",lbe=(e={})=>{let{timeout:t,maxRetries:r}=vk(e);return()=>Sk(async()=>{let n=await hbe({logger:e.logger}),s=JSON.parse(await dbe(t,n));if(!o$(s))throw new Ha.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return a$(s)},r)},dbe=async(e,t)=>(process.env[Ck]&&(t.headers={...t.headers,Authorization:process.env[Ck]}),(await Sy({...t,timeout:e})).toString()),ube="169.254.170.2",fbe={localhost:!0,"127.0.0.1":!0},mbe={"http:":!0,"https:":!0},hbe=async({logger:e})=>{if(process.env[ob])return{hostname:ube,path:process.env[ob]};if(process.env[ib]){let t=ibe.parse(process.env[ib]);if(!t.hostname||!(t.hostname in fbe))throw new Ha.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in mbe))throw new Ha.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Ha.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ob} or ${ib} environment variable is set`,{tryNextLink:!1,logger:e})},bk=class e extends Ha.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Xs.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Xs.Endpoint||(Xs.Endpoint={}));var pbe="AWS_EC2_METADATA_SERVICE_ENDPOINT",gbe="ec2_metadata_service_endpoint",ybe={environmentVariableSelector:e=>e[pbe],configFileSelector:e=>e[gbe],default:void 0},Nm;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Nm||(Nm={}));var Ebe="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Sbe="ec2_metadata_service_endpoint_mode",Cbe={environmentVariableSelector:e=>e[Ebe],configFileSelector:e=>e[Sbe],default:Nm.IPv4},d$=async()=>cbe.parseUrl(await bbe()||await _be()),bbe=async()=>_k.loadConfig(ybe)(),_be=async()=>{let e=await _k.loadConfig(Cbe)();switch(e){case Nm.IPv4:return Xs.Endpoint.IPv4;case Nm.IPv6:return Xs.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Nm)}`)}},vbe=300,Abe=300,xbe="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",n$=(e,t)=>{let r=vbe+Math.floor(Math.random()*Abe),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+xbe);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},Ibe=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=n$(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=n$(n,r);else throw i}return n=s,s}},u$="/latest/meta-data/iam/security-credentials/",Tbe="/latest/api/token",Ek="AWS_EC2_METADATA_V1_DISABLED",s$="ec2_metadata_v1_disabled",i$="x-aws-ec2-metadata-token",wbe=(e={})=>Ibe(Nbe(e),{logger:e.logger}),Nbe=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=vk(e),o=async(a,c)=>{if(t||c.headers?.[i$]==null){let m=!1,h=!1,p=await _k.loadConfig({environmentVariableSelector:g=>{let y=g[Ek];if(h=!!y&&y!=="false",y===void 0)throw new Ha.CredentialsProviderError(`${Ek} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:g=>{let y=g[s$];return m=!!y&&y!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&g.push(`config file profile (${s$})`),h&&g.push(`process environment variable (${Ek})`),new bk(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let u=(await Sk(async()=>{let m;try{m=await Pbe(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return m},a)).trim();return Sk(async()=>{let m;try{m=await Obe(u,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return m},a)};return async()=>{let a=await d$();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await Rbe({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[i$]:c},timeout:s})}}},Rbe=async e=>Sy({...e,path:Tbe,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Pbe=async e=>(await Sy({...e,path:u$})).toString(),Obe=async(e,t,r)=>{let n=JSON.parse((await Sy({...t,path:u$+e})).toString());if(!o$(n))throw new Ha.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return a$(n)};Xs.DEFAULT_MAX_RETRIES=l$;Xs.DEFAULT_TIMEOUT=c$;Xs.ENV_CMDS_AUTH_TOKEN=Ck;Xs.ENV_CMDS_FULL_URI=ib;Xs.ENV_CMDS_RELATIVE_URI=ob;Xs.fromContainerMetadata=lbe;Xs.fromInstanceMetadata=wbe;Xs.getInstanceMetadataEndpoint=d$;Xs.httpRequest=Sy;Xs.providerConfigFromInit=vk});var f$=C(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.checkUrl=void 0;var Dbe=mi(),kbe="169.254.170.2",Bbe="169.254.170.23",Lbe="[fd00:ec2::23]",Mbe=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===kbe||e.hostname===Bbe||e.hostname===Lbe)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Dbe.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};ab.checkUrl=Mbe});var m$=C(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.createGetRequest=jbe;cb.getCredentials=Vbe;var Ak=mi(),Ube=rr(),Fbe=pt(),qbe=Xd();function jbe(e){return new Ube.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Vbe(e,t){let n=await(0,qbe.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Ak.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,Fbe.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Ak.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Ak.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var h$=C(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.retryWrapper=void 0;var Hbe=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};lb.retryWrapper=Hbe});var y$=C(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.fromHttp=void 0;var zbe=(aa(),lt(oa)),Kbe=(la(),lt(Pl)),Gbe=xl(),p$=mi(),$be=zbe.__importDefault(require("fs/promises")),Wbe=f$(),g$=m$(),Jbe=h$(),Xbe="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ybe="http://169.254.170.2",Qbe="AWS_CONTAINER_CREDENTIALS_FULL_URI",Zbe="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",e_e="AWS_CONTAINER_AUTHORIZATION_TOKEN",t_e=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Xbe],n=e.awsContainerCredentialsFullUri??process.env[Qbe],s=e.awsContainerAuthorizationToken??process.env[e_e],i=e.awsContainerAuthorizationTokenFile??process.env[Zbe],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Ybe}${r}`;else throw new p$.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Wbe.checkUrl)(a,e.logger);let c=Gbe.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Jbe.retryWrapper)(async()=>{let l=(0,g$.createGetRequest)(a);s?l.headers.Authorization=s:i&&(l.headers.Authorization=(await $be.default.readFile(i)).toString());try{let u=await c.handle(l);return(0,g$.getCredentials)(u.response).then(m=>(0,Kbe.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(u){throw new p$.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};db.fromHttp=t_e});var xk=C(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.fromHttp=void 0;var r_e=y$();Object.defineProperty(ub,"fromHttp",{enumerable:!0,get:function(){return r_e.fromHttp}})});function n_e(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function s_e(e){return{schemeId:"smithy.api#noAuth"}}var by,E$,S$,C$,Ik=H(()=>{rn();by=$(Ps()),E$=async(e,t,r)=>({operation:(0,by.getSmithyContext)(t).operation,region:await(0,by.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});S$=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(s_e(e));break}default:t.push(n_e(e))}return t},C$=e=>{let t=cu(e);return Object.assign(t,{authSchemePreference:(0,by.normalizeProvider)(e.authSchemePreference??[])})}});var b$,_$,Tk=H(()=>{b$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),_$={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var fb,wk=H(()=>{fb={name:"@aws-sdk/nested-clients",version:"3.916.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Rm=C(yu=>{"use strict";var v$=require("os"),Nk=require("process"),o_e=hu(),A$={isCrtAvailable:!1},a_e=()=>A$.isCrtAvailable?["md/crt-avail"]:null,x$=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${v$.platform()}`,v$.release()],["lang/js"],["md/nodejs",`${Nk.versions.node}`]],s=a_e();s&&n.push(s),e&&n.push([`api/${e}`,t]),Nk.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Nk.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},c_e=x$,I$="AWS_SDK_UA_APP_ID",T$="sdk_ua_app_id",l_e="sdk-ua-app-id",d_e={environmentVariableSelector:e=>e[I$],configFileSelector:e=>e[T$]??e[l_e],default:o_e.DEFAULT_UA_APP_ID};yu.NODE_APP_ID_CONFIG_OPTIONS=d_e;yu.UA_APP_ID_ENV_NAME=I$;yu.UA_APP_ID_INI_NAME=T$;yu.createDefaultUserAgentProvider=x$;yu.crtAvailability=A$;yu.defaultUserAgent=c_e});var Pm=C(R$=>{"use strict";var Rk=sm(),u_e=jn(),f_e=require("buffer"),w$=require("crypto"),Pk=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(u_e.toUint8Array(N$(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?w$.createHmac(this.algorithmIdentifier,N$(this.secret)):w$.createHash(this.algorithmIdentifier)}};function N$(e,t){return f_e.Buffer.isBuffer(e)?e:typeof e=="string"?Rk.fromString(e,t):ArrayBuffer.isView(e)?Rk.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Rk.fromArrayBuffer(e)}R$.Hash=Pk});var Om=C(P$=>{"use strict";var Ok=require("node:fs"),m_e=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Ok.ReadStream){if(e.path!=null)return Ok.lstatSync(e.path).size;if(typeof e.fd=="number")return Ok.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};P$.calculateBodyLength=m_e});var j$,Co,O$,_y,Dm,km,$c,Dk,kk,D$,k$,B$,V$,H$,So,L$,z$,M$,U$,F$,q$,h_e,K$,G$=H(()=>{j$="required",Co="argv",O$="isSet",_y="booleanEquals",Dm="error",km="endpoint",$c="tree",Dk="PartitionResult",kk="getAttr",D$={[j$]:!1,type:"String"},k$={[j$]:!0,default:!1,type:"Boolean"},B$={ref:"Endpoint"},V$={fn:_y,[Co]:[{ref:"UseFIPS"},!0]},H$={fn:_y,[Co]:[{ref:"UseDualStack"},!0]},So={},L$={fn:kk,[Co]:[{ref:Dk},"supportsFIPS"]},z$={ref:Dk},M$={fn:_y,[Co]:[!0,{fn:kk,[Co]:[z$,"supportsDualStack"]}]},U$=[V$],F$=[H$],q$=[{ref:"Region"}],h_e={version:"1.0",parameters:{Region:D$,UseDualStack:k$,UseFIPS:k$,Endpoint:D$},rules:[{conditions:[{fn:O$,[Co]:[B$]}],rules:[{conditions:U$,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Dm},{conditions:F$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Dm},{endpoint:{url:B$,properties:So,headers:So},type:km}],type:$c},{conditions:[{fn:O$,[Co]:q$}],rules:[{conditions:[{fn:"aws.partition",[Co]:q$,assign:Dk}],rules:[{conditions:[V$,H$],rules:[{conditions:[{fn:_y,[Co]:[!0,L$]},M$],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:So,headers:So},type:km}],type:$c},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Dm}],type:$c},{conditions:U$,rules:[{conditions:[{fn:_y,[Co]:[L$,!0]}],rules:[{conditions:[{fn:"stringEquals",[Co]:[{fn:kk,[Co]:[z$,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:So,headers:So},type:km},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:So,headers:So},type:km}],type:$c},{error:"FIPS is enabled but this partition does not support FIPS",type:Dm}],type:$c},{conditions:F$,rules:[{conditions:[M$],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:So,headers:So},type:km}],type:$c},{error:"DualStack is enabled but this partition does not support DualStack",type:Dm}],type:$c},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:So,headers:So},type:km}],type:$c}],type:$c},{error:"Invalid Configuration: Missing Region",type:Dm}]},K$=h_e});var $$,Bm,p_e,W$,J$=H(()=>{$$=$(iu()),Bm=$(Nl());G$();p_e=new Bm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),W$=(e,t={})=>p_e.get(e,()=>(0,Bm.resolveEndpoint)(K$,{endpointParams:e,logger:t.logger}));Bm.customEndpointFunctions.aws=$$.awsEndpointFunctions});var X$,Y$,mb,hb,Q$,Z$=H(()=>{rn();Gs();X$=$(pt()),Y$=$(Mc()),mb=$(ls()),hb=$(jn());Ik();J$();Q$=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??mb.fromBase64,base64Encoder:e?.base64Encoder??mb.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??W$,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??S$,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Pi},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lc}],logger:e?.logger??new X$.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Y$.parseUrl,utf8Decoder:e?.utf8Decoder??hb.fromUtf8,utf8Encoder:e?.utf8Encoder??hb.toUtf8})});var Lm=C(nW=>{"use strict";var g_e=Qi(),eW=zc(),y_e=mi(),E_e="AWS_EXECUTION_ENV",tW="AWS_REGION",rW="AWS_DEFAULT_REGION",S_e="AWS_EC2_METADATA_DISABLED",C_e=["in-region","cross-region","mobile","standard","legacy"],b_e="/latest/meta-data/placement/region",__e="AWS_DEFAULTS_MODE",v_e="defaults_mode",A_e={environmentVariableSelector:e=>e[__e],configFileSelector:e=>e[v_e],default:"legacy"},x_e=({region:e=eW.loadConfig(g_e.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=eW.loadConfig(A_e)}={})=>y_e.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return I_e(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${C_e.join(", ")}, got ${r}`)}}),I_e=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await T_e();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},T_e=async()=>{if(process.env[E_e]&&(process.env[tW]||process.env[rW]))return process.env[tW]??process.env[rW];if(!process.env[S_e])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>$(Cy())),r=await e();return(await t({...r,path:b_e})).toString()}catch{}};nW.resolveDefaultsModeConfig=x_e});var pb,Wl,sW,gb,$l,yb,iW,oW,aW,cW,lW,dW,uW=H(()=>{wk();rn();pb=$(Rm()),Wl=$(Qi()),sW=$(Pm()),gb=$(da()),$l=$(zc()),yb=$(xl()),iW=$(Om()),oW=$(gu());Z$();aW=$(pt()),cW=$(Lm()),lW=$(pt()),dW=e=>{(0,lW.emitWarningIfUnsupportedVersion)(process.version);let t=(0,cW.resolveDefaultsModeConfig)(e),r=()=>t().then(aW.loadConfigsForDefaultMode),n=Q$(e);mm(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$l.loadConfig)(gm,s),bodyLengthChecker:e?.bodyLengthChecker??iW.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pb.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fb.version}),maxAttempts:e?.maxAttempts??(0,$l.loadConfig)(gb.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$l.loadConfig)(Wl.NODE_REGION_CONFIG_OPTIONS,{...Wl.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yb.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$l.loadConfig)({...gb.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||oW.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??sW.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yb.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$l.loadConfig)(Wl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,$l.loadConfig)(Wl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,$l.loadConfig)(pb.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Mm=C(Jl=>{"use strict";var vy=Qi(),w_e=e=>({setRegion(t){e.region=t},region(){return e.region}}),N_e=e=>({region:e.region()});Object.defineProperty(Jl,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return vy.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Jl,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return vy.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Jl,"REGION_ENV_NAME",{enumerable:!0,get:function(){return vy.REGION_ENV_NAME}});Object.defineProperty(Jl,"REGION_INI_NAME",{enumerable:!0,get:function(){return vy.REGION_INI_NAME}});Object.defineProperty(Jl,"resolveRegionConfig",{enumerable:!0,get:function(){return vy.resolveRegionConfig}});Jl.getAwsRegionExtensionConfiguration=w_e;Jl.resolveAwsRegionExtensionConfiguration=N_e});var fW,mW,hW=H(()=>{fW=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},mW=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Eb,Sb,Cb,pW,gW=H(()=>{Eb=$(Mm()),Sb=$(rr()),Cb=$(pt());hW();pW=(e,t)=>{let r=Object.assign((0,Eb.getAwsRegionExtensionConfiguration)(e),(0,Cb.getDefaultExtensionConfiguration)(e),(0,Sb.getHttpHandlerExtensionConfiguration)(e),fW(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Eb.resolveAwsRegionExtensionConfiguration)(r),(0,Cb.resolveDefaultRuntimeConfig)(r),(0,Sb.resolveHttpHandlerRuntimeConfig)(r),mW(r))}});var bb,yW,EW,_b,SW,CW,bW,vb,Bk,Ay,Lk=H(()=>{bb=$(em()),yW=$(tm()),EW=$(rm()),_b=$(hu()),SW=$(Qi());Gs();CW=$(Am()),bW=$(Eo()),vb=$(da()),Bk=$(pt());Ik();Tk();uW();gW();Ay=class extends Bk.Client{config;constructor(...[t]){let r=dW(t||{});super(r),this.initConfig=r;let n=b$(r),s=(0,_b.resolveUserAgentConfig)(n),i=(0,vb.resolveRetryConfig)(s),o=(0,SW.resolveRegionConfig)(i),a=(0,bb.resolveHostHeaderConfig)(o),c=(0,bW.resolveEndpointConfig)(a),l=C$(c),u=pW(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,_b.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vb.getRetryPlugin)(this.config)),this.middlewareStack.use((0,CW.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bb.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,yW.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,EW.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bg(this.config,{httpAuthSchemeParametersProvider:E$,identityProviderConfigProvider:async m=>new nu({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Lg(this.config))}destroy(){super.destroy()}}});var _W,us,Ab=H(()=>{_W=$(pt()),us=class e extends _W.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Eu,R_e,xy,Iy,Mk,Uk,Ty,wy,Ny,Ry,P_e,Py,Oy,Dy,ky,By,xb=H(()=>{Eu=$(pt());Ab();R_e={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},xy=class e extends us{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Iy=class e extends us{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Mk=e=>({...e,...e.clientSecret&&{clientSecret:Eu.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Eu.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Eu.SENSITIVE_STRING}}),Uk=e=>({...e,...e.accessToken&&{accessToken:Eu.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Eu.SENSITIVE_STRING},...e.idToken&&{idToken:Eu.SENSITIVE_STRING}}),Ty=class e extends us{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},wy=class e extends us{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ny=class e extends us{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ry=class e extends us{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},P_e={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Py=class e extends us{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Oy=class e extends us{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Dy=class e extends us{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ky=class e extends us{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},By=class e extends us{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Ie,vW,AW,O_e,D_e,k_e,B_e,L_e,M_e,U_e,F_e,q_e,j_e,V_e,H_e,z_e,bo,xW=H(()=>{rn();Gs();Ie=$(pt());xb();Ab();vW=async(e,t)=>{let r=Jg(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,Ie.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,Ie._json)(i)})),r.m("POST").h(n).b(s),r.build()},AW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return O_e(e,t);let r=(0,Ie.map)({$metadata:bo(e)}),n=(0,Ie.expectNonNull)((0,Ie.expectObject)(await bm(e.body,t)),"body"),s=(0,Ie.take)(n,{accessToken:Ie.expectString,expiresIn:Ie.expectInt32,idToken:Ie.expectString,refreshToken:Ie.expectString,tokenType:Ie.expectString});return Object.assign(r,s),r},O_e=async(e,t)=>{let r={...e,body:await SD(e.body,t)},n=du(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await k_e(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await B_e(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await L_e(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await M_e(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await U_e(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await F_e(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await q_e(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await j_e(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await V_e(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await H_e(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await z_e(r,t);default:let s=r.body;return D_e({output:e,parsedBody:s,errorCode:n})}},D_e=(0,Ie.withBaseException)(us),k_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString,reason:Ie.expectString});Object.assign(r,s);let i=new xy({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},B_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Iy({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},L_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Ty({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},M_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new wy({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},U_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Ny({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},F_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Ry({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},q_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString,reason:Ie.expectString});Object.assign(r,s);let i=new Py({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},j_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Oy({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},V_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new Dy({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},H_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new ky({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},z_e=async(e,t)=>{let r=(0,Ie.map)({}),n=e.body,s=(0,Ie.take)(n,{error:Ie.expectString,error_description:Ie.expectString});Object.assign(r,s);let i=new By({$metadata:bo(e),...r});return(0,Ie.decorateServiceException)(i,e.body)},bo=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var IW,TW,Fk,Ly,qk=H(()=>{IW=$(Eo()),TW=$(Pc()),Fk=$(pt());Tk();xb();xW();Ly=class extends Fk.Command.classBuilder().ep(_$).m(function(t,r,n,s){return[(0,TW.getSerdePlugin)(n,this.serialize,this.deserialize),(0,IW.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Mk,Uk).ser(vW).de(AW).build(){}});var wW,K_e,Ib,NW=H(()=>{wW=$(pt());qk();Lk();K_e={CreateTokenCommand:Ly},Ib=class extends Ay{};(0,wW.createAggregatedClient)(K_e,Ib)});var RW=H(()=>{qk()});var PW=H(()=>{xb()});var jk={};po(jk,{$Command:()=>Fk.Command,AccessDeniedException:()=>xy,AccessDeniedExceptionReason:()=>R_e,AuthorizationPendingException:()=>Iy,CreateTokenCommand:()=>Ly,CreateTokenRequestFilterSensitiveLog:()=>Mk,CreateTokenResponseFilterSensitiveLog:()=>Uk,ExpiredTokenException:()=>Ty,InternalServerException:()=>wy,InvalidClientException:()=>Ny,InvalidGrantException:()=>Ry,InvalidRequestException:()=>Py,InvalidRequestExceptionReason:()=>P_e,InvalidScopeException:()=>Oy,SSOOIDC:()=>Ib,SSOOIDCClient:()=>Ay,SSOOIDCServiceException:()=>us,SlowDownException:()=>Dy,UnauthorizedClientException:()=>ky,UnsupportedGrantTypeException:()=>By,__Client:()=>Bk.Client});var Vk=H(()=>{Lk();NW();RW();PW();Ab()});var BW=C(Uy=>{"use strict";var G_e=(la(),lt(Pl)),$_e=(zO(),lt(Z8)),no=mi(),My=Hc(),W_e=require("fs"),J_e=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new no.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=$_e.getBearerTokenEnvKey(t);if(!(r in process.env))throw new no.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return G_e.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},X_e=300*1e3,Hk="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Y_e=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(Vk(),jk));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},Q_e=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Vk(),jk));return(await Y_e(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},OW=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new no.TokenProviderError(`Token is expired. ${Hk}`,!1)},Su=(e,t,r=!1)=>{if(typeof t>"u")throw new no.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Hk}`,!1)},{writeFile:Z_e}=W_e.promises,eve=(e,t)=>{let r=My.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return Z_e(r,n)},DW=new Date(0),kW=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await My.parseKnownFiles(r),s=My.getProfileName({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new no.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new no.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await My.loadSsoSessionData(r))[o];if(!c)throw new no.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!c[g])throw new no.TokenProviderError(`Sso session '${o}' is missing required property '${g}'.`,!1);c.sso_start_url;let l=c.sso_region,u;try{u=await My.getSSOTokenFromFile(o)}catch{throw new no.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Hk}`,!1)}Su("accessToken",u.accessToken),Su("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:h}=u,p={token:m,expiration:new Date(h)};if(p.expiration.getTime()-Date.now()>X_e)return p;if(Date.now()-DW.getTime()<30*1e3)return OW(p),p;Su("clientId",u.clientId,!0),Su("clientSecret",u.clientSecret,!0),Su("refreshToken",u.refreshToken,!0);try{DW.setTime(Date.now());let g=await Q_e(u,l,r);Su("accessToken",g.accessToken),Su("expiresIn",g.expiresIn);let y=new Date(Date.now()+g.expiresIn*1e3);try{await eve(o,{...u,accessToken:g.accessToken,expiresAt:y.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:y}}catch{return OW(p),p}},tve=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new no.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},rve=(e={})=>no.memoize(no.chain(kW(e),async()=>{throw new no.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Uy.fromEnvSigningName=J_e;Uy.fromSso=kW;Uy.fromStatic=tve;Uy.nodeProvider=rve});var Kk=C(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.resolveHttpAuthSchemeConfig=Xl.defaultSSOHttpAuthSchemeProvider=Xl.defaultSSOHttpAuthSchemeParametersProvider=void 0;var nve=(rn(),lt(Js)),zk=Ps(),sve=async(e,t,r)=>({operation:(0,zk.getSmithyContext)(t).operation,region:await(0,zk.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Xl.defaultSSOHttpAuthSchemeParametersProvider=sve;function ive(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Tb(e){return{schemeId:"smithy.api#noAuth"}}var ove=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Tb(e));break}case"ListAccountRoles":{t.push(Tb(e));break}case"ListAccounts":{t.push(Tb(e));break}case"Logout":{t.push(Tb(e));break}default:t.push(ive(e))}return t};Xl.defaultSSOHttpAuthSchemeProvider=ove;var ave=e=>{let t=(0,nve.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,zk.normalizeProvider)(e.authSchemePreference??[])})};Xl.resolveHttpAuthSchemeConfig=ave});var LW=C((p0t,cve)=>{cve.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.916.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var YW=C(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.ruleSet=void 0;var $W="required",vo="fn",Ao="argv",qm="ref",MW=!0,UW="isSet",Fy="booleanEquals",Um="error",Fm="endpoint",Wc="tree",Gk="PartitionResult",$k="getAttr",FW={[$W]:!1,type:"String"},qW={[$W]:!0,default:!1,type:"Boolean"},jW={[qm]:"Endpoint"},WW={[vo]:Fy,[Ao]:[{[qm]:"UseFIPS"},!0]},JW={[vo]:Fy,[Ao]:[{[qm]:"UseDualStack"},!0]},_o={},VW={[vo]:$k,[Ao]:[{[qm]:Gk},"supportsFIPS"]},XW={[qm]:Gk},HW={[vo]:Fy,[Ao]:[!0,{[vo]:$k,[Ao]:[XW,"supportsDualStack"]}]},zW=[WW],KW=[JW],GW=[{[qm]:"Region"}],lve={version:"1.0",parameters:{Region:FW,UseDualStack:qW,UseFIPS:qW,Endpoint:FW},rules:[{conditions:[{[vo]:UW,[Ao]:[jW]}],rules:[{conditions:zW,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Um},{conditions:KW,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Um},{endpoint:{url:jW,properties:_o,headers:_o},type:Fm}],type:Wc},{conditions:[{[vo]:UW,[Ao]:GW}],rules:[{conditions:[{[vo]:"aws.partition",[Ao]:GW,assign:Gk}],rules:[{conditions:[WW,JW],rules:[{conditions:[{[vo]:Fy,[Ao]:[MW,VW]},HW],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_o,headers:_o},type:Fm}],type:Wc},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Um}],type:Wc},{conditions:zW,rules:[{conditions:[{[vo]:Fy,[Ao]:[VW,MW]}],rules:[{conditions:[{[vo]:"stringEquals",[Ao]:[{[vo]:$k,[Ao]:[XW,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:_o,headers:_o},type:Fm},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_o,headers:_o},type:Fm}],type:Wc},{error:"FIPS is enabled but this partition does not support FIPS",type:Um}],type:Wc},{conditions:KW,rules:[{conditions:[HW],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_o,headers:_o},type:Fm}],type:Wc},{error:"DualStack is enabled but this partition does not support DualStack",type:Um}],type:Wc},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:_o,headers:_o},type:Fm}],type:Wc}],type:Wc},{error:"Invalid Configuration: Missing Region",type:Um}]};wb.ruleSet=lve});var QW=C(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.defaultEndpointResolver=void 0;var dve=iu(),Wk=Nl(),uve=YW(),fve=new Wk.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mve=(e,t={})=>fve.get(e,()=>(0,Wk.resolveEndpoint)(uve.ruleSet,{endpointParams:e,logger:t.logger}));Nb.defaultEndpointResolver=mve;Wk.customEndpointFunctions.aws=dve.awsEndpointFunctions});var t9=C(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.getRuntimeConfig=void 0;var hve=(rn(),lt(Js)),pve=(Gs(),lt(Tl)),gve=pt(),yve=Mc(),ZW=ls(),e9=jn(),Eve=Kk(),Sve=QW(),Cve=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ZW.fromBase64,base64Encoder:e?.base64Encoder??ZW.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Sve.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Eve.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new hve.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pve.NoAuthSigner}],logger:e?.logger??new gve.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??yve.parseUrl,utf8Decoder:e?.utf8Decoder??e9.fromUtf8,utf8Encoder:e?.utf8Encoder??e9.toUtf8});Rb.getRuntimeConfig=Cve});var o9=C(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.getRuntimeConfig=void 0;var bve=(aa(),lt(oa)),_ve=bve.__importDefault(LW()),r9=(rn(),lt(Js)),n9=Rm(),Pb=Qi(),vve=Pm(),s9=da(),Cu=zc(),i9=xl(),Ave=Om(),xve=gu(),Ive=t9(),Tve=pt(),wve=Lm(),Nve=pt(),Rve=e=>{(0,Nve.emitWarningIfUnsupportedVersion)(process.version);let t=(0,wve.resolveDefaultsModeConfig)(e),r=()=>t().then(Tve.loadConfigsForDefaultMode),n=(0,Ive.getRuntimeConfig)(e);(0,r9.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Cu.loadConfig)(r9.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Ave.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,n9.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:_ve.default.version}),maxAttempts:e?.maxAttempts??(0,Cu.loadConfig)(s9.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Cu.loadConfig)(Pb.NODE_REGION_CONFIG_OPTIONS,{...Pb.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:i9.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Cu.loadConfig)({...s9.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||xve.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??vve.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??i9.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Cu.loadConfig)(Pb.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Cu.loadConfig)(Pb.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Cu.loadConfig)(n9.NODE_APP_ID_CONFIG_OPTIONS,s)}};Ob.getRuntimeConfig=Rve});var x9=C(Cn=>{"use strict";var a9=em(),Pve=tm(),Ove=rm(),c9=hu(),Dve=Qi(),Jc=(Gs(),lt(Tl)),kve=Am(),Hy=Eo(),l9=da(),Ve=pt(),d9=Kk(),Bve=o9(),u9=Mm(),f9=rr(),qb=Pc(),qy=(rn(),lt(Js)),Lve=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),jb={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Mve=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Uve=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Fve=(e,t)=>{let r=Object.assign(u9.getAwsRegionExtensionConfiguration(e),Ve.getDefaultExtensionConfiguration(e),f9.getHttpHandlerExtensionConfiguration(e),Mve(e));return t.forEach(n=>n.configure(r)),Object.assign(e,u9.resolveAwsRegionExtensionConfiguration(r),Ve.resolveDefaultRuntimeConfig(r),f9.resolveHttpHandlerRuntimeConfig(r),Uve(r))},jm=class extends Ve.Client{config;constructor(...[t]){let r=Bve.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Lve(r),s=c9.resolveUserAgentConfig(n),i=l9.resolveRetryConfig(s),o=Dve.resolveRegionConfig(i),a=a9.resolveHostHeaderConfig(o),c=Hy.resolveEndpointConfig(a),l=d9.resolveHttpAuthSchemeConfig(c),u=Fve(l,t?.extensions||[]);this.config=u,this.middlewareStack.use(c9.getUserAgentPlugin(this.config)),this.middlewareStack.use(l9.getRetryPlugin(this.config)),this.middlewareStack.use(kve.getContentLengthPlugin(this.config)),this.middlewareStack.use(a9.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Pve.getLoggerPlugin(this.config)),this.middlewareStack.use(Ove.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Jc.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:d9.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Jc.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Jc.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Yl=class e extends Ve.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Db=class e extends Yl{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kb=class e extends Yl{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bb=class e extends Yl{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Lb=class e extends Yl{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},m9=e=>({...e,...e.accessToken&&{accessToken:Ve.SENSITIVE_STRING}}),h9=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Ve.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:Ve.SENSITIVE_STRING}}),p9=e=>({...e,...e.roleCredentials&&{roleCredentials:h9(e.roleCredentials)}}),g9=e=>({...e,...e.accessToken&&{accessToken:Ve.SENSITIVE_STRING}}),y9=e=>({...e,...e.accessToken&&{accessToken:Ve.SENSITIVE_STRING}}),E9=e=>({...e,...e.accessToken&&{accessToken:Ve.SENSITIVE_STRING}}),qve=async(e,t)=>{let r=Jc.requestBuilder(e,t),n=Ve.map({},Ve.isSerializableHeaderValue,{[zb]:e[Hb]});r.bp("/federation/credentials");let s=Ve.map({[eAe]:[,Ve.expectNonNull(e[Zve],"roleName")],[C9]:[,Ve.expectNonNull(e[S9],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},jve=async(e,t)=>{let r=Jc.requestBuilder(e,t),n=Ve.map({},Ve.isSerializableHeaderValue,{[zb]:e[Hb]});r.bp("/assignment/roles");let s=Ve.map({[A9]:[,e[v9]],[_9]:[()=>e.maxResults!==void 0,()=>e[b9].toString()],[C9]:[,Ve.expectNonNull(e[S9],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Vve=async(e,t)=>{let r=Jc.requestBuilder(e,t),n=Ve.map({},Ve.isSerializableHeaderValue,{[zb]:e[Hb]});r.bp("/assignment/accounts");let s=Ve.map({[A9]:[,e[v9]],[_9]:[()=>e.maxResults!==void 0,()=>e[b9].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Hve=async(e,t)=>{let r=Jc.requestBuilder(e,t),n=Ve.map({},Ve.isSerializableHeaderValue,{[zb]:e[Hb]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},zve=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vb(e,t);let r=Ve.map({$metadata:Ql(e)}),n=Ve.expectNonNull(Ve.expectObject(await qy.parseJsonBody(e.body,t)),"body"),s=Ve.take(n,{roleCredentials:Ve._json});return Object.assign(r,s),r},Kve=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vb(e,t);let r=Ve.map({$metadata:Ql(e)}),n=Ve.expectNonNull(Ve.expectObject(await qy.parseJsonBody(e.body,t)),"body"),s=Ve.take(n,{nextToken:Ve.expectString,roleList:Ve._json});return Object.assign(r,s),r},Gve=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vb(e,t);let r=Ve.map({$metadata:Ql(e)}),n=Ve.expectNonNull(Ve.expectObject(await qy.parseJsonBody(e.body,t)),"body"),s=Ve.take(n,{accountList:Ve._json,nextToken:Ve.expectString});return Object.assign(r,s),r},$ve=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vb(e,t);let r=Ve.map({$metadata:Ql(e)});return await Ve.collectBody(e.body,t),r},Vb=async(e,t)=>{let r={...e,body:await qy.parseJsonErrorBody(e.body,t)},n=qy.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Jve(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Xve(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Yve(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Qve(r);default:let s=r.body;return Wve({output:e,parsedBody:s,errorCode:n})}},Wve=Ve.withBaseException(Yl),Jve=async(e,t)=>{let r=Ve.map({}),n=e.body,s=Ve.take(n,{message:Ve.expectString});Object.assign(r,s);let i=new Db({$metadata:Ql(e),...r});return Ve.decorateServiceException(i,e.body)},Xve=async(e,t)=>{let r=Ve.map({}),n=e.body,s=Ve.take(n,{message:Ve.expectString});Object.assign(r,s);let i=new kb({$metadata:Ql(e),...r});return Ve.decorateServiceException(i,e.body)},Yve=async(e,t)=>{let r=Ve.map({}),n=e.body,s=Ve.take(n,{message:Ve.expectString});Object.assign(r,s);let i=new Bb({$metadata:Ql(e),...r});return Ve.decorateServiceException(i,e.body)},Qve=async(e,t)=>{let r=Ve.map({}),n=e.body,s=Ve.take(n,{message:Ve.expectString});Object.assign(r,s);let i=new Lb({$metadata:Ql(e),...r});return Ve.decorateServiceException(i,e.body)},Ql=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),S9="accountId",Hb="accessToken",C9="account_id",b9="maxResults",_9="max_result",v9="nextToken",A9="next_token",Zve="roleName",eAe="role_name",zb="x-amz-sso_bearer_token",Mb=class extends Ve.Command.classBuilder().ep(jb).m(function(t,r,n,s){return[qb.getSerdePlugin(n,this.serialize,this.deserialize),Hy.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(m9,p9).ser(qve).de(zve).build(){},jy=class extends Ve.Command.classBuilder().ep(jb).m(function(t,r,n,s){return[qb.getSerdePlugin(n,this.serialize,this.deserialize),Hy.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(g9,void 0).ser(jve).de(Kve).build(){},Vy=class extends Ve.Command.classBuilder().ep(jb).m(function(t,r,n,s){return[qb.getSerdePlugin(n,this.serialize,this.deserialize),Hy.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(y9,void 0).ser(Vve).de(Gve).build(){},Ub=class extends Ve.Command.classBuilder().ep(jb).m(function(t,r,n,s){return[qb.getSerdePlugin(n,this.serialize,this.deserialize),Hy.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(E9,void 0).ser(Hve).de($ve).build(){},tAe={GetRoleCredentialsCommand:Mb,ListAccountRolesCommand:jy,ListAccountsCommand:Vy,LogoutCommand:Ub},Fb=class extends jm{};Ve.createAggregatedClient(tAe,Fb);var rAe=Jc.createPaginator(jm,jy,"nextToken","nextToken","maxResults"),nAe=Jc.createPaginator(jm,Vy,"nextToken","nextToken","maxResults");Object.defineProperty(Cn,"$Command",{enumerable:!0,get:function(){return Ve.Command}});Object.defineProperty(Cn,"__Client",{enumerable:!0,get:function(){return Ve.Client}});Cn.GetRoleCredentialsCommand=Mb;Cn.GetRoleCredentialsRequestFilterSensitiveLog=m9;Cn.GetRoleCredentialsResponseFilterSensitiveLog=p9;Cn.InvalidRequestException=Db;Cn.ListAccountRolesCommand=jy;Cn.ListAccountRolesRequestFilterSensitiveLog=g9;Cn.ListAccountsCommand=Vy;Cn.ListAccountsRequestFilterSensitiveLog=y9;Cn.LogoutCommand=Ub;Cn.LogoutRequestFilterSensitiveLog=E9;Cn.ResourceNotFoundException=kb;Cn.RoleCredentialsFilterSensitiveLog=h9;Cn.SSO=Fb;Cn.SSOClient=jm;Cn.SSOServiceException=Yl;Cn.TooManyRequestsException=Bb;Cn.UnauthorizedException=Lb;Cn.paginateListAccountRoles=rAe;Cn.paginateListAccounts=nAe});var T9=C(Jk=>{"use strict";var I9=x9();Object.defineProperty(Jk,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return I9.GetRoleCredentialsCommand}});Object.defineProperty(Jk,"SSOClient",{enumerable:!0,get:function(){return I9.SSOClient}})});var Xk=C(Gb=>{"use strict";var ua=mi(),Kb=Hc(),w9=(la(),lt(Pl)),sAe=BW(),R9=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),zy=!1,N9=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,filepath:l,configFilepath:u,ignoreCache:m,logger:h})=>{let p,g="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let $e=await sAe.fromSso({profile:c,filepath:l,configFilepath:u,ignoreCache:m})();p={accessToken:$e.token,expiresAt:new Date($e.expiration).toISOString()}}catch($e){throw new ua.CredentialsProviderError($e.message,{tryNextLink:zy,logger:h})}else try{p=await Kb.getSSOTokenFromFile(e)}catch{throw new ua.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${g}`,{tryNextLink:zy,logger:h})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new ua.CredentialsProviderError(`The SSO session associated with this profile has expired. ${g}`,{tryNextLink:zy,logger:h});let{accessToken:y}=p,{SSOClient:_,GetRoleCredentialsCommand:x}=await Promise.resolve().then(function(){return T9()}),w=i||new _(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),D;try{D=await w.send(new x({accountId:r,roleName:s,accessToken:y}))}catch($e){throw new ua.CredentialsProviderError($e,{tryNextLink:zy,logger:h})}let{roleCredentials:{accessKeyId:G,secretAccessKey:W,sessionToken:J,expiration:xe,credentialScope:be,accountId:De}={}}=D;if(!G||!W||!J||!xe)throw new ua.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:zy,logger:h});let Ge={accessKeyId:G,secretAccessKey:W,sessionToken:J,expiration:new Date(xe),...be&&{credentialScope:be},...De&&{accountId:De}};return t?w9.setCredentialFeature(Ge,"CREDENTIALS_SSO","s"):w9.setCredentialFeature(Ge,"CREDENTIALS_SSO_LEGACY","u"),Ge},P9=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new ua.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},iAe=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=Kb.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let u=(await Kb.parseKnownFiles(e))[c];if(!u)throw new ua.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!R9(u))throw new ua.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let x=(await Kb.loadSsoSessionData(e))[u.sso_session],w=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(s&&s!==x.sso_region)throw new ua.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==x.sso_start_url)throw new ua.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});u.sso_region=x.sso_region,u.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:h,sso_region:p,sso_role_name:g,sso_session:y}=P9(u,e.logger);return N9({ssoStartUrl:m,ssoSession:y,ssoAccountId:h,ssoRegion:p,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new ua.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return N9({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Gb.fromSSO=iAe;Gb.isSsoProfile=R9;Gb.validateSsoProfile=P9});function oAe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function aAe(e){return{schemeId:"smithy.api#noAuth"}}var Ky,O9,D9,cAe,k9,Yk=H(()=>{rn();Ky=$(Ps());Gy();O9=async(e,t,r)=>({operation:(0,Ky.getSmithyContext)(t).operation,region:await(0,Ky.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});D9=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(aAe(e));break}default:t.push(oAe(e))}return t},cAe=e=>Object.assign(e,{stsClientCtor:za}),k9=e=>{let t=cAe(e),r=cu(t);return Object.assign(r,{authSchemePreference:(0,Ky.normalizeProvider)(e.authSchemePreference??[])})}});var B9,$b,Wb=H(()=>{B9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$b={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var G9,Ct,ar,Zl,Ds,$9,W9,nn,L9,Ka,Vm,Zk,M9,Qk,J9,U9,ks,F9,X9,Y9,Ys,so,q9,Q9,Z9,j9,eJ,V9,H9,z9,K9,lAe,tJ,rJ=H(()=>{G9="required",Ct="type",ar="argv",Zl="booleanEquals",Ds="stringEquals",$9="sigv4",W9="us-east-1",nn="endpoint",L9="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ka="tree",Vm="error",Zk="getAttr",M9={[G9]:!1,[Ct]:"String"},Qk={[G9]:!0,default:!1,[Ct]:"Boolean"},J9={ref:"Endpoint"},U9={fn:"isSet",[ar]:[{ref:"Region"}]},ks={ref:"Region"},F9={fn:"aws.partition",[ar]:[ks],assign:"PartitionResult"},X9={ref:"UseFIPS"},Y9={ref:"UseDualStack"},Ys={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:$9,signingName:"sts",signingRegion:W9}]},headers:{}},so={},q9={conditions:[{fn:Ds,[ar]:[ks,"aws-global"]}],[nn]:Ys,[Ct]:nn},Q9={fn:Zl,[ar]:[X9,!0]},Z9={fn:Zl,[ar]:[Y9,!0]},j9={fn:Zk,[ar]:[{ref:"PartitionResult"},"supportsFIPS"]},eJ={ref:"PartitionResult"},V9={fn:Zl,[ar]:[!0,{fn:Zk,[ar]:[eJ,"supportsDualStack"]}]},H9=[{fn:"isSet",[ar]:[J9]}],z9=[Q9],K9=[Z9],lAe={version:"1.0",parameters:{Region:M9,UseDualStack:Qk,UseFIPS:Qk,Endpoint:M9,UseGlobalEndpoint:Qk},rules:[{conditions:[{fn:Zl,[ar]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ar]:H9},U9,F9,{fn:Zl,[ar]:[X9,!1]},{fn:Zl,[ar]:[Y9,!1]}],rules:[{conditions:[{fn:Ds,[ar]:[ks,"ap-northeast-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"ap-south-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"ap-southeast-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"ap-southeast-2"]}],endpoint:Ys,[Ct]:nn},q9,{conditions:[{fn:Ds,[ar]:[ks,"ca-central-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"eu-central-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"eu-north-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"eu-west-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"eu-west-2"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"eu-west-3"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"sa-east-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,W9]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"us-east-2"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"us-west-1"]}],endpoint:Ys,[Ct]:nn},{conditions:[{fn:Ds,[ar]:[ks,"us-west-2"]}],endpoint:Ys,[Ct]:nn},{endpoint:{url:L9,properties:{authSchemes:[{name:$9,signingName:"sts",signingRegion:"{Region}"}]},headers:so},[Ct]:nn}],[Ct]:Ka},{conditions:H9,rules:[{conditions:z9,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ct]:Vm},{conditions:K9,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ct]:Vm},{endpoint:{url:J9,properties:so,headers:so},[Ct]:nn}],[Ct]:Ka},{conditions:[U9],rules:[{conditions:[F9],rules:[{conditions:[Q9,Z9],rules:[{conditions:[{fn:Zl,[ar]:[!0,j9]},V9],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:so,headers:so},[Ct]:nn}],[Ct]:Ka},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ct]:Vm}],[Ct]:Ka},{conditions:z9,rules:[{conditions:[{fn:Zl,[ar]:[j9,!0]}],rules:[{conditions:[{fn:Ds,[ar]:[{fn:Zk,[ar]:[eJ,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:so,headers:so},[Ct]:nn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:so,headers:so},[Ct]:nn}],[Ct]:Ka},{error:"FIPS is enabled but this partition does not support FIPS",[Ct]:Vm}],[Ct]:Ka},{conditions:K9,rules:[{conditions:[V9],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:so,headers:so},[Ct]:nn}],[Ct]:Ka},{error:"DualStack is enabled but this partition does not support DualStack",[Ct]:Vm}],[Ct]:Ka},q9,{endpoint:{url:L9,properties:so,headers:so},[Ct]:nn}],[Ct]:Ka}],[Ct]:Ka},{error:"Invalid Configuration: Missing Region",[Ct]:Vm}]},tJ=lAe});var nJ,Hm,dAe,sJ,iJ=H(()=>{nJ=$(iu()),Hm=$(Nl());rJ();dAe=new Hm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),sJ=(e,t={})=>dAe.get(e,()=>(0,Hm.resolveEndpoint)(tJ,{endpointParams:e,logger:t.logger}));Hm.customEndpointFunctions.aws=nJ.awsEndpointFunctions});var oJ,aJ,Jb,Xb,cJ,lJ=H(()=>{rn();Gs();oJ=$(pt()),aJ=$(Mc()),Jb=$(ls()),Xb=$(jn());Yk();iJ();cJ=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Jb.fromBase64,base64Encoder:e?.base64Encoder??Jb.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sJ,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??D9,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Pi},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lc}],logger:e?.logger??new oJ.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??aJ.parseUrl,utf8Decoder:e?.utf8Decoder??Xb.fromUtf8,utf8Encoder:e?.utf8Encoder??Xb.toUtf8})});var Yb,td,dJ,Qb,ed,Zb,uJ,fJ,mJ,hJ,pJ,gJ,yJ=H(()=>{wk();rn();Yb=$(Rm()),td=$(Qi());Gs();dJ=$(Pm()),Qb=$(da()),ed=$(zc()),Zb=$(xl()),uJ=$(Om()),fJ=$(gu());lJ();mJ=$(pt()),hJ=$(Lm()),pJ=$(pt()),gJ=e=>{(0,pJ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,hJ.resolveDefaultsModeConfig)(e),r=()=>t().then(mJ.loadConfigsForDefaultMode),n=cJ(e);mm(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ed.loadConfig)(gm,s),bodyLengthChecker:e?.bodyLengthChecker??uJ.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Yb.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fb.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new Pi},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lc}],maxAttempts:e?.maxAttempts??(0,ed.loadConfig)(Qb.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ed.loadConfig)(td.NODE_REGION_CONFIG_OPTIONS,{...td.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Zb.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ed.loadConfig)({...Qb.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||fJ.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dJ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Zb.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ed.loadConfig)(td.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ed.loadConfig)(td.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ed.loadConfig)(Yb.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var EJ,SJ,CJ=H(()=>{EJ=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},SJ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var e_,t_,r_,bJ,_J=H(()=>{e_=$(Mm()),t_=$(rr()),r_=$(pt());CJ();bJ=(e,t)=>{let r=Object.assign((0,e_.getAwsRegionExtensionConfiguration)(e),(0,r_.getDefaultExtensionConfiguration)(e),(0,t_.getHttpHandlerExtensionConfiguration)(e),EJ(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,e_.resolveAwsRegionExtensionConfiguration)(r),(0,r_.resolveDefaultRuntimeConfig)(r),(0,t_.resolveHttpHandlerRuntimeConfig)(r),SJ(r))}});var n_,vJ,AJ,s_,xJ,IJ,TJ,i_,eB,za,Gy=H(()=>{n_=$(em()),vJ=$(tm()),AJ=$(rm()),s_=$(hu()),xJ=$(Qi());Gs();IJ=$(Am()),TJ=$(Eo()),i_=$(da()),eB=$(pt());Yk();Wb();yJ();_J();za=class extends eB.Client{config;constructor(...[t]){let r=gJ(t||{});super(r),this.initConfig=r;let n=B9(r),s=(0,s_.resolveUserAgentConfig)(n),i=(0,i_.resolveRetryConfig)(s),o=(0,xJ.resolveRegionConfig)(i),a=(0,n_.resolveHostHeaderConfig)(o),c=(0,TJ.resolveEndpointConfig)(a),l=k9(c),u=bJ(l,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,s_.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,i_.getRetryPlugin)(this.config)),this.middlewareStack.use((0,IJ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,n_.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,vJ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,AJ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bg(this.config,{httpAuthSchemeParametersProvider:O9,identityProviderConfigProvider:async m=>new nu({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Lg(this.config))}destroy(){super.destroy()}}});var wJ,ki,o_=H(()=>{wJ=$(pt()),ki=class e extends wJ.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var tB,rB,nB,$y,Wy,Jy,Xy,Yy,Qy,sB,iB,Zy,eE=H(()=>{tB=$(pt());o_();rB=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:tB.SENSITIVE_STRING}}),nB=e=>({...e,...e.Credentials&&{Credentials:rB(e.Credentials)}}),$y=class e extends ki{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wy=class e extends ki{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jy=class e extends ki{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xy=class e extends ki{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yy=class e extends ki{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qy=class e extends ki{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sB=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:tB.SENSITIVE_STRING}}),iB=e=>({...e,...e.Credentials&&{Credentials:rB(e.Credentials)}}),Zy=class e extends ki{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var NJ,Rt,RJ,PJ,OJ,DJ,kJ,uAe,fAe,mAe,hAe,pAe,gAe,yAe,EAe,SAe,BJ,CAe,bAe,_Ae,vAe,AAe,xAe,LJ,IAe,TAe,MJ,wAe,NAe,RAe,PAe,OAe,DAe,kAe,Yc,BAe,UJ,FJ,qJ,jJ,oB,LAe,aB,zm,MAe,cB,lB,Km,dB,Gm,uB,fB,mB,$m,Wm,hB,pB,gB,Jm,yB,Xm,Ym,EB,SB,Xc,CB,bB,_B,vB,AB,VJ,xB,IB,TB,Rn,HJ,UAe,wB=H(()=>{rn();NJ=$(rr()),Rt=$(pt());eE();o_();RJ=async(e,t)=>{let r=FJ,n;return n=HJ({...EAe(e,t),[jJ]:LAe,[VJ]:qJ}),UJ(t,r,"/",void 0,n)},PJ=async(e,t)=>{let r=FJ,n;return n=HJ({...SAe(e,t),[jJ]:MAe,[VJ]:qJ}),UJ(t,r,"/",void 0,n)},OJ=async(e,t)=>{if(e.statusCode>=300)return kJ(e,t);let r=await ly(e.body,t),n={};return n=IAe(r.AssumeRoleResult,t),{$metadata:Yc(e),...n}},DJ=async(e,t)=>{if(e.statusCode>=300)return kJ(e,t);let r=await ly(e.body,t),n={};return n=TAe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Yc(e),...n}},kJ=async(e,t)=>{let r={...e,body:await RD(e.body,t)},n=UAe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await uAe(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await pAe(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await gAe(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await yAe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await fAe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await mAe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await hAe(r,t);default:let s=r.body;return BAe({output:e,parsedBody:s.Error,errorCode:n})}},uAe=async(e,t)=>{let r=e.body,n=wAe(r.Error,t),s=new $y({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},fAe=async(e,t)=>{let r=e.body,n=NAe(r.Error,t),s=new Zy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},mAe=async(e,t)=>{let r=e.body,n=RAe(r.Error,t),s=new Yy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},hAe=async(e,t)=>{let r=e.body,n=PAe(r.Error,t),s=new Qy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},pAe=async(e,t)=>{let r=e.body,n=OAe(r.Error,t),s=new Wy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},gAe=async(e,t)=>{let r=e.body,n=DAe(r.Error,t),s=new Jy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},yAe=async(e,t)=>{let r=e.body,n=kAe(r.Error,t),s=new Xy({$metadata:Yc(e),...n});return(0,Rt.decorateServiceException)(s,r)},EAe=(e,t)=>{let r={};if(e[Xm]!=null&&(r[Xm]=e[Xm]),e[Ym]!=null&&(r[Ym]=e[Ym]),e[Wm]!=null){let n=BJ(e[Wm],t);e[Wm]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[$m]!=null&&(r[$m]=e[$m]),e[Gm]!=null&&(r[Gm]=e[Gm]),e[_B]!=null){let n=xAe(e[_B],t);e[_B]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[AB]!=null){let n=AAe(e[AB],t);e[AB]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[fB]!=null&&(r[fB]=e[fB]),e[CB]!=null&&(r[CB]=e[CB]),e[vB]!=null&&(r[vB]=e[vB]),e[Xc]!=null&&(r[Xc]=e[Xc]),e[pB]!=null){let n=_Ae(e[pB],t);e[pB]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},SAe=(e,t)=>{let r={};if(e[Xm]!=null&&(r[Xm]=e[Xm]),e[Ym]!=null&&(r[Ym]=e[Ym]),e[IB]!=null&&(r[IB]=e[IB]),e[gB]!=null&&(r[gB]=e[gB]),e[Wm]!=null){let n=BJ(e[Wm],t);e[Wm]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[$m]!=null&&(r[$m]=e[$m]),e[Gm]!=null&&(r[Gm]=e[Gm]),r},BJ=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=CAe(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},CAe=(e,t)=>{let r={};return e[TB]!=null&&(r[TB]=e[TB]),r},bAe=(e,t)=>{let r={};return e[hB]!=null&&(r[hB]=e[hB]),e[dB]!=null&&(r[dB]=e[dB]),r},_Ae=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=bAe(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},vAe=(e,t)=>{let r={};return e[mB]!=null&&(r[mB]=e[mB]),e[xB]!=null&&(r[xB]=e[xB]),r},AAe=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},xAe=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=vAe(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},LJ=(e,t)=>{let r={};return e[aB]!=null&&(r[aB]=(0,Rt.expectString)(e[aB])),e[cB]!=null&&(r[cB]=(0,Rt.expectString)(e[cB])),r},IAe=(e,t)=>{let r={};return e[Km]!=null&&(r[Km]=MJ(e[Km],t)),e[zm]!=null&&(r[zm]=LJ(e[zm],t)),e[Jm]!=null&&(r[Jm]=(0,Rt.strictParseInt32)(e[Jm])),e[Xc]!=null&&(r[Xc]=(0,Rt.expectString)(e[Xc])),r},TAe=(e,t)=>{let r={};return e[Km]!=null&&(r[Km]=MJ(e[Km],t)),e[SB]!=null&&(r[SB]=(0,Rt.expectString)(e[SB])),e[zm]!=null&&(r[zm]=LJ(e[zm],t)),e[Jm]!=null&&(r[Jm]=(0,Rt.strictParseInt32)(e[Jm])),e[yB]!=null&&(r[yB]=(0,Rt.expectString)(e[yB])),e[lB]!=null&&(r[lB]=(0,Rt.expectString)(e[lB])),e[Xc]!=null&&(r[Xc]=(0,Rt.expectString)(e[Xc])),r},MJ=(e,t)=>{let r={};return e[oB]!=null&&(r[oB]=(0,Rt.expectString)(e[oB])),e[EB]!=null&&(r[EB]=(0,Rt.expectString)(e[EB])),e[bB]!=null&&(r[bB]=(0,Rt.expectString)(e[bB])),e[uB]!=null&&(r[uB]=(0,Rt.expectNonNull)((0,Rt.parseRfc3339DateTimeWithOffset)(e[uB]))),r},wAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},NAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},RAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},PAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},OAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},DAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},kAe=(e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,Rt.expectString)(e[Rn])),r},Yc=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),BAe=(0,Rt.withBaseException)(ki),UJ=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new NJ.HttpRequest(l)},FJ={"content-type":"application/x-www-form-urlencoded"},qJ="2011-06-15",jJ="Action",oB="AccessKeyId",LAe="AssumeRole",aB="AssumedRoleId",zm="AssumedRoleUser",MAe="AssumeRoleWithWebIdentity",cB="Arn",lB="Audience",Km="Credentials",dB="ContextAssertion",Gm="DurationSeconds",uB="Expiration",fB="ExternalId",mB="Key",$m="Policy",Wm="PolicyArns",hB="ProviderArn",pB="ProvidedContexts",gB="ProviderId",Jm="PackedPolicySize",yB="Provider",Xm="RoleArn",Ym="RoleSessionName",EB="SecretAccessKey",SB="SubjectFromWebIdentityToken",Xc="SourceIdentity",CB="SerialNumber",bB="SessionToken",_B="Tags",vB="TokenCode",AB="TransitiveTagKeys",VJ="Version",xB="Value",IB="WebIdentityToken",TB="arn",Rn="message",HJ=e=>Object.entries(e).map(([t,r])=>(0,Rt.extendedEncodeURIComponent)(t)+"="+(0,Rt.extendedEncodeURIComponent)(r)).join("&"),UAe=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var zJ,KJ,GJ,bu,a_=H(()=>{zJ=$(Eo()),KJ=$(Pc()),GJ=$(pt());Wb();eE();wB();bu=class extends GJ.Command.classBuilder().ep($b).m(function(t,r,n,s){return[(0,KJ.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zJ.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,nB).ser(RJ).de(OJ).build(){}});var $J,WJ,JJ,_u,c_=H(()=>{$J=$(Eo()),WJ=$(Pc()),JJ=$(pt());Wb();eE();wB();_u=class extends JJ.Command.classBuilder().ep($b).m(function(t,r,n,s){return[(0,WJ.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$J.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(sB,iB).ser(PJ).de(DJ).build(){}});var XJ,FAe,l_,YJ=H(()=>{XJ=$(pt());a_();c_();Gy();FAe={AssumeRoleCommand:bu,AssumeRoleWithWebIdentityCommand:_u},l_=class extends za{};(0,XJ.createAggregatedClient)(FAe,l_)});var QJ=H(()=>{a_();c_()});var ZJ=H(()=>{eE()});var e7,t7,r7,n7,s7,i7,o7=H(()=>{la();a_();c_();e7="us-east-1",t7=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},r7=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${e7} (STS default)`),n??s??e7},n7=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:u=e?.parentClientConfig?.logger,profile:m=e?.parentClientConfig?.profile,region:h,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await r7(h,e?.parentClientConfig?.region,g),_=!i7(p);r=new t({...e,profile:m,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:_?p:void 0,logger:u})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new bu(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=t7(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return Rl(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},s7=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:u,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,p=await r7(u,e?.parentClientConfig?.region,h),g=!i7(m);r=new t({...e,profile:l,region:p,requestHandler:g?m:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new _u(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=t7(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&Rl(a,"RESOLVED_ACCOUNT_ID","T"),Rl(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},i7=e=>e?.metadata?.handlerProtocol==="h2"});var a7,c7,l7,qAe,d7=H(()=>{o7();Gy();a7=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,c7=(e={},t)=>n7(e,a7(za,t)),l7=(e={},t)=>s7(e,a7(za,t)),qAe=e=>t=>e({roleAssumer:c7(t),roleAssumerWithWebIdentity:l7(t),...t})});var NB={};po(NB,{AssumeRoleCommand:()=>bu,AssumeRoleResponseFilterSensitiveLog:()=>nB,AssumeRoleWithWebIdentityCommand:()=>_u,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>sB,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>iB,CredentialsFilterSensitiveLog:()=>rB,ExpiredTokenException:()=>$y,IDPCommunicationErrorException:()=>Zy,IDPRejectedClaimException:()=>Yy,InvalidIdentityTokenException:()=>Qy,MalformedPolicyDocumentException:()=>Wy,PackedPolicyTooLargeException:()=>Jy,RegionDisabledException:()=>Xy,STS:()=>l_,STSClient:()=>za,STSServiceException:()=>ki,__Client:()=>eB.Client,decorateDefaultCredentialProvider:()=>qAe,getDefaultRoleAssumer:()=>c7,getDefaultRoleAssumerWithWebIdentity:()=>l7});var RB=H(()=>{Gy();YJ();QJ();ZJ();d7();o_()});var DB=C(u7=>{"use strict";var OB=Hc(),PB=mi(),jAe=require("child_process"),VAe=require("util"),HAe=(la(),lt(Pl)),zAe=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return HAe.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},KAe=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=VAe.promisify(OB.externalDataInterceptor?.getTokenRecord?.().exec??jAe.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return zAe(e,a,t)}catch(o){throw new PB.CredentialsProviderError(o.message,{logger:r})}}else throw new PB.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new PB.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},GAe=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await OB.parseKnownFiles(e);return KAe(OB.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};u7.fromProcess=GAe});var kB=C(Ga=>{"use strict";var $Ae=Ga&&Ga.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),WAe=Ga&&Ga.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),JAe=Ga&&Ga.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&$Ae(r,t,n[s]);return WAe(r,t),r}})();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.fromWebToken=void 0;var XAe=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>JAe((RB(),lt(NB))));l=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Ga.fromWebToken=XAe});var m7=C(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.fromTokenFile=void 0;var YAe=(la(),lt(Pl)),QAe=mi(),ZAe=Hc(),exe=require("fs"),txe=kB(),f7="AWS_WEB_IDENTITY_TOKEN_FILE",rxe="AWS_ROLE_ARN",nxe="AWS_ROLE_SESSION_NAME",sxe=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[f7],n=e?.roleArn??process.env[rxe],s=e?.roleSessionName??process.env[nxe];if(!r||!n)throw new QAe.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let i=await(0,txe.fromWebToken)({...e,webIdentityToken:ZAe.externalDataInterceptor?.getTokenRecord?.()[r]??(0,exe.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(t);return r===process.env[f7]&&(0,YAe.setCredentialFeature)(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i};d_.fromTokenFile=sxe});var BB=C(tE=>{"use strict";var h7=m7(),p7=kB();Object.keys(h7).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tE,e)&&Object.defineProperty(tE,e,{enumerable:!0,get:function(){return h7[e]}})});Object.keys(p7).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(tE,e)&&Object.defineProperty(tE,e,{enumerable:!0,get:function(){return p7[e]}})})});var b7=C(C7=>{"use strict";var MB=Hc(),rE=mi(),rd=(la(),lt(Pl)),ixe=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>$(xk())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>$(Cy()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>rE.chain(i(s??{}),o(s))().then(LB)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>$(Cy()));return async()=>i(s)().then(LB)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>$(yk()));return async()=>i(s)().then(LB)}};if(e in n)return n[e];throw new rE.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},LB=e=>rd.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),oxe=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(axe(e,{profile:t,logger:r})||cxe(e,{profile:t,logger:r})),axe=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},cxe=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},lxe=async(e,t,r,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:o,region:a}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(RB(),NB));r.roleAssumer=l({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new rE.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${MB.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?s(o,t,r,{...n,[o]:!0},g7(t[o]??{})):(await ixe(i.credential_source,e,r.logger)(r))();if(g7(i))return c.then(l=>rd.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:u}=i;if(u){if(!r.mfaCodeProvider)throw new rE.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=u,l.TokenCode=await r.mfaCodeProvider(u)}let m=await c;return r.roleAssumer(m,l).then(h=>rd.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},g7=e=>!e.role_arn&&!!e.credential_source,dxe=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",uxe=async(e,t)=>Promise.resolve().then(()=>$(DB())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>rd.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),fxe=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>$(Xk()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?rd.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):rd.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},mxe=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),y7=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,E7=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return rd.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},hxe=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,pxe=async(e,t)=>Promise.resolve().then(()=>$(BB())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>rd.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),S7=async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&y7(i))return E7(i,r);if(s||oxe(i,{profile:e,logger:r.logger}))return lxe(e,t,r,n,S7);if(y7(i))return E7(i,r);if(hxe(i))return pxe(i,r);if(dxe(i))return uxe(r,e);if(mxe(i))return await fxe(e,i,r);throw new rE.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},gxe=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await MB.parseKnownFiles(r);return S7(MB.getProfileName({profile:e.profile??t?.profile}),n,r)};C7.fromIni=gxe});var FB=C(u_=>{"use strict";var UB=yk(),vu=mi(),yxe=Hc(),_7="AWS_EC2_METADATA_DISABLED",Exe=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>$(Cy()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>$(xk()));return vu.chain(i(e),n(e))}return process.env[_7]&&process.env[_7]!=="false"?async()=>{throw new vu.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},v7=!1,Sxe=(e={})=>vu.memoize(vu.chain(async()=>{if(e.profile??process.env[yxe.ENV_PROFILE])throw process.env[UB.ENV_KEY]&&process.env[UB.ENV_SECRET]&&(v7||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),v7=!0)),new vu.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),UB.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new vu.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>$(Xk()));return o(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>$(b7()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>$(DB()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>$(BB()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Exe(e))()),async()=>{throw new vu.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),x7,A7),A7=e=>e?.expiration!==void 0,x7=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;u_.credentialsTreatedAsExpired=x7;u_.credentialsWillNeedRefresh=A7;u_.defaultProvider=Sxe});var N7=C(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.getRuntimeConfig=void 0;var I7=(rn(),lt(Js)),Cxe=Tm(),bxe=pt(),_xe=Mc(),T7=ls(),w7=jn(),vxe=gk(),Axe=pk(),xxe=e=>({apiVersion:"2019-09-27",base64Decoder:e?.base64Decoder??T7.fromBase64,base64Encoder:e?.base64Encoder??T7.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Axe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??vxe.defaultSESv2HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new I7.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new I7.AwsSdkSigV4ASigner}],logger:e?.logger??new bxe.NoOpLogger,serviceId:e?.serviceId??"SESv2",signerConstructor:e?.signerConstructor??Cxe.SignatureV4MultiRegion,urlParser:e?.urlParser??_xe.parseUrl,utf8Decoder:e?.utf8Decoder??w7.fromUtf8,utf8Encoder:e?.utf8Encoder??w7.toUtf8});f_.getRuntimeConfig=xxe});var D7=C(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.getRuntimeConfig=void 0;var Ixe=(aa(),lt(oa)),Txe=Ixe.__importDefault(XG()),qB=(rn(),lt(Js)),wxe=FB(),R7=Rm(),m_=Qi(),Nxe=Pm(),P7=da(),nd=zc(),O7=xl(),Rxe=Om(),Pxe=gu(),Oxe=N7(),Dxe=pt(),kxe=Lm(),Bxe=pt(),Lxe=e=>{(0,Bxe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,kxe.resolveDefaultsModeConfig)(e),r=()=>t().then(Dxe.loadConfigsForDefaultMode),n=(0,Oxe.getRuntimeConfig)(e);(0,qB.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,nd.loadConfig)(qB.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Rxe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??wxe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,R7.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Txe.default.version}),maxAttempts:e?.maxAttempts??(0,nd.loadConfig)(P7.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,nd.loadConfig)(m_.NODE_REGION_CONFIG_OPTIONS,{...m_.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:O7.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,nd.loadConfig)({...P7.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Pxe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Nxe.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,nd.loadConfig)(qB.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??O7.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,nd.loadConfig)(m_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,nd.loadConfig)(m_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,nd.loadConfig)(R7.NODE_APP_ID_CONFIG_OPTIONS,s)}};h_.getRuntimeConfig=Lxe});var dX=C(k=>{"use strict";var k7=em(),Mxe=tm(),Uxe=rm(),B7=hu(),Fxe=Qi(),Y=(Gs(),lt(Tl)),qxe=Am(),ie=Eo(),L7=da(),f=pt(),M7=gk(),jxe=D7(),U7=Mm(),F7=rr(),oe=Pc(),We=(rn(),lt(Js)),Vxe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),ae={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Hxe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},zxe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Kxe=(e,t)=>{let r=Object.assign(U7.getAwsRegionExtensionConfiguration(e),f.getDefaultExtensionConfiguration(e),F7.getHttpHandlerExtensionConfiguration(e),Hxe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,U7.resolveAwsRegionExtensionConfiguration(r),f.resolveDefaultRuntimeConfig(r),F7.resolveHttpHandlerRuntimeConfig(r),zxe(r))},un=class extends f.Client{config;constructor(...[t]){let r=jxe.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Vxe(r),s=B7.resolveUserAgentConfig(n),i=L7.resolveRetryConfig(s),o=Fxe.resolveRegionConfig(i),a=k7.resolveHostHeaderConfig(o),c=ie.resolveEndpointConfig(a),l=M7.resolveHttpAuthSchemeConfig(c),u=Kxe(l,t?.extensions||[]);this.config=u,this.middlewareStack.use(B7.getUserAgentPlugin(this.config)),this.middlewareStack.use(L7.getRetryPlugin(this.config)),this.middlewareStack.use(qxe.getContentLengthPlugin(this.config)),this.middlewareStack.use(k7.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Mxe.getLoggerPlugin(this.config)),this.middlewareStack.use(Uxe.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Y.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:M7.defaultSESv2HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Y.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials,"aws.auth#sigv4a":m.credentials})})),this.middlewareStack.use(Y.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Bs=class e extends f.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Gxe={EN:"EN",JA:"JA"},$xe={MARKETING:"MARKETING",TRANSACTIONAL:"TRANSACTIONAL"},Wxe={DENIED:"DENIED",FAILED:"FAILED",GRANTED:"GRANTED",PENDING:"PENDING"},p_=class e extends Bs{name="AccountSuspendedException";$fault="client";constructor(t){super({name:"AccountSuspendedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},g_=class e extends Bs{name="AlreadyExistsException";$fault="client";constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jxe={ATTACHMENT:"ATTACHMENT",INLINE:"INLINE"},Xxe={BASE64:"BASE64",QUOTED_PRINTABLE:"QUOTED_PRINTABLE",SEVEN_BIT:"SEVEN_BIT"},y_=class e extends Bs{name="BadRequestException";$fault="client";constructor(t){super({name:"BadRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yxe={CONFIGURATION_SET:"CONFIGURATION_SET",EMAIL_IDENTITY:"EMAIL_IDENTITY",ISP:"ISP"},Qxe={CLICK:"CLICK",COMPLAINT:"COMPLAINT",DELIVERY:"DELIVERY",DELIVERY_CLICK:"DELIVERY_CLICK",DELIVERY_COMPLAINT:"DELIVERY_COMPLAINT",DELIVERY_OPEN:"DELIVERY_OPEN",OPEN:"OPEN",PERMANENT_BOUNCE:"PERMANENT_BOUNCE",SEND:"SEND",TRANSIENT_BOUNCE:"TRANSIENT_BOUNCE"},Zxe={VDM:"VDM"},eIe={ACCESS_DENIED:"ACCESS_DENIED",INTERNAL_FAILURE:"INTERNAL_FAILURE"},E_=class e extends Bs{name="InternalServiceErrorException";$fault="server";constructor(t){super({name:"InternalServiceErrorException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},S_=class e extends Bs{name="NotFoundException";$fault="client";constructor(t){super({name:"NotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},C_=class e extends Bs{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tIe={REJECT_MESSAGE:"REJECT_MESSAGE",USE_DEFAULT_VALUE:"USE_DEFAULT_VALUE"},rIe={PERMANENT:"PERMANENT",TRANSIENT:"TRANSIENT",UNDETERMINED:"UNDETERMINED"},nIe={ACCOUNT_DAILY_QUOTA_EXCEEDED:"ACCOUNT_DAILY_QUOTA_EXCEEDED",ACCOUNT_SENDING_PAUSED:"ACCOUNT_SENDING_PAUSED",ACCOUNT_SUSPENDED:"ACCOUNT_SUSPENDED",ACCOUNT_THROTTLED:"ACCOUNT_THROTTLED",CONFIGURATION_SET_NOT_FOUND:"CONFIGURATION_SET_NOT_FOUND",CONFIGURATION_SET_SENDING_PAUSED:"CONFIGURATION_SET_SENDING_PAUSED",FAILED:"FAILED",INVALID_PARAMETER:"INVALID_PARAMETER",INVALID_SENDING_POOL_NAME:"INVALID_SENDING_POOL_NAME",MAIL_FROM_DOMAIN_NOT_VERIFIED:"MAIL_FROM_DOMAIN_NOT_VERIFIED",MESSAGE_REJECTED:"MESSAGE_REJECTED",SUCCESS:"SUCCESS",TEMPLATE_NOT_FOUND:"TEMPLATE_NOT_FOUND",TRANSIENT_FAILURE:"TRANSIENT_FAILURE"},sIe={EMAIL_HEADER:"EMAIL_HEADER",LINK_TAG:"LINK_TAG",MESSAGE_TAG:"MESSAGE_TAG"},b_=class e extends Bs{name="ConcurrentModificationException";$fault="server";constructor(t){super({name:"ConcurrentModificationException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},__=class e extends Bs{name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},iIe={OPT_IN:"OPT_IN",OPT_OUT:"OPT_OUT"},oIe={DELETE:"DELETE",PUT:"PUT"},aIe={OPTIONAL:"OPTIONAL",REQUIRE:"REQUIRE"},cIe={BOUNCE:"BOUNCE",COMPLAINT:"COMPLAINT"},lIe={OPTIONAL:"OPTIONAL",REQUIRE:"REQUIRE",REQUIRE_OPEN_ONLY:"REQUIRE_OPEN_ONLY"},dIe={DISABLED:"DISABLED",ENABLED:"ENABLED"},v_=class e extends Bs{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uIe={BOUNCE:"BOUNCE",CLICK:"CLICK",COMPLAINT:"COMPLAINT",DELIVERY:"DELIVERY",DELIVERY_DELAY:"DELIVERY_DELAY",OPEN:"OPEN",REJECT:"REJECT",RENDERING_FAILURE:"RENDERING_FAILURE",SEND:"SEND",SUBSCRIPTION:"SUBSCRIPTION"},fIe={MANAGED:"MANAGED",STANDARD:"STANDARD"},mIe={COMPLETED:"COMPLETED",IN_PROGRESS:"IN_PROGRESS"},A_=class e extends Bs{name="MailFromDomainNotVerifiedException";$fault="client";constructor(t){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},x_=class e extends Bs{name="MessageRejected";$fault="client";constructor(t){super({name:"MessageRejected",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},I_=class e extends Bs{name="SendingPausedException";$fault="client";constructor(t){super({name:"SendingPausedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hIe={AWS_SES:"AWS_SES",AWS_SES_AF_SOUTH_1:"AWS_SES_AF_SOUTH_1",AWS_SES_AP_NORTHEAST_1:"AWS_SES_AP_NORTHEAST_1",AWS_SES_AP_NORTHEAST_2:"AWS_SES_AP_NORTHEAST_2",AWS_SES_AP_NORTHEAST_3:"AWS_SES_AP_NORTHEAST_3",AWS_SES_AP_SOUTHEAST_1:"AWS_SES_AP_SOUTHEAST_1",AWS_SES_AP_SOUTHEAST_2:"AWS_SES_AP_SOUTHEAST_2",AWS_SES_AP_SOUTHEAST_3:"AWS_SES_AP_SOUTHEAST_3",AWS_SES_AP_SOUTH_1:"AWS_SES_AP_SOUTH_1",AWS_SES_AP_SOUTH_2:"AWS_SES_AP_SOUTH_2",AWS_SES_CA_CENTRAL_1:"AWS_SES_CA_CENTRAL_1",AWS_SES_EU_CENTRAL_1:"AWS_SES_EU_CENTRAL_1",AWS_SES_EU_CENTRAL_2:"AWS_SES_EU_CENTRAL_2",AWS_SES_EU_NORTH_1:"AWS_SES_EU_NORTH_1",AWS_SES_EU_SOUTH_1:"AWS_SES_EU_SOUTH_1",AWS_SES_EU_WEST_1:"AWS_SES_EU_WEST_1",AWS_SES_EU_WEST_2:"AWS_SES_EU_WEST_2",AWS_SES_EU_WEST_3:"AWS_SES_EU_WEST_3",AWS_SES_IL_CENTRAL_1:"AWS_SES_IL_CENTRAL_1",AWS_SES_ME_CENTRAL_1:"AWS_SES_ME_CENTRAL_1",AWS_SES_ME_SOUTH_1:"AWS_SES_ME_SOUTH_1",AWS_SES_SA_EAST_1:"AWS_SES_SA_EAST_1",AWS_SES_US_EAST_1:"AWS_SES_US_EAST_1",AWS_SES_US_EAST_2:"AWS_SES_US_EAST_2",AWS_SES_US_WEST_1:"AWS_SES_US_WEST_1",AWS_SES_US_WEST_2:"AWS_SES_US_WEST_2",EXTERNAL:"EXTERNAL"},pIe={RSA_1024_BIT:"RSA_1024_BIT",RSA_2048_BIT:"RSA_2048_BIT"},gIe={FAILED:"FAILED",NOT_STARTED:"NOT_STARTED",PENDING:"PENDING",SUCCESS:"SUCCESS",TEMPORARY_FAILURE:"TEMPORARY_FAILURE"},yIe={DOMAIN:"DOMAIN",EMAIL_ADDRESS:"EMAIL_ADDRESS",MANAGED_DOMAIN:"MANAGED_DOMAIN"},EIe={COMPLAINT:"COMPLAINT",DELIVERY:"DELIVERY",PERMANENT_BOUNCE:"PERMANENT_BOUNCE",SEND:"SEND",TRANSIENT_BOUNCE:"TRANSIENT_BOUNCE",UNDETERMINED_BOUNCE:"UNDETERMINED_BOUNCE"},SIe={CLICK:"CLICK",OPEN:"OPEN"},CIe={RATE:"RATE",VOLUME:"VOLUME"},bIe={CSV:"CSV",JSON:"JSON"},_Ie={DELETE:"DELETE",PUT:"PUT"},vIe={CREATING:"CREATING",DELETING:"DELETING",FAILED:"FAILED",READY:"READY"},AIe={DISABLED:"DISABLED",ENABLED:"ENABLED",REINSTATED:"REINSTATED"},xIe={DONE:"DONE",IN_PROGRESS:"IN_PROGRESS",NOT_APPLICABLE:"NOT_APPLICABLE"},IIe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",PENDING_EXPIRATION:"PENDING_EXPIRATION"},TIe={MESSAGE_INSIGHTS:"MESSAGE_INSIGHTS",METRICS_DATA:"METRICS_DATA"},wIe={CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",CREATED:"CREATED",FAILED:"FAILED",PROCESSING:"PROCESSING"},NIe={FAILED:"FAILED",PENDING:"PENDING",SUCCESS:"SUCCESS",TEMPORARY_FAILURE:"TEMPORARY_FAILURE"},RIe={DNS_SERVER_ERROR:"DNS_SERVER_ERROR",HOST_NOT_FOUND:"HOST_NOT_FOUND",INVALID_VALUE:"INVALID_VALUE",REPLICATION_ACCESS_DENIED:"REPLICATION_ACCESS_DENIED",REPLICATION_PRIMARY_BYO_DKIM_NOT_SUPPORTED:"REPLICATION_PRIMARY_BYO_DKIM_NOT_SUPPORTED",REPLICATION_PRIMARY_INVALID_REGION:"REPLICATION_PRIMARY_INVALID_REGION",REPLICATION_PRIMARY_NOT_FOUND:"REPLICATION_PRIMARY_NOT_FOUND",REPLICATION_REPLICA_AS_PRIMARY_NOT_SUPPORTED:"REPLICATION_REPLICA_AS_PRIMARY_NOT_SUPPORTED",SERVICE_ERROR:"SERVICE_ERROR",TYPE_NOT_FOUND:"TYPE_NOT_FOUND"},PIe={FAILED:"FAILED",NOT_STARTED:"NOT_STARTED",PENDING:"PENDING",SUCCESS:"SUCCESS",TEMPORARY_FAILURE:"TEMPORARY_FAILURE"},OIe={RESOURCE:"RESOURCE"},DIe={HIGH:"HIGH",LOW:"LOW"},kIe={CONTACT_LIST:"CONTACT_LIST",SUPPRESSION_LIST:"SUPPRESSION_LIST"},T_=class e extends Bs{name="InvalidNextTokenException";$fault="client";constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},BIe={IMPACT:"IMPACT",RESOURCE_ARN:"RESOURCE_ARN",STATUS:"STATUS",TYPE:"TYPE"},LIe={FIXED:"FIXED",OPEN:"OPEN"},MIe={BIMI:"BIMI",BOUNCE:"BOUNCE",COMPLAINT:"COMPLAINT",DKIM:"DKIM",DMARC:"DMARC",FEEDBACK_3P:"FEEDBACK_3P",IP_LISTING:"IP_LISTING",SPF:"SPF"},UIe={ENTITY_REFERENCE_PREFIX:"ENTITY_REFERENCE_PREFIX",ENTITY_TYPE:"ENTITY_TYPE",REPUTATION_IMPACT:"REPUTATION_IMPACT",STATUS:"SENDING_STATUS"},K7=e=>({...e,...e.WebsiteURL&&{WebsiteURL:f.SENSITIVE_STRING},...e.UseCaseDescription&&{UseCaseDescription:f.SENSITIVE_STRING},...e.AdditionalContactEmailAddresses&&{AdditionalContactEmailAddresses:f.SENSITIVE_STRING}}),VB=e=>({...e,...e.DomainSigningPrivateKey&&{DomainSigningPrivateKey:f.SENSITIVE_STRING}}),G7=e=>({...e,...e.DkimSigningAttributes&&{DkimSigningAttributes:VB(e.DkimSigningAttributes)}}),jB=e=>({...e,...e.FromEmailAddress&&{FromEmailAddress:f.SENSITIVE_STRING},...e.Destination&&{Destination:f.SENSITIVE_STRING},...e.Subject&&{Subject:f.SENSITIVE_STRING}}),$7=e=>({...e,...e.Include&&{Include:jB(e.Include)},...e.Exclude&&{Exclude:jB(e.Exclude)}}),HB=e=>({...e,...e.MessageInsightsDataSource&&{MessageInsightsDataSource:$7(e.MessageInsightsDataSource)}}),W7=e=>({...e,...e.ExportDataSource&&{ExportDataSource:HB(e.ExportDataSource)}}),J7=e=>({...e,...e.Destination&&{Destination:f.SENSITIVE_STRING}}),X7=e=>({...e,...e.Details&&{Details:K7(e.Details)}}),Y7=e=>({...e,...e.ExportDataSource&&{ExportDataSource:HB(e.ExportDataSource)}}),Q7=e=>({...e,...e.FromEmailAddress&&{FromEmailAddress:f.SENSITIVE_STRING},...e.Subject&&{Subject:f.SENSITIVE_STRING},...e.Insights&&{Insights:e.Insights.map(t=>J7(t))}}),FIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/metrics/batch");let s;return s=JSON.stringify(f.take(e,{Queries:i=>rPe(i)})),r.m("POST").h(n).b(s),r.build()},qIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/export-jobs/{JobId}/cancel"),r.p("JobId",()=>e.JobId,"{JobId}",!1),r.m("PUT").h(n).b(void 0),r.build()},jIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets");let s;return s=JSON.stringify(f.take(e,{ArchivingOptions:i=>f._json(i),ConfigurationSetName:[],DeliveryOptions:i=>f._json(i),ReputationOptions:i=>fPe(i),SendingOptions:i=>f._json(i),SuppressionOptions:i=>f._json(i),Tags:i=>f._json(i),TrackingOptions:i=>f._json(i),VdmOptions:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},VIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/event-destinations"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{EventDestination:i=>f._json(i),EventDestinationName:[]})),r.m("POST").h(n).b(s),r.build()},HIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/contact-lists/{ContactListName}/contacts"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1);let s;return s=JSON.stringify(f.take(e,{AttributesData:[],EmailAddress:[],TopicPreferences:i=>f._json(i),UnsubscribeAll:[]})),r.m("POST").h(n).b(s),r.build()},zIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/contact-lists");let s;return s=JSON.stringify(f.take(e,{ContactListName:[],Description:[],Tags:i=>f._json(i),Topics:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},KIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/custom-verification-email-templates");let s;return s=JSON.stringify(f.take(e,{FailureRedirectionURL:[],FromEmailAddress:[],SuccessRedirectionURL:[],TemplateContent:[],TemplateName:[],TemplateSubject:[]})),r.m("POST").h(n).b(s),r.build()},GIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/dedicated-ip-pools");let s;return s=JSON.stringify(f.take(e,{PoolName:[],ScalingMode:[],Tags:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},$Ie=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/deliverability-dashboard/test");let s;return s=JSON.stringify(f.take(e,{Content:i=>eX(i,t),FromEmailAddress:[],ReportName:[],Tags:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},WIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities");let s;return s=JSON.stringify(f.take(e,{ConfigurationSetName:[],DkimSigningAttributes:i=>f._json(i),EmailIdentity:[],Tags:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},JIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/policies/{PolicyName}"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.p("PolicyName",()=>e.PolicyName,"{PolicyName}",!1);let s;return s=JSON.stringify(f.take(e,{Policy:[]})),r.m("POST").h(n).b(s),r.build()},XIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/templates");let s;return s=JSON.stringify(f.take(e,{TemplateContent:i=>f._json(i),TemplateName:[]})),r.m("POST").h(n).b(s),r.build()},YIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/export-jobs");let s;return s=JSON.stringify(f.take(e,{ExportDataSource:i=>aPe(i),ExportDestination:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},QIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/import-jobs");let s;return s=JSON.stringify(f.take(e,{ImportDataSource:i=>f._json(i),ImportDestination:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},ZIe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/multi-region-endpoints");let s;return s=JSON.stringify(f.take(e,{Details:i=>f._json(i),EndpointName:[],Tags:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},eTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants");let s;return s=JSON.stringify(f.take(e,{Tags:i=>f._json(i),TenantName:[]})),r.m("POST").h(n).b(s),r.build()},tTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/resources");let s;return s=JSON.stringify(f.take(e,{ResourceArn:[],TenantName:[]})),r.m("POST").h(n).b(s),r.build()},rTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/configuration-sets/{ConfigurationSetName}"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},nTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/event-destinations/{EventDestinationName}"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1),r.p("EventDestinationName",()=>e.EventDestinationName,"{EventDestinationName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},sTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/contact-lists/{ContactListName}/contacts/{EmailAddress}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1),r.p("EmailAddress",()=>e.EmailAddress,"{EmailAddress}",!1),r.m("DELETE").h(n).b(void 0),r.build()},iTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/contact-lists/{ContactListName}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},oTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/custom-verification-email-templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},aTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/dedicated-ip-pools/{PoolName}"),r.p("PoolName",()=>e.PoolName,"{PoolName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},cTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/identities/{EmailIdentity}"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.m("DELETE").h(n).b(void 0),r.build()},lTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/identities/{EmailIdentity}/policies/{PolicyName}"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.p("PolicyName",()=>e.PolicyName,"{PolicyName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},dTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},uTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/multi-region-endpoints/{EndpointName}"),r.p("EndpointName",()=>e.EndpointName,"{EndpointName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},fTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/suppression/addresses/{EmailAddress}"),r.p("EmailAddress",()=>e.EmailAddress,"{EmailAddress}",!1),r.m("DELETE").h(n).b(void 0),r.build()},mTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/delete");let s;return s=JSON.stringify(f.take(e,{TenantName:[]})),r.m("POST").h(n).b(s),r.build()},hTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/resources/delete");let s;return s=JSON.stringify(f.take(e,{ResourceArn:[],TenantName:[]})),r.m("POST").h(n).b(s),r.build()},pTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/account"),r.m("GET").h(n).b(void 0),r.build()},gTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/deliverability-dashboard/blacklist-report");let s=f.map({[V7]:[f.expectNonNull(e.BlacklistItemNames,"BlacklistItemNames")!=null,()=>e[V7]||[]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},yTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/configuration-sets/{ConfigurationSetName}"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1),r.m("GET").h(n).b(void 0),r.build()},ETe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/event-destinations"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1),r.m("GET").h(n).b(void 0),r.build()},STe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/contact-lists/{ContactListName}/contacts/{EmailAddress}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1),r.p("EmailAddress",()=>e.EmailAddress,"{EmailAddress}",!1),r.m("GET").h(n).b(void 0),r.build()},CTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/contact-lists/{ContactListName}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1),r.m("GET").h(n).b(void 0),r.build()},bTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/custom-verification-email-templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1),r.m("GET").h(n).b(void 0),r.build()},_Te=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/dedicated-ips/{Ip}"),r.p("Ip",()=>e.Ip,"{Ip}",!1),r.m("GET").h(n).b(void 0),r.build()},vTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/dedicated-ip-pools/{PoolName}"),r.p("PoolName",()=>e.PoolName,"{PoolName}",!1),r.m("GET").h(n).b(void 0),r.build()},ATe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/dedicated-ips");let s=f.map({[H7]:[,e[H7]],[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},xTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/deliverability-dashboard"),r.m("GET").h(n).b(void 0),r.build()},ITe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/deliverability-dashboard/test-reports/{ReportId}"),r.p("ReportId",()=>e.ReportId,"{ReportId}",!1),r.m("GET").h(n).b(void 0),r.build()},TTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/deliverability-dashboard/campaigns/{CampaignId}"),r.p("CampaignId",()=>e.CampaignId,"{CampaignId}",!1),r.m("GET").h(n).b(void 0),r.build()},wTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/deliverability-dashboard/statistics-report/{Domain}"),r.p("Domain",()=>e.Domain,"{Domain}",!1);let s=f.map({[Zm]:[f.expectNonNull(e.StartDate,"StartDate")!=null,()=>f.serializeDateTime(e[Zm]).toString()],[Qm]:[f.expectNonNull(e.EndDate,"EndDate")!=null,()=>f.serializeDateTime(e[Qm]).toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},NTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/identities/{EmailIdentity}"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.m("GET").h(n).b(void 0),r.build()},RTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/identities/{EmailIdentity}/policies"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.m("GET").h(n).b(void 0),r.build()},PTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1),r.m("GET").h(n).b(void 0),r.build()},OTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/export-jobs/{JobId}"),r.p("JobId",()=>e.JobId,"{JobId}",!1),r.m("GET").h(n).b(void 0),r.build()},DTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/import-jobs/{JobId}"),r.p("JobId",()=>e.JobId,"{JobId}",!1),r.m("GET").h(n).b(void 0),r.build()},kTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/insights/{MessageId}"),r.p("MessageId",()=>e.MessageId,"{MessageId}",!1),r.m("GET").h(n).b(void 0),r.build()},BTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/multi-region-endpoints/{EndpointName}"),r.p("EndpointName",()=>e.EndpointName,"{EndpointName}",!1),r.m("GET").h(n).b(void 0),r.build()},LTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/reputation/entities/{ReputationEntityType}/{ReputationEntityReference}"),r.p("ReputationEntityReference",()=>e.ReputationEntityReference,"{ReputationEntityReference}",!1),r.p("ReputationEntityType",()=>e.ReputationEntityType,"{ReputationEntityType}",!1),r.m("GET").h(n).b(void 0),r.build()},MTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};return r.bp("/v2/email/suppression/addresses/{EmailAddress}"),r.p("EmailAddress",()=>e.EmailAddress,"{EmailAddress}",!1),r.m("GET").h(n).b(void 0),r.build()},UTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/get");let s;return s=JSON.stringify(f.take(e,{TenantName:[]})),r.m("POST").h(n).b(s),r.build()},FTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/configuration-sets");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},qTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/contact-lists");let s=f.map({[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()],[bn]:[,e[bn]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},jTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/contact-lists/{ContactListName}/contacts/list"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1);let s;return s=JSON.stringify(f.take(e,{Filter:i=>f._json(i),NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},VTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/custom-verification-email-templates");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},HTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/dedicated-ip-pools");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},zTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/deliverability-dashboard/test-reports");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},KTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/deliverability-dashboard/domains/{SubscribedDomain}/campaigns"),r.p("SubscribedDomain",()=>e.SubscribedDomain,"{SubscribedDomain}",!1);let s=f.map({[Zm]:[f.expectNonNull(e.StartDate,"StartDate")!=null,()=>f.serializeDateTime(e[Zm]).toString()],[Qm]:[f.expectNonNull(e.EndDate,"EndDate")!=null,()=>f.serializeDateTime(e[Qm]).toString()],[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},GTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/identities");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},$Te=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/templates");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},WTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/list-export-jobs");let s;return s=JSON.stringify(f.take(e,{ExportSourceType:[],JobStatus:[],NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},JTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/import-jobs/list");let s;return s=JSON.stringify(f.take(e,{ImportDestinationType:[],NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},XTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/multi-region-endpoints");let s=f.map({[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},YTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/vdm/recommendations");let s;return s=JSON.stringify(f.take(e,{Filter:i=>f._json(i),NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},QTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/reputation/entities");let s;return s=JSON.stringify(f.take(e,{Filter:i=>f._json(i),NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},ZTe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/resources/tenants/list");let s;return s=JSON.stringify(f.take(e,{NextToken:[],PageSize:[],ResourceArn:[]})),r.m("POST").h(n).b(s),r.build()},ewe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/suppression/addresses");let s=f.map({[c1e]:[()=>e.Reasons!==void 0,()=>e[a1e]||[]],[Zm]:[()=>e.StartDate!==void 0,()=>f.serializeDateTime(e[Zm]).toString()],[Qm]:[()=>e.EndDate!==void 0,()=>f.serializeDateTime(e[Qm]).toString()],[bn]:[,e[bn]],[_n]:[()=>e.PageSize!==void 0,()=>e[_n].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},twe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/tags");let s=f.map({[w_]:[,f.expectNonNull(e[w_],"ResourceArn")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},rwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/resources/list");let s;return s=JSON.stringify(f.take(e,{Filter:i=>f._json(i),NextToken:[],PageSize:[],TenantName:[]})),r.m("POST").h(n).b(s),r.build()},nwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tenants/list");let s;return s=JSON.stringify(f.take(e,{NextToken:[],PageSize:[]})),r.m("POST").h(n).b(s),r.build()},swe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/account/dedicated-ips/warmup");let s;return s=JSON.stringify(f.take(e,{AutoWarmupEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},iwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/account/details");let s;return s=JSON.stringify(f.take(e,{AdditionalContactEmailAddresses:i=>f._json(i),ContactLanguage:[],MailType:[],ProductionAccessEnabled:[],UseCaseDescription:[],WebsiteURL:[]})),r.m("POST").h(n).b(s),r.build()},owe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/account/sending");let s;return s=JSON.stringify(f.take(e,{SendingEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},awe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/account/suppression");let s;return s=JSON.stringify(f.take(e,{SuppressedReasons:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},cwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/account/vdm");let s;return s=JSON.stringify(f.take(e,{VdmAttributes:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},lwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/archiving-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{ArchiveArn:[]})),r.m("PUT").h(n).b(s),r.build()},dwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/delivery-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{MaxDeliverySeconds:[],SendingPoolName:[],TlsPolicy:[]})),r.m("PUT").h(n).b(s),r.build()},uwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/reputation-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{ReputationMetricsEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},fwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/sending"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{SendingEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},mwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/suppression-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{SuppressedReasons:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},hwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/tracking-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{CustomRedirectDomain:[],HttpsPolicy:[]})),r.m("PUT").h(n).b(s),r.build()},pwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/vdm-options"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let s;return s=JSON.stringify(f.take(e,{VdmOptions:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},gwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/dedicated-ips/{Ip}/pool"),r.p("Ip",()=>e.Ip,"{Ip}",!1);let s;return s=JSON.stringify(f.take(e,{DestinationPoolName:[]})),r.m("PUT").h(n).b(s),r.build()},ywe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/dedicated-ip-pools/{PoolName}/scaling"),r.p("PoolName",()=>e.PoolName,"{PoolName}",!1);let s;return s=JSON.stringify(f.take(e,{ScalingMode:[]})),r.m("PUT").h(n).b(s),r.build()},Ewe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/dedicated-ips/{Ip}/warmup"),r.p("Ip",()=>e.Ip,"{Ip}",!1);let s;return s=JSON.stringify(f.take(e,{WarmupPercentage:[]})),r.m("PUT").h(n).b(s),r.build()},Swe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/deliverability-dashboard");let s;return s=JSON.stringify(f.take(e,{DashboardEnabled:[],SubscribedDomains:i=>oPe(i)})),r.m("PUT").h(n).b(s),r.build()},Cwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/configuration-set"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let s;return s=JSON.stringify(f.take(e,{ConfigurationSetName:[]})),r.m("PUT").h(n).b(s),r.build()},bwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/dkim"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let s;return s=JSON.stringify(f.take(e,{SigningEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},_we=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v1/email/identities/{EmailIdentity}/dkim/signing"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let s;return s=JSON.stringify(f.take(e,{SigningAttributes:i=>f._json(i),SigningAttributesOrigin:[]})),r.m("PUT").h(n).b(s),r.build()},vwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/feedback"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let s;return s=JSON.stringify(f.take(e,{EmailForwardingEnabled:[]})),r.m("PUT").h(n).b(s),r.build()},Awe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/mail-from"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let s;return s=JSON.stringify(f.take(e,{BehaviorOnMxFailure:[],MailFromDomain:[]})),r.m("PUT").h(n).b(s),r.build()},xwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/suppression/addresses");let s;return s=JSON.stringify(f.take(e,{EmailAddress:[],Reason:[]})),r.m("PUT").h(n).b(s),r.build()},Iwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/outbound-bulk-emails");let s;return s=JSON.stringify(f.take(e,{BulkEmailEntries:i=>f._json(i),ConfigurationSetName:[],DefaultContent:i=>sPe(i,t),DefaultEmailTags:i=>f._json(i),EndpointId:[],FeedbackForwardingEmailAddress:[],FeedbackForwardingEmailAddressIdentityArn:[],FromEmailAddress:[],FromEmailAddressIdentityArn:[],ReplyToAddresses:i=>f._json(i),TenantName:[]})),r.m("POST").h(n).b(s),r.build()},Twe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/outbound-custom-verification-emails");let s;return s=JSON.stringify(f.take(e,{ConfigurationSetName:[],EmailAddress:[],TemplateName:[]})),r.m("POST").h(n).b(s),r.build()},wwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/outbound-emails");let s;return s=JSON.stringify(f.take(e,{ConfigurationSetName:[],Content:i=>eX(i,t),Destination:i=>f._json(i),EmailTags:i=>f._json(i),EndpointId:[],FeedbackForwardingEmailAddress:[],FeedbackForwardingEmailAddressIdentityArn:[],FromEmailAddress:[],FromEmailAddressIdentityArn:[],ListManagementOptions:i=>f._json(i),ReplyToAddresses:i=>f._json(i),TenantName:[]})),r.m("POST").h(n).b(s),r.build()},Nwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/tags");let s;return s=JSON.stringify(f.take(e,{ResourceArn:[],Tags:i=>f._json(i)})),r.m("POST").h(n).b(s),r.build()},Rwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/templates/{TemplateName}/render"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1);let s;return s=JSON.stringify(f.take(e,{TemplateData:[]})),r.m("POST").h(n).b(s),r.build()},Pwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={};r.bp("/v2/email/tags");let s=f.map({[w_]:[,f.expectNonNull(e[w_],"ResourceArn")],[z7]:[f.expectNonNull(e.TagKeys,"TagKeys")!=null,()=>e[z7]||[]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},Owe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/configuration-sets/{ConfigurationSetName}/event-destinations/{EventDestinationName}"),r.p("ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1),r.p("EventDestinationName",()=>e.EventDestinationName,"{EventDestinationName}",!1);let s;return s=JSON.stringify(f.take(e,{EventDestination:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},Dwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/contact-lists/{ContactListName}/contacts/{EmailAddress}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1),r.p("EmailAddress",()=>e.EmailAddress,"{EmailAddress}",!1);let s;return s=JSON.stringify(f.take(e,{AttributesData:[],TopicPreferences:i=>f._json(i),UnsubscribeAll:[]})),r.m("PUT").h(n).b(s),r.build()},kwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/contact-lists/{ContactListName}"),r.p("ContactListName",()=>e.ContactListName,"{ContactListName}",!1);let s;return s=JSON.stringify(f.take(e,{Description:[],Topics:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},Bwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/custom-verification-email-templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1);let s;return s=JSON.stringify(f.take(e,{FailureRedirectionURL:[],FromEmailAddress:[],SuccessRedirectionURL:[],TemplateContent:[],TemplateSubject:[]})),r.m("PUT").h(n).b(s),r.build()},Lwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/identities/{EmailIdentity}/policies/{PolicyName}"),r.p("EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1),r.p("PolicyName",()=>e.PolicyName,"{PolicyName}",!1);let s;return s=JSON.stringify(f.take(e,{Policy:[]})),r.m("PUT").h(n).b(s),r.build()},Mwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/templates/{TemplateName}"),r.p("TemplateName",()=>e.TemplateName,"{TemplateName}",!1);let s;return s=JSON.stringify(f.take(e,{TemplateContent:i=>f._json(i)})),r.m("PUT").h(n).b(s),r.build()},Uwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/reputation/entities/{ReputationEntityType}/{ReputationEntityReference}/customer-managed-status"),r.p("ReputationEntityType",()=>e.ReputationEntityType,"{ReputationEntityType}",!1),r.p("ReputationEntityReference",()=>e.ReputationEntityReference,"{ReputationEntityReference}",!1);let s;return s=JSON.stringify(f.take(e,{SendingStatus:[]})),r.m("PUT").h(n).b(s),r.build()},Fwe=async(e,t)=>{let r=Y.requestBuilder(e,t),n={"content-type":"application/json"};r.bp("/v2/email/reputation/entities/{ReputationEntityType}/{ReputationEntityReference}/policy"),r.p("ReputationEntityType",()=>e.ReputationEntityType,"{ReputationEntityType}",!1),r.p("ReputationEntityReference",()=>e.ReputationEntityReference,"{ReputationEntityReference}",!1);let s;return s=JSON.stringify(f.take(e,{ReputationEntityPolicy:[]})),r.m("PUT").h(n).b(s),r.build()},qwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Errors:f._json,Results:i=>jPe(i)});return Object.assign(r,s),r},jwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Vwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Hwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},zwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Kwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Gwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},$we=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Wwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DeliverabilityTestStatus:f.expectString,ReportId:f.expectString});return Object.assign(r,s),r},Jwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DkimAttributes:i=>nX(i),IdentityType:f.expectString,VerifiedForSendingStatus:f.expectBoolean});return Object.assign(r,s),r},Xwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Ywe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},Qwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{JobId:f.expectString});return Object.assign(r,s),r},Zwe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{JobId:f.expectString});return Object.assign(r,s),r},eNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{EndpointId:f.expectString,Status:f.expectString});return Object.assign(r,s),r},tNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),SendingStatus:f.expectString,Tags:f._json,TenantArn:f.expectString,TenantId:f.expectString,TenantName:f.expectString});return Object.assign(r,s),r},rNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},nNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},sNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},iNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},oNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},aNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},cNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},lNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},dNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},uNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},fNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Status:f.expectString});return Object.assign(r,s),r},mNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},hNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},pNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},gNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DedicatedIpAutoWarmupEnabled:f.expectBoolean,Details:f._json,EnforcementStatus:f.expectString,ProductionAccessEnabled:f.expectBoolean,SendQuota:i=>QPe(i),SendingEnabled:f.expectBoolean,SuppressionAttributes:f._json,VdmAttributes:f._json});return Object.assign(r,s),r},yNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{BlacklistReport:i=>pPe(i)});return Object.assign(r,s),r},ENe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ArchivingOptions:f._json,ConfigurationSetName:f.expectString,DeliveryOptions:f._json,ReputationOptions:i=>JPe(i),SendingOptions:f._json,SuppressionOptions:f._json,Tags:f._json,TrackingOptions:f._json,VdmOptions:f._json});return Object.assign(r,s),r},SNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{EventDestinations:f._json});return Object.assign(r,s),r},CNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{AttributesData:f.expectString,ContactListName:f.expectString,CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),EmailAddress:f.expectString,LastUpdatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),TopicDefaultPreferences:f._json,TopicPreferences:f._json,UnsubscribeAll:f.expectBoolean});return Object.assign(r,s),r},bNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ContactListName:f.expectString,CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),Description:f.expectString,LastUpdatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),Tags:f._json,Topics:f._json});return Object.assign(r,s),r},_Ne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{FailureRedirectionURL:f.expectString,FromEmailAddress:f.expectString,SuccessRedirectionURL:f.expectString,TemplateContent:f.expectString,TemplateName:f.expectString,TemplateSubject:f.expectString});return Object.assign(r,s),r},vNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DedicatedIp:f._json});return Object.assign(r,s),r},ANe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DedicatedIpPool:f._json});return Object.assign(r,s),r},xNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DedicatedIps:f._json,NextToken:f.expectString});return Object.assign(r,s),r},INe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{AccountStatus:f.expectString,ActiveSubscribedDomains:i=>q7(i),DashboardEnabled:f.expectBoolean,PendingExpirationSubscribedDomains:i=>q7(i),SubscriptionExpiryDate:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i)))});return Object.assign(r,s),r},TNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DeliverabilityTestReport:i=>rX(i),IspPlacements:i=>LPe(i),Message:f.expectString,OverallPlacement:i=>oX(i),Tags:f._json});return Object.assign(r,s),r},wNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DomainDeliverabilityCampaign:i=>sX(i)});return Object.assign(r,s),r},NNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DailyVolumes:i=>SPe(i),OverallVolume:i=>KPe(i)});return Object.assign(r,s),r},RNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ConfigurationSetName:f.expectString,DkimAttributes:i=>nX(i),FeedbackForwardingStatus:f.expectBoolean,IdentityType:f.expectString,MailFromAttributes:f._json,Policies:f._json,Tags:f._json,VerificationInfo:i=>o1e(i),VerificationStatus:f.expectString,VerifiedForSendingStatus:f.expectBoolean});return Object.assign(r,s),r},PNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Policies:f._json});return Object.assign(r,s),r},ONe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{TemplateContent:f._json,TemplateName:f.expectString});return Object.assign(r,s),r},DNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{CompletedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),ExportDataSource:i=>wPe(i),ExportDestination:f._json,ExportSourceType:f.expectString,FailureInfo:f._json,JobId:f.expectString,JobStatus:f.expectString,Statistics:f._json});return Object.assign(r,s),r},kNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{CompletedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),FailedRecordsCount:f.expectInt32,FailureInfo:f._json,ImportDataSource:f._json,ImportDestination:f._json,JobId:f.expectString,JobStatus:f.expectString,ProcessedRecordsCount:f.expectInt32});return Object.assign(r,s),r},BNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{EmailTags:f._json,FromEmailAddress:f.expectString,Insights:i=>xPe(i),MessageId:f.expectString,Subject:f.expectString});return Object.assign(r,s),r},LNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{CreatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),EndpointId:f.expectString,EndpointName:f.expectString,LastUpdatedTimestamp:i=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(i))),Routes:f._json,Status:f.expectString});return Object.assign(r,s),r},MNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ReputationEntity:i=>aX(i)});return Object.assign(r,s),r},UNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{SuppressedDestination:i=>ZPe(i)});return Object.assign(r,s),r},FNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Tenant:i=>r1e(i)});return Object.assign(r,s),r},qNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ConfigurationSets:f._json,NextToken:f.expectString});return Object.assign(r,s),r},jNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ContactLists:i=>MPe(i),NextToken:f.expectString});return Object.assign(r,s),r},VNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Contacts:i=>UPe(i),NextToken:f.expectString});return Object.assign(r,s),r},HNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{CustomVerificationEmailTemplates:f._json,NextToken:f.expectString});return Object.assign(r,s),r},zNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DedicatedIpPools:f._json,NextToken:f.expectString});return Object.assign(r,s),r},KNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DeliverabilityTestReports:i=>CPe(i),NextToken:f.expectString});return Object.assign(r,s),r},GNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DomainDeliverabilityCampaigns:i=>bPe(i),NextToken:f.expectString});return Object.assign(r,s),r},$Ne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{EmailIdentities:f._json,NextToken:f.expectString});return Object.assign(r,s),r},WNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,TemplatesMetadata:i=>TPe(i)});return Object.assign(r,s),r},JNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ExportJobs:i=>RPe(i),NextToken:f.expectString});return Object.assign(r,s),r},XNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{ImportJobs:i=>OPe(i),NextToken:f.expectString});return Object.assign(r,s),r},YNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{MultiRegionEndpoints:i=>zPe(i),NextToken:f.expectString});return Object.assign(r,s),r},QNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,Recommendations:i=>$Pe(i)});return Object.assign(r,s),r},ZNe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,ReputationEntities:i=>WPe(i)});return Object.assign(r,s),r},eRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,ResourceTenants:i=>YPe(i)});return Object.assign(r,s),r},tRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,SuppressedDestinationSummaries:i=>e1e(i)});return Object.assign(r,s),r},rRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{Tags:f._json});return Object.assign(r,s),r},nRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,TenantResources:f._json});return Object.assign(r,s),r},sRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{NextToken:f.expectString,Tenants:i=>s1e(i)});return Object.assign(r,s),r},iRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},oRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},aRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},cRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},lRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},dRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},uRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},fRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},mRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},hRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},pRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},gRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},yRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},ERe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},SRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},CRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},bRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},_Re=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},vRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{DkimStatus:f.expectString,DkimTokens:f._json});return Object.assign(r,s),r},ARe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},xRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},IRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},TRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{BulkEmailEntryResults:f._json});return Object.assign(r,s),r},wRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{MessageId:f.expectString});return Object.assign(r,s),r},NRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{MessageId:f.expectString});return Object.assign(r,s),r},RRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},PRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)}),n=f.expectNonNull(f.expectObject(await We.parseJsonBody(e.body,t)),"body"),s=f.take(n,{RenderedTemplate:f.expectString});return Object.assign(r,s),r},ORe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},DRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},kRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},BRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},LRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},MRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},URe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},FRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},qRe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ce(e,t);let r=f.map({$metadata:ee(e)});return await f.collectBody(e.body,t),r},ce=async(e,t)=>{let r={...e,body:await We.parseJsonErrorBody(e.body,t)},n=We.loadRestJsonErrorCode(e,r.body);switch(n){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await zRe(r);case"InternalServiceErrorException":case"com.amazonaws.sesv2#InternalServiceErrorException":throw await $Re(r);case"NotFoundException":case"com.amazonaws.sesv2#NotFoundException":throw await QRe(r);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await ePe(r);case"AlreadyExistsException":case"com.amazonaws.sesv2#AlreadyExistsException":throw await HRe(r);case"ConcurrentModificationException":case"com.amazonaws.sesv2#ConcurrentModificationException":throw await KRe(r);case"LimitExceededException":case"com.amazonaws.sesv2#LimitExceededException":throw await JRe(r);case"AccountSuspendedException":case"com.amazonaws.sesv2#AccountSuspendedException":throw await VRe(r);case"MailFromDomainNotVerifiedException":case"com.amazonaws.sesv2#MailFromDomainNotVerifiedException":throw await XRe(r);case"MessageRejected":case"com.amazonaws.sesv2#MessageRejected":throw await YRe(r);case"SendingPausedException":case"com.amazonaws.sesv2#SendingPausedException":throw await ZRe(r);case"InvalidNextTokenException":case"com.amazonaws.sesv2#InvalidNextTokenException":throw await WRe(r);case"ConflictException":case"com.amazonaws.sesv2#ConflictException":throw await GRe(r);default:let s=r.body;return jRe({output:e,parsedBody:s,errorCode:n})}},jRe=f.withBaseException(Bs),VRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new p_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},HRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new g_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},zRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new y_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},KRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new b_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},GRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new __({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},$Re=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new E_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},WRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new T_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},JRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new v_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},XRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new A_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},YRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new x_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},QRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new S_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},ZRe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new I_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},ePe=async(e,t)=>{let r=f.map({}),n=e.body,s=f.take(n,{message:f.expectString});Object.assign(r,s);let i=new C_({$metadata:ee(e),...r});return f.decorateServiceException(i,e.body)},tPe=(e,t)=>f.take(e,{ContentDescription:[],ContentDisposition:[],ContentId:[],ContentTransferEncoding:[],ContentType:[],FileName:[],RawContent:t.base64Encoder}),Z7=(e,t)=>e.filter(r=>r!=null).map(r=>tPe(r,t)),rPe=(e,t)=>e.filter(r=>r!=null).map(r=>nPe(r)),nPe=(e,t)=>f.take(e,{Dimensions:f._json,EndDate:r=>r.getTime()/1e3,Id:[],Metric:[],Namespace:[],StartDate:r=>r.getTime()/1e3}),sPe=(e,t)=>f.take(e,{Template:r=>tX(r,t)}),iPe=(e,t)=>f.take(e,{Domain:[],InboxPlacementTrackingOption:f._json,SubscriptionStartDate:r=>r.getTime()/1e3}),oPe=(e,t)=>e.filter(r=>r!=null).map(r=>iPe(r)),eX=(e,t)=>f.take(e,{Raw:r=>uPe(r,t),Simple:r=>cPe(r,t),Template:r=>tX(r,t)}),aPe=(e,t)=>f.take(e,{MessageInsightsDataSource:r=>lPe(r),MetricsDataSource:r=>dPe(r)}),cPe=(e,t)=>f.take(e,{Attachments:r=>Z7(r,t),Body:f._json,Headers:f._json,Subject:f._json}),lPe=(e,t)=>f.take(e,{EndDate:r=>r.getTime()/1e3,Exclude:f._json,Include:f._json,MaxResults:[],StartDate:r=>r.getTime()/1e3}),dPe=(e,t)=>f.take(e,{Dimensions:f._json,EndDate:r=>r.getTime()/1e3,Metrics:f._json,Namespace:[],StartDate:r=>r.getTime()/1e3}),uPe=(e,t)=>f.take(e,{Data:t.base64Encoder}),fPe=(e,t)=>f.take(e,{LastFreshStart:r=>r.getTime()/1e3,ReputationMetricsEnabled:[]}),tX=(e,t)=>f.take(e,{Attachments:r=>Z7(r,t),Headers:f._json,TemplateArn:[],TemplateContent:f._json,TemplateData:[],TemplateName:[]}),mPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>hPe(n)),hPe=(e,t)=>f.take(e,{Description:f.expectString,ListingTime:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),RblName:f.expectString}),pPe=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=mPe(s)),r),{}),gPe=(e,t)=>f.take(e,{EmailAddress:f.expectString,LastUpdatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),TopicDefaultPreferences:f._json,TopicPreferences:f._json,UnsubscribeAll:f.expectBoolean}),yPe=(e,t)=>f.take(e,{ContactListName:f.expectString,LastUpdatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r)))}),EPe=(e,t)=>f.take(e,{DomainIspPlacements:r=>iX(r),StartDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),VolumeStatistics:f._json}),SPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>EPe(n)),rX=(e,t)=>f.take(e,{CreateDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),DeliverabilityTestStatus:f.expectString,FromEmailAddress:f.expectString,ReportId:f.expectString,ReportName:f.expectString,Subject:f.expectString}),CPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>rX(n)),nX=(e,t)=>f.take(e,{CurrentSigningKeyLength:f.expectString,LastKeyGenerationTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),NextSigningKeyLength:f.expectString,SigningAttributesOrigin:f.expectString,SigningEnabled:f.expectBoolean,Status:f.expectString,Tokens:f._json}),sX=(e,t)=>f.take(e,{CampaignId:f.expectString,DeleteRate:f.limitedParseDouble,Esps:f._json,FirstSeenDateTime:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),FromAddress:f.expectString,ImageUrl:f.expectString,InboxCount:f.expectLong,LastSeenDateTime:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),ProjectedVolume:f.expectLong,ReadDeleteRate:f.limitedParseDouble,ReadRate:f.limitedParseDouble,SendingIps:f._json,SpamCount:f.expectLong,Subject:f.expectString}),bPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>sX(n)),_Pe=(e,t)=>f.take(e,{Domain:f.expectString,InboxPlacementTrackingOption:f._json,SubscriptionStartDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r)))}),q7=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>_Pe(n)),vPe=(e,t)=>f.take(e,{InboxPercentage:f.limitedParseDouble,InboxRawCount:f.expectLong,IspName:f.expectString,SpamPercentage:f.limitedParseDouble,SpamRawCount:f.expectLong}),iX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>vPe(n)),APe=(e,t)=>f.take(e,{Destination:f.expectString,Events:r=>kPe(r),Isp:f.expectString}),xPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>APe(n)),IPe=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),TemplateName:f.expectString}),TPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>IPe(n)),wPe=(e,t)=>f.take(e,{MessageInsightsDataSource:r=>FPe(r),MetricsDataSource:r=>VPe(r)}),NPe=(e,t)=>f.take(e,{CompletedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),ExportSourceType:f.expectString,JobId:f.expectString,JobStatus:f.expectString}),RPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>NPe(n)),PPe=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),FailedRecordsCount:f.expectInt32,ImportDestination:f._json,JobId:f.expectString,JobStatus:f.expectString,ProcessedRecordsCount:f.expectInt32}),OPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>PPe(n)),DPe=(e,t)=>f.take(e,{Details:f._json,Timestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Type:f.expectString}),kPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>DPe(n)),BPe=(e,t)=>f.take(e,{IspName:f.expectString,PlacementStatistics:r=>oX(r)}),LPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>BPe(n)),MPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>yPe(n)),UPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>gPe(n)),FPe=(e,t)=>f.take(e,{EndDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Exclude:f._json,Include:f._json,MaxResults:f.expectInt32,StartDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r)))}),qPe=(e,t)=>f.take(e,{Id:f.expectString,Timestamps:r=>i1e(r),Values:f._json}),jPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>qPe(n)),VPe=(e,t)=>f.take(e,{Dimensions:f._json,EndDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Metrics:f._json,Namespace:f.expectString,StartDate:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r)))}),HPe=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),EndpointId:f.expectString,EndpointName:f.expectString,LastUpdatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Regions:f._json,Status:f.expectString}),zPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>HPe(n)),KPe=(e,t)=>f.take(e,{DomainIspPlacements:r=>iX(r),ReadRatePercent:f.limitedParseDouble,VolumeStatistics:f._json}),oX=(e,t)=>f.take(e,{DkimPercentage:f.limitedParseDouble,InboxPercentage:f.limitedParseDouble,MissingPercentage:f.limitedParseDouble,SpamPercentage:f.limitedParseDouble,SpfPercentage:f.limitedParseDouble}),GPe=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Description:f.expectString,Impact:f.expectString,LastUpdatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),ResourceArn:f.expectString,Status:f.expectString,Type:f.expectString}),$Pe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>GPe(n)),WPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aX(n)),aX=(e,t)=>f.take(e,{AwsSesManagedStatus:r=>j7(r),CustomerManagedStatus:r=>j7(r),ReputationEntityReference:f.expectString,ReputationEntityType:f.expectString,ReputationImpact:f.expectString,ReputationManagementPolicy:f.expectString,SendingStatusAggregate:f.expectString}),JPe=(e,t)=>f.take(e,{LastFreshStart:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),ReputationMetricsEnabled:f.expectBoolean}),XPe=(e,t)=>f.take(e,{AssociatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),ResourceArn:f.expectString,TenantId:f.expectString,TenantName:f.expectString}),YPe=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>XPe(n)),QPe=(e,t)=>f.take(e,{Max24HourSend:f.limitedParseDouble,MaxSendRate:f.limitedParseDouble,SentLast24Hours:f.limitedParseDouble}),j7=(e,t)=>f.take(e,{Cause:f.expectString,LastUpdatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Status:f.expectString}),ZPe=(e,t)=>f.take(e,{Attributes:f._json,EmailAddress:f.expectString,LastUpdateTime:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Reason:f.expectString}),e1e=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>t1e(n)),t1e=(e,t)=>f.take(e,{EmailAddress:f.expectString,LastUpdateTime:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),Reason:f.expectString}),r1e=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),SendingStatus:f.expectString,Tags:f._json,TenantArn:f.expectString,TenantId:f.expectString,TenantName:f.expectString}),n1e=(e,t)=>f.take(e,{CreatedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),TenantArn:f.expectString,TenantId:f.expectString,TenantName:f.expectString}),s1e=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n1e(n)),i1e=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(n)))),o1e=(e,t)=>f.take(e,{ErrorType:f.expectString,LastCheckedTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),LastSuccessTimestamp:r=>f.expectNonNull(f.parseEpochTimestamp(f.expectNumber(r))),SOARecord:f._json}),ee=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),V7="BlacklistItemNames",Qm="EndDate",bn="NextToken",H7="PoolName",_n="PageSize",a1e="Reasons",w_="ResourceArn",c1e="Reason",Zm="StartDate",z7="TagKeys",N_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","BatchGetMetricData",{}).n("SESv2Client","BatchGetMetricDataCommand").f(void 0,void 0).ser(FIe).de(qwe).build(){},R_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CancelExportJob",{}).n("SESv2Client","CancelExportJobCommand").f(void 0,void 0).ser(qIe).de(jwe).build(){},P_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateConfigurationSet",{}).n("SESv2Client","CreateConfigurationSetCommand").f(void 0,void 0).ser(jIe).de(Vwe).build(){},O_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateConfigurationSetEventDestination",{}).n("SESv2Client","CreateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(VIe).de(Hwe).build(){},D_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateContact",{}).n("SESv2Client","CreateContactCommand").f(void 0,void 0).ser(HIe).de(zwe).build(){},k_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateContactList",{}).n("SESv2Client","CreateContactListCommand").f(void 0,void 0).ser(zIe).de(Kwe).build(){},B_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateCustomVerificationEmailTemplate",{}).n("SESv2Client","CreateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(KIe).de(Gwe).build(){},L_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateDedicatedIpPool",{}).n("SESv2Client","CreateDedicatedIpPoolCommand").f(void 0,void 0).ser(GIe).de($we).build(){},M_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateDeliverabilityTestReport",{}).n("SESv2Client","CreateDeliverabilityTestReportCommand").f(void 0,void 0).ser($Ie).de(Wwe).build(){},U_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateEmailIdentity",{}).n("SESv2Client","CreateEmailIdentityCommand").f(G7,void 0).ser(WIe).de(Jwe).build(){},F_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateEmailIdentityPolicy",{}).n("SESv2Client","CreateEmailIdentityPolicyCommand").f(void 0,void 0).ser(JIe).de(Xwe).build(){},q_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateEmailTemplate",{}).n("SESv2Client","CreateEmailTemplateCommand").f(void 0,void 0).ser(XIe).de(Ywe).build(){},j_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateExportJob",{}).n("SESv2Client","CreateExportJobCommand").f(W7,void 0).ser(YIe).de(Qwe).build(){},V_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateImportJob",{}).n("SESv2Client","CreateImportJobCommand").f(void 0,void 0).ser(QIe).de(Zwe).build(){},H_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateMultiRegionEndpoint",{}).n("SESv2Client","CreateMultiRegionEndpointCommand").f(void 0,void 0).ser(ZIe).de(eNe).build(){},z_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateTenant",{}).n("SESv2Client","CreateTenantCommand").f(void 0,void 0).ser(eTe).de(tNe).build(){},K_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","CreateTenantResourceAssociation",{}).n("SESv2Client","CreateTenantResourceAssociationCommand").f(void 0,void 0).ser(tTe).de(rNe).build(){},G_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteConfigurationSet",{}).n("SESv2Client","DeleteConfigurationSetCommand").f(void 0,void 0).ser(rTe).de(nNe).build(){},$_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteConfigurationSetEventDestination",{}).n("SESv2Client","DeleteConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(nTe).de(sNe).build(){},W_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteContact",{}).n("SESv2Client","DeleteContactCommand").f(void 0,void 0).ser(sTe).de(iNe).build(){},J_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteContactList",{}).n("SESv2Client","DeleteContactListCommand").f(void 0,void 0).ser(iTe).de(oNe).build(){},X_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteCustomVerificationEmailTemplate",{}).n("SESv2Client","DeleteCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(oTe).de(aNe).build(){},Y_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteDedicatedIpPool",{}).n("SESv2Client","DeleteDedicatedIpPoolCommand").f(void 0,void 0).ser(aTe).de(cNe).build(){},Q_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteEmailIdentity",{}).n("SESv2Client","DeleteEmailIdentityCommand").f(void 0,void 0).ser(cTe).de(lNe).build(){},Z_=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteEmailIdentityPolicy",{}).n("SESv2Client","DeleteEmailIdentityPolicyCommand").f(void 0,void 0).ser(lTe).de(dNe).build(){},ev=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteEmailTemplate",{}).n("SESv2Client","DeleteEmailTemplateCommand").f(void 0,void 0).ser(dTe).de(uNe).build(){},tv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteMultiRegionEndpoint",{}).n("SESv2Client","DeleteMultiRegionEndpointCommand").f(void 0,void 0).ser(uTe).de(fNe).build(){},rv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteSuppressedDestination",{}).n("SESv2Client","DeleteSuppressedDestinationCommand").f(void 0,void 0).ser(fTe).de(mNe).build(){},nv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteTenant",{}).n("SESv2Client","DeleteTenantCommand").f(void 0,void 0).ser(mTe).de(hNe).build(){},sv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","DeleteTenantResourceAssociation",{}).n("SESv2Client","DeleteTenantResourceAssociationCommand").f(void 0,void 0).ser(hTe).de(pNe).build(){},iv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetAccount",{}).n("SESv2Client","GetAccountCommand").f(void 0,X7).ser(pTe).de(gNe).build(){},ov=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetBlacklistReports",{}).n("SESv2Client","GetBlacklistReportsCommand").f(void 0,void 0).ser(gTe).de(yNe).build(){},av=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetConfigurationSet",{}).n("SESv2Client","GetConfigurationSetCommand").f(void 0,void 0).ser(yTe).de(ENe).build(){},cv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetConfigurationSetEventDestinations",{}).n("SESv2Client","GetConfigurationSetEventDestinationsCommand").f(void 0,void 0).ser(ETe).de(SNe).build(){},lv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetContact",{}).n("SESv2Client","GetContactCommand").f(void 0,void 0).ser(STe).de(CNe).build(){},dv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetContactList",{}).n("SESv2Client","GetContactListCommand").f(void 0,void 0).ser(CTe).de(bNe).build(){},uv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetCustomVerificationEmailTemplate",{}).n("SESv2Client","GetCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(bTe).de(_Ne).build(){},fv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDedicatedIp",{}).n("SESv2Client","GetDedicatedIpCommand").f(void 0,void 0).ser(_Te).de(vNe).build(){},mv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDedicatedIpPool",{}).n("SESv2Client","GetDedicatedIpPoolCommand").f(void 0,void 0).ser(vTe).de(ANe).build(){},nE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDedicatedIps",{}).n("SESv2Client","GetDedicatedIpsCommand").f(void 0,void 0).ser(ATe).de(xNe).build(){},hv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDeliverabilityDashboardOptions",{}).n("SESv2Client","GetDeliverabilityDashboardOptionsCommand").f(void 0,void 0).ser(xTe).de(INe).build(){},pv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDeliverabilityTestReport",{}).n("SESv2Client","GetDeliverabilityTestReportCommand").f(void 0,void 0).ser(ITe).de(TNe).build(){},gv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDomainDeliverabilityCampaign",{}).n("SESv2Client","GetDomainDeliverabilityCampaignCommand").f(void 0,void 0).ser(TTe).de(wNe).build(){},yv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetDomainStatisticsReport",{}).n("SESv2Client","GetDomainStatisticsReportCommand").f(void 0,void 0).ser(wTe).de(NNe).build(){},Ev=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetEmailIdentity",{}).n("SESv2Client","GetEmailIdentityCommand").f(void 0,void 0).ser(NTe).de(RNe).build(){},Sv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetEmailIdentityPolicies",{}).n("SESv2Client","GetEmailIdentityPoliciesCommand").f(void 0,void 0).ser(RTe).de(PNe).build(){},Cv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetEmailTemplate",{}).n("SESv2Client","GetEmailTemplateCommand").f(void 0,void 0).ser(PTe).de(ONe).build(){},bv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetExportJob",{}).n("SESv2Client","GetExportJobCommand").f(void 0,Y7).ser(OTe).de(DNe).build(){},_v=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetImportJob",{}).n("SESv2Client","GetImportJobCommand").f(void 0,void 0).ser(DTe).de(kNe).build(){},vv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetMessageInsights",{}).n("SESv2Client","GetMessageInsightsCommand").f(void 0,Q7).ser(kTe).de(BNe).build(){},Av=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetMultiRegionEndpoint",{}).n("SESv2Client","GetMultiRegionEndpointCommand").f(void 0,void 0).ser(BTe).de(LNe).build(){},xv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetReputationEntity",{}).n("SESv2Client","GetReputationEntityCommand").f(void 0,void 0).ser(LTe).de(MNe).build(){},Iv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetSuppressedDestination",{}).n("SESv2Client","GetSuppressedDestinationCommand").f(void 0,void 0).ser(MTe).de(UNe).build(){},Tv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","GetTenant",{}).n("SESv2Client","GetTenantCommand").f(void 0,void 0).ser(UTe).de(FNe).build(){},sE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListConfigurationSets",{}).n("SESv2Client","ListConfigurationSetsCommand").f(void 0,void 0).ser(FTe).de(qNe).build(){},iE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListContactLists",{}).n("SESv2Client","ListContactListsCommand").f(void 0,void 0).ser(qTe).de(jNe).build(){},oE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListContacts",{}).n("SESv2Client","ListContactsCommand").f(void 0,void 0).ser(jTe).de(VNe).build(){},aE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListCustomVerificationEmailTemplates",{}).n("SESv2Client","ListCustomVerificationEmailTemplatesCommand").f(void 0,void 0).ser(VTe).de(HNe).build(){},cE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListDedicatedIpPools",{}).n("SESv2Client","ListDedicatedIpPoolsCommand").f(void 0,void 0).ser(HTe).de(zNe).build(){},lE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListDeliverabilityTestReports",{}).n("SESv2Client","ListDeliverabilityTestReportsCommand").f(void 0,void 0).ser(zTe).de(KNe).build(){},dE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListDomainDeliverabilityCampaigns",{}).n("SESv2Client","ListDomainDeliverabilityCampaignsCommand").f(void 0,void 0).ser(KTe).de(GNe).build(){},uE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListEmailIdentities",{}).n("SESv2Client","ListEmailIdentitiesCommand").f(void 0,void 0).ser(GTe).de($Ne).build(){},fE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListEmailTemplates",{}).n("SESv2Client","ListEmailTemplatesCommand").f(void 0,void 0).ser($Te).de(WNe).build(){},mE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListExportJobs",{}).n("SESv2Client","ListExportJobsCommand").f(void 0,void 0).ser(WTe).de(JNe).build(){},hE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListImportJobs",{}).n("SESv2Client","ListImportJobsCommand").f(void 0,void 0).ser(JTe).de(XNe).build(){},pE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListMultiRegionEndpoints",{}).n("SESv2Client","ListMultiRegionEndpointsCommand").f(void 0,void 0).ser(XTe).de(YNe).build(){},gE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListRecommendations",{}).n("SESv2Client","ListRecommendationsCommand").f(void 0,void 0).ser(YTe).de(QNe).build(){},yE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListReputationEntities",{}).n("SESv2Client","ListReputationEntitiesCommand").f(void 0,void 0).ser(QTe).de(ZNe).build(){},EE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListResourceTenants",{}).n("SESv2Client","ListResourceTenantsCommand").f(void 0,void 0).ser(ZTe).de(eRe).build(){},SE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListSuppressedDestinations",{}).n("SESv2Client","ListSuppressedDestinationsCommand").f(void 0,void 0).ser(ewe).de(tRe).build(){},wv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListTagsForResource",{}).n("SESv2Client","ListTagsForResourceCommand").f(void 0,void 0).ser(twe).de(rRe).build(){},CE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListTenantResources",{}).n("SESv2Client","ListTenantResourcesCommand").f(void 0,void 0).ser(rwe).de(nRe).build(){},bE=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","ListTenants",{}).n("SESv2Client","ListTenantsCommand").f(void 0,void 0).ser(nwe).de(sRe).build(){},Nv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutAccountDedicatedIpWarmupAttributes",{}).n("SESv2Client","PutAccountDedicatedIpWarmupAttributesCommand").f(void 0,void 0).ser(swe).de(iRe).build(){},l1e={RESOURCE_TYPE:"RESOURCE_TYPE"},d1e={CONFIGURATION_SET:"CONFIGURATION_SET",EMAIL_IDENTITY:"EMAIL_IDENTITY",EMAIL_TEMPLATE:"EMAIL_TEMPLATE"},cX=e=>({...e,...e.WebsiteURL&&{WebsiteURL:f.SENSITIVE_STRING},...e.UseCaseDescription&&{UseCaseDescription:f.SENSITIVE_STRING},...e.AdditionalContactEmailAddresses&&{AdditionalContactEmailAddresses:f.SENSITIVE_STRING}}),lX=e=>({...e,...e.SigningAttributes&&{SigningAttributes:VB(e.SigningAttributes)}}),Rv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutAccountDetails",{}).n("SESv2Client","PutAccountDetailsCommand").f(cX,void 0).ser(iwe).de(oRe).build(){},Pv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutAccountSendingAttributes",{}).n("SESv2Client","PutAccountSendingAttributesCommand").f(void 0,void 0).ser(owe).de(aRe).build(){},Ov=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutAccountSuppressionAttributes",{}).n("SESv2Client","PutAccountSuppressionAttributesCommand").f(void 0,void 0).ser(awe).de(cRe).build(){},Dv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutAccountVdmAttributes",{}).n("SESv2Client","PutAccountVdmAttributesCommand").f(void 0,void 0).ser(cwe).de(lRe).build(){},kv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetArchivingOptions",{}).n("SESv2Client","PutConfigurationSetArchivingOptionsCommand").f(void 0,void 0).ser(lwe).de(dRe).build(){},Bv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetDeliveryOptions",{}).n("SESv2Client","PutConfigurationSetDeliveryOptionsCommand").f(void 0,void 0).ser(dwe).de(uRe).build(){},Lv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetReputationOptions",{}).n("SESv2Client","PutConfigurationSetReputationOptionsCommand").f(void 0,void 0).ser(uwe).de(fRe).build(){},Mv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetSendingOptions",{}).n("SESv2Client","PutConfigurationSetSendingOptionsCommand").f(void 0,void 0).ser(fwe).de(mRe).build(){},Uv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetSuppressionOptions",{}).n("SESv2Client","PutConfigurationSetSuppressionOptionsCommand").f(void 0,void 0).ser(mwe).de(hRe).build(){},Fv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetTrackingOptions",{}).n("SESv2Client","PutConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(hwe).de(pRe).build(){},qv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutConfigurationSetVdmOptions",{}).n("SESv2Client","PutConfigurationSetVdmOptionsCommand").f(void 0,void 0).ser(pwe).de(gRe).build(){},jv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutDedicatedIpInPool",{}).n("SESv2Client","PutDedicatedIpInPoolCommand").f(void 0,void 0).ser(gwe).de(yRe).build(){},Vv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutDedicatedIpPoolScalingAttributes",{}).n("SESv2Client","PutDedicatedIpPoolScalingAttributesCommand").f(void 0,void 0).ser(ywe).de(ERe).build(){},Hv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutDedicatedIpWarmupAttributes",{}).n("SESv2Client","PutDedicatedIpWarmupAttributesCommand").f(void 0,void 0).ser(Ewe).de(SRe).build(){},zv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutDeliverabilityDashboardOption",{}).n("SESv2Client","PutDeliverabilityDashboardOptionCommand").f(void 0,void 0).ser(Swe).de(CRe).build(){},Kv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutEmailIdentityConfigurationSetAttributes",{}).n("SESv2Client","PutEmailIdentityConfigurationSetAttributesCommand").f(void 0,void 0).ser(Cwe).de(bRe).build(){},Gv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutEmailIdentityDkimAttributes",{}).n("SESv2Client","PutEmailIdentityDkimAttributesCommand").f(void 0,void 0).ser(bwe).de(_Re).build(){},$v=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutEmailIdentityDkimSigningAttributes",{}).n("SESv2Client","PutEmailIdentityDkimSigningAttributesCommand").f(lX,void 0).ser(_we).de(vRe).build(){},Wv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutEmailIdentityFeedbackAttributes",{}).n("SESv2Client","PutEmailIdentityFeedbackAttributesCommand").f(void 0,void 0).ser(vwe).de(ARe).build(){},Jv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutEmailIdentityMailFromAttributes",{}).n("SESv2Client","PutEmailIdentityMailFromAttributesCommand").f(void 0,void 0).ser(Awe).de(xRe).build(){},Xv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","PutSuppressedDestination",{}).n("SESv2Client","PutSuppressedDestinationCommand").f(void 0,void 0).ser(xwe).de(IRe).build(){},Yv=class extends f.Command.classBuilder().ep({...ae,EndpointId:{type:"contextParams",name:"EndpointId"}}).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","SendBulkEmail",{}).n("SESv2Client","SendBulkEmailCommand").f(void 0,void 0).ser(Iwe).de(TRe).build(){},Qv=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","SendCustomVerificationEmail",{}).n("SESv2Client","SendCustomVerificationEmailCommand").f(void 0,void 0).ser(Twe).de(wRe).build(){},Zv=class extends f.Command.classBuilder().ep({...ae,EndpointId:{type:"contextParams",name:"EndpointId"}}).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","SendEmail",{}).n("SESv2Client","SendEmailCommand").f(void 0,void 0).ser(wwe).de(NRe).build(){},eA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","TagResource",{}).n("SESv2Client","TagResourceCommand").f(void 0,void 0).ser(Nwe).de(RRe).build(){},tA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","TestRenderEmailTemplate",{}).n("SESv2Client","TestRenderEmailTemplateCommand").f(void 0,void 0).ser(Rwe).de(PRe).build(){},rA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UntagResource",{}).n("SESv2Client","UntagResourceCommand").f(void 0,void 0).ser(Pwe).de(ORe).build(){},nA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateConfigurationSetEventDestination",{}).n("SESv2Client","UpdateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(Owe).de(DRe).build(){},sA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateContact",{}).n("SESv2Client","UpdateContactCommand").f(void 0,void 0).ser(Dwe).de(kRe).build(){},iA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateContactList",{}).n("SESv2Client","UpdateContactListCommand").f(void 0,void 0).ser(kwe).de(BRe).build(){},oA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateCustomVerificationEmailTemplate",{}).n("SESv2Client","UpdateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Bwe).de(LRe).build(){},aA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateEmailIdentityPolicy",{}).n("SESv2Client","UpdateEmailIdentityPolicyCommand").f(void 0,void 0).ser(Lwe).de(MRe).build(){},cA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateEmailTemplate",{}).n("SESv2Client","UpdateEmailTemplateCommand").f(void 0,void 0).ser(Mwe).de(URe).build(){},lA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateReputationEntityCustomerManagedStatus",{}).n("SESv2Client","UpdateReputationEntityCustomerManagedStatusCommand").f(void 0,void 0).ser(Uwe).de(FRe).build(){},dA=class extends f.Command.classBuilder().ep(ae).m(function(t,r,n,s){return[oe.getSerdePlugin(n,this.serialize,this.deserialize),ie.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","UpdateReputationEntityPolicy",{}).n("SESv2Client","UpdateReputationEntityPolicyCommand").f(void 0,void 0).ser(Fwe).de(qRe).build(){},u1e={BatchGetMetricDataCommand:N_,CancelExportJobCommand:R_,CreateConfigurationSetCommand:P_,CreateConfigurationSetEventDestinationCommand:O_,CreateContactCommand:D_,CreateContactListCommand:k_,CreateCustomVerificationEmailTemplateCommand:B_,CreateDedicatedIpPoolCommand:L_,CreateDeliverabilityTestReportCommand:M_,CreateEmailIdentityCommand:U_,CreateEmailIdentityPolicyCommand:F_,CreateEmailTemplateCommand:q_,CreateExportJobCommand:j_,CreateImportJobCommand:V_,CreateMultiRegionEndpointCommand:H_,CreateTenantCommand:z_,CreateTenantResourceAssociationCommand:K_,DeleteConfigurationSetCommand:G_,DeleteConfigurationSetEventDestinationCommand:$_,DeleteContactCommand:W_,DeleteContactListCommand:J_,DeleteCustomVerificationEmailTemplateCommand:X_,DeleteDedicatedIpPoolCommand:Y_,DeleteEmailIdentityCommand:Q_,DeleteEmailIdentityPolicyCommand:Z_,DeleteEmailTemplateCommand:ev,DeleteMultiRegionEndpointCommand:tv,DeleteSuppressedDestinationCommand:rv,DeleteTenantCommand:nv,DeleteTenantResourceAssociationCommand:sv,GetAccountCommand:iv,GetBlacklistReportsCommand:ov,GetConfigurationSetCommand:av,GetConfigurationSetEventDestinationsCommand:cv,GetContactCommand:lv,GetContactListCommand:dv,GetCustomVerificationEmailTemplateCommand:uv,GetDedicatedIpCommand:fv,GetDedicatedIpPoolCommand:mv,GetDedicatedIpsCommand:nE,GetDeliverabilityDashboardOptionsCommand:hv,GetDeliverabilityTestReportCommand:pv,GetDomainDeliverabilityCampaignCommand:gv,GetDomainStatisticsReportCommand:yv,GetEmailIdentityCommand:Ev,GetEmailIdentityPoliciesCommand:Sv,GetEmailTemplateCommand:Cv,GetExportJobCommand:bv,GetImportJobCommand:_v,GetMessageInsightsCommand:vv,GetMultiRegionEndpointCommand:Av,GetReputationEntityCommand:xv,GetSuppressedDestinationCommand:Iv,GetTenantCommand:Tv,ListConfigurationSetsCommand:sE,ListContactListsCommand:iE,ListContactsCommand:oE,ListCustomVerificationEmailTemplatesCommand:aE,ListDedicatedIpPoolsCommand:cE,ListDeliverabilityTestReportsCommand:lE,ListDomainDeliverabilityCampaignsCommand:dE,ListEmailIdentitiesCommand:uE,ListEmailTemplatesCommand:fE,ListExportJobsCommand:mE,ListImportJobsCommand:hE,ListMultiRegionEndpointsCommand:pE,ListRecommendationsCommand:gE,ListReputationEntitiesCommand:yE,ListResourceTenantsCommand:EE,ListSuppressedDestinationsCommand:SE,ListTagsForResourceCommand:wv,ListTenantResourcesCommand:CE,ListTenantsCommand:bE,PutAccountDedicatedIpWarmupAttributesCommand:Nv,PutAccountDetailsCommand:Rv,PutAccountSendingAttributesCommand:Pv,PutAccountSuppressionAttributesCommand:Ov,PutAccountVdmAttributesCommand:Dv,PutConfigurationSetArchivingOptionsCommand:kv,PutConfigurationSetDeliveryOptionsCommand:Bv,PutConfigurationSetReputationOptionsCommand:Lv,PutConfigurationSetSendingOptionsCommand:Mv,PutConfigurationSetSuppressionOptionsCommand:Uv,PutConfigurationSetTrackingOptionsCommand:Fv,PutConfigurationSetVdmOptionsCommand:qv,PutDedicatedIpInPoolCommand:jv,PutDedicatedIpPoolScalingAttributesCommand:Vv,PutDedicatedIpWarmupAttributesCommand:Hv,PutDeliverabilityDashboardOptionCommand:zv,PutEmailIdentityConfigurationSetAttributesCommand:Kv,PutEmailIdentityDkimAttributesCommand:Gv,PutEmailIdentityDkimSigningAttributesCommand:$v,PutEmailIdentityFeedbackAttributesCommand:Wv,PutEmailIdentityMailFromAttributesCommand:Jv,PutSuppressedDestinationCommand:Xv,SendBulkEmailCommand:Yv,SendCustomVerificationEmailCommand:Qv,SendEmailCommand:Zv,TagResourceCommand:eA,TestRenderEmailTemplateCommand:tA,UntagResourceCommand:rA,UpdateConfigurationSetEventDestinationCommand:nA,UpdateContactCommand:sA,UpdateContactListCommand:iA,UpdateCustomVerificationEmailTemplateCommand:oA,UpdateEmailIdentityPolicyCommand:aA,UpdateEmailTemplateCommand:cA,UpdateReputationEntityCustomerManagedStatusCommand:lA,UpdateReputationEntityPolicyCommand:dA},uA=class extends un{};f.createAggregatedClient(u1e,uA);var f1e=Y.createPaginator(un,nE,"NextToken","NextToken","PageSize"),m1e=Y.createPaginator(un,sE,"NextToken","NextToken","PageSize"),h1e=Y.createPaginator(un,iE,"NextToken","NextToken","PageSize"),p1e=Y.createPaginator(un,oE,"NextToken","NextToken","PageSize"),g1e=Y.createPaginator(un,aE,"NextToken","NextToken","PageSize"),y1e=Y.createPaginator(un,cE,"NextToken","NextToken","PageSize"),E1e=Y.createPaginator(un,lE,"NextToken","NextToken","PageSize"),S1e=Y.createPaginator(un,dE,"NextToken","NextToken","PageSize"),C1e=Y.createPaginator(un,uE,"NextToken","NextToken","PageSize"),b1e=Y.createPaginator(un,fE,"NextToken","NextToken","PageSize"),_1e=Y.createPaginator(un,mE,"NextToken","NextToken","PageSize"),v1e=Y.createPaginator(un,hE,"NextToken","NextToken","PageSize"),A1e=Y.createPaginator(un,pE,"NextToken","NextToken","PageSize"),x1e=Y.createPaginator(un,gE,"NextToken","NextToken","PageSize"),I1e=Y.createPaginator(un,yE,"NextToken","NextToken","PageSize"),T1e=Y.createPaginator(un,EE,"NextToken","NextToken","PageSize"),w1e=Y.createPaginator(un,SE,"NextToken","NextToken","PageSize"),N1e=Y.createPaginator(un,CE,"NextToken","NextToken","PageSize"),R1e=Y.createPaginator(un,bE,"NextToken","NextToken","PageSize");Object.defineProperty(k,"$Command",{enumerable:!0,get:function(){return f.Command}});Object.defineProperty(k,"__Client",{enumerable:!0,get:function(){return f.Client}});k.AccountDetailsFilterSensitiveLog=K7;k.AccountSuspendedException=p_;k.AlreadyExistsException=g_;k.AttachmentContentDisposition=Jxe;k.AttachmentContentTransferEncoding=Xxe;k.BadRequestException=y_;k.BatchGetMetricDataCommand=N_;k.BehaviorOnMxFailure=tIe;k.BounceType=rIe;k.BulkEmailStatus=nIe;k.CancelExportJobCommand=R_;k.ConcurrentModificationException=b_;k.ConflictException=__;k.ContactLanguage=Gxe;k.ContactListImportAction=oIe;k.CreateConfigurationSetCommand=P_;k.CreateConfigurationSetEventDestinationCommand=O_;k.CreateContactCommand=D_;k.CreateContactListCommand=k_;k.CreateCustomVerificationEmailTemplateCommand=B_;k.CreateDedicatedIpPoolCommand=L_;k.CreateDeliverabilityTestReportCommand=M_;k.CreateEmailIdentityCommand=U_;k.CreateEmailIdentityPolicyCommand=F_;k.CreateEmailIdentityRequestFilterSensitiveLog=G7;k.CreateEmailTemplateCommand=q_;k.CreateExportJobCommand=j_;k.CreateExportJobRequestFilterSensitiveLog=W7;k.CreateImportJobCommand=V_;k.CreateMultiRegionEndpointCommand=H_;k.CreateTenantCommand=z_;k.CreateTenantResourceAssociationCommand=K_;k.DataFormat=bIe;k.DeleteConfigurationSetCommand=G_;k.DeleteConfigurationSetEventDestinationCommand=$_;k.DeleteContactCommand=W_;k.DeleteContactListCommand=J_;k.DeleteCustomVerificationEmailTemplateCommand=X_;k.DeleteDedicatedIpPoolCommand=Y_;k.DeleteEmailIdentityCommand=Q_;k.DeleteEmailIdentityPolicyCommand=Z_;k.DeleteEmailTemplateCommand=ev;k.DeleteMultiRegionEndpointCommand=tv;k.DeleteSuppressedDestinationCommand=rv;k.DeleteTenantCommand=nv;k.DeleteTenantResourceAssociationCommand=sv;k.DeliverabilityDashboardAccountStatus=IIe;k.DeliverabilityTestStatus=mIe;k.DeliveryEventType=EIe;k.DimensionValueSource=sIe;k.DkimSigningAttributesFilterSensitiveLog=VB;k.DkimSigningAttributesOrigin=hIe;k.DkimSigningKeyLength=pIe;k.DkimStatus=gIe;k.EmailInsightsFilterSensitiveLog=J7;k.EngagementEventType=SIe;k.EventType=uIe;k.ExportDataSourceFilterSensitiveLog=HB;k.ExportSourceType=TIe;k.FeatureStatus=dIe;k.GetAccountCommand=iv;k.GetAccountResponseFilterSensitiveLog=X7;k.GetBlacklistReportsCommand=ov;k.GetConfigurationSetCommand=av;k.GetConfigurationSetEventDestinationsCommand=cv;k.GetContactCommand=lv;k.GetContactListCommand=dv;k.GetCustomVerificationEmailTemplateCommand=uv;k.GetDedicatedIpCommand=fv;k.GetDedicatedIpPoolCommand=mv;k.GetDedicatedIpsCommand=nE;k.GetDeliverabilityDashboardOptionsCommand=hv;k.GetDeliverabilityTestReportCommand=pv;k.GetDomainDeliverabilityCampaignCommand=gv;k.GetDomainStatisticsReportCommand=yv;k.GetEmailIdentityCommand=Ev;k.GetEmailIdentityPoliciesCommand=Sv;k.GetEmailTemplateCommand=Cv;k.GetExportJobCommand=bv;k.GetExportJobResponseFilterSensitiveLog=Y7;k.GetImportJobCommand=_v;k.GetMessageInsightsCommand=vv;k.GetMessageInsightsResponseFilterSensitiveLog=Q7;k.GetMultiRegionEndpointCommand=Av;k.GetReputationEntityCommand=xv;k.GetSuppressedDestinationCommand=Iv;k.GetTenantCommand=Tv;k.HttpsPolicy=lIe;k.IdentityType=yIe;k.ImportDestinationType=kIe;k.InternalServiceErrorException=E_;k.InvalidNextTokenException=T_;k.JobStatus=wIe;k.LimitExceededException=v_;k.ListConfigurationSetsCommand=sE;k.ListContactListsCommand=iE;k.ListContactsCommand=oE;k.ListCustomVerificationEmailTemplatesCommand=aE;k.ListDedicatedIpPoolsCommand=cE;k.ListDeliverabilityTestReportsCommand=lE;k.ListDomainDeliverabilityCampaignsCommand=dE;k.ListEmailIdentitiesCommand=uE;k.ListEmailTemplatesCommand=fE;k.ListExportJobsCommand=mE;k.ListImportJobsCommand=hE;k.ListMultiRegionEndpointsCommand=pE;k.ListRecommendationsCommand=gE;k.ListRecommendationsFilterKey=BIe;k.ListReputationEntitiesCommand=yE;k.ListResourceTenantsCommand=EE;k.ListSuppressedDestinationsCommand=SE;k.ListTagsForResourceCommand=wv;k.ListTenantResourcesCommand=CE;k.ListTenantResourcesFilterKey=l1e;k.ListTenantsCommand=bE;k.MailFromDomainNotVerifiedException=A_;k.MailFromDomainStatus=NIe;k.MailType=$xe;k.MessageInsightsDataSourceFilterSensitiveLog=$7;k.MessageInsightsFiltersFilterSensitiveLog=jB;k.MessageRejected=x_;k.Metric=Qxe;k.MetricAggregation=CIe;k.MetricDimensionName=Yxe;k.MetricNamespace=Zxe;k.NotFoundException=S_;k.PutAccountDedicatedIpWarmupAttributesCommand=Nv;k.PutAccountDetailsCommand=Rv;k.PutAccountDetailsRequestFilterSensitiveLog=cX;k.PutAccountSendingAttributesCommand=Pv;k.PutAccountSuppressionAttributesCommand=Ov;k.PutAccountVdmAttributesCommand=Dv;k.PutConfigurationSetArchivingOptionsCommand=kv;k.PutConfigurationSetDeliveryOptionsCommand=Bv;k.PutConfigurationSetReputationOptionsCommand=Lv;k.PutConfigurationSetSendingOptionsCommand=Mv;k.PutConfigurationSetSuppressionOptionsCommand=Uv;k.PutConfigurationSetTrackingOptionsCommand=Fv;k.PutConfigurationSetVdmOptionsCommand=qv;k.PutDedicatedIpInPoolCommand=jv;k.PutDedicatedIpPoolScalingAttributesCommand=Vv;k.PutDedicatedIpWarmupAttributesCommand=Hv;k.PutDeliverabilityDashboardOptionCommand=zv;k.PutEmailIdentityConfigurationSetAttributesCommand=Kv;k.PutEmailIdentityDkimAttributesCommand=Gv;k.PutEmailIdentityDkimSigningAttributesCommand=$v;k.PutEmailIdentityDkimSigningAttributesRequestFilterSensitiveLog=lX;k.PutEmailIdentityFeedbackAttributesCommand=Wv;k.PutEmailIdentityMailFromAttributesCommand=Jv;k.PutSuppressedDestinationCommand=Xv;k.QueryErrorCode=eIe;k.RecommendationImpact=DIe;k.RecommendationStatus=LIe;k.RecommendationType=MIe;k.ReputationEntityFilterKey=UIe;k.ReputationEntityType=OIe;k.ResourceType=d1e;k.ReviewStatus=Wxe;k.SESv2=uA;k.SESv2Client=un;k.SESv2ServiceException=Bs;k.ScalingMode=fIe;k.SendBulkEmailCommand=Yv;k.SendCustomVerificationEmailCommand=Qv;k.SendEmailCommand=Zv;k.SendingPausedException=I_;k.SendingStatus=AIe;k.Status=vIe;k.SubscriptionStatus=iIe;k.SuppressionListImportAction=_Ie;k.SuppressionListReason=cIe;k.TagResourceCommand=eA;k.TestRenderEmailTemplateCommand=tA;k.TlsPolicy=aIe;k.TooManyRequestsException=C_;k.UntagResourceCommand=rA;k.UpdateConfigurationSetEventDestinationCommand=nA;k.UpdateContactCommand=sA;k.UpdateContactListCommand=iA;k.UpdateCustomVerificationEmailTemplateCommand=oA;k.UpdateEmailIdentityPolicyCommand=aA;k.UpdateEmailTemplateCommand=cA;k.UpdateReputationEntityCustomerManagedStatusCommand=lA;k.UpdateReputationEntityPolicyCommand=dA;k.VerificationError=RIe;k.VerificationStatus=PIe;k.WarmupStatus=xIe;k.paginateGetDedicatedIps=f1e;k.paginateListConfigurationSets=m1e;k.paginateListContactLists=h1e;k.paginateListContacts=p1e;k.paginateListCustomVerificationEmailTemplates=g1e;k.paginateListDedicatedIpPools=y1e;k.paginateListDeliverabilityTestReports=E1e;k.paginateListDomainDeliverabilityCampaigns=S1e;k.paginateListEmailIdentities=C1e;k.paginateListEmailTemplates=b1e;k.paginateListExportJobs=_1e;k.paginateListImportJobs=v1e;k.paginateListMultiRegionEndpoints=A1e;k.paginateListRecommendations=x1e;k.paginateListReputationEntities=I1e;k.paginateListResourceTenants=T1e;k.paginateListSuppressedDestinations=w1e;k.paginateListTenantResources=N1e;k.paginateListTenants=R1e});var mX=C(fA=>{"use strict";var P1e=rr();function uX(e){return t=>async r=>{let{request:n}=r;if(e.expectContinueHeader!==!1&&P1e.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof e.expectContinueHeader=="number")try{s=(Number(n.headers?.["content-length"])??e.bodyLengthChecker?.(n.body)??1/0)>=e.expectContinueHeader}catch{}else s=!!e.expectContinueHeader;s&&(n.headers.Expect="100-continue")}return t({...r,request:n})}}var fX={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},O1e=e=>({applyToStack:t=>{t.add(uX(e),fX)}});fA.addExpectContinueMiddleware=uX;fA.addExpectContinueMiddlewareOptions=fX;fA.getAddExpectContinuePlugin=O1e});var gX=C((HSt,pX)=>{var mA=Object.defineProperty,D1e=Object.getOwnPropertyDescriptor,k1e=Object.getOwnPropertyNames,B1e=Object.prototype.hasOwnProperty,L1e=(e,t)=>mA(e,"name",{value:t,configurable:!0}),M1e=(e,t)=>{for(var r in t)mA(e,r,{get:t[r],enumerable:!0})},U1e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of k1e(t))!B1e.call(e,s)&&s!==r&&mA(e,s,{get:()=>t[s],enumerable:!(n=D1e(t,s))||n.enumerable});return e},F1e=e=>U1e(mA({},"__esModule",{value:!0}),e),hX={};M1e(hX,{isArrayBuffer:()=>q1e});pX.exports=F1e(hX);var q1e=L1e(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var CX=C((zSt,SX)=>{var hA=Object.defineProperty,j1e=Object.getOwnPropertyDescriptor,V1e=Object.getOwnPropertyNames,H1e=Object.prototype.hasOwnProperty,yX=(e,t)=>hA(e,"name",{value:t,configurable:!0}),z1e=(e,t)=>{for(var r in t)hA(e,r,{get:t[r],enumerable:!0})},K1e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of V1e(t))!H1e.call(e,s)&&s!==r&&hA(e,s,{get:()=>t[s],enumerable:!(n=j1e(t,s))||n.enumerable});return e},G1e=e=>K1e(hA({},"__esModule",{value:!0}),e),EX={};z1e(EX,{fromArrayBuffer:()=>W1e,fromString:()=>J1e});SX.exports=G1e(EX);var $1e=gX(),zB=require("buffer"),W1e=yX((e,t=0,r=e.byteLength-t)=>{if(!(0,$1e.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return zB.Buffer.from(e,t,r)},"fromArrayBuffer"),J1e=yX((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?zB.Buffer.from(e,t):zB.Buffer.from(e)},"fromString")});var xX=C((KSt,AX)=>{var pA=Object.defineProperty,X1e=Object.getOwnPropertyDescriptor,Y1e=Object.getOwnPropertyNames,Q1e=Object.prototype.hasOwnProperty,KB=(e,t)=>pA(e,"name",{value:t,configurable:!0}),Z1e=(e,t)=>{for(var r in t)pA(e,r,{get:t[r],enumerable:!0})},eOe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Y1e(t))!Q1e.call(e,s)&&s!==r&&pA(e,s,{get:()=>t[s],enumerable:!(n=X1e(t,s))||n.enumerable});return e},tOe=e=>eOe(pA({},"__esModule",{value:!0}),e),bX={};Z1e(bX,{fromUtf8:()=>vX,toUint8Array:()=>rOe,toUtf8:()=>nOe});AX.exports=tOe(bX);var _X=CX(),vX=KB(e=>{let t=(0,_X.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),rOe=KB(e=>typeof e=="string"?vX(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),nOe=KB(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,_X.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var IX=C(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0});gA.convertToBuffer=void 0;var sOe=xX(),iOe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:sOe.fromUtf8;function oOe(e){return e instanceof Uint8Array?e:typeof e=="string"?iOe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}gA.convertToBuffer=oOe});var TX=C(yA=>{"use strict";Object.defineProperty(yA,"__esModule",{value:!0});yA.isEmptyData=void 0;function aOe(e){return typeof e=="string"?e.length===0:e.byteLength===0}yA.isEmptyData=aOe});var wX=C(EA=>{"use strict";Object.defineProperty(EA,"__esModule",{value:!0});EA.numToUint8=void 0;function cOe(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}EA.numToUint8=cOe});var NX=C(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0});SA.uint32ArrayFrom=void 0;function lOe(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}SA.uint32ArrayFrom=lOe});var eh=C($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.uint32ArrayFrom=$a.numToUint8=$a.isEmptyData=$a.convertToBuffer=void 0;var dOe=IX();Object.defineProperty($a,"convertToBuffer",{enumerable:!0,get:function(){return dOe.convertToBuffer}});var uOe=TX();Object.defineProperty($a,"isEmptyData",{enumerable:!0,get:function(){return uOe.isEmptyData}});var fOe=wX();Object.defineProperty($a,"numToUint8",{enumerable:!0,get:function(){return fOe.numToUint8}});var mOe=NX();Object.defineProperty($a,"uint32ArrayFrom",{enumerable:!0,get:function(){return mOe.uint32ArrayFrom}})});var OX=C(CA=>{"use strict";Object.defineProperty(CA,"__esModule",{value:!0});CA.AwsCrc32c=void 0;var RX=(aa(),lt(oa)),GB=eh(),PX=$B(),hOe=(function(){function e(){this.crc32c=new PX.Crc32c}return e.prototype.update=function(t){(0,GB.isEmptyData)(t)||this.crc32c.update((0,GB.convertToBuffer)(t))},e.prototype.digest=function(){return RX.__awaiter(this,void 0,void 0,function(){return RX.__generator(this,function(t){return[2,(0,GB.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new PX.Crc32c},e})();CA.AwsCrc32c=hOe});var $B=C(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.AwsCrc32c=sd.Crc32c=sd.crc32c=void 0;var pOe=(aa(),lt(oa)),gOe=eh();function yOe(e){return new DX().update(e).digest()}sd.crc32c=yOe;var DX=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=pOe.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^SOe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();sd.Crc32c=DX;var EOe=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],SOe=(0,gOe.uint32ArrayFrom)(EOe),COe=OX();Object.defineProperty(sd,"AwsCrc32c",{enumerable:!0,get:function(){return COe.AwsCrc32c}})});var LX=C(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0});bA.AwsCrc32=void 0;var kX=(aa(),lt(oa)),WB=eh(),BX=_A(),bOe=(function(){function e(){this.crc32=new BX.Crc32}return e.prototype.update=function(t){(0,WB.isEmptyData)(t)||this.crc32.update((0,WB.convertToBuffer)(t))},e.prototype.digest=function(){return kX.__awaiter(this,void 0,void 0,function(){return kX.__generator(this,function(t){return[2,(0,WB.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new BX.Crc32},e})();bA.AwsCrc32=bOe});var _A=C(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.AwsCrc32=id.Crc32=id.crc32=void 0;var _Oe=(aa(),lt(oa)),vOe=eh();function AOe(e){return new MX().update(e).digest()}id.crc32=AOe;var MX=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=_Oe.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^IOe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();id.Crc32=MX;var xOe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],IOe=(0,vOe.uint32ArrayFrom)(xOe),TOe=LX();Object.defineProperty(id,"AwsCrc32",{enumerable:!0,get:function(){return TOe.AwsCrc32}})});var FX=C(vA=>{"use strict";Object.defineProperty(vA,"__esModule",{value:!0});vA.getCrc32ChecksumAlgorithmFunction=void 0;var wOe=(aa(),lt(oa)),NOe=_A(),ROe=eh(),UX=wOe.__importStar(require("zlib")),JB=class{checksum=0;update(t){this.checksum=UX.crc32(t,this.checksum)}async digest(){return(0,ROe.numToUint8)(this.checksum)}reset(){this.checksum=0}},POe=()=>typeof UX.crc32>"u"?NOe.AwsCrc32:JB;vA.getCrc32ChecksumAlgorithmFunction=POe});var t2=C(it=>{"use strict";var Qc=(rn(),lt(Js)),jX=rr(),VX=Xd(),OOe=CS(),DOe=$B(),kOe=FX(),BOe=jn(),qX=Ps(),Zc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},QB=Zc.WHEN_SUPPORTED,th={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},ZB=Zc.WHEN_SUPPORTED;it.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(it.ChecksumAlgorithm||(it.ChecksumAlgorithm={}));it.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(it.ChecksumLocation||(it.ChecksumLocation={}));var AA=it.ChecksumAlgorithm.CRC32,rh;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(rh||(rh={}));var xA=(e,t,r,n)=>{if(!(t in e))return;let s=e[t].toUpperCase();if(!Object.values(r).includes(s))throw new TypeError(`Cannot load ${n} '${t}'. Expected one of ${Object.values(r)}, got '${e[t]}'.`);return s},HX="AWS_REQUEST_CHECKSUM_CALCULATION",zX="request_checksum_calculation",LOe={environmentVariableSelector:e=>xA(e,HX,Zc,rh.ENV),configFileSelector:e=>xA(e,zX,Zc,rh.CONFIG),default:QB},KX="AWS_RESPONSE_CHECKSUM_VALIDATION",GX="response_checksum_validation",MOe={environmentVariableSelector:e=>xA(e,KX,th,rh.ENV),configFileSelector:e=>xA(e,GX,th,rh.CONFIG),default:ZB},XB={CrtCrc64Nvme:null},YB=[it.ChecksumAlgorithm.CRC32,it.ChecksumAlgorithm.CRC32C,it.ChecksumAlgorithm.CRC64NVME,it.ChecksumAlgorithm.SHA1,it.ChecksumAlgorithm.SHA256],UOe=[it.ChecksumAlgorithm.SHA256,it.ChecksumAlgorithm.SHA1,it.ChecksumAlgorithm.CRC32,it.ChecksumAlgorithm.CRC32C,it.ChecksumAlgorithm.CRC64NVME],FOe=(e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===Zc.WHEN_SUPPORTED||t?AA:void 0;if(!e[r])return;let s=e[r];if(!YB.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${YB}.`);return s},e2=e=>e===it.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,qOe=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},jOe=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},$X=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!OOe.isArrayBuffer(e),WX=(e,t)=>{switch(e){case it.ChecksumAlgorithm.MD5:return t.md5;case it.ChecksumAlgorithm.CRC32:return kOe.getCrc32ChecksumAlgorithmFunction();case it.ChecksumAlgorithm.CRC32C:return DOe.AwsCrc32c;case it.ChecksumAlgorithm.CRC64NVME:if(typeof XB.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return XB.CrtCrc64Nvme;case it.ChecksumAlgorithm.SHA1:return t.sha1;case it.ChecksumAlgorithm.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},JX=(e,t)=>{let r=new e;return r.update(BOe.toUint8Array(t||"")),r.digest()},XX={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},YX=(e,t)=>(r,n)=>async s=>{if(!jX.HttpRequest.isInstance(s.request)||jOe("x-amz-checksum-",s.request.headers))return r(s);let{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:l,streamHasher:u}=e,{requestChecksumRequired:m,requestAlgorithmMember:h}=t,p=await e.requestChecksumCalculation(),g=h?.name,y=h?.httpHeader;g&&!o[g]&&(p===Zc.WHEN_SUPPORTED||m)&&(o[g]=AA,y&&(c[y]=AA));let _=FOe(o,{requestChecksumRequired:m,requestAlgorithmMember:h?.name,requestChecksumCalculation:p}),x=a,w=c;if(_){switch(_){case it.ChecksumAlgorithm.CRC32:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case it.ChecksumAlgorithm.CRC32C:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case it.ChecksumAlgorithm.CRC64NVME:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case it.ChecksumAlgorithm.SHA1:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case it.ChecksumAlgorithm.SHA256:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let G=e2(_),W=WX(_,e);if($X(a)){let{getAwsChunkedEncodingStream:J,bodyLengthChecker:xe}=e;x=J(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?VX.createBufferedReadable(a,e.requestStreamBufferSize,n.logger):a,{base64Encoder:l,bodyLengthChecker:xe,checksumLocationName:G,checksumAlgorithmFn:W,streamHasher:u}),w={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":G},delete w["content-length"]}else if(!qOe(G,c)){let J=await JX(W,a);w={...c,[G]:l(J)}}}return await r({...s,request:{...i,headers:w,body:x}})},VOe={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},HOe=(e,t)=>(r,n)=>async s=>{let i=s.input,{requestValidationModeMember:o}=t,a=await e.requestChecksumCalculation(),c=await e.responseChecksumValidation();switch(a){case Zc.WHEN_REQUIRED:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Zc.WHEN_SUPPORTED:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case th.WHEN_REQUIRED:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case th.WHEN_SUPPORTED:Qc.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===th.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},QX=(e=[])=>{let t=[];for(let r of UOe)!e.includes(r)||!YB.includes(r)||t.push(r);return t},zOe=e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},KOe=async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await JX(t,e)),GOe=async(e,{config:t,responseAlgorithms:r,logger:n})=>{let s=QX(r),{body:i,headers:o}=e;for(let a of s){let c=e2(a),l=o[c];if(l){let u;try{u=WX(a,t)}catch(p){if(a===it.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${it.ChecksumAlgorithm.CRC64NVME} checksum validation: ${p.message}`);continue}throw p}let{base64Encoder:m}=t;if($X(i)){e.body=VX.createChecksumStream({expectedChecksum:l,checksumSourceLocation:c,checksum:new u,source:i,base64Encoder:m});return}let h=await KOe(i,{checksumAlgorithmFn:u,base64Encoder:m});if(h===l)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${l}" in response header "${c}".`)}}},$Oe={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},WOe=(e,t)=>(r,n)=>async s=>{if(!jX.HttpRequest.isInstance(s.request))return r(s);let i=s.input,o=await r(s),a=o.response,{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&i[c]==="ENABLED"){let{clientName:u,commandName:m}=n;if(u==="S3Client"&&m==="GetObjectCommand"&&QX(l).every(p=>{let g=e2(p),y=a.headers[g];return!y||zOe(y)}))return o;await GOe(a,{config:e,responseAlgorithms:l,logger:n.logger})}return o},JOe=(e,t)=>({applyToStack:r=>{r.add(YX(e,t),XX),r.addRelativeTo(HOe(e,t),VOe),r.addRelativeTo(WOe(e,t),$Oe)}}),XOe=e=>{let{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:qX.normalizeProvider(t??QB),responseChecksumValidation:qX.normalizeProvider(r??ZB),requestStreamBufferSize:Number(n??0)})};it.CONFIG_REQUEST_CHECKSUM_CALCULATION=zX;it.CONFIG_RESPONSE_CHECKSUM_VALIDATION=GX;it.DEFAULT_CHECKSUM_ALGORITHM=AA;it.DEFAULT_REQUEST_CHECKSUM_CALCULATION=QB;it.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=ZB;it.ENV_REQUEST_CHECKSUM_CALCULATION=HX;it.ENV_RESPONSE_CHECKSUM_VALIDATION=KX;it.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=LOe;it.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=MOe;it.RequestChecksumCalculation=Zc;it.ResponseChecksumValidation=th;it.crc64NvmeCrtContainer=XB;it.flexibleChecksumsMiddleware=YX;it.flexibleChecksumsMiddlewareOptions=XX;it.getFlexibleChecksumsPlugin=JOe;it.resolveFlexibleChecksumsConfig=XOe});var eY=C(ZX=>{"use strict";var YOe=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});ZX.resolveEventStreamSerdeConfig=YOe});var wQ=C(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.ruleSet=void 0;var x2="required",I="type",Z="rules",B="conditions",z="fn",K="argv",ze="ref",Et="assign",Le="url",Me="properties",xu="backend",Qs="authSchemes",ps="disableDoubleEncoding",gs="signingName",pi="signingRegion",Ue="headers",I2="signingRegionSet",QOe=6,ZOe=!1,Wa=!0,io="isSet",Dn="booleanEquals",ke="error",RA="aws.partition",Wt="stringEquals",fn="getAttr",On="name",Nr="substring",tY="bucketSuffix",T2="parseURL",ge="endpoint",te="tree",PA="aws.isVirtualHostableS3Bucket",OA="{url#scheme}://{Bucket}.{url#authority}{url#path}",Ya="not",rY="accessPointSuffix",NA="{url#scheme}://{url#authority}{url#path}",fQ="hardwareType",mQ="regionPrefix",nY="bucketAliasSuffix",v2="outpostId",Iu="isValidHostLabel",w2="sigv4a",xE="s3-outposts",ah="s3",hQ="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",pQ="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",sY="https://{Bucket}.s3.{partitionResult#dnsSuffix}",gQ="aws.parseArn",yQ="bucketArn",EQ="arnType",DA="",N2="s3-object-lambda",SQ="accesspoint",R2="accessPointName",iY="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",oY="mrapPartition",aY="outpostType",cY="arnPrefix",CQ="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",lY="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",dY="https://s3.{partitionResult#dnsSuffix}",nh={[x2]:!1,[I]:"String"},sh={[x2]:!0,default:!1,[I]:"Boolean"},_E={[x2]:!1,[I]:"Boolean"},Io={[z]:Dn,[K]:[{[ze]:"Accelerate"},!0]},Fr={[z]:Dn,[K]:[{[ze]:"UseFIPS"},!0]},wr={[z]:Dn,[K]:[{[ze]:"UseDualStack"},!0]},Pn={[z]:io,[K]:[{[ze]:"Endpoint"}]},bQ={[z]:RA,[K]:[{[ze]:"Region"}],[Et]:"partitionResult"},uY={[z]:Wt,[K]:[{[z]:fn,[K]:[{[ze]:"partitionResult"},On]},"aws-cn"]},AE={[z]:io,[K]:[{[ze]:"Bucket"}]},Gt={[ze]:"Bucket"},fY={[B]:[wr],[ke]:"S3Express does not support Dual-stack.",[I]:ke},mY={[B]:[Io],[ke]:"S3Express does not support S3 Accelerate.",[I]:ke},hY={[B]:[Pn,{[z]:T2,[K]:[{[ze]:"Endpoint"}],[Et]:"url"}],[Z]:[{[B]:[{[z]:io,[K]:[{[ze]:"DisableS3ExpressSessionAuth"}]},{[z]:Dn,[K]:[{[ze]:"DisableS3ExpressSessionAuth"},!0]}],[Z]:[{[B]:[{[z]:Dn,[K]:[{[z]:fn,[K]:[{[ze]:"url"},"isIp"]},!0]}],[Z]:[{[B]:[{[z]:"uriEncode",[K]:[Gt],[Et]:"uri_encoded_bucket"}],[Z]:[{[ge]:{[Le]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge}],[I]:te}],[I]:te},{[B]:[{[z]:PA,[K]:[Gt,!1]}],[Z]:[{[ge]:{[Le]:OA,[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge}],[I]:te},{[ke]:"S3Express bucket name is not a valid virtual hostable name.",[I]:ke}],[I]:te},{[B]:[{[z]:Dn,[K]:[{[z]:fn,[K]:[{[ze]:"url"},"isIp"]},!0]}],[Z]:[{[B]:[{[z]:"uriEncode",[K]:[Gt],[Et]:"uri_encoded_bucket"}],[Z]:[{[ge]:{[Le]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4-s3express",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge}],[I]:te}],[I]:te},{[B]:[{[z]:PA,[K]:[Gt,!1]}],[Z]:[{[ge]:{[Le]:OA,[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4-s3express",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge}],[I]:te},{[ke]:"S3Express bucket name is not a valid virtual hostable name.",[I]:ke}],[I]:te},hi={[z]:T2,[K]:[{[ze]:"Endpoint"}],[Et]:"url"},r2={[z]:Dn,[K]:[{[z]:fn,[K]:[{[ze]:"url"},"isIp"]},!0]},_Q={[ze]:"url"},vQ={[z]:"uriEncode",[K]:[Gt],[Et]:"uri_encoded_bucket"},Au={[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:"s3express",[pi]:"{Region}"}]},ft={},AQ={[z]:PA,[K]:[Gt,!1]},pY={[ke]:"S3Express bucket name is not a valid virtual hostable name.",[I]:ke},gY={[z]:io,[K]:[{[ze]:"UseS3ExpressControlEndpoint"}]},yY={[z]:Dn,[K]:[{[ze]:"UseS3ExpressControlEndpoint"},!0]},mt={[z]:Ya,[K]:[Pn]},IA={[ke]:"Unrecognized S3Express bucket name format.",[I]:ke},EY={[z]:Ya,[K]:[AE]},SY={[ze]:fQ},CY={[B]:[mt],[ke]:"Expected a endpoint to be specified but no endpoint was found",[I]:ke},TA={[Qs]:[{[ps]:!0,[On]:w2,[gs]:xE,[I2]:["*"]},{[ps]:!0,[On]:"sigv4",[gs]:xE,[pi]:"{Region}"}]},n2={[z]:Dn,[K]:[{[ze]:"ForcePathStyle"},!1]},eDe={[ze]:"ForcePathStyle"},Vn={[z]:Dn,[K]:[{[ze]:"Accelerate"},!1]},Jn={[z]:Wt,[K]:[{[ze]:"Region"},"aws-global"]},fs={[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:ah,[pi]:"us-east-1"}]},Ht={[z]:Ya,[K]:[Jn]},ms={[z]:Dn,[K]:[{[ze]:"UseGlobalEndpoint"},!0]},bY={[Le]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Me]:{[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:ah,[pi]:"{Region}"}]},[Ue]:{}},Hn={[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:ah,[pi]:"{Region}"}]},hs={[z]:Dn,[K]:[{[ze]:"UseGlobalEndpoint"},!1]},Lt={[z]:Dn,[K]:[{[ze]:"UseDualStack"},!1]},_Y={[Le]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},At={[z]:Dn,[K]:[{[ze]:"UseFIPS"},!1]},vY={[Le]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},AY={[Le]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},s2={[z]:Dn,[K]:[{[z]:fn,[K]:[_Q,"isIp"]},!1]},i2={[Le]:hQ,[Me]:Hn,[Ue]:{}},A2={[Le]:OA,[Me]:Hn,[Ue]:{}},xY={[ge]:A2,[I]:ge},o2={[Le]:pQ,[Me]:Hn,[Ue]:{}},IY={[Le]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},wA={[ke]:"Invalid region: region was not a valid DNS name.",[I]:ke},Bi={[ze]:yQ},xQ={[ze]:EQ},a2={[z]:fn,[K]:[Bi,"service"]},P2={[ze]:R2},TY={[B]:[wr],[ke]:"S3 Object Lambda does not support Dual-stack",[I]:ke},wY={[B]:[Io],[ke]:"S3 Object Lambda does not support S3 Accelerate",[I]:ke},NY={[B]:[{[z]:io,[K]:[{[ze]:"DisableAccessPoints"}]},{[z]:Dn,[K]:[{[ze]:"DisableAccessPoints"},!0]}],[ke]:"Access points are not supported for this operation",[I]:ke},c2={[B]:[{[z]:io,[K]:[{[ze]:"UseArnRegion"}]},{[z]:Dn,[K]:[{[ze]:"UseArnRegion"},!1]},{[z]:Ya,[K]:[{[z]:Wt,[K]:[{[z]:fn,[K]:[Bi,"region"]},"{Region}"]}]}],[ke]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[I]:ke},IQ={[z]:fn,[K]:[{[ze]:"bucketPartition"},On]},TQ={[z]:fn,[K]:[Bi,"accountId"]},l2={[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:N2,[pi]:"{bucketArn#region}"}]},RY={[ke]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[I]:ke},d2={[ke]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[I]:ke},u2={[ke]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[I]:ke},f2={[ke]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[I]:ke},PY={[ke]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[I]:ke},OY={[ke]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[I]:ke},vE={[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:ah,[pi]:"{bucketArn#region}"}]},DY={[Qs]:[{[ps]:!0,[On]:w2,[gs]:xE,[I2]:["*"]},{[ps]:!0,[On]:"sigv4",[gs]:xE,[pi]:"{bucketArn#region}"}]},kY={[z]:gQ,[K]:[Gt]},BY={[Le]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Hn,[Ue]:{}},LY={[Le]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Hn,[Ue]:{}},MY={[Le]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Hn,[Ue]:{}},m2={[Le]:CQ,[Me]:Hn,[Ue]:{}},UY={[Le]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Hn,[Ue]:{}},FY={[ze]:"UseObjectLambdaEndpoint"},h2={[Qs]:[{[ps]:!0,[On]:"sigv4",[gs]:N2,[pi]:"{Region}"}]},qY={[Le]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},jY={[Le]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},VY={[Le]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},p2={[Le]:NA,[Me]:Hn,[Ue]:{}},HY={[Le]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Me]:Hn,[Ue]:{}},g2=[{[ze]:"Region"}],tDe=[{[ze]:"Endpoint"}],rDe=[Gt],zY=[wr],y2=[Io],ih=[Pn,hi],KY=[{[z]:io,[K]:[{[ze]:"DisableS3ExpressSessionAuth"}]},{[z]:Dn,[K]:[{[ze]:"DisableS3ExpressSessionAuth"},!0]}],nDe=[vQ],GY=[AQ],xo=[bQ],oh=[Fr],$Y=[{[z]:Nr,[K]:[Gt,6,14,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,14,16,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],Ja=[{[B]:[Fr],[ge]:{[Le]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Me]:Au,[Ue]:{}},[I]:ge},{[ge]:{[Le]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Me]:Au,[Ue]:{}},[I]:ge}],WY=[{[z]:Nr,[K]:[Gt,6,15,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,15,17,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],JY=[{[z]:Nr,[K]:[Gt,6,19,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,19,21,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],XY=[{[z]:Nr,[K]:[Gt,6,20,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,20,22,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],YY=[{[z]:Nr,[K]:[Gt,6,26,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,26,28,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],Xa=[{[B]:[Fr],[ge]:{[Le]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4-s3express",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge},{[ge]:{[Le]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Me]:{[xu]:"S3Express",[Qs]:[{[ps]:!0,[On]:"sigv4-s3express",[gs]:"s3express",[pi]:"{Region}"}]},[Ue]:{}},[I]:ge}],QY=[Gt,0,7,!0],ZY=[{[z]:Nr,[K]:[Gt,7,15,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,15,17,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],eQ=[{[z]:Nr,[K]:[Gt,7,16,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,16,18,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],tQ=[{[z]:Nr,[K]:[Gt,7,20,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,20,22,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],rQ=[{[z]:Nr,[K]:[Gt,7,21,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,21,23,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],nQ=[{[z]:Nr,[K]:[Gt,7,27,!0],[Et]:"s3expressAvailabilityZoneId"},{[z]:Nr,[K]:[Gt,27,29,!0],[Et]:"s3expressAvailabilityZoneDelim"},{[z]:Wt,[K]:[{[ze]:"s3expressAvailabilityZoneDelim"},"--"]}],sDe=[AE],sQ=[{[z]:Iu,[K]:[{[ze]:v2},!1]}],iQ=[{[z]:Wt,[K]:[{[ze]:mQ},"beta"]}],iDe=["*"],oQ=[{[z]:Iu,[K]:[{[ze]:"Region"},!1]}],od=[{[z]:Wt,[K]:[{[ze]:"Region"},"us-east-1"]}],E2=[{[z]:Wt,[K]:[xQ,SQ]}],aQ=[{[z]:fn,[K]:[Bi,"resourceId[1]"],[Et]:R2},{[z]:Ya,[K]:[{[z]:Wt,[K]:[P2,DA]}]}],oDe=[Bi,"resourceId[1]"],S2=[{[z]:Ya,[K]:[{[z]:Wt,[K]:[{[z]:fn,[K]:[Bi,"region"]},DA]}]}],cQ=[{[z]:Ya,[K]:[{[z]:io,[K]:[{[z]:fn,[K]:[Bi,"resourceId[2]"]}]}]}],aDe=[Bi,"resourceId[2]"],C2=[{[z]:RA,[K]:[{[z]:fn,[K]:[Bi,"region"]}],[Et]:"bucketPartition"}],lQ=[{[z]:Wt,[K]:[IQ,{[z]:fn,[K]:[{[ze]:"partitionResult"},On]}]}],b2=[{[z]:Iu,[K]:[{[z]:fn,[K]:[Bi,"region"]},!0]}],_2=[{[z]:Iu,[K]:[TQ,!1]}],dQ=[{[z]:Iu,[K]:[P2,!1]}],uQ=[{[z]:Iu,[K]:[{[ze]:"Region"},!0]}],cDe={version:"1.0",parameters:{Bucket:nh,Region:nh,UseFIPS:sh,UseDualStack:sh,Endpoint:nh,ForcePathStyle:sh,Accelerate:sh,UseGlobalEndpoint:sh,UseObjectLambdaEndpoint:_E,Key:nh,Prefix:nh,CopySource:nh,DisableAccessPoints:_E,DisableMultiRegionAccessPoints:sh,UseArnRegion:_E,UseS3ExpressControlEndpoint:_E,DisableS3ExpressSessionAuth:_E},[Z]:[{[B]:[{[z]:io,[K]:g2}],[Z]:[{[B]:[Io,Fr],error:"Accelerate cannot be used with FIPS",[I]:ke},{[B]:[wr,Pn],error:"Cannot set dual-stack in combination with a custom endpoint.",[I]:ke},{[B]:[Pn,Fr],error:"A custom endpoint cannot be combined with FIPS",[I]:ke},{[B]:[Pn,Io],error:"A custom endpoint cannot be combined with S3 Accelerate",[I]:ke},{[B]:[Fr,bQ,uY],error:"Partition does not support FIPS",[I]:ke},{[B]:[AE,{[z]:Nr,[K]:[Gt,0,QOe,Wa],[Et]:tY},{[z]:Wt,[K]:[{[ze]:tY},"--x-s3"]}],[Z]:[fY,mY,hY,{[B]:[gY,yY],[Z]:[{[B]:xo,[Z]:[{[B]:[vQ,mt],[Z]:[{[B]:oh,endpoint:{[Le]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Au,[Ue]:ft},[I]:ge},{endpoint:{[Le]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:Au,[Ue]:ft},[I]:ge}],[I]:te}],[I]:te}],[I]:te},{[B]:GY,[Z]:[{[B]:xo,[Z]:[{[B]:KY,[Z]:[{[B]:$Y,[Z]:Ja,[I]:te},{[B]:WY,[Z]:Ja,[I]:te},{[B]:JY,[Z]:Ja,[I]:te},{[B]:XY,[Z]:Ja,[I]:te},{[B]:YY,[Z]:Ja,[I]:te},IA],[I]:te},{[B]:$Y,[Z]:Xa,[I]:te},{[B]:WY,[Z]:Xa,[I]:te},{[B]:JY,[Z]:Xa,[I]:te},{[B]:XY,[Z]:Xa,[I]:te},{[B]:YY,[Z]:Xa,[I]:te},IA],[I]:te}],[I]:te},pY],[I]:te},{[B]:[AE,{[z]:Nr,[K]:QY,[Et]:rY},{[z]:Wt,[K]:[{[ze]:rY},"--xa-s3"]}],[Z]:[fY,mY,hY,{[B]:GY,[Z]:[{[B]:xo,[Z]:[{[B]:KY,[Z]:[{[B]:ZY,[Z]:Ja,[I]:te},{[B]:eQ,[Z]:Ja,[I]:te},{[B]:tQ,[Z]:Ja,[I]:te},{[B]:rQ,[Z]:Ja,[I]:te},{[B]:nQ,[Z]:Ja,[I]:te},IA],[I]:te},{[B]:ZY,[Z]:Xa,[I]:te},{[B]:eQ,[Z]:Xa,[I]:te},{[B]:tQ,[Z]:Xa,[I]:te},{[B]:rQ,[Z]:Xa,[I]:te},{[B]:nQ,[Z]:Xa,[I]:te},IA],[I]:te}],[I]:te},pY],[I]:te},{[B]:[EY,gY,yY],[Z]:[{[B]:xo,[Z]:[{[B]:ih,endpoint:{[Le]:NA,[Me]:Au,[Ue]:ft},[I]:ge},{[B]:oh,endpoint:{[Le]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Me]:Au,[Ue]:ft},[I]:ge},{endpoint:{[Le]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Me]:Au,[Ue]:ft},[I]:ge}],[I]:te}],[I]:te},{[B]:[AE,{[z]:Nr,[K]:[Gt,49,50,Wa],[Et]:fQ},{[z]:Nr,[K]:[Gt,8,12,Wa],[Et]:mQ},{[z]:Nr,[K]:QY,[Et]:nY},{[z]:Nr,[K]:[Gt,32,49,Wa],[Et]:v2},{[z]:RA,[K]:g2,[Et]:"regionPartition"},{[z]:Wt,[K]:[{[ze]:nY},"--op-s3"]}],[Z]:[{[B]:sQ,[Z]:[{[B]:[{[z]:Wt,[K]:[SY,"e"]}],[Z]:[{[B]:iQ,[Z]:[CY,{[B]:ih,endpoint:{[Le]:"https://{Bucket}.ec2.{url#authority}",[Me]:TA,[Ue]:ft},[I]:ge}],[I]:te},{endpoint:{[Le]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Me]:TA,[Ue]:ft},[I]:ge}],[I]:te},{[B]:[{[z]:Wt,[K]:[SY,"o"]}],[Z]:[{[B]:iQ,[Z]:[CY,{[B]:ih,endpoint:{[Le]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Me]:TA,[Ue]:ft},[I]:ge}],[I]:te},{endpoint:{[Le]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Me]:TA,[Ue]:ft},[I]:ge}],[I]:te},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[I]:ke}],[I]:te},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[I]:ke}],[I]:te},{[B]:sDe,[Z]:[{[B]:[Pn,{[z]:Ya,[K]:[{[z]:io,[K]:[{[z]:T2,[K]:tDe}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[I]:ke},{[B]:[n2,AQ],[Z]:[{[B]:xo,[Z]:[{[B]:oQ,[Z]:[{[B]:[Io,uY],error:"S3 Accelerate cannot be used in this region",[I]:ke},{[B]:[wr,Fr,Vn,mt,Jn],endpoint:{[Le]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[wr,Fr,Vn,mt,Ht,ms],[Z]:[{endpoint:bY,[I]:ge}],[I]:te},{[B]:[wr,Fr,Vn,mt,Ht,hs],endpoint:bY,[I]:ge},{[B]:[Lt,Fr,Vn,mt,Jn],endpoint:{[Le]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,Fr,Vn,mt,Ht,ms],[Z]:[{endpoint:_Y,[I]:ge}],[I]:te},{[B]:[Lt,Fr,Vn,mt,Ht,hs],endpoint:_Y,[I]:ge},{[B]:[wr,At,Io,mt,Jn],endpoint:{[Le]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[wr,At,Io,mt,Ht,ms],[Z]:[{endpoint:vY,[I]:ge}],[I]:te},{[B]:[wr,At,Io,mt,Ht,hs],endpoint:vY,[I]:ge},{[B]:[wr,At,Vn,mt,Jn],endpoint:{[Le]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[wr,At,Vn,mt,Ht,ms],[Z]:[{endpoint:AY,[I]:ge}],[I]:te},{[B]:[wr,At,Vn,mt,Ht,hs],endpoint:AY,[I]:ge},{[B]:[Lt,At,Vn,Pn,hi,r2,Jn],endpoint:{[Le]:hQ,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,At,Vn,Pn,hi,s2,Jn],endpoint:{[Le]:OA,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,At,Vn,Pn,hi,r2,Ht,ms],[Z]:[{[B]:od,endpoint:i2,[I]:ge},{endpoint:i2,[I]:ge}],[I]:te},{[B]:[Lt,At,Vn,Pn,hi,s2,Ht,ms],[Z]:[{[B]:od,endpoint:A2,[I]:ge},xY],[I]:te},{[B]:[Lt,At,Vn,Pn,hi,r2,Ht,hs],endpoint:i2,[I]:ge},{[B]:[Lt,At,Vn,Pn,hi,s2,Ht,hs],endpoint:A2,[I]:ge},{[B]:[Lt,At,Io,mt,Jn],endpoint:{[Le]:pQ,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,At,Io,mt,Ht,ms],[Z]:[{[B]:od,endpoint:o2,[I]:ge},{endpoint:o2,[I]:ge}],[I]:te},{[B]:[Lt,At,Io,mt,Ht,hs],endpoint:o2,[I]:ge},{[B]:[Lt,At,Vn,mt,Jn],endpoint:{[Le]:sY,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,At,Vn,mt,Ht,ms],[Z]:[{[B]:od,endpoint:{[Le]:sY,[Me]:Hn,[Ue]:ft},[I]:ge},{endpoint:IY,[I]:ge}],[I]:te},{[B]:[Lt,At,Vn,mt,Ht,hs],endpoint:IY,[I]:ge}],[I]:te},wA],[I]:te}],[I]:te},{[B]:[Pn,hi,{[z]:Wt,[K]:[{[z]:fn,[K]:[_Q,"scheme"]},"http"]},{[z]:PA,[K]:[Gt,Wa]},n2,At,Lt,Vn],[Z]:[{[B]:xo,[Z]:[{[B]:oQ,[Z]:[xY],[I]:te},wA],[I]:te}],[I]:te},{[B]:[n2,{[z]:gQ,[K]:rDe,[Et]:yQ}],[Z]:[{[B]:[{[z]:fn,[K]:[Bi,"resourceId[0]"],[Et]:EQ},{[z]:Ya,[K]:[{[z]:Wt,[K]:[xQ,DA]}]}],[Z]:[{[B]:[{[z]:Wt,[K]:[a2,N2]}],[Z]:[{[B]:E2,[Z]:[{[B]:aQ,[Z]:[TY,wY,{[B]:S2,[Z]:[NY,{[B]:cQ,[Z]:[c2,{[B]:C2,[Z]:[{[B]:xo,[Z]:[{[B]:lQ,[Z]:[{[B]:b2,[Z]:[{[B]:[{[z]:Wt,[K]:[TQ,DA]}],error:"Invalid ARN: Missing account id",[I]:ke},{[B]:_2,[Z]:[{[B]:dQ,[Z]:[{[B]:ih,endpoint:{[Le]:iY,[Me]:l2,[Ue]:ft},[I]:ge},{[B]:oh,endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:l2,[Ue]:ft},[I]:ge},{endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:l2,[Ue]:ft},[I]:ge}],[I]:te},RY],[I]:te},d2],[I]:te},u2],[I]:te},f2],[I]:te}],[I]:te}],[I]:te},PY],[I]:te},{error:"Invalid ARN: bucket ARN is missing a region",[I]:ke}],[I]:te},OY],[I]:te},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[I]:ke}],[I]:te},{[B]:E2,[Z]:[{[B]:aQ,[Z]:[{[B]:S2,[Z]:[{[B]:E2,[Z]:[{[B]:S2,[Z]:[NY,{[B]:cQ,[Z]:[c2,{[B]:C2,[Z]:[{[B]:xo,[Z]:[{[B]:[{[z]:Wt,[K]:[IQ,"{partitionResult#name}"]}],[Z]:[{[B]:b2,[Z]:[{[B]:[{[z]:Wt,[K]:[a2,ah]}],[Z]:[{[B]:_2,[Z]:[{[B]:dQ,[Z]:[{[B]:y2,error:"Access Points do not support S3 Accelerate",[I]:ke},{[B]:[Fr,wr],endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:vE,[Ue]:ft},[I]:ge},{[B]:[Fr,Lt],endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:vE,[Ue]:ft},[I]:ge},{[B]:[At,wr],endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:vE,[Ue]:ft},[I]:ge},{[B]:[At,Lt,Pn,hi],endpoint:{[Le]:iY,[Me]:vE,[Ue]:ft},[I]:ge},{[B]:[At,Lt],endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:vE,[Ue]:ft},[I]:ge}],[I]:te},RY],[I]:te},d2],[I]:te},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[I]:ke}],[I]:te},u2],[I]:te},f2],[I]:te}],[I]:te}],[I]:te},PY],[I]:te}],[I]:te}],[I]:te},{[B]:[{[z]:Iu,[K]:[P2,Wa]}],[Z]:[{[B]:zY,error:"S3 MRAP does not support dual-stack",[I]:ke},{[B]:oh,error:"S3 MRAP does not support FIPS",[I]:ke},{[B]:y2,error:"S3 MRAP does not support S3 Accelerate",[I]:ke},{[B]:[{[z]:Dn,[K]:[{[ze]:"DisableMultiRegionAccessPoints"},Wa]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[I]:ke},{[B]:[{[z]:RA,[K]:g2,[Et]:oY}],[Z]:[{[B]:[{[z]:Wt,[K]:[{[z]:fn,[K]:[{[ze]:oY},On]},{[z]:fn,[K]:[Bi,"partition"]}]}],[Z]:[{endpoint:{[Le]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Me]:{[Qs]:[{[ps]:Wa,name:w2,[gs]:ah,[I2]:iDe}]},[Ue]:ft},[I]:ge}],[I]:te},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[I]:ke}],[I]:te}],[I]:te},{error:"Invalid Access Point Name",[I]:ke}],[I]:te},OY],[I]:te},{[B]:[{[z]:Wt,[K]:[a2,xE]}],[Z]:[{[B]:zY,error:"S3 Outposts does not support Dual-stack",[I]:ke},{[B]:oh,error:"S3 Outposts does not support FIPS",[I]:ke},{[B]:y2,error:"S3 Outposts does not support S3 Accelerate",[I]:ke},{[B]:[{[z]:io,[K]:[{[z]:fn,[K]:[Bi,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[I]:ke},{[B]:[{[z]:fn,[K]:oDe,[Et]:v2}],[Z]:[{[B]:sQ,[Z]:[c2,{[B]:C2,[Z]:[{[B]:xo,[Z]:[{[B]:lQ,[Z]:[{[B]:b2,[Z]:[{[B]:_2,[Z]:[{[B]:[{[z]:fn,[K]:aDe,[Et]:aY}],[Z]:[{[B]:[{[z]:fn,[K]:[Bi,"resourceId[3]"],[Et]:R2}],[Z]:[{[B]:[{[z]:Wt,[K]:[{[ze]:aY},SQ]}],[Z]:[{[B]:ih,endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Me]:DY,[Ue]:ft},[I]:ge},{endpoint:{[Le]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Me]:DY,[Ue]:ft},[I]:ge}],[I]:te},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[I]:ke}],[I]:te},{error:"Invalid ARN: expected an access point name",[I]:ke}],[I]:te},{error:"Invalid ARN: Expected a 4-component resource",[I]:ke}],[I]:te},d2],[I]:te},u2],[I]:te},f2],[I]:te}],[I]:te}],[I]:te},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[I]:ke}],[I]:te},{error:"Invalid ARN: The Outpost Id was not set",[I]:ke}],[I]:te},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[I]:ke}],[I]:te},{error:"Invalid ARN: No ARN type specified",[I]:ke}],[I]:te},{[B]:[{[z]:Nr,[K]:[Gt,0,4,ZOe],[Et]:cY},{[z]:Wt,[K]:[{[ze]:cY},"arn:"]},{[z]:Ya,[K]:[{[z]:io,[K]:[kY]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[I]:ke},{[B]:[{[z]:Dn,[K]:[eDe,Wa]},kY],error:"Path-style addressing cannot be used with ARN buckets",[I]:ke},{[B]:nDe,[Z]:[{[B]:xo,[Z]:[{[B]:[Vn],[Z]:[{[B]:[wr,mt,Fr,Jn],endpoint:{[Le]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[wr,mt,Fr,Ht,ms],[Z]:[{endpoint:BY,[I]:ge}],[I]:te},{[B]:[wr,mt,Fr,Ht,hs],endpoint:BY,[I]:ge},{[B]:[Lt,mt,Fr,Jn],endpoint:{[Le]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,mt,Fr,Ht,ms],[Z]:[{endpoint:LY,[I]:ge}],[I]:te},{[B]:[Lt,mt,Fr,Ht,hs],endpoint:LY,[I]:ge},{[B]:[wr,mt,At,Jn],endpoint:{[Le]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[wr,mt,At,Ht,ms],[Z]:[{endpoint:MY,[I]:ge}],[I]:te},{[B]:[wr,mt,At,Ht,hs],endpoint:MY,[I]:ge},{[B]:[Lt,Pn,hi,At,Jn],endpoint:{[Le]:CQ,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,Pn,hi,At,Ht,ms],[Z]:[{[B]:od,endpoint:m2,[I]:ge},{endpoint:m2,[I]:ge}],[I]:te},{[B]:[Lt,Pn,hi,At,Ht,hs],endpoint:m2,[I]:ge},{[B]:[Lt,mt,At,Jn],endpoint:{[Le]:lY,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Lt,mt,At,Ht,ms],[Z]:[{[B]:od,endpoint:{[Le]:lY,[Me]:Hn,[Ue]:ft},[I]:ge},{endpoint:UY,[I]:ge}],[I]:te},{[B]:[Lt,mt,At,Ht,hs],endpoint:UY,[I]:ge}],[I]:te},{error:"Path-style addressing cannot be used with S3 Accelerate",[I]:ke}],[I]:te}],[I]:te}],[I]:te},{[B]:[{[z]:io,[K]:[FY]},{[z]:Dn,[K]:[FY,Wa]}],[Z]:[{[B]:xo,[Z]:[{[B]:uQ,[Z]:[TY,wY,{[B]:ih,endpoint:{[Le]:NA,[Me]:h2,[Ue]:ft},[I]:ge},{[B]:oh,endpoint:{[Le]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Me]:h2,[Ue]:ft},[I]:ge},{endpoint:{[Le]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Me]:h2,[Ue]:ft},[I]:ge}],[I]:te},wA],[I]:te}],[I]:te},{[B]:[EY],[Z]:[{[B]:xo,[Z]:[{[B]:uQ,[Z]:[{[B]:[Fr,wr,mt,Jn],endpoint:{[Le]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Fr,wr,mt,Ht,ms],[Z]:[{endpoint:qY,[I]:ge}],[I]:te},{[B]:[Fr,wr,mt,Ht,hs],endpoint:qY,[I]:ge},{[B]:[Fr,Lt,mt,Jn],endpoint:{[Le]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[Fr,Lt,mt,Ht,ms],[Z]:[{endpoint:jY,[I]:ge}],[I]:te},{[B]:[Fr,Lt,mt,Ht,hs],endpoint:jY,[I]:ge},{[B]:[At,wr,mt,Jn],endpoint:{[Le]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[At,wr,mt,Ht,ms],[Z]:[{endpoint:VY,[I]:ge}],[I]:te},{[B]:[At,wr,mt,Ht,hs],endpoint:VY,[I]:ge},{[B]:[At,Lt,Pn,hi,Jn],endpoint:{[Le]:NA,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[At,Lt,Pn,hi,Ht,ms],[Z]:[{[B]:od,endpoint:p2,[I]:ge},{endpoint:p2,[I]:ge}],[I]:te},{[B]:[At,Lt,Pn,hi,Ht,hs],endpoint:p2,[I]:ge},{[B]:[At,Lt,mt,Jn],endpoint:{[Le]:dY,[Me]:fs,[Ue]:ft},[I]:ge},{[B]:[At,Lt,mt,Ht,ms],[Z]:[{[B]:od,endpoint:{[Le]:dY,[Me]:Hn,[Ue]:ft},[I]:ge},{endpoint:HY,[I]:ge}],[I]:te},{[B]:[At,Lt,mt,Ht,hs],endpoint:HY,[I]:ge}],[I]:te},wA],[I]:te}],[I]:te}],[I]:te},{error:"A region must be set when sending requests to S3.",[I]:ke}]};kA.ruleSet=cDe});var D2=C(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0});BA.defaultEndpointResolver=void 0;var lDe=iu(),O2=Nl(),dDe=wQ(),uDe=new O2.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),fDe=(e,t={})=>uDe.get(e,()=>(0,O2.resolveEndpoint)(dDe.ruleSet,{endpointParams:e,logger:t.logger}));BA.defaultEndpointResolver=fDe;O2.customEndpointFunctions.aws=lDe.awsEndpointFunctions});var k2=C(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.resolveHttpAuthSchemeConfig=ad.defaultS3HttpAuthSchemeProvider=ad.defaultS3HttpAuthSchemeParametersProvider=void 0;var NQ=(rn(),lt(Js)),mDe=Tm(),hDe=Eo(),LA=Ps(),pDe=D2(),gDe=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=(0,LA.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let o=await(0,hDe.resolveParams)(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},yDe=async(e,t,r)=>({operation:(0,LA.getSmithyContext)(t).operation,region:await(0,LA.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ad.defaultS3HttpAuthSchemeParametersProvider=gDe(yDe);function RQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function PQ(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var EDe=(e,t,r)=>s=>{let o=e(s).properties?.authSchemes;if(!o)return t(s);let a=[];for(let c of o){let{name:l,properties:u={},...m}=c,h=l.toLowerCase();l!==h&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${l}\` to \`${h}\``);let p;if(h==="sigv4a"){p="aws.auth#sigv4a";let _=o.find(x=>{let w=x.name.toLowerCase();return w!=="sigv4a"&&w.startsWith("sigv4")});if(mDe.SignatureV4MultiRegion.sigv4aDependency()==="none"&&_)continue}else if(h.startsWith("sigv4"))p="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${h}\``);let g=r[p];if(!g)throw new Error(`Could not find HttpAuthOption create function for \`${p}\``);let y=g(s);y.schemeId=p,y.signingProperties={...y.signingProperties||{},...m,...u},a.push(y)}return a},SDe=e=>{let t=[];switch(e.operation){default:t.push(RQ(e)),t.push(PQ(e))}return t};ad.defaultS3HttpAuthSchemeProvider=EDe(pDe.defaultEndpointResolver,SDe,{"aws.auth#sigv4":RQ,"aws.auth#sigv4a":PQ});var CDe=e=>{let t=(0,NQ.resolveAwsSdkSigV4Config)(e),r=(0,NQ.resolveAwsSdkSigV4AConfig)(t);return Object.assign(r,{authSchemePreference:(0,LA.normalizeProvider)(e.authSchemePreference??[])})};ad.resolveHttpAuthSchemeConfig=CDe});var OQ=C((aCt,bDe)=>{bDe.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.918.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.916.0","@aws-sdk/credential-provider-node":"3.918.0","@aws-sdk/middleware-bucket-endpoint":"3.914.0","@aws-sdk/middleware-expect-continue":"3.917.0","@aws-sdk/middleware-flexible-checksums":"3.916.0","@aws-sdk/middleware-host-header":"3.914.0","@aws-sdk/middleware-location-constraint":"3.914.0","@aws-sdk/middleware-logger":"3.914.0","@aws-sdk/middleware-recursion-detection":"3.914.0","@aws-sdk/middleware-sdk-s3":"3.916.0","@aws-sdk/middleware-ssec":"3.914.0","@aws-sdk/middleware-user-agent":"3.916.0","@aws-sdk/region-config-resolver":"3.914.0","@aws-sdk/signature-v4-multi-region":"3.916.0","@aws-sdk/types":"3.914.0","@aws-sdk/util-endpoints":"3.916.0","@aws-sdk/util-user-agent-browser":"3.914.0","@aws-sdk/util-user-agent-node":"3.916.0","@aws-sdk/xml-builder":"3.914.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/eventstream-serde-browser":"^4.2.3","@smithy/eventstream-serde-config-resolver":"^4.3.3","@smithy/eventstream-serde-node":"^4.2.3","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-blob-browser":"^4.2.4","@smithy/hash-node":"^4.2.3","@smithy/hash-stream-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/md5-js":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-stream":"^4.5.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.3","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.916.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var JQ=C(kn=>{"use strict";var cd=UC(),DQ=rk(),_De=rr(),kQ="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",BQ="s3_disable_multiregion_access_points",vDe={environmentVariableSelector:e=>cd.booleanSelector(e,kQ,cd.SelectorType.ENV),configFileSelector:e=>cd.booleanSelector(e,BQ,cd.SelectorType.CONFIG),default:!1},LQ="AWS_S3_USE_ARN_REGION",MQ="s3_use_arn_region",ADe={environmentVariableSelector:e=>cd.booleanSelector(e,LQ,cd.SelectorType.ENV),configFileSelector:e=>cd.booleanSelector(e,MQ,cd.SelectorType.CONFIG),default:void 0},xDe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,IDe=/(\d+\.){3}\d+/,TDe=/\.\./,UQ=/\./,wDe=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,FQ=/^s3(-external-1)?\.amazonaws\.com$/,B2="amazonaws.com",NDe=e=>typeof e.bucketName=="string",RDe=e=>xDe.test(e)&&!IDe.test(e)&&!TDe.test(e),qQ=e=>{let t=e.match(wDe);return[t[4],e.replace(new RegExp(`^${t[0]}`),"")]},PDe=e=>FQ.test(e)?["us-east-1",B2]:qQ(e),jQ=e=>FQ.test(e)?[e.replace(`.${B2}`,""),B2]:qQ(e),ODe=e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},DDe=e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},kDe=e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},VQ=e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},HQ=(e,t)=>{if(e!==t.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${t.clientPartition}"`)},BDe=(e,t)=>{},M2=e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},zQ=e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},ch=(e,t={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||t?.tlsCompatible&&UQ.test(e))throw new Error(`Invalid DNS label ${e}`)},LDe=e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},KQ=e=>{let t=e.includes(":")?":":"/",[r,...n]=e.split(t);if(r==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${t}{accesspointname}`);return{accesspointName:n[0]}}else if(r==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${t}{outpostId}${t}accesspoint${t}{accesspointName}`);let[s,i,o]=n;return{outpostId:s,accesspointName:o}}else throw new Error(`ARN resource should begin with 'accesspoint${t}' or 'outpost${t}'`)},MDe=e=>{},GQ=e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},UDe=e=>{try{e.split(".").forEach(t=>{ch(t)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},L2=e=>(LDe(e),NDe(e)?FDe(e):qDe(e)),FDe=({accelerateEndpoint:e=!1,clientRegion:t,baseHostname:r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,pathStyleEndpoint:o=!1,tlsCompatible:a=!0,isCustomEndpoint:c=!1})=>{let[l,u]=c?[t,r]:PDe(r);return o||!RDe(n)||a&&UQ.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${l}.${u}`:r}:(e?r=`s3-accelerate${s?".dualstack":""}.${u}`:s&&(r=`s3.dualstack.${l}.${u}`),{bucketEndpoint:!0,hostname:`${n}.${r}`})},qDe=e=>{let{isCustomEndpoint:t,baseHostname:r,clientRegion:n}=e,s=t?r:jQ(r)[1],{pathStyleEndpoint:i,accelerateEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,bucketName:l,clientPartition:u="aws"}=e;ODe({pathStyleEndpoint:i,accelerateEndpoint:o,tlsCompatible:c});let{service:m,partition:h,accountId:p,region:g,resource:y}=l;DDe(m),HQ(h,{clientPartition:u}),zQ(p);let{accesspointName:_,outpostId:x}=KQ(y);return m==="s3-object-lambda"?jDe({...e,tlsCompatible:c,bucketName:l,accesspointName:_,hostnameSuffix:s}):g===""?VDe({...e,mrapAlias:_,hostnameSuffix:s}):x?HDe({...e,clientRegion:n,outpostId:x,accesspointName:_,hostnameSuffix:s}):zDe({...e,clientRegion:n,accesspointName:_,hostnameSuffix:s})},jDe=({dualstackEndpoint:e=!1,fipsEndpoint:t=!1,tlsCompatible:r=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:i=s,accesspointName:o,bucketName:a,hostnameSuffix:c})=>{let{accountId:l,region:u,service:m}=a;M2(s);let h=`${o}-${l}`;ch(h,{tlsCompatible:r});let p=n?u:s,g=n?u:i;return{bucketEndpoint:!0,hostname:`${h}.${m}${t?"-fips":""}.${p}.${c}`,signingRegion:g,signingService:m}},VDe=({disableMultiregionAccessPoints:e,dualstackEndpoint:t=!1,isCustomEndpoint:r,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return UDe(n),{bucketEndpoint:!0,hostname:`${n}${r?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},HDe=({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,outpostId:s,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:u})=>{M2(t);let m=`${c}-${n.accountId}`;ch(m,{tlsCompatible:a});let h=e?n.region:t,p=e?n.region:r;return VQ(n.service),ch(s,{tlsCompatible:a}),GQ(o),{bucketEndpoint:!0,hostname:`${`${m}.${s}`}${l?"":`.s3-outposts.${h}`}.${u}`,signingRegion:p,signingService:"s3-outposts"}},zDe=({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,tlsCompatible:o=!0,accesspointName:a,isCustomEndpoint:c,hostnameSuffix:l})=>{M2(t);let u=`${a}-${n.accountId}`;ch(u,{tlsCompatible:o});let m=e?n.region:t,h=e?n.region:r;return kDe(n.service),{bucketEndpoint:!0,hostname:`${u}${c?"":`.s3-accesspoint${i?"-fips":""}${s?".dualstack":""}.${m}`}.${l}`,signingRegion:h}},$Q=e=>(t,r)=>async n=>{let{Bucket:s}=n.input,i=e.bucketEndpoint,o=n.request;if(_De.HttpRequest.isInstance(o)){if(e.bucketEndpoint)o.hostname=s;else if(DQ.validate(s)){let a=DQ.parse(s),c=await e.region(),l=await e.useDualstackEndpoint(),u=await e.useFipsEndpoint(),{partition:m,signingRegion:h=c}=await e.regionInfoProvider(c,{useDualstackEndpoint:l,useFipsEndpoint:u})||{},p=await e.useArnRegion(),{hostname:g,bucketEndpoint:y,signingRegion:_,signingService:x}=L2({bucketName:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:u,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",useArnRegion:p,clientPartition:m,clientSigningRegion:h,clientRegion:c,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});_&&_!==h&&(r.signing_region=_),x&&x!=="s3"&&(r.signing_service=x),o.hostname=g,i=y}else{let a=await e.region(),c=await e.useDualstackEndpoint(),l=await e.useFipsEndpoint(),{hostname:u,bucketEndpoint:m}=L2({bucketName:s,clientRegion:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:c,fipsEndpoint:l,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});o.hostname=u,i=m}i&&(o.path=o.path.replace(/^(\/)?[^\/]+/,""),o.path===""&&(o.path="/"))}return t({...n,request:o})},WQ={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},KDe=e=>({applyToStack:t=>{t.addRelativeTo($Q(e),WQ)}});function GDe(e){let{bucketEndpoint:t=!1,forcePathStyle:r=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:i=!1}=e;return Object.assign(e,{bucketEndpoint:t,forcePathStyle:r,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof i=="function"?i:()=>Promise.resolve(i)})}kn.NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS=vDe;kn.NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME=kQ;kn.NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME=BQ;kn.NODE_USE_ARN_REGION_CONFIG_OPTIONS=ADe;kn.NODE_USE_ARN_REGION_ENV_NAME=LQ;kn.NODE_USE_ARN_REGION_INI_NAME=MQ;kn.bucketEndpointMiddleware=$Q;kn.bucketEndpointMiddlewareOptions=WQ;kn.bucketHostname=L2;kn.getArnResources=KQ;kn.getBucketEndpointPlugin=KDe;kn.getSuffixForArnEndpoint=jQ;kn.resolveBucketEndpointConfig=GDe;kn.validateAccountId=zQ;kn.validateDNSHostLabel=ch;kn.validateNoDualstack=MDe;kn.validateNoFIPS=GQ;kn.validateOutpostService=VQ;kn.validatePartition=HQ;kn.validateRegion=BDe});var eZ=C(dd=>{"use strict";var QQ=_A(),Tu=LS(),lh=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&XQ(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&XQ(t),parseInt(Tu.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function XQ(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var MA=class{toUtf8;fromUtf8;constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(lh.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!tke.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Tu.fromHex(t.value.replace(/\-/g,"")),1),m}}parse(t){let r={},n=0;for(;n<t.byteLength;){let s=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[i]={type:YQ,value:!0};break;case 1:r[i]={type:YQ,value:!1};break;case 2:r[i]={type:$De,value:t.getInt8(n++)};break;case 3:r[i]={type:WDe,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:JDe,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:XDe,value:new lh(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let o=t.getUint16(n,!1);n+=2,r[i]={type:YDe,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:let a=t.getUint16(n,!1);n+=2,r[i]={type:QDe,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:ZDe,value:new Date(new lh(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:eke,value:`${Tu.toHex(c.subarray(0,4))}-${Tu.toHex(c.subarray(4,6))}-${Tu.toHex(c.subarray(6,8))}-${Tu.toHex(c.subarray(8,10))}-${Tu.toHex(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},YQ="boolean",$De="byte",WDe="short",JDe="integer",XDe="long",YDe="binary",QDe="string",ZDe="timestamp",eke="uuid",tke=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ZQ=4,ld=ZQ*2,wu=4,rke=ld+wu*2;function nke({byteLength:e,byteOffset:t,buffer:r}){if(e<rke)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let i=n.getUint32(ZQ,!1),o=n.getUint32(ld,!1),a=n.getUint32(e-wu,!1),c=new QQ.Crc32().update(new Uint8Array(r,t,ld));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+ld,e-(ld+wu))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+ld+wu,i),body:new Uint8Array(r,t+ld+wu+i,s-i-(ld+wu+wu))}}var U2=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(t,r){this.headerMarshaller=new MA(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new QQ.Crc32;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=nke(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}},F2=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}},q2=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}},j2=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}},V2=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};dd.EventStreamCodec=U2;dd.HeaderMarshaller=MA;dd.Int64=lh;dd.MessageDecoderStream=F2;dd.MessageEncoderStream=q2;dd.SmithyMessageDecoderStream=j2;dd.SmithyMessageEncoderStream=V2});var tZ=C(H2=>{"use strict";var IE=eZ();function ske(e){let t=0,r=0,n=null,s=null,i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=await a.next();if(l){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let u=c.length,m=0;for(;m<u;){if(!n){let p=u-m;s||(s=new Uint8Array(4));let g=Math.min(4-r,p);if(s.set(c.slice(m,m+g),r),r+=g,m+=g,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}let h=Math.min(t-r,u-m);n.set(c.slice(m,m+h),r),r+=h,m+=h,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function ike(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){let s=r.headers[":exception-type"].value,i={[s]:r},o=await e(i);if(o.$unknown){let a=new Error(t(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){let s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}var UA=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new IE.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=ske(t);return new IE.SmithyMessageDecoderStream({messageStream:new IE.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:ike(r,this.utfEncoder)})}serialize(t,r){return new IE.MessageEncoderStream({messageStream:new IE.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},oke=e=>new UA(e);H2.EventStreamMarshaller=UA;H2.eventStreamSerdeProvider=oke});var rZ=C(z2=>{"use strict";var ake=tZ(),cke=require("stream");async function*lke(e){let t=!1,r=!1,n=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{t=!0});!r;){let s=await new Promise(i=>setTimeout(()=>i(n.shift()),0));s&&(yield s),r=t&&n.length===0}}var FA=class{universalMarshaller;constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new ake.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:lke(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return cke.Readable.from(this.universalMarshaller.serialize(t,r))}},dke=e=>new FA(e);z2.EventStreamMarshaller=FA;z2.eventStreamSerdeProvider=dke});var nZ=C(K2=>{"use strict";var uke=require("fs"),fke=jn(),mke=require("stream"),qA=class extends mke.Writable{hash;constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(fke.toUint8Array(t))}catch(s){return n(s)}n()}},hke=(e,t)=>new Promise((r,n)=>{if(!pke(t)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=uke.createReadStream(t.path,{start:t.start,end:t.end}),i=new e,o=new qA(i);s.pipe(o),s.on("error",a=>{o.end(),n(a)}),o.on("error",n),o.on("finish",function(){i.digest().then(r).catch(n)})}),pke=e=>typeof e.path=="string",gke=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new qA(r);return t.pipe(n),new Promise((s,i)=>{t.on("error",o=>{n.end(),i(o)}),n.on("error",i),n.on("finish",()=>{r.digest().then(s).catch(i)})})};K2.fileStreamHasher=hke;K2.readableStreamHasher=gke});var cZ=C(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0});jA.getRuntimeConfig=void 0;var sZ=(rn(),lt(Js)),yke=Tm(),Eke=pt(),Ske=Mc(),iZ=ls(),oZ=Xd(),aZ=jn(),Cke=k2(),bke=D2(),_ke=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??iZ.fromBase64,base64Encoder:e?.base64Encoder??iZ.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??bke.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??oZ.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Cke.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new sZ.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new sZ.AwsSdkSigV4ASigner}],logger:e?.logger??new Eke.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??oZ.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??yke.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Ske.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??aZ.fromUtf8,utf8Encoder:e?.utf8Encoder??aZ.toUtf8});jA.getRuntimeConfig=_ke});var mZ=C(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0});HA.getRuntimeConfig=void 0;var vke=(aa(),lt(oa)),Ake=vke.__importDefault(OQ()),G2=(rn(),lt(Js)),xke=FB(),Ike=JQ(),lZ=t2(),Tke=tb(),dZ=Rm(),VA=Qi(),wke=rZ(),$2=Pm(),Nke=nZ(),uZ=da(),To=zc(),fZ=xl(),Rke=Om(),Pke=gu(),Oke=cZ(),Dke=pt(),kke=Lm(),Bke=pt(),Lke=e=>{(0,Bke.emitWarningIfUnsupportedVersion)(process.version);let t=(0,kke.resolveDefaultsModeConfig)(e),r=()=>t().then(Dke.loadConfigsForDefaultMode),n=(0,Oke.getRuntimeConfig)(e);(0,G2.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,To.loadConfig)(G2.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Rke.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??xke.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,dZ.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ake.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,To.loadConfig)(Tke.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??wke.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,To.loadConfig)(uZ.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??$2.Hash.bind(null,"md5"),region:e?.region??(0,To.loadConfig)(VA.NODE_REGION_CONFIG_OPTIONS,{...VA.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,To.loadConfig)(lZ.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:fZ.NodeHttpHandler.create(e?.requestHandler??r),responseChecksumValidation:e?.responseChecksumValidation??(0,To.loadConfig)(lZ.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,To.loadConfig)({...uZ.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Pke.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??$2.Hash.bind(null,"sha1"),sha256:e?.sha256??$2.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,To.loadConfig)(G2.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??fZ.streamCollector,streamHasher:e?.streamHasher??Nke.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,To.loadConfig)(Ike.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,To.loadConfig)(VA.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,To.loadConfig)(VA.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,To.loadConfig)(dZ.NODE_APP_ID_CONFIG_OPTIONS,s)}};HA.getRuntimeConfig=Lke});var yZ=C(TE=>{"use strict";function hZ(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let i of s){let o=n[i.target];if(o){let a;typeof o=="string"?gZ(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=e.base64Encoder(a));let c=new e.md5;c.update(a),n[i.hash]=e.base64Encoder(await c.digest())}}return t({...r,input:n})}}var pZ={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Mke=e=>({applyToStack:t=>{t.add(hZ(e),pZ)}});function gZ(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}TE.getSsecPlugin=Mke;TE.isValidBase64EncodedSSECustomerKey=gZ;TE.ssecMiddleware=hZ;TE.ssecMiddlewareOptions=pZ});var CZ=C(zA=>{"use strict";function EZ(e){return t=>async r=>{let{CreateBucketConfiguration:n}=r.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&s!=="us-east-1"&&(r.input.CreateBucketConfiguration=r.input.CreateBucketConfiguration??{},r.input.CreateBucketConfiguration.LocationConstraint=s),t(r)}}var SZ={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},Uke=e=>({applyToStack:t=>{t.add(EZ(e),SZ)}});zA.getLocationConstraintPlugin=Uke;zA.locationConstraintMiddleware=EZ;zA.locationConstraintMiddlewareOptions=SZ});var AZ=C(gi=>{"use strict";var Fke=e=>new Promise(t=>setTimeout(t,e*1e3)),vZ={minDelay:2,maxDelay:120};gi.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(gi.WaiterState||(gi.WaiterState={}));var qke=e=>{if(e.state===gi.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state===gi.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!==gi.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},jke=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return Vke(e,s)},Vke=(e,t)=>e+Math.random()*(t-e),Hke=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:i},o,a)=>{let c={},{state:l,reason:u}=await a(s,o);if(u){let g=bZ(u);c[g]|=0,c[g]+=1}if(l!==gi.WaiterState.RETRY)return{state:l,reason:u,observedResponses:c};let m=1,h=Date.now()+r*1e3,p=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||i?.aborted){let x="AbortController signal aborted.";return c[x]|=0,c[x]+=1,{state:gi.WaiterState.ABORTED,observedResponses:c}}let g=jke(e,t,p,m);if(Date.now()+g*1e3>h)return{state:gi.WaiterState.TIMEOUT,observedResponses:c};await Fke(g);let{state:y,reason:_}=await a(s,o);if(_){let x=bZ(_);c[x]|=0,c[x]+=1}if(y!==gi.WaiterState.RETRY)return{state:y,reason:_,observedResponses:c};m+=1}},bZ=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),zke=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},_Z=e=>{let t,r=new Promise(n=>{t=()=>n({state:gi.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},Kke=async(e,t,r)=>{let n={...vZ,...e};zke(n);let s=[Hke(n,t,r)],i=[];if(e.abortSignal){let{aborted:o,clearListener:a}=_Z(e.abortSignal);i.push(a),s.push(o)}if(e.abortController?.signal){let{aborted:o,clearListener:a}=_Z(e.abortController.signal);i.push(a),s.push(o)}return Promise.race(s).then(o=>{for(let a of i)a();return o})};gi.checkExceptions=qke;gi.createWaiter=Kke;gi.waiterServiceDefaults=vZ});var Rre=C(T=>{"use strict";var Gke=mX(),Er=t2(),xZ=em(),$ke=tm(),Wke=rm(),Be=tb(),IZ=hu(),Jke=Qi(),se=(Gs(),lt(Tl)),Xke=eY(),Yke=Am(),de=Eo(),TZ=da(),d=pt(),wZ=k2(),ue=Pc(),nt=(rn(),lt(Js)),N=ay(),TL=rr(),Qke=eC(),Zke=mZ(),NZ=Mm(),ga=yZ(),eBe=CZ(),vn=AZ(),tBe=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),fe={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ys=class e extends d.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},rBe={requester:"requester"},nBe={requester:"requester"},Ox=class e extends ys{name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sBe={Enabled:"Enabled",Suspended:"Suspended"},iBe={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},oBe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},aBe={Destination:"Destination"},cBe={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},lBe={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},dBe={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},uBe={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},fBe={COPY:"COPY",REPLACE:"REPLACE"},mBe={OFF:"OFF",ON:"ON"},hBe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},pBe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},gBe={COPY:"COPY",REPLACE:"REPLACE"},Dx=class e extends ys{name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kx=class e extends ys{name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bx=class e extends ys{name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yBe={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},EBe={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},SBe={Directory:"Directory"},CBe={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},bBe={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},_Be={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},vBe={DISABLED:"DISABLED",ENABLED:"ENABLED"},ABe={AES256:"AES256",aws_kms:"aws:kms"},xBe={DISABLED:"DISABLED",ENABLED:"ENABLED"},IBe={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},Lx=class e extends ys{name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};T.AnalyticsFilter=void 0;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(T.AnalyticsFilter||(T.AnalyticsFilter={}));var TBe={CSV:"CSV"},wBe={V_1:"V_1"},NBe={Disabled:"Disabled",Enabled:"Enabled"},RBe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},PBe={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},OBe={All:"All",Current:"Current"},DBe={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},kBe={Daily:"Daily",Weekly:"Weekly"},BBe={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},LBe={Disabled:"Disabled",Enabled:"Enabled"},MBe={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},UBe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},FBe={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},qBe={aws:"aws",customer:"customer"};T.MetricsFilter=void 0;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(T.MetricsFilter||(T.MetricsFilter={}));var jBe={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},VBe={prefix:"prefix",suffix:"suffix"},HBe={Disabled:"Disabled",Enabled:"Enabled"},zBe={Disabled:"Disabled",Enabled:"Enabled"},KBe={Disabled:"Disabled",Enabled:"Enabled"},GBe={Disabled:"Disabled",Enabled:"Enabled"},$Be={Disabled:"Disabled",Enabled:"Enabled"},WBe={Disabled:"Disabled",Enabled:"Enabled"},JBe={Disabled:"Disabled",Enabled:"Enabled"},XBe={BucketOwner:"BucketOwner",Requester:"Requester"},YBe={Disabled:"Disabled",Enabled:"Enabled"},QBe={Enabled:"Enabled",Suspended:"Suspended"},ZBe={http:"http",https:"https"},e2e={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},t2e={ENABLED:"ENABLED"},Mx=class e extends ys{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},Ux=class e extends ys{name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},r2e={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},n2e={Enabled:"Enabled"},s2e={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},Fx=class e extends ys{name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},i2e={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},o2e={url:"url"},see=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),iee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),oee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),aee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:d.SENSITIVE_STRING}}),cee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),lee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),dee=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:d.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:d.SENSITIVE_STRING}}),uee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING},...e.Credentials&&{Credentials:dee(e.Credentials)}}),fee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),mee=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:d.SENSITIVE_STRING}}),hee=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:mee(e.ApplyServerSideEncryptionByDefault)}}),lM=e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>hee(t))}}),pee=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:lM(e.ServerSideEncryptionConfiguration)}}),gee=e=>({...e,...e.KeyId&&{KeyId:d.SENSITIVE_STRING}}),yee=e=>({...e,...e.SSEKMS&&{SSEKMS:gee(e.SSEKMS)}}),Eee=e=>({...e,...e.Encryption&&{Encryption:yee(e.Encryption)}}),See=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:Eee(e.S3BucketDestination)}}),XT=e=>({...e,...e.Destination&&{Destination:See(e.Destination)}}),Cee=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:XT(e.InventoryConfiguration)}}),bee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),_ee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),vee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),Aee=e=>({...e}),xee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),Iee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),Tee=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>XT(t))}}),a2e={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},c2e={RESTORE_STATUS:"RestoreStatus"},l2e={STANDARD:"STANDARD"},d2e={Disabled:"Disabled",Enabled:"Enabled"},qx=class e extends ys{name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jx=class e extends ys{name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vx=class e extends ys{name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hx=class e extends ys{name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zx=class e extends ys{name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kx=class e extends ys{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},u2e={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},f2e={SQL:"SQL"},m2e={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},h2e={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},p2e={DOCUMENT:"DOCUMENT",LINES:"LINES"},g2e={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},y2e={SELECT:"SELECT"};T.SelectObjectContentEventStream=void 0;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(T.SelectObjectContentEventStream||(T.SelectObjectContentEventStream={}));var wee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),Nee=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:lM(e.ServerSideEncryptionConfiguration)}}),Ree=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:XT(e.InventoryConfiguration)}}),Pee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),Oee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:d.SENSITIVE_STRING}}),Dee=e=>({...e,...e.KMSKeyId&&{KMSKeyId:d.SENSITIVE_STRING}}),kee=e=>({...e,...e.Encryption&&{Encryption:Dee(e.Encryption)}}),Bee=e=>({...e,...e.S3&&{S3:kee(e.S3)}}),Lee=e=>({...e,...e.OutputLocation&&{OutputLocation:Bee(e.OutputLocation)}}),Mee=e=>({...e,...e.RestoreRequest&&{RestoreRequest:Lee(e.RestoreRequest)}}),E2e=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},Uee=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),Fee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),qee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),jee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING}}),Vee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),Hee=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:d.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:d.SENSITIVE_STRING}}),zee=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:d.SENSITIVE_STRING}}),S2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye],[S8e]:[()=>d.isSerializableHeaderValue(e[UZ]),()=>d.dateToUtcString(e[UZ]).toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"AbortMultipartUpload"],[$E]:[,d.expectNonNull(e[Fi],"UploadId")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},C2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ef]:e[Rr],[Sf]:e[Pr],[Cf]:e[Or],[bf]:e[Dr],[_f]:e[kr],[mp]:e[Br],[v8e]:[()=>d.isSerializableHeaderValue(e[HZ]),()=>e[HZ].toString()],[Cr]:e[Sr],[Ee]:e[ye],[dp]:e[UE],[KE]:e[ZT],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[$E]:[,d.expectNonNull(e[Fi],"UploadId")]}),i,o;return e.MultipartUpload!==void 0&&(o=GFe(e.MultipartUpload),o=o.n("CompleteMultipartUpload"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},b2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[fp]:e[Zh],[qE]:e[ep],[jM]:e[ht],[jE]:e[tp],[VE]:e[rp],[HE]:e[np],[zE]:e[sp],[hre]:e[mte],[pre]:e[hte],[gre]:[()=>d.isSerializableHeaderValue(e[Gx]),()=>d.dateToUtcString(e[Gx]).toString()],[yre]:e[pte],[Ere]:[()=>d.isSerializableHeaderValue(e[$x]),()=>d.dateToUtcString(e[$x]).toString()],[ff]:[()=>d.isSerializableHeaderValue(e[rc]),()=>d.dateToUtcString(e[rc]).toString()],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[yp]:e[cp],[_8e]:e[X6e],[M8e]:e[YHe],[co]:e[si],[YE]:e[bt],[QE]:e[FE],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[lo]:e[Ms],[bd]:e[Cd],[An]:[()=>d.isSerializableHeaderValue(e[qr]),()=>e[qr].toString()],[Sre]:e[gte],[Cre]:e[yte],[bre]:e[Ete],[Cr]:e[Sr],[KM]:e[cf],[XE]:e[lp],[mf]:[()=>d.isSerializableHeaderValue(e[nc]),()=>d.serializeDateTime(e[nc]).toString()],[JE]:e[gf],[Ee]:e[ye],[xre]:e[bte]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"CopyObject"]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},_2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[fp]:e[Zh],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[VM]:e[SM],[yp]:e[cp],[P5e]:[()=>d.isSerializableHeaderValue(e[KZ]),()=>e[KZ].toString()],[I8e]:e[RE]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,i;return e.CreateBucketConfiguration!==void 0&&(i=ZFe(e.CreateBucketConfiguration),s=cr,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=i.toString()),r.m("PUT").h(n).b(s),r.build()},v2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[OM]:[,""]}),i,o;return e.MetadataConfiguration!==void 0&&(o=V3e(e.MetadataConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},A2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[DM]:[,""]}),i,o;return e.MetadataTableConfiguration!==void 0&&(o=z3e(e.MetadataTableConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},x2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[fp]:e[Zh],[qE]:e[ep],[jE]:e[tp],[VE]:e[rp],[HE]:e[np],[zE]:e[sp],[ff]:[()=>d.isSerializableHeaderValue(e[rc]),()=>d.dateToUtcString(e[rc]).toString()],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[yp]:e[cp],[co]:e[si],[YE]:e[bt],[QE]:e[FE],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[lo]:e[Ms],[bd]:e[Cd],[An]:[()=>d.isSerializableHeaderValue(e[qr]),()=>e[qr].toString()],[Cr]:e[Sr],[KM]:e[cf],[XE]:e[lp],[mf]:[()=>d.isSerializableHeaderValue(e[nc]),()=>d.serializeDateTime(e[nc]).toString()],[JE]:e[gf],[Ee]:e[ye],[jM]:e[ht],[mp]:e[Br]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[cre]:[,""]});return r.m("POST").h(n).q(s).b(void 0),r.build()},I2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[k5e]:e[zHe],[co]:e[si],[lo]:e[Ms],[bd]:e[Cd],[An]:[()=>d.isSerializableHeaderValue(e[qr]),()=>e[qr].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[C5e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},T2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("DELETE").h(n).b(void 0),r.build()},w2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ew]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},N2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[TM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},R2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[wM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},P2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ow]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},O2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[iw]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},D2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[PM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},k2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[OM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},B2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[DM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},L2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[aw]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},M2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[BM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},U2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[LM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},F2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[UM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},q2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[up]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},j2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[FM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},V2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[HM]:e[CM],[Cr]:e[Sr],[qM]:[()=>d.isSerializableHeaderValue(e[Kh]),()=>e[Kh].toString()],[Ee]:e[ye],[dp]:e[UE],[C8e]:[()=>d.isSerializableHeaderValue(e[FZ]),()=>d.dateToUtcString(e[FZ]).toString()],[b8e]:[()=>d.isSerializableHeaderValue(e[qZ]),()=>e[qZ].toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"DeleteObject"],[qi]:[,e[xt]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},H2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[HM]:e[CM],[Cr]:e[Sr],[qM]:[()=>d.isSerializableHeaderValue(e[Kh]),()=>e[Kh].toString()],[Ee]:e[ye],[Lr]:e[ht]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[o5e]:[,""]}),i,o;return e.Delete!==void 0&&(o=n3e(e.Delete),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},z2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[up]:[,""],[qi]:[,e[xt]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},K2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[MM]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},G2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye],[Cr]:e[Sr]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Hte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},$2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[tw]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},W2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ew]:[,""],[Cs]:[,"GetBucketAnalyticsConfiguration"],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},J2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[TM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},X2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[wM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Y2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ow]:[,""],[Cs]:[,"GetBucketIntelligentTieringConfiguration"],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Q2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[iw]:[,""],[Cs]:[,"GetBucketInventoryConfiguration"],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Z2e=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[PM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},eLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Jte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},tLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Xte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},rLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[OM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},nLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[DM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},sLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[aw]:[,""],[Cs]:[,"GetBucketMetricsConfiguration"],[Uo]:[,d.expectNonNull(e[Ze],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},iLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Yte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},oLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[BM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},aLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[LM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},cLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[g5e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},lLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[UM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},dLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Zte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},uLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[up]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},fLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[lre]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},mLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[FM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},hLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[dp]:e[UE],[NM]:[()=>d.isSerializableHeaderValue(e[Wx]),()=>d.dateToUtcString(e[Wx]).toString()],[KE]:e[ZT],[RM]:[()=>d.isSerializableHeaderValue(e[Jx]),()=>d.dateToUtcString(e[Jx]).toString()],[ere]:e[Ote],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Cr]:e[Sr],[Ee]:e[ye],[mre]:e[fte]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"GetObject"],[tre]:[,e[Dte]],[rre]:[,e[kte]],[nre]:[,e[Bte]],[sre]:[,e[Lte]],[ire]:[,e[Mte]],[ore]:[()=>e.ResponseExpires!==void 0,()=>d.dateToUtcString(e[Ute]).toString()],[qi]:[,e[xt]],[cw]:[()=>e.PartNumber!==void 0,()=>e[Li].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},pLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[tw]:[,""],[qi]:[,e[xt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},gLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[A8e]:[()=>d.isSerializableHeaderValue(e[nl]),()=>e[nl].toString()],[T8e]:e[hd],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Cr]:e[Sr],[Ee]:e[ye],[x8e]:[()=>d.isSerializableHeaderValue(e[zZ]),()=>(e[zZ]||[]).map(d.quoteHeader).join(", ")]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[s5e]:[,""],[qi]:[,e[xt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},yLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Wte]:[,""],[qi]:[,e[xt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},ELe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Qte]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},SLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[are]:[,""],[qi]:[,e[xt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},CLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye],[Cr]:e[Sr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[up]:[,""],[qi]:[,e[xt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},bLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[A5e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},_Le=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[MM]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},vLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("HEAD").h(n).b(void 0),r.build()},ALe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[dp]:e[UE],[NM]:[()=>d.isSerializableHeaderValue(e[Wx]),()=>d.dateToUtcString(e[Wx]).toString()],[KE]:e[ZT],[RM]:[()=>d.isSerializableHeaderValue(e[Jx]),()=>d.dateToUtcString(e[Jx]).toString()],[ere]:e[Ote],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Cr]:e[Sr],[Ee]:e[ye],[mre]:e[fte]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[tre]:[,e[Dte]],[rre]:[,e[kte]],[nre]:[,e[Bte]],[sre]:[,e[Lte]],[ire]:[,e[Mte]],[ore]:[()=>e.ResponseExpires!==void 0,()=>d.dateToUtcString(e[Ute]).toString()],[qi]:[,e[xt]],[cw]:[()=>e.PartNumber!==void 0,()=>e[Li].toString()]});return r.m("HEAD").h(n).q(s).b(void 0),r.build()},xLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ew]:[,""],[Cs]:[,"ListBucketAnalyticsConfigurations"],[yf]:[,e[Ar]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},ILe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ow]:[,""],[Cs]:[,"ListBucketIntelligentTieringConfigurations"],[yf]:[,e[Ar]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},TLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[iw]:[,""],[Cs]:[,"ListBucketInventoryConfigurations"],[yf]:[,e[Ar]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},wLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[aw]:[,""],[Cs]:[,"ListBucketMetricsConfigurations"],[yf]:[,e[Ar]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},NLe=async(e,t)=>{let r=se.requestBuilder(e,t),n={};r.bp("/");let s=d.map({[Cs]:[,"ListBuckets"],[f5e]:[()=>e.MaxBuckets!==void 0,()=>e[W6e].toString()],[yf]:[,e[Ar]],[GE]:[,e[_e]],[i5e]:[,e[NE]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},RLe=async(e,t)=>{let r=se.requestBuilder(e,t),n={};r.bp("/");let s=d.map({[Cs]:[,"ListDirectoryBuckets"],[yf]:[,e[Ar]],[m5e]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[Y6e].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},PLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye],[Cr]:e[Sr]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[cre]:[,""],[rw]:[,e[ei]],[nw]:[,e[ri]],[$te]:[,e[md]],[p5e]:[()=>e.MaxUploads!==void 0,()=>e[dx].toString()],[GE]:[,e[_e]],[x5e]:[,e[Nx]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},OLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye],[zM]:[()=>d.isSerializableHeaderValue(e[Gh]),()=>(e[Gh]||[]).map(d.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[rw]:[,e[ei]],[nw]:[,e[ri]],[u5e]:[,e[cx]],[kM]:[()=>e.MaxKeys!==void 0,()=>e[No].toString()],[GE]:[,e[_e]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},DLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye],[zM]:[()=>d.isSerializableHeaderValue(e[Gh]),()=>(e[Gh]||[]).map(d.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[c5e]:[,"2"],[rw]:[,e[ei]],[nw]:[,e[ri]],[kM]:[()=>e.MaxKeys!==void 0,()=>e[No].toString()],[GE]:[,e[_e]],[yf]:[,e[Ar]],[a5e]:[()=>e.FetchOwner!==void 0,()=>e[f6e].toString()],[b5e]:[,e[bx]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},kLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Ee]:e[ye],[Cr]:e[Sr],[zM]:[()=>d.isSerializableHeaderValue(e[Gh]),()=>(e[Gh]||[]).map(d.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[I5e]:[,""],[rw]:[,e[ei]],[nw]:[,e[ri]],[$te]:[,e[md]],[kM]:[()=>e.MaxKeys!==void 0,()=>e[No].toString()],[GE]:[,e[_e]],[T5e]:[,e[Px]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},BLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[Cr]:e[Sr],[Ee]:e[ye],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"ListParts"],[h5e]:[()=>e.MaxParts!==void 0,()=>e[nl].toString()],[y5e]:[,e[hd]],[$E]:[,d.expectNonNull(e[Fi],"UploadId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},LLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye],[Lr]:e[ht]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Hte]:[,""]}),i,o;return e.AccelerateConfiguration!==void 0&&(o=DFe(e.AccelerateConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},MLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[fp]:e[Zh],[gn]:e[pn],[Lr]:e[ht],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[VM]:e[SM],[yp]:e[cp],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[tw]:[,""]}),i,o;return e.AccessControlPolicy!==void 0&&(o=Kee(e.AccessControlPolicy),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},ULe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ew]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]}),i,o;return e.AnalyticsConfiguration!==void 0&&(o=FFe(e.AnalyticsConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},FLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[TM]:[,""]}),i,o;return e.CORSConfiguration!==void 0&&(o=XFe(e.CORSConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},qLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[wM]:[,""]}),i,o;return e.ServerSideEncryptionConfiguration!==void 0&&(o=Bqe(e.ServerSideEncryptionConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},jLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[ow]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]}),i,o;return e.IntelligentTieringConfiguration!==void 0&&(o=E3e(e.IntelligentTieringConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},VLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[iw]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]}),i,o;return e.InventoryConfiguration!==void 0&&(o=C3e(e.InventoryConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},HLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Lr]:e[ht],[Ee]:e[ye],[GM]:e[IM]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[PM]:[,""]}),i,o;return e.LifecycleConfiguration!==void 0&&(o=zFe(e.LifecycleConfiguration),o=o.n("LifecycleConfiguration"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},zLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Xte]:[,""]}),i,o;return e.BucketLoggingStatus!==void 0&&(o=KFe(e.BucketLoggingStatus),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},KLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[aw]:[,""],[Uo]:[,d.expectNonNull(e[Ze],"Id")]}),i,o;return e.MetricsConfiguration!==void 0&&(o=$3e(e.MetricsConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},GLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Ee]:e[ye],[L8e]:[()=>d.isSerializableHeaderValue(e[$Z]),()=>e[$Z].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Yte]:[,""]}),i,o;return e.NotificationConfiguration!==void 0&&(o=Q3e(e.NotificationConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},$Le=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Ee]:e[ye],[Lr]:e[ht]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[BM]:[,""]}),i,o;return e.OwnershipControls!==void 0&&(o=aqe(e.OwnershipControls),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},WLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"text/plain",[gn]:e[pn],[Lr]:e[ht],[D5e]:[()=>d.isSerializableHeaderValue(e[OZ]),()=>e[OZ].toString()],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[LM]:[,""]}),i,o;return e.Policy!==void 0&&(o=e.Policy,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},JLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[fre]:e[jte],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[UM]:[,""]}),i,o;return e.ReplicationConfiguration!==void 0&&(o=Eqe(e.ReplicationConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},XLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Zte]:[,""]}),i,o;return e.RequestPaymentConfiguration!==void 0&&(o=Aqe(e.RequestPaymentConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},YLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[up]:[,""]}),i,o;return e.Tagging!==void 0&&(o=mM(e.Tagging),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},QLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[HM]:e[CM],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[lre]:[,""]}),i,o;return e.VersioningConfiguration!==void 0&&(o=t4e(e.VersioningConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},ZLe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[FM]:[,""]}),i,o;return e.WebsiteConfiguration!==void 0&&(o=r4e(e.WebsiteConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},eMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[zE]:e[sp]||"application/octet-stream",[fp]:e[Zh],[qE]:e[ep],[jE]:e[tp],[VE]:e[rp],[HE]:e[np],[uf]:[()=>d.isSerializableHeaderValue(e[gd]),()=>e[gd].toString()],[gn]:e[pn],[Lr]:e[ht],[Ef]:e[Rr],[Sf]:e[Pr],[Cf]:e[Or],[bf]:e[Dr],[_f]:e[kr],[ff]:[()=>d.isSerializableHeaderValue(e[rc]),()=>d.dateToUtcString(e[rc]).toString()],[dp]:e[UE],[KE]:e[ZT],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[yp]:e[cp],[U8e]:[()=>d.isSerializableHeaderValue(e[eee]),()=>e[eee].toString()],[co]:e[si],[YE]:e[bt],[QE]:e[FE],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[lo]:e[Ms],[bd]:e[Cd],[An]:[()=>d.isSerializableHeaderValue(e[qr]),()=>e[qr].toString()],[Cr]:e[Sr],[KM]:e[cf],[XE]:e[lp],[mf]:[()=>d.isSerializableHeaderValue(e[nc]),()=>d.serializeDateTime(e[nc]).toString()],[JE]:e[gf],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"PutObject"]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},tMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[fp]:e[Zh],[gn]:e[pn],[Lr]:e[ht],[hp]:e[ip],[pp]:e[op],[gp]:e[ap],[VM]:e[SM],[yp]:e[cp],[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[tw]:[,""],[qi]:[,e[xt]]}),i,o;return e.AccessControlPolicy!==void 0&&(o=Kee(e.AccessControlPolicy),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},rMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Cr]:e[Sr],[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Wte]:[,""],[qi]:[,e[xt]]}),i,o;return e.LegalHold!==void 0&&(o=rqe(e.LegalHold),o=o.n("LegalHold"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},nMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Cr]:e[Sr],[fre]:e[jte],[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[Qte]:[,""]}),i,o;return e.ObjectLockConfiguration!==void 0&&(o=tqe(e.ObjectLockConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},sMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Cr]:e[Sr],[qM]:[()=>d.isSerializableHeaderValue(e[Kh]),()=>e[Kh].toString()],[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[are]:[,""],[qi]:[,e[xt]]}),i,o;return e.Retention!==void 0&&(o=nqe(e.Retention),o=o.n("Retention"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},iMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye],[Cr]:e[Sr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[up]:[,""],[qi]:[,e[xt]]}),i,o;return e.Tagging!==void 0&&(o=mM(e.Tagging),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},oMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[MM]:[,""]}),i,o;return e.PublicAccessBlockConfiguration!==void 0&&(o=fqe(e.PublicAccessBlockConfiguration),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},aMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[R8e]:e[DHe],[dp]:e[t6e],[KE]:e[r6e],[NM]:[()=>d.isSerializableHeaderValue(e[DZ]),()=>d.dateToUtcString(e[DZ]).toString()],[RM]:[()=>d.isSerializableHeaderValue(e[kZ]),()=>d.dateToUtcString(e[kZ]).toString()],[P8e]:e[FHe],[D8e]:e[qHe],[O8e]:[()=>d.isSerializableHeaderValue(e[WZ]),()=>d.dateToUtcString(e[WZ]).toString()],[k8e]:[()=>d.isSerializableHeaderValue(e[JZ]),()=>d.dateToUtcString(e[JZ]).toString()],[L5e]:e[QVe]??Qke.v4()});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[E5e]:[,""]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},cMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Cr]:e[Sr],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[S5e]:[,""],[qi]:[,e[xt]]}),i,o;return e.RestoreRequest!==void 0&&(o=Iqe(e.RestoreRequest),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},lMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[_5e]:[,""],[v5e]:[,"2"]}),i;i=cr;let o=new N.XmlNode(KHe);return o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o.cc(e,vte),o.cc(e,_te),e[Gu]!=null&&o.c(Wee(e[Gu]).n(Gu)),e[Yu]!=null&&o.c(Jee(e[Yu]).n(Yu)),e[Sx]!=null&&o.c(xqe(e[Sx]).n(Sx)),e[vx]!=null&&o.c(Oqe(e[vx]).n(vx)),i+=o.toString(),r.m("POST").h(n).q(s).b(i),r.build()},dMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[l5e]:[,""]}),i,o;return e.InventoryTableConfiguration!==void 0&&(o=w3e(e.InventoryTableConfiguration),o=o.n("InventoryTableConfiguration"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},uMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/xml",[gn]:e[pn],[Lr]:e[ht],[Ee]:e[ye]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=d.map({[d5e]:[,""]}),i,o;return e.JournalTableConfiguration!==void 0&&(o=R3e(e.JournalTableConfiguration),o=o.n("JournalTableConfiguration"),i=cr,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},fMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"content-type":"application/octet-stream",[uf]:[()=>d.isSerializableHeaderValue(e[gd]),()=>e[gd].toString()],[gn]:e[pn],[Lr]:e[ht],[Ef]:e[Rr],[Sf]:e[Pr],[Cf]:e[Or],[bf]:e[Dr],[_f]:e[kr],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Cr]:e[Sr],[Ee]:e[ye]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"UploadPart"],[cw]:[d.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Li].toString()],[$E]:[,d.expectNonNull(e[Fi],"UploadId")]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},mMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{[hre]:e[mte],[pre]:e[hte],[gre]:[()=>d.isSerializableHeaderValue(e[Gx]),()=>d.dateToUtcString(e[Gx]).toString()],[yre]:e[pte],[Ere]:[()=>d.isSerializableHeaderValue(e[$x]),()=>d.dateToUtcString(e[$x]).toString()],[B5e]:e[JVe],[Es]:e[Yn],[Ea]:e[ya],[Ss]:e[Qn],[Sre]:e[gte],[Cre]:e[yte],[bre]:e[Ete],[Cr]:e[Sr],[Ee]:e[ye],[xre]:e[bte]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=d.map({[Cs]:[,"UploadPartCopy"],[cw]:[d.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Li].toString()],[$E]:[,d.expectNonNull(e[Fi],"UploadId")]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},hMe=async(e,t)=>{let r=se.requestBuilder(e,t),n=d.map({},d.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),"content-type":"application/octet-stream",[N8e]:e[IHe],[B8e]:e[kHe],[E8e]:[()=>d.isSerializableHeaderValue(e[GZ]),()=>e[GZ].toString()],[M5e]:e[ZA],[U5e]:e[ex],[F5e]:e[yM],[q5e]:e[ep],[j5e]:e[tp],[V5e]:e[rp],[H5e]:e[np],[uf]:[()=>d.isSerializableHeaderValue(e[gd]),()=>e[gd].toString()],[z5e]:e[EM],[K5e]:e[sp],[J5e]:e[Rr],[X5e]:e[Pr],[Y5e]:e[Or],[Q5e]:e[Dr],[Z5e]:e[kr],[e8e]:[()=>d.isSerializableHeaderValue(e[ma]),()=>e[ma].toString()],[G5e]:e[xr],[$5e]:[()=>d.isSerializableHeaderValue(e[rc]),()=>d.dateToUtcString(e[rc]).toString()],[t8e]:e[Bn],[W5e]:[()=>d.isSerializableHeaderValue(e[hn]),()=>d.dateToUtcString(e[hn]).toString()],[r8e]:[()=>d.isSerializableHeaderValue(e[Xx]),()=>e[Xx].toString()],[i8e]:e[lp],[s8e]:e[gf],[o8e]:[()=>d.isSerializableHeaderValue(e[nc]),()=>d.serializeDateTime(e[nc]).toString()],[n8e]:[()=>d.isSerializableHeaderValue(e[$h]),()=>e[$h].toString()],[l8e]:e[AM],[c8e]:e[Vr],[a8e]:e[xM],[u8e]:e[si],[h8e]:e[Yn],[f8e]:e[Ms],[p8e]:e[Qn],[d8e]:e[bt],[g8e]:[()=>d.isSerializableHeaderValue(e[tI]),()=>e[tI].toString()],[y8e]:e[xt],[m8e]:[()=>d.isSerializableHeaderValue(e[qr]),()=>e[qr].toString()]});r.bp("/WriteGetObjectResponse");let s,i;e.Body!==void 0&&(i=e.Body,s=i);let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0){if(o="{RequestRoute}."+o,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(o=o.replace("{RequestRoute}",e.RequestRoute),!TL.isValidHostname(o))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return r.hn(o),r.m("POST").h(n).b(s),r.build()},pMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},gMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Bn]:[,e.headers[WE]],[si]:[,e.headers[co]],[xt]:[,e.headers[sc]],[Ms]:[,e.headers[lo]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Mt]!=null&&(r[Mt]=d.expectString(n[Mt])),n[Rr]!=null&&(r[Rr]=d.expectString(n[Rr])),n[Pr]!=null&&(r[Pr]=d.expectString(n[Pr])),n[Or]!=null&&(r[Or]=d.expectString(n[Or])),n[Dr]!=null&&(r[Dr]=d.expectString(n[Dr])),n[kr]!=null&&(r[kr]=d.expectString(n[kr])),n[Br]!=null&&(r[Br]=d.expectString(n[Br])),n[xr]!=null&&(r[xr]=d.expectString(n[xr])),n[dt]!=null&&(r[dt]=d.expectString(n[dt])),n[$u]!=null&&(r[$u]=d.expectString(n[$u])),r},yMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Bn]:[,e.headers[WE]],[Ste]:[,e.headers[_re]],[xt]:[,e.headers[sc]],[si]:[,e.headers[co]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[Cd]:[,e.headers[bd]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Vr]:[,e.headers[Yr]]}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.CopyObjectResult=E4e(n),r},EMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[$u]:[,e.headers[Jte]],[wE]:[,e.headers[ure]]});return await d.collectBody(e.body,t),r},SMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},CMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},bMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[dte]:[()=>e.headers[rI]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[rI]))],[ute]:[,e.headers[dre]],[si]:[,e.headers[co]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[Cd]:[,e.headers[bd]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Vr]:[,e.headers[Yr]],[ht]:[,e.headers[jM]],[Br]:[,e.headers[mp]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Mt]!=null&&(r[Mt]=d.expectString(n[Mt])),n[dt]!=null&&(r[dt]=d.expectString(n[dt])),n[Fi]!=null&&(r[Fi]=d.expectString(n[Fi])),r},_Me=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[si]:[,e.headers[co]],[Ms]:[,e.headers[lo]],[Cd]:[,e.headers[bd]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[J2]!=null&&(r[J2]=oVe(n[J2])),r},vMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},AMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},xMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},IMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},TMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},wMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},NMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},RMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},PMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},OMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},DMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},kMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},BMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},LMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},MMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},UMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[ma]:[()=>e.headers[yd]!==void 0,()=>d.parseBoolean(e.headers[yd])],[xt]:[,e.headers[sc]],[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},FMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.Deleted).trim()===""?r[GA]=[]:n[GA]!=null&&(r[GA]=A4e(d.getArrayIfSingleItem(n[GA]))),String(n.Error).trim()===""?r[LZ]=[]:n[pa]!=null&&(r[LZ]=k4e(d.getArrayIfSingleItem(n[pa]))),r},qMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[xt]:[,e.headers[sc]]});return await d.collectBody(e.body,t),r},jMe=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},VMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Ne]!=null&&(r[Ne]=d.expectString(n[Ne])),r},HMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.AccessControlList).trim()===""?r[PE]=[]:n[Lu]!=null&&n[Lu][al]!=null&&(r[PE]=rte(d.getArrayIfSingleItem(n[Lu][al]))),n[Jt]!=null&&(r[Jt]=Sd(n[Jt])),r},zMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.AnalyticsConfiguration=Qee(n),r},KMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.CORSRule).trim()===""?r[ML]=[]:n[LL]!=null&&(r[ML]=b4e(d.getArrayIfSingleItem(n[LL]))),r},GMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.ServerSideEncryptionConfiguration=nVe(n),r},$Me=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.IntelligentTieringConfiguration=ste(n),r},WMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.InventoryConfiguration=ite(n),r},JMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[IM]:[,e.headers[GM]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.Rule).trim()===""?r[Mo]=[]:n[Mi]!=null&&(r[Mo]=lje(d.getArrayIfSingleItem(n[Mi]))),r},XMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Dh]!=null&&(r[Dh]=d.expectString(n[Dh])),r},YMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Wu]!=null&&(r[Wu]=dje(n[Wu])),r},QMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.GetBucketMetadataConfigurationResult=q4e(n),r},ZMe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.GetBucketMetadataTableConfigurationResult=j4e(n),r},eUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.MetricsConfiguration=ote(n),r},tUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Vu]!=null&&(r[Vu]=B4e(n[Vu])),String(n.CloudFunctionConfiguration).trim()===""?r[KL]=[]:n[PZ]!=null&&(r[KL]=sje(d.getArrayIfSingleItem(n[PZ]))),String(n.QueueConfiguration).trim()===""?r[YL]=[]:n[XL]!=null&&(r[YL]=jje(d.getArrayIfSingleItem(n[XL]))),String(n.TopicConfiguration).trim()===""?r[nM]=[]:n[rM]!=null&&(r[nM]=bVe(d.getArrayIfSingleItem(n[rM]))),r},rUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.OwnershipControls=Rje(n),r},nUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=await AVe(e.body,t);return r.Policy=d.expectString(n),r},sUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.PolicyStatus=Mje(n),r},iUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.ReplicationConfiguration=Gje(n),r},oUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[hx]!=null&&(r[hx]=d.expectString(n[hx])),r},aUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.TagSet).trim()===""?r[fa]=[]:n[fa]!=null&&n[fa][St]!=null&&(r[fa]=pf(d.getArrayIfSingleItem(n[fa][St]))),r},cUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[$L]!=null&&(r[lx]=d.expectString(n[$L])),n[Ne]!=null&&(r[Ne]=d.expectString(n[Ne])),r},lUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Hu]!=null&&(r[Hu]=D4e(n[Hu])),n[Ku]!=null&&(r[Ku]=z4e(n[Ku])),n[Zu]!=null&&(r[Zu]=zje(n[Zu])),String(n.RoutingRules).trim()===""?r[uh]=[]:n[uh]!=null&&n[uh][Qx]!=null&&(r[uh]=Zje(d.getArrayIfSingleItem(n[uh][Qx]))),r},dUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[ma]:[()=>e.headers[yd]!==void 0,()=>d.parseBoolean(e.headers[yd])],[yM]:[,e.headers[zte]],[Bn]:[,e.headers[WE]],[xM]:[,e.headers[vre]],[hn]:[()=>e.headers[Wh]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[Wh]))],[gd]:[()=>e.headers[uf]!==void 0,()=>d.strictParseLong(e.headers[uf])],[xr]:[,e.headers[sw]],[Rr]:[,e.headers[Ef]],[Pr]:[,e.headers[Sf]],[Or]:[,e.headers[Cf]],[Dr]:[,e.headers[bf]],[kr]:[,e.headers[_f]],[Br]:[,e.headers[mp]],[Xx]:[()=>e.headers[nI]!==void 0,()=>d.strictParseInt32(e.headers[nI])],[xt]:[,e.headers[sc]],[ep]:[,e.headers[qE]],[tp]:[,e.headers[jE]],[rp]:[,e.headers[VE]],[np]:[,e.headers[HE]],[EM]:[,e.headers[Kte]],[sp]:[,e.headers[zE]],[rc]:[()=>e.headers[ff]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[ff]))],[Cte]:[,e.headers[Gte]],[FE]:[,e.headers[QE]],[si]:[,e.headers[co]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[bt]:[,e.headers[YE]],[Vr]:[,e.headers[Yr]],[AM]:[,e.headers[Are]],[$h]:[()=>e.headers[sI]!==void 0,()=>d.strictParseInt32(e.headers[sI])],[tI]:[()=>e.headers[iI]!==void 0,()=>d.strictParseInt32(e.headers[iI])],[lp]:[,e.headers[XE]],[nc]:[()=>e.headers[mf]!==void 0,()=>d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e.headers[mf]))],[gf]:[,e.headers[JE]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},uUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.AccessControlList).trim()===""?r[PE]=[]:n[Lu]!=null&&n[Lu][al]!=null&&(r[PE]=rte(d.getArrayIfSingleItem(n[Lu][al]))),n[Jt]!=null&&(r[Jt]=Sd(n[Jt])),r},fUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[ma]:[()=>e.headers[yd]!==void 0,()=>d.parseBoolean(e.headers[yd])],[hn]:[()=>e.headers[Wh]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[Wh]))],[xt]:[,e.headers[sc]],[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Q2]!=null&&(r[Q2]=h4e(n[Q2])),n[xr]!=null&&(r[xr]=d.expectString(n[xr])),n[yL]!=null&&(r[yL]=V4e(n[yL])),n[EL]!=null&&(r[EL]=d.strictParseLong(n[EL])),n[bt]!=null&&(r[bt]=d.expectString(n[bt])),r},mUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.LegalHold=Aje(n),r},hUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.ObjectLockConfiguration=vje(n),r},pUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.Retention=xje(n),r},gUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[xt]:[,e.headers[sc]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.TagSet).trim()===""?r[fa]=[]:n[fa]!=null&&n[fa][St]!=null&&(r[fa]=pf(d.getArrayIfSingleItem(n[fa][St]))),r},yUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},EUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.PublicAccessBlockConfiguration=Fje(n),r},SUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[wE]:[,e.headers[ure]],[VVe]:[,e.headers[R5e]],[FVe]:[,e.headers[N5e]],[NE]:[,e.headers[O5e]],[PVe]:[()=>e.headers[ree]!==void 0,()=>d.parseBoolean(e.headers[ree])]});return await d.collectBody(e.body,t),r},CUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[ma]:[()=>e.headers[yd]!==void 0,()=>d.parseBoolean(e.headers[yd])],[yM]:[,e.headers[zte]],[Bn]:[,e.headers[WE]],[xM]:[,e.headers[vre]],[OVe]:[,e.headers[w5e]],[hn]:[()=>e.headers[Wh]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[Wh]))],[gd]:[()=>e.headers[uf]!==void 0,()=>d.strictParseLong(e.headers[uf])],[Rr]:[,e.headers[Ef]],[Pr]:[,e.headers[Sf]],[Or]:[,e.headers[Cf]],[Dr]:[,e.headers[bf]],[kr]:[,e.headers[_f]],[Br]:[,e.headers[mp]],[xr]:[,e.headers[sw]],[Xx]:[()=>e.headers[nI]!==void 0,()=>d.strictParseInt32(e.headers[nI])],[xt]:[,e.headers[sc]],[ep]:[,e.headers[qE]],[tp]:[,e.headers[jE]],[rp]:[,e.headers[VE]],[np]:[,e.headers[HE]],[sp]:[,e.headers[zE]],[EM]:[,e.headers[Kte]],[rc]:[()=>e.headers[ff]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[ff]))],[Cte]:[,e.headers[Gte]],[FE]:[,e.headers[QE]],[si]:[,e.headers[co]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[bt]:[,e.headers[YE]],[Vr]:[,e.headers[Yr]],[AM]:[,e.headers[Are]],[$h]:[()=>e.headers[sI]!==void 0,()=>d.strictParseInt32(e.headers[sI])],[tI]:[()=>e.headers[iI]!==void 0,()=>d.strictParseInt32(e.headers[iI])],[lp]:[,e.headers[XE]],[nc]:[()=>e.headers[mf]!==void 0,()=>d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e.headers[mf]))],[gf]:[,e.headers[JE]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await d.collectBody(e.body,t),r},bUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.AnalyticsConfiguration).trim()===""?r[RZ]=[]:n[wL]!=null&&(r[RZ]=l4e(d.getArrayIfSingleItem(n[wL]))),n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[Ei]!=null&&(r[Ei]=d.expectString(n[Ei])),r},_Ue=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),String(n.IntelligentTieringConfiguration).trim()===""?r[jZ]=[]:n[zL]!=null&&(r[jZ]=G4e(d.getArrayIfSingleItem(n[zL]))),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[Ei]!=null&&(r[Ei]=d.expectString(n[Ei])),r},vUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),String(n.InventoryConfiguration).trim()===""?r[MZ]=[]:n[HL]!=null&&(r[MZ]=W4e(d.getArrayIfSingleItem(n[HL]))),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[Ei]!=null&&(r[Ei]=d.expectString(n[Ei])),r},AUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),String(n.MetricsConfiguration).trim()===""?r[VZ]=[]:n[GL]!=null&&(r[VZ]=pje(d.getArrayIfSingleItem(n[GL]))),n[Ei]!=null&&(r[Ei]=d.expectString(n[Ei])),r},xUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.Buckets).trim()===""?r[Qa]=[]:n[Qa]!=null&&n[Qa][Mt]!=null&&(r[Qa]=Zee(d.getArrayIfSingleItem(n[Qa][Mt]))),n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),n[Jt]!=null&&(r[Jt]=Sd(n[Jt])),n[_e]!=null&&(r[_e]=d.expectString(n[_e])),r},IUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.Buckets).trim()===""?r[Qa]=[]:n[Qa]!=null&&n[Qa][Mt]!=null&&(r[Qa]=Zee(d.getArrayIfSingleItem(n[Qa][Mt]))),n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),r},TUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Mt]!=null&&(r[Mt]=d.expectString(n[Mt])),String(n.CommonPrefixes).trim()===""?r[Zs]=[]:n[Zs]!=null&&(r[Zs]=YT(d.getArrayIfSingleItem(n[Zs]))),n[ei]!=null&&(r[ei]=d.expectString(n[ei])),n[ri]!=null&&(r[ri]=d.expectString(n[ri])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[md]!=null&&(r[md]=d.expectString(n[md])),n[dx]!=null&&(r[dx]=d.strictParseInt32(n[dx])),n[kh]!=null&&(r[kh]=d.expectString(n[kh])),n[pL]!=null&&(r[pL]=d.expectString(n[pL])),n[_e]!=null&&(r[_e]=d.expectString(n[_e])),n[Nx]!=null&&(r[Nx]=d.expectString(n[Nx])),String(n.Upload).trim()===""?r[YZ]=[]:n[XZ]!=null&&(r[YZ]=Eje(d.getArrayIfSingleItem(n[XZ]))),r},wUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[Zs]=[]:n[Zs]!=null&&(r[Zs]=YT(d.getArrayIfSingleItem(n[Zs]))),String(n.Contents).trim()===""?r[ud]=[]:n[ud]!=null&&(r[ud]=ate(d.getArrayIfSingleItem(n[ud]))),n[ei]!=null&&(r[ei]=d.expectString(n[ei])),n[ri]!=null&&(r[ri]=d.expectString(n[ri])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[cx]!=null&&(r[cx]=d.expectString(n[cx])),n[No]!=null&&(r[No]=d.strictParseInt32(n[No])),n[sn]!=null&&(r[sn]=d.expectString(n[sn])),n[hL]!=null&&(r[hL]=d.expectString(n[hL])),n[_e]!=null&&(r[_e]=d.expectString(n[_e])),r},NUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[Zs]=[]:n[Zs]!=null&&(r[Zs]=YT(d.getArrayIfSingleItem(n[Zs]))),String(n.Contents).trim()===""?r[ud]=[]:n[ud]!=null&&(r[ud]=ate(d.getArrayIfSingleItem(n[ud]))),n[Ar]!=null&&(r[Ar]=d.expectString(n[Ar])),n[ei]!=null&&(r[ei]=d.expectString(n[ei])),n[ri]!=null&&(r[ri]=d.expectString(n[ri])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[lL]!=null&&(r[lL]=d.strictParseInt32(n[lL])),n[No]!=null&&(r[No]=d.strictParseInt32(n[No])),n[sn]!=null&&(r[sn]=d.expectString(n[sn])),n[Ei]!=null&&(r[Ei]=d.expectString(n[Ei])),n[_e]!=null&&(r[_e]=d.expectString(n[_e])),n[bx]!=null&&(r[bx]=d.expectString(n[bx])),r},RUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[Zs]=[]:n[Zs]!=null&&(r[Zs]=YT(d.getArrayIfSingleItem(n[Zs]))),String(n.DeleteMarker).trim()===""?r[BZ]=[]:n[ma]!=null&&(r[BZ]=T4e(d.getArrayIfSingleItem(n[ma]))),n[ei]!=null&&(r[ei]=d.expectString(n[ei])),n[ri]!=null&&(r[ri]=d.expectString(n[ri])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[md]!=null&&(r[md]=d.expectString(n[md])),n[No]!=null&&(r[No]=d.strictParseInt32(n[No])),n[sn]!=null&&(r[sn]=d.expectString(n[sn])),n[kh]!=null&&(r[kh]=d.expectString(n[kh])),n[gL]!=null&&(r[gL]=d.expectString(n[gL])),n[_e]!=null&&(r[_e]=d.expectString(n[_e])),n[Px]!=null&&(r[Px]=d.expectString(n[Px])),String(n.Version).trim()===""?r[ZZ]=[]:n[QZ]!=null&&(r[ZZ]=Nje(d.getArrayIfSingleItem(n[QZ]))),r},PUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[dte]:[()=>e.headers[rI]!==void 0,()=>d.expectNonNull(d.parseRfc7231DateTime(e.headers[rI]))],[ute]:[,e.headers[dre]],[Vr]:[,e.headers[Yr]]}),n=d.expectNonNull(d.expectObject(await nt.parseXmlBody(e.body,t)),"body");return n[Mt]!=null&&(r[Mt]=d.expectString(n[Mt])),n[ht]!=null&&(r[ht]=d.expectString(n[ht])),n[Br]!=null&&(r[Br]=d.expectString(n[Br])),n[Nh]!=null&&(r[Nh]=nte(n[Nh])),n[fr]!=null&&(r[fr]=d.parseBoolean(n[fr])),n[dt]!=null&&(r[dt]=d.expectString(n[dt])),n[nl]!=null&&(r[nl]=d.strictParseInt32(n[nl])),n[Bh]!=null&&(r[Bh]=d.expectString(n[Bh])),n[Jt]!=null&&(r[Jt]=Sd(n[Jt])),n[hd]!=null&&(r[hd]=d.expectString(n[hd])),String(n.Part).trim()===""?r[OE]=[]:n[Yx]!=null&&(r[OE]=Bje(d.getArrayIfSingleItem(n[Yx]))),n[bt]!=null&&(r[bt]=d.expectString(n[bt])),n[Fi]!=null&&(r[Fi]=d.expectString(n[Fi])),r},OUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},DUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},kUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},BUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},LUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},MUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},UUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},FUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[IM]:[,e.headers[GM]]});return await d.collectBody(e.body,t),r},qUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},jUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},VUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},HUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},zUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},KUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},GUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},$Ue=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},WUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},JUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},XUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Bn]:[,e.headers[WE]],[xr]:[,e.headers[sw]],[Rr]:[,e.headers[Ef]],[Pr]:[,e.headers[Sf]],[Or]:[,e.headers[Cf]],[Dr]:[,e.headers[bf]],[kr]:[,e.headers[_f]],[Br]:[,e.headers[mp]],[si]:[,e.headers[co]],[xt]:[,e.headers[sc]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[Cd]:[,e.headers[bd]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Ls]:[()=>e.headers[nee]!==void 0,()=>d.strictParseLong(e.headers[nee])],[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},YUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},QUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},ZUe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},eFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},tFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[xt]:[,e.headers[sc]]});return await d.collectBody(e.body,t),r},rFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},nFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},sFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Vr]:[,e.headers[Yr]],[AHe]:[,e.headers[w8e]]});return await d.collectBody(e.body,t),r},iFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)}),n=e.body;return r.Payload=IFe(n,t),r},oFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},aFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},cFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[si]:[,e.headers[co]],[xr]:[,e.headers[sw]],[Rr]:[,e.headers[Ef]],[Pr]:[,e.headers[Sf]],[Or]:[,e.headers[Cf]],[Dr]:[,e.headers[bf]],[kr]:[,e.headers[_f]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Vr]:[,e.headers[Yr]]});return await d.collectBody(e.body,t),r},lFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e),[Ste]:[,e.headers[_re]],[si]:[,e.headers[co]],[Yn]:[,e.headers[Es]],[Qn]:[,e.headers[Ss]],[Ms]:[,e.headers[lo]],[qr]:[()=>e.headers[An]!==void 0,()=>d.parseBoolean(e.headers[An])],[Vr]:[,e.headers[Yr]]}),n=d.expectObject(await nt.parseXmlBody(e.body,t));return r.CopyPartResult=S4e(n),r},dFe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return me(e,t);let r=d.map({$metadata:ne(e)});return await d.collectBody(e.body,t),r},me=async(e,t)=>{let r={...e,body:await nt.parseXmlErrorBody(e.body,t)},n=nt.loadRestXmlErrorCode(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await bFe(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await AFe(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await fFe(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await mFe(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await SFe(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await gFe(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await CFe(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await _Fe(r);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await hFe(r);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await yFe(r);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await EFe(r);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await xFe(r);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await pFe(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await vFe(r);default:let s=r.body;return uFe({output:e,parsedBody:s,errorCode:n})}},uFe=d.withBaseException(ys),fFe=async(e,t)=>{let r=d.map({});e.body;let n=new kx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},mFe=async(e,t)=>{let r=d.map({});e.body;let n=new Bx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},hFe=async(e,t)=>{let r=d.map({});e.body;let n=new qx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},pFe=async(e,t)=>{let r=d.map({});e.body;let n=new zx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},gFe=async(e,t)=>{let r=d.map({}),n=e.body;n[tl]!=null&&(r[tl]=d.expectString(n[tl])),n[bt]!=null&&(r[bt]=d.expectString(n[bt]));let s=new Mx({$metadata:ne(e),...r});return d.decorateServiceException(s,e.body)},yFe=async(e,t)=>{let r=d.map({});e.body;let n=new jx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},EFe=async(e,t)=>{let r=d.map({});e.body;let n=new Vx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},SFe=async(e,t)=>{let r=d.map({});e.body;let n=new Lx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},CFe=async(e,t)=>{let r=d.map({});e.body;let n=new Ux({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},bFe=async(e,t)=>{let r=d.map({});e.body;let n=new Ox({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},_Fe=async(e,t)=>{let r=d.map({});e.body;let n=new Fx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},vFe=async(e,t)=>{let r=d.map({});e.body;let n=new Kx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},AFe=async(e,t)=>{let r=d.map({});e.body;let n=new Dx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},xFe=async(e,t)=>{let r=d.map({});e.body;let n=new Hx({$metadata:ne(e),...r});return d.decorateServiceException(n,e.body)},IFe=(e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.Records!=null?{Records:await RFe(r.Records)}:r.Stats!=null?{Stats:await PFe(r.Stats,t)}:r.Progress!=null?{Progress:await NFe(r.Progress,t)}:r.Cont!=null?{Cont:await TFe(r.Cont,t)}:r.End!=null?{End:await wFe(r.End,t)}:{$unknown:r}),TFe=async(e,t)=>{let r={};return await nt.parseXmlBody(e.body,t),Object.assign(r,y4e()),r},wFe=async(e,t)=>{let r={};return await nt.parseXmlBody(e.body,t),Object.assign(r,P4e()),r},NFe=async(e,t)=>{let r={},n=await nt.parseXmlBody(e.body,t);return r.Details=Uje(n),r},RFe=async(e,t)=>{let r={};return r.Payload=e.body,r},PFe=async(e,t)=>{let r={},n=await nt.parseXmlBody(e.body,t);return r.Details=fVe(n),r},OFe=(e,t)=>{let r=new N.XmlNode(Uu);return e[Nu]!=null&&r.c(N.XmlNode.of(Nu,String(e[Nu])).n(Nu)),r},DFe=(e,t)=>{let r=new N.XmlNode(TVe);return e[Ne]!=null&&r.c(N.XmlNode.of(BVe,e[Ne]).n(Ne)),r},Kee=(e,t)=>{let r=new N.XmlNode(IVe);return r.lc(e,"Grants","AccessControlList",()=>$ee(e[PE])),e[Jt]!=null&&r.c(oqe(e[Jt]).n(Jt)),r},kFe=(e,t)=>{let r=new N.XmlNode(Mu);return e[Jt]!=null&&r.c(N.XmlNode.of(pHe,e[Jt]).n(Jt)),r},BFe=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(NL,r).n(Zn)),LFe=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(PL,r).n(Zn)),MFe=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(DL,r).n(Zn)),UFe=(e,t)=>{let r=new N.XmlNode(xVe);return r.cc(e,_e),r.l(e,"Tags","Tag",()=>hf(e[ni])),r},FFe=(e,t)=>{let r=new N.XmlNode(wL);return e[Ze]!=null&&r.c(N.XmlNode.of(RVe,e[Ze]).n(Ze)),e[Qe]!=null&&r.c(jFe(e[Qe]).n(Qe)),e[nf]!=null&&r.c(Hqe(e[nf]).n(nf)),r},qFe=(e,t)=>{let r=new N.XmlNode(wVe);return e[Bo]!=null&&r.c(VFe(e[Bo]).n(Bo)),r},jFe=(e,t)=>{let r=new N.XmlNode(NVe);return T.AnalyticsFilter.visit(e,{Prefix:n=>{e[_e]!=null&&r.c(N.XmlNode.of(_e,n).n(_e))},Tag:n=>{e[St]!=null&&r.c(Yh(n).n(St))},And:n=>{e[jr]!=null&&r.c(UFe(n).n(jr))},_:(n,s)=>{if(!(s instanceof N.XmlNode||s instanceof N.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new N.XmlNode(n).c(s))}}),r},VFe=(e,t)=>{let r=new N.XmlNode(DVe);return e[wo]!=null&&r.c(N.XmlNode.of(kVe,e[wo]).n(wo)),e[gh]!=null&&r.c(N.XmlNode.of(mh,e[gh]).n(gh)),e[Mt]!=null&&r.c(N.XmlNode.of(QT,e[Mt]).n(Mt)),r.cc(e,_e),r},HFe=(e,t)=>{let r=new N.XmlNode(LVe);return r.cc(e,s6e),e[Ui]!=null&&r.c(N.XmlNode.of(HVe,e[Ui]).n(Ui)),r},zFe=(e,t)=>{let r=new N.XmlNode(MVe);return r.l(e,"Rules","Rule",()=>F3e(e[Mo])),r},KFe=(e,t)=>{let r=new N.XmlNode(jVe);return e[Wu]!=null&&r.c(j3e(e[Wu]).n(Wu)),r},GFe=(e,t)=>{let r=new N.XmlNode(GVe);return r.l(e,"Parts","Part",()=>WFe(e[OE])),r},$Fe=(e,t)=>{let r=new N.XmlNode(WVe);return r.cc(e,xr),r.cc(e,Rr),r.cc(e,Pr),r.cc(e,Or),r.cc(e,Dr),r.cc(e,kr),e[Li]!=null&&r.c(N.XmlNode.of(Li,String(e[Li])).n(Li)),r},WFe=(e,t)=>e.filter(r=>r!=null).map(r=>$Fe(r).n(Zn)),JFe=(e,t)=>{let r=new N.XmlNode(Fu);return r.cc(e,rx),r.cc(e,ox),r},XFe=(e,t)=>{let r=new N.XmlNode($Ve);return r.l(e,"CORSRules","CORSRule",()=>QFe(e[ML])),r},YFe=(e,t)=>{let r=new N.XmlNode(LL);return r.cc(e,mn),r.l(e,"AllowedHeaders","AllowedHeader",()=>BFe(e[RL])),r.l(e,"AllowedMethods","AllowedMethod",()=>LFe(e[OL])),r.l(e,"AllowedOrigins","AllowedOrigin",()=>MFe(e[kL])),r.l(e,"ExposeHeaders","ExposeHeader",()=>u3e(e[UL])),e[Ou]!=null&&r.c(N.XmlNode.of(Ou,String(e[Ou])).n(Ou)),r},QFe=(e,t)=>e.filter(r=>r!=null).map(r=>YFe(r).n(Zn)),ZFe=(e,t)=>{let r=new N.XmlNode(KVe);return e[Dh]!=null&&r.c(N.XmlNode.of(UVe,e[Dh]).n(Dh)),e[$u]!=null&&r.c(q3e(e[$u]).n($u)),e[Mt]!=null&&r.c(HFe(e[Mt]).n(Mt)),r.lc(e,"Tags","Tags",()=>hf(e[ni])),r},e3e=(e,t)=>{let r=new N.XmlNode(XVe);return r.cc(e,u6e),r.cc(e,e6e),r.cc(e,Pte),r.cc(e,vM),r.cc(e,Ate),r.cc(e,Rte),e[KA]!=null&&r.c(N.XmlNode.of(KA,String(e[KA])).n(KA)),r},t3e=(e,t)=>{let r=new N.XmlNode(YVe);return r.cc(e,CHe),r.cc(e,Pte),r.cc(e,vM),r.cc(e,Ate),r.cc(e,Rte),r},r3e=(e,t)=>{let r=new N.XmlNode(ju);return e[Ro]!=null&&r.c(N.XmlNode.of(Tte,e[Ro]).n(Ro)),e[Pt]!=null&&r.c(N.XmlNode.of(Pt,String(e[Pt])).n(Pt)),e[Bu]!=null&&r.c(N.XmlNode.of(Bu,String(e[Bu])).n(Bu)),r},n3e=(e,t)=>{let r=new N.XmlNode(i6e);return r.l(e,"Objects","Object",()=>eqe(e[yHe])),e[JA]!=null&&r.c(N.XmlNode.of(JA,String(e[JA])).n(JA)),r},s3e=(e,t)=>{let r=new N.XmlNode(qu);return e[Ne]!=null&&r.c(N.XmlNode.of(n6e,e[Ne]).n(Ne)),r},i3e=(e,t)=>{let r=new N.XmlNode(Xn);return e[Mt]!=null&&r.c(N.XmlNode.of(QT,e[Mt]).n(Mt)),e[ph]!=null&&r.c(N.XmlNode.of(mh,e[ph]).n(ph)),r.cc(e,bt),e[Mu]!=null&&r.c(kFe(e[Mu]).n(Mu)),e[ti]!=null&&r.c(a3e(e[ti]).n(ti)),e[tf]!=null&&r.c(vqe(e[tf]).n(tf)),e[Ju]!=null&&r.c(K3e(e[Ju]).n(Ju)),r},o3e=(e,t)=>{let r=new N.XmlNode(Za);return e[rL]!=null&&r.c(N.XmlNode.of(si,e[rL]).n(rL)),e[dL]!=null&&r.c(N.XmlNode.of(Ms,e[dL]).n(dL)),r.cc(e,M6e),r},a3e=(e,t)=>{let r=new N.XmlNode(ti);return r.cc(e,gx),r},c3e=(e,t)=>{let r=new N.XmlNode(Hu);return e[dt]!=null&&r.c(N.XmlNode.of(_M,e[dt]).n(dt)),r},l3e=(e,t)=>new N.XmlNode(Vu),dM=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(df,r).n(Zn)),d3e=(e,t)=>{let r=new N.XmlNode(zu);return e[Ne]!=null&&r.c(N.XmlNode.of(a6e,e[Ne]).n(Ne)),r},u3e=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(FL,r).n(Zn)),f3e=(e,t)=>{let r=new N.XmlNode(qL);return e[sn]!=null&&r.c(N.XmlNode.of(m6e,e[sn]).n(sn)),e[ao]!=null&&r.c(N.XmlNode.of(h6e,e[ao]).n(ao)),r},m3e=(e,t)=>e.filter(r=>r!=null).map(r=>f3e(r).n(Zn)),h3e=(e,t)=>{let r=new N.XmlNode(tx);return r.cc(e,qte),r},p3e=(e,t)=>{let r=new N.XmlNode(al);if(e[oo]!=null){let n=Gee(e[oo]).n(oo);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return r.cc(e,ec),r},Gee=(e,t)=>{let r=new N.XmlNode(oo);return r.cc(e,ha),r.cc(e,QA),r.cc(e,mn),r.cc(e,Rx),r.a("xsi:type",e[Ui]),r},$ee=(e,t)=>e.filter(r=>r!=null).map(r=>p3e(r).n(al)),g3e=(e,t)=>{let r=new N.XmlNode(Ku);return r.cc(e,xx),r},Wee=(e,t)=>{let r=new N.XmlNode(Gu);return e[_h]!=null&&r.c(e3e(e[_h]).n(_h)),r.cc(e,ZVe),e[Rh]!=null&&r.c(P3e(e[Rh]).n(Rh)),e[SL]!=null&&r.c(dqe(e[SL]).n(SL)),r},y3e=(e,t)=>{let r=new N.XmlNode(x6e);return r.cc(e,_e),r.l(e,"Tags","Tag",()=>hf(e[ni])),r},E3e=(e,t)=>{let r=new N.XmlNode(zL);return e[Ze]!=null&&r.c(N.XmlNode.of(R6e,e[Ze]).n(Ze)),e[Qe]!=null&&r.c(S3e(e[Qe]).n(Qe)),e[Ne]!=null&&r.c(N.XmlNode.of(P6e,e[Ne]).n(Ne)),r.l(e,"Tierings","Tiering",()=>Jqe(e[sM])),r},S3e=(e,t)=>{let r=new N.XmlNode(N6e);return r.cc(e,_e),e[St]!=null&&r.c(Yh(e[St]).n(St)),e[jr]!=null&&r.c(y3e(e[jr]).n(jr)),r},C3e=(e,t)=>{let r=new N.XmlNode(HL);return e[Xn]!=null&&r.c(b3e(e[Xn]).n(Xn)),e[Pu]!=null&&r.c(N.XmlNode.of(Pu,String(e[Pu])).n(Pu)),e[Qe]!=null&&r.c(v3e(e[Qe]).n(Qe)),e[Ze]!=null&&r.c(N.XmlNode.of(C6e,e[Ze]).n(Ze)),e[Th]!=null&&r.c(N.XmlNode.of(b6e,e[Th]).n(Th)),r.lc(e,"OptionalFields","OptionalFields",()=>A3e(e[dh])),e[jh]!=null&&r.c(I3e(e[jh]).n(jh)),r},b3e=(e,t)=>{let r=new N.XmlNode(p6e);return e[Bo]!=null&&r.c(x3e(e[Bo]).n(Bo)),r},_3e=(e,t)=>{let r=new N.XmlNode(g6e);return e[tM]!=null&&r.c(Vqe(e[tM]).n(eI)),e[eM]!=null&&r.c(qqe(e[eM]).n(Zx)),r},v3e=(e,t)=>{let r=new N.XmlNode(y6e);return r.cc(e,_e),r},A3e=(e,t)=>e.filter(r=>r!=null).map(r=>N.XmlNode.of(_6e,r).n(VL)),x3e=(e,t)=>{let r=new N.XmlNode(v6e);return r.cc(e,mh),e[Mt]!=null&&r.c(N.XmlNode.of(QT,e[Mt]).n(Mt)),e[wo]!=null&&r.c(N.XmlNode.of(E6e,e[wo]).n(wo)),r.cc(e,_e),e[Za]!=null&&r.c(_3e(e[Za]).n(Za)),r},I3e=(e,t)=>{let r=new N.XmlNode(A6e);return e[xh]!=null&&r.c(N.XmlNode.of(S6e,e[xh]).n(xh)),r},T3e=(e,t)=>{let r=new N.XmlNode(sx);return e[rl]!=null&&r.c(N.XmlNode.of(xte,e[rl]).n(rl)),e[ti]!=null&&r.c(uM(e[ti]).n(ti)),r},w3e=(e,t)=>{let r=new N.XmlNode(T6e);return e[rl]!=null&&r.c(N.XmlNode.of(xte,e[rl]).n(rl)),e[ti]!=null&&r.c(uM(e[ti]).n(ti)),r},N3e=(e,t)=>{let r=new N.XmlNode(ix);return e[tc]!=null&&r.c(Xee(e[tc]).n(tc)),e[ti]!=null&&r.c(uM(e[ti]).n(ti)),r},R3e=(e,t)=>{let r=new N.XmlNode(B6e);return e[tc]!=null&&r.c(Xee(e[tc]).n(tc)),r},P3e=(e,t)=>{let r=new N.XmlNode(O6e);return e[Ui]!=null&&r.c(N.XmlNode.of(k6e,e[Ui]).n(Ui)),r},O3e=(e,t)=>{let r=new N.XmlNode(D6e);return r.cc(e,vM),r},D3e=(e,t)=>{let r=new N.XmlNode(F6e);return e[Ze]!=null&&r.c(N.XmlNode.of(bM,e[Ze]).n(Ze)),e[ax]!=null&&r.c(N.XmlNode.of(ax,e[ax]).n(BL)),r.l(e,"Events","Event",()=>dM(e[ol])),e[Qe]!=null&&r.c(fM(e[Qe]).n(Qe)),r},k3e=(e,t)=>e.filter(r=>r!=null).map(r=>D3e(r).n(Zn)),B3e=(e,t)=>{let r=new N.XmlNode(U6e);return e[yi]!=null&&r.c(N.XmlNode.of(yi,d.serializeDateTime(e[yi]).toString()).n(yi)),e[Pt]!=null&&r.c(N.XmlNode.of(Pt,String(e[Pt])).n(Pt)),e[Ru]!=null&&r.c(N.XmlNode.of(Ru,String(e[Ru])).n(Ru)),r},L3e=(e,t)=>{let r=new N.XmlNode(H6e);return e[Bn]!=null&&r.c(B3e(e[Bn]).n(Bn)),r.cc(e,mn),r.cc(e,_e),e[Qe]!=null&&r.c(U3e(e[Qe]).n(Qe)),e[Ne]!=null&&r.c(N.XmlNode.of(l6e,e[Ne]).n(Ne)),r.l(e,"Transitions","Transition",()=>Zqe(e[aM])),r.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>Y3e(e[WL])),e[Xu]!=null&&r.c(J3e(e[Xu]).n(Xu)),e[Uu]!=null&&r.c(OFe(e[Uu]).n(Uu)),r},M3e=(e,t)=>{let r=new N.XmlNode(z6e);return r.cc(e,_e),r.l(e,"Tags","Tag",()=>hf(e[ni])),e[Do]!=null&&r.c(N.XmlNode.of(wte,String(e[Do])).n(Do)),e[ko]!=null&&r.c(N.XmlNode.of(Nte,String(e[ko])).n(ko)),r},U3e=(e,t)=>{let r=new N.XmlNode(K6e);return r.cc(e,_e),e[St]!=null&&r.c(Yh(e[St]).n(St)),e[Do]!=null&&r.c(N.XmlNode.of(wte,String(e[Do])).n(Do)),e[ko]!=null&&r.c(N.XmlNode.of(Nte,String(e[ko])).n(ko)),e[jr]!=null&&r.c(M3e(e[jr]).n(jr)),r},F3e=(e,t)=>e.filter(r=>r!=null).map(r=>L3e(r).n(Zn)),q3e=(e,t)=>{let r=new N.XmlNode(q6e);return e[Ui]!=null&&r.c(N.XmlNode.of(G6e,e[Ui]).n(Ui)),e[sn]!=null&&r.c(N.XmlNode.of(j6e,e[sn]).n(sn)),r},j3e=(e,t)=>{let r=new N.XmlNode(Wu);return r.cc(e,Tx),r.lc(e,"TargetGrants","TargetGrants",()=>Gqe(e[fh])),r.cc(e,wx),e[lf]!=null&&r.c($qe(e[lf]).n(lf)),r},V3e=(e,t)=>{let r=new N.XmlNode(J6e);return e[ix]!=null&&r.c(N3e(e[ix]).n(ix)),e[sx]!=null&&r.c(T3e(e[sx]).n(sx)),r},H3e=(e,t)=>{let r=new N.XmlNode(Ite);return e[sn]!=null&&r.c(N.XmlNode.of(eHe,e[sn]).n(sn)),e[ao]!=null&&r.c(N.XmlNode.of(sHe,e[ao]).n(ao)),r},z3e=(e,t)=>{let r=new N.XmlNode(rHe);return e[Ax]!=null&&r.c(Pqe(e[Ax]).n(Ax)),r},uM=(e,t)=>{let r=new N.XmlNode(nHe);return e[_L]!=null&&r.c(N.XmlNode.of(e5e,e[_L]).n(_L)),r.cc(e,L6e),r},K3e=(e,t)=>{let r=new N.XmlNode(Ju);return e[Ne]!=null&&r.c(N.XmlNode.of(tHe,e[Ne]).n(Ne)),e[Ah]!=null&&r.c(Yee(e[Ah]).n(Ah)),r},G3e=(e,t)=>{let r=new N.XmlNode($6e);return r.cc(e,_e),r.l(e,"Tags","Tag",()=>hf(e[ni])),r.cc(e,el),r},$3e=(e,t)=>{let r=new N.XmlNode(GL);return e[Ze]!=null&&r.c(N.XmlNode.of(Z6e,e[Ze]).n(Ze)),e[Qe]!=null&&r.c(W3e(e[Qe]).n(Qe)),r},W3e=(e,t)=>{let r=new N.XmlNode(Q6e);return T.MetricsFilter.visit(e,{Prefix:n=>{e[_e]!=null&&r.c(N.XmlNode.of(_e,n).n(_e))},Tag:n=>{e[St]!=null&&r.c(Yh(n).n(St))},AccessPointArn:n=>{e[el]!=null&&r.c(N.XmlNode.of(el,n).n(el))},And:n=>{e[jr]!=null&&r.c(G3e(n).n(jr))},_:(n,s)=>{if(!(s instanceof N.XmlNode||s instanceof N.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new N.XmlNode(n).c(s))}}),r},J3e=(e,t)=>{let r=new N.XmlNode(Xu);return e[Po]!=null&&r.c(N.XmlNode.of(Pt,String(e[Po])).n(Po)),e[Oo]!=null&&r.c(N.XmlNode.of(Vte,String(e[Oo])).n(Oo)),r},X3e=(e,t)=>{let r=new N.XmlNode(JL);return e[Po]!=null&&r.c(N.XmlNode.of(Pt,String(e[Po])).n(Po)),e[bt]!=null&&r.c(N.XmlNode.of(Fte,e[bt]).n(bt)),e[Oo]!=null&&r.c(N.XmlNode.of(Vte,String(e[Oo])).n(Oo)),r},Y3e=(e,t)=>e.filter(r=>r!=null).map(r=>X3e(r).n(Zn)),Q3e=(e,t)=>{let r=new N.XmlNode(iHe);return r.l(e,"TopicConfigurations","TopicConfiguration",()=>Yqe(e[nM])),r.l(e,"QueueConfigurations","QueueConfiguration",()=>hqe(e[YL])),r.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>k3e(e[KL])),e[Vu]!=null&&r.c(l3e(e[Vu]).n(Vu)),r},fM=(e,t)=>{let r=new N.XmlNode(oHe);return e[dt]!=null&&r.c(Nqe(e[dt]).n(ZL)),r},Z3e=(e,t)=>{let r=new N.XmlNode(dHe);return e[dt]!=null&&r.c(N.XmlNode.of(_M,e[dt]).n(dt)),e[xt]!=null&&r.c(N.XmlNode.of(gHe,e[xt]).n(xt)),r.cc(e,xr),e[WA]!=null&&r.c(N.XmlNode.of(WA,d.dateToUtcString(e[WA]).toString()).n(WA)),e[Ls]!=null&&r.c(N.XmlNode.of(Ls,String(e[Ls])).n(Ls)),r},eqe=(e,t)=>e.filter(r=>r!=null).map(r=>Z3e(r).n(Zn)),tqe=(e,t)=>{let r=new N.XmlNode(uHe);return r.cc(e,fx),e[Mi]!=null&&r.c(sqe(e[Mi]).n(Mi)),r},rqe=(e,t)=>{let r=new N.XmlNode(fHe);return e[Ne]!=null&&r.c(N.XmlNode.of(gf,e[Ne]).n(Ne)),r},nqe=(e,t)=>{let r=new N.XmlNode(mHe);return e[Ro]!=null&&r.c(N.XmlNode.of(Tte,e[Ro]).n(Ro)),e[Fh]!=null&&r.c(N.XmlNode.of(yi,d.serializeDateTime(e[Fh]).toString()).n(Fh)),r},sqe=(e,t)=>{let r=new N.XmlNode(hHe);return e[ju]!=null&&r.c(r3e(e[ju]).n(ju)),r},iqe=(e,t)=>{let r=new N.XmlNode(ux);return e[xL]!=null&&r.c(Rqe(e[xL]).n(xL)),r},Jee=(e,t)=>{let r=new N.XmlNode(Yu);return e[_h]!=null&&r.c(t3e(e[_h]).n(_h)),e[Rh]!=null&&r.c(O3e(e[Rh]).n(Rh)),r},oqe=(e,t)=>{let r=new N.XmlNode(Jt);return r.cc(e,ha),r.cc(e,mn),r},aqe=(e,t)=>{let r=new N.XmlNode(aHe);return r.l(e,"Rules","Rule",()=>lqe(e[Mo])),r},cqe=(e,t)=>{let r=new N.XmlNode(lHe);return r.cc(e,RE),r},lqe=(e,t)=>e.filter(r=>r!=null).map(r=>cqe(r).n(Zn)),dqe=(e,t)=>new N.XmlNode(SHe),uqe=(e,t)=>{let r=new N.XmlNode(Qu);return r.cc(e,mx),r},fqe=(e,t)=>{let r=new N.XmlNode(EHe);return e[Eh]!=null&&r.c(N.XmlNode.of(XA,String(e[Eh])).n(Eh)),e[wh]!=null&&r.c(N.XmlNode.of(XA,String(e[wh])).n(wh)),e[Sh]!=null&&r.c(N.XmlNode.of(XA,String(e[Sh])).n(Sh)),e[Mh]!=null&&r.c(N.XmlNode.of(XA,String(e[Mh])).n(Mh)),r},mqe=(e,t)=>{let r=new N.XmlNode(XL);return e[Ze]!=null&&r.c(N.XmlNode.of(bM,e[Ze]).n(Ze)),e[px]!=null&&r.c(N.XmlNode.of(px,e[px]).n(QL)),r.l(e,"Events","Event",()=>dM(e[ol])),e[Qe]!=null&&r.c(fM(e[Qe]).n(Qe)),r},hqe=(e,t)=>e.filter(r=>r!=null).map(r=>mqe(r).n(Zn)),Xee=(e,t)=>{let r=new N.XmlNode(tc);return e[Bn]!=null&&r.c(N.XmlNode.of(d6e,e[Bn]).n(Bn)),e[Pt]!=null&&r.c(N.XmlNode.of(_He,String(e[Pt])).n(Pt)),r},pqe=(e,t)=>{let r=new N.XmlNode(rf);return r.cc(e,fd),r.cc(e,nx),r.cc(e,pd),r.cc(e,yx),r.cc(e,Ex),r},gqe=(e,t)=>{let r=new N.XmlNode(Zu);return r.cc(e,fd),r.cc(e,pd),r},yqe=(e,t)=>{let r=new N.XmlNode(ef);return e[Ne]!=null&&r.c(N.XmlNode.of(vHe,e[Ne]).n(Ne)),r},Eqe=(e,t)=>{let r=new N.XmlNode(bHe);return r.cc(e,Cx),r.l(e,"Rules","Rule",()=>_qe(e[Mo])),r},Sqe=(e,t)=>{let r=new N.XmlNode(PHe);return r.cc(e,mn),e[ku]!=null&&r.c(N.XmlNode.of(ku,String(e[ku])).n(ku)),r.cc(e,_e),e[Qe]!=null&&r.c(bqe(e[Qe]).n(Qe)),e[Ne]!=null&&r.c(N.XmlNode.of(NHe,e[Ne]).n(Ne)),e[af]!=null&&r.c(Fqe(e[af]).n(af)),e[zu]!=null&&r.c(d3e(e[zu]).n(zu)),e[Xn]!=null&&r.c(i3e(e[Xn]).n(Xn)),e[qu]!=null&&r.c(s3e(e[qu]).n(qu)),r},Cqe=(e,t)=>{let r=new N.XmlNode(THe);return r.cc(e,_e),r.l(e,"Tags","Tag",()=>hf(e[ni])),r},bqe=(e,t)=>{let r=new N.XmlNode(wHe);return r.cc(e,_e),e[St]!=null&&r.c(Yh(e[St]).n(St)),e[jr]!=null&&r.c(Cqe(e[jr]).n(jr)),r},_qe=(e,t)=>e.filter(r=>r!=null).map(r=>Sqe(r).n(Zn)),vqe=(e,t)=>{let r=new N.XmlNode(tf);return e[Ne]!=null&&r.c(N.XmlNode.of(BHe,e[Ne]).n(Ne)),e[zh]!=null&&r.c(Yee(e[zh]).n(zh)),r},Yee=(e,t)=>{let r=new N.XmlNode(LHe);return e[Du]!=null&&r.c(N.XmlNode.of(Du,String(e[Du])).n(Du)),r},Aqe=(e,t)=>{let r=new N.XmlNode(xHe);return r.cc(e,hx),r},xqe=(e,t)=>{let r=new N.XmlNode(Sx);return e[nL]!=null&&r.c(N.XmlNode.of(c6e,String(e[nL])).n(nL)),r},Iqe=(e,t)=>{let r=new N.XmlNode(OHe);return e[Pt]!=null&&r.c(N.XmlNode.of(Pt,String(e[Pt])).n(Pt)),e[tx]!=null&&r.c(h3e(e[tx]).n(tx)),e[Ui]!=null&&r.c(N.XmlNode.of(RHe,e[Ui]).n(Ui)),r.cc(e,qte),r.cc(e,o6e),e[_x]!=null&&r.c(Dqe(e[_x]).n(_x)),e[ux]!=null&&r.c(iqe(e[ux]).n(ux)),r},Tqe=(e,t)=>{let r=new N.XmlNode(Qx);return e[Fu]!=null&&r.c(JFe(e[Fu]).n(Fu)),e[rf]!=null&&r.c(pqe(e[rf]).n(rf)),r},wqe=(e,t)=>e.filter(r=>r!=null).map(r=>Tqe(r).n(Qx)),Nqe=(e,t)=>{let r=new N.XmlNode(VHe);return r.l(e,"FilterRules","FilterRule",()=>m3e(e[jL])),r},Rqe=(e,t)=>{let r=new N.XmlNode(HHe);return r.cc(e,QT),e[_e]!=null&&r.c(N.XmlNode.of(V6e,e[_e]).n(_e)),e[Za]!=null&&r.c(o3e(e[Za]).n(Za)),e[X2]!=null&&r.c(N.XmlNode.of(cHe,e[X2]).n(X2)),r.lc(e,"AccessControlList","AccessControlList",()=>$ee(e[Lu])),e[cf]!=null&&r.c(mM(e[cf]).n(cf)),r.lc(e,"UserMetadata","UserMetadata",()=>e4e(e[t5e])),r.cc(e,bt),r},Pqe=(e,t)=>{let r=new N.XmlNode(Ax);return e[il]!=null&&r.c(N.XmlNode.of(JHe,e[il]).n(il)),e[Lo]!=null&&r.c(N.XmlNode.of(XHe,e[Lo]).n(Lo)),r},Oqe=(e,t)=>{let r=new N.XmlNode(vx);return e[YA]!=null&&r.c(N.XmlNode.of(YA,String(e[YA])).n(YA)),e[$A]!=null&&r.c(N.XmlNode.of($A,String(e[$A])).n($A)),r},Dqe=(e,t)=>{let r=new N.XmlNode(_x);return e[Gu]!=null&&r.c(Wee(e[Gu]).n(Gu)),r.cc(e,_te),r.cc(e,vte),e[Yu]!=null&&r.c(Jee(e[Yu]).n(Yu)),r},kqe=(e,t)=>{let r=new N.XmlNode(GHe);return e[qh]!=null&&r.c(N.XmlNode.of(si,e[qh]).n(qh)),e[Oh]!=null&&r.c(N.XmlNode.of(Ms,e[Oh]).n(Oh)),r},Bqe=(e,t)=>{let r=new N.XmlNode($He);return r.l(e,"Rules","Rule",()=>Mqe(e[Mo])),r},Lqe=(e,t)=>{let r=new N.XmlNode(WHe);return e[hh]!=null&&r.c(kqe(e[hh]).n(hh)),e[qr]!=null&&r.c(N.XmlNode.of(qr,String(e[qr])).n(qr)),r},Mqe=(e,t)=>e.filter(r=>r!=null).map(r=>Lqe(r).n(Zn)),Uqe=(e,t)=>new N.XmlNode(of),Fqe=(e,t)=>{let r=new N.XmlNode(af);return e[sf]!=null&&r.c(jqe(e[sf]).n(sf)),e[ef]!=null&&r.c(yqe(e[ef]).n(ef)),r},qqe=(e,t)=>{let r=new N.XmlNode(Zx);return e[Ph]!=null&&r.c(N.XmlNode.of(Ms,e[Ph]).n(Ph)),r},jqe=(e,t)=>{let r=new N.XmlNode(sf);return e[Ne]!=null&&r.c(N.XmlNode.of(jHe,e[Ne]).n(Ne)),r},Vqe=(e,t)=>new N.XmlNode(eI),Hqe=(e,t)=>{let r=new N.XmlNode(nf);return e[vh]!=null&&r.c(zqe(e[vh]).n(vh)),r},zqe=(e,t)=>{let r=new N.XmlNode(MHe);return e[Lh]!=null&&r.c(N.XmlNode.of(UHe,e[Lh]).n(Lh)),e[Xn]!=null&&r.c(qFe(e[Xn]).n(Xn)),r},Yh=(e,t)=>{let r=new N.XmlNode(St);return e[dt]!=null&&r.c(N.XmlNode.of(_M,e[dt]).n(dt)),r.cc(e,ao),r},mM=(e,t)=>{let r=new N.XmlNode(cf);return r.lc(e,"TagSet","TagSet",()=>hf(e[fa])),r},hf=(e,t)=>e.filter(r=>r!=null).map(r=>Yh(r).n(St)),Kqe=(e,t)=>{let r=new N.XmlNode(QHe);if(e[oo]!=null){let n=Gee(e[oo]).n(oo);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return e[ec]!=null&&r.c(N.XmlNode.of(qVe,e[ec]).n(ec)),r},Gqe=(e,t)=>e.filter(r=>r!=null).map(r=>Kqe(r).n(al)),$qe=(e,t)=>{let r=new N.XmlNode(lf);return e[of]!=null&&r.c(Uqe(e[of]).n(of)),e[Qu]!=null&&r.c(uqe(e[Qu]).n(Qu)),r},Wqe=(e,t)=>{let r=new N.XmlNode(iM);return e[Pt]!=null&&r.c(N.XmlNode.of(w6e,String(e[Pt])).n(Pt)),e[tl]!=null&&r.c(N.XmlNode.of(I6e,e[tl]).n(tl)),r},Jqe=(e,t)=>e.filter(r=>r!=null).map(r=>Wqe(r).n(Zn)),Xqe=(e,t)=>{let r=new N.XmlNode(rM);return e[Ze]!=null&&r.c(N.XmlNode.of(bM,e[Ze]).n(Ze)),e[Ix]!=null&&r.c(N.XmlNode.of(Ix,e[Ix]).n(oM)),r.l(e,"Events","Event",()=>dM(e[ol])),e[Qe]!=null&&r.c(fM(e[Qe]).n(Qe)),r},Yqe=(e,t)=>e.filter(r=>r!=null).map(r=>Xqe(r).n(Zn)),Qqe=(e,t)=>{let r=new N.XmlNode(cM);return e[yi]!=null&&r.c(N.XmlNode.of(yi,d.serializeDateTime(e[yi]).toString()).n(yi)),e[Pt]!=null&&r.c(N.XmlNode.of(Pt,String(e[Pt])).n(Pt)),e[bt]!=null&&r.c(N.XmlNode.of(Fte,e[bt]).n(bt)),r},Zqe=(e,t)=>e.filter(r=>r!=null).map(r=>Qqe(r).n(Zn)),e4e=(e,t)=>e.filter(r=>r!=null).map(r=>H3e(r).n(Ite)),t4e=(e,t)=>{let r=new N.XmlNode(r5e);return e[lx]!=null&&r.c(N.XmlNode.of(lx,e[lx]).n($L)),e[Ne]!=null&&r.c(N.XmlNode.of(zVe,e[Ne]).n(Ne)),r},r4e=(e,t)=>{let r=new N.XmlNode(n5e);return e[Hu]!=null&&r.c(c3e(e[Hu]).n(Hu)),e[Ku]!=null&&r.c(g3e(e[Ku]).n(Ku)),e[Zu]!=null&&r.c(gqe(e[Zu]).n(Zu)),r.lc(e,"RoutingRules","RoutingRules",()=>wqe(e[uh])),r},n4e=(e,t)=>{let r={};return e[Nu]!=null&&(r[Nu]=d.strictParseInt32(e[Nu])),r},s4e=(e,t)=>{let r={};return e[Jt]!=null&&(r[Jt]=d.expectString(e[Jt])),r},i4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),o4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),a4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),c4e=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),String(e.Tag).trim()===""?r[ni]=[]:e[St]!=null&&(r[ni]=pf(d.getArrayIfSingleItem(e[St]))),r},Qee=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),String(e.Filter).trim()===""||e[Qe]!=null&&(r[Qe]=u4e(d.expectUnion(e[Qe]))),e[nf]!=null&&(r[nf]=mVe(e[nf])),r},l4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Qee(r)),d4e=(e,t)=>{let r={};return e[Bo]!=null&&(r[Bo]=f4e(e[Bo])),r},u4e=(e,t)=>e[_e]!=null?{Prefix:d.expectString(e[_e])}:e[St]!=null?{Tag:Qh(e[St])}:e[jr]!=null?{And:c4e(e[jr])}:{$unknown:Object.entries(e)[0]},f4e=(e,t)=>{let r={};return e[wo]!=null&&(r[wo]=d.expectString(e[wo])),e[gh]!=null&&(r[gh]=d.expectString(e[gh])),e[Mt]!=null&&(r[Mt]=d.expectString(e[Mt])),e[_e]!=null&&(r[_e]=d.expectString(e[_e])),r},m4e=(e,t)=>{let r={};return e[sn]!=null&&(r[sn]=d.expectString(e[sn])),e[Y2]!=null&&(r[Y2]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[Y2]))),e[NE]!=null&&(r[NE]=d.expectString(e[NE])),e[wE]!=null&&(r[wE]=d.expectString(e[wE])),r},Zee=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>m4e(r)),h4e=(e,t)=>{let r={};return e[Rr]!=null&&(r[Rr]=d.expectString(e[Rr])),e[Pr]!=null&&(r[Pr]=d.expectString(e[Pr])),e[Or]!=null&&(r[Or]=d.expectString(e[Or])),e[Dr]!=null&&(r[Dr]=d.expectString(e[Dr])),e[kr]!=null&&(r[kr]=d.expectString(e[kr])),e[Br]!=null&&(r[Br]=d.expectString(e[Br])),r},ete=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),p4e=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),r},YT=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>p4e(r)),g4e=(e,t)=>{let r={};return e[rx]!=null&&(r[rx]=d.expectString(e[rx])),e[ox]!=null&&(r[ox]=d.expectString(e[ox])),r},y4e=(e,t)=>({}),E4e=(e,t)=>{let r={};return e[xr]!=null&&(r[xr]=d.expectString(e[xr])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),e[Br]!=null&&(r[Br]=d.expectString(e[Br])),e[Rr]!=null&&(r[Rr]=d.expectString(e[Rr])),e[Pr]!=null&&(r[Pr]=d.expectString(e[Pr])),e[Or]!=null&&(r[Or]=d.expectString(e[Or])),e[Dr]!=null&&(r[Dr]=d.expectString(e[Dr])),e[kr]!=null&&(r[kr]=d.expectString(e[kr])),r},S4e=(e,t)=>{let r={};return e[xr]!=null&&(r[xr]=d.expectString(e[xr])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),e[Rr]!=null&&(r[Rr]=d.expectString(e[Rr])),e[Pr]!=null&&(r[Pr]=d.expectString(e[Pr])),e[Or]!=null&&(r[Or]=d.expectString(e[Or])),e[Dr]!=null&&(r[Dr]=d.expectString(e[Dr])),e[kr]!=null&&(r[kr]=d.expectString(e[kr])),r},C4e=(e,t)=>{let r={};return e[mn]!=null&&(r[mn]=d.expectString(e[mn])),String(e.AllowedHeader).trim()===""?r[RL]=[]:e[NL]!=null&&(r[RL]=i4e(d.getArrayIfSingleItem(e[NL]))),String(e.AllowedMethod).trim()===""?r[OL]=[]:e[PL]!=null&&(r[OL]=o4e(d.getArrayIfSingleItem(e[PL]))),String(e.AllowedOrigin).trim()===""?r[kL]=[]:e[DL]!=null&&(r[kL]=a4e(d.getArrayIfSingleItem(e[DL]))),String(e.ExposeHeader).trim()===""?r[UL]=[]:e[FL]!=null&&(r[UL]=M4e(d.getArrayIfSingleItem(e[FL]))),e[Ou]!=null&&(r[Ou]=d.strictParseInt32(e[Ou])),r},b4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>C4e(r)),_4e=(e,t)=>{let r={};return e[Ro]!=null&&(r[Ro]=d.expectString(e[Ro])),e[Pt]!=null&&(r[Pt]=d.strictParseInt32(e[Pt])),e[Bu]!=null&&(r[Bu]=d.strictParseInt32(e[Bu])),r},v4e=(e,t)=>{let r={};return e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[xt]!=null&&(r[xt]=d.expectString(e[xt])),e[ma]!=null&&(r[ma]=d.parseBoolean(e[ma])),e[eL]!=null&&(r[eL]=d.expectString(e[eL])),r},A4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>v4e(r)),x4e=(e,t)=>{let r={};return e[Jt]!=null&&(r[Jt]=Sd(e[Jt])),e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[xt]!=null&&(r[xt]=d.expectString(e[xt])),e[Ih]!=null&&(r[Ih]=d.parseBoolean(e[Ih])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),r},I4e=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),r},T4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>x4e(r)),w4e=(e,t)=>{let r={};return e[Mt]!=null&&(r[Mt]=d.expectString(e[Mt])),e[ph]!=null&&(r[ph]=d.expectString(e[ph])),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),e[Mu]!=null&&(r[Mu]=s4e(e[Mu])),e[ti]!=null&&(r[ti]=R4e(e[ti])),e[tf]!=null&&(r[tf]=Yje(e[tf])),e[Ju]!=null&&(r[Ju]=mje(e[Ju])),r},N4e=(e,t)=>{let r={};return e[IL]!=null&&(r[IL]=d.expectString(e[IL])),e[il]!=null&&(r[il]=d.expectString(e[il])),e[Vh]!=null&&(r[Vh]=d.expectString(e[Vh])),r},R4e=(e,t)=>{let r={};return e[gx]!=null&&(r[gx]=d.expectString(e[gx])),r},P4e=(e,t)=>({}),O4e=(e,t)=>{let r={};return e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[xt]!=null&&(r[xt]=d.expectString(e[xt])),e[Z2]!=null&&(r[Z2]=d.expectString(e[Z2])),e[mL]!=null&&(r[mL]=d.expectString(e[mL])),r},hM=(e,t)=>{let r={};return e[ZA]!=null&&(r[ZA]=d.expectString(e[ZA])),e[ex]!=null&&(r[ex]=d.expectString(e[ex])),r},D4e=(e,t)=>{let r={};return e[dt]!=null&&(r[dt]=d.expectString(e[dt])),r},k4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>O4e(r)),B4e=(e,t)=>({}),pM=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),L4e=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),r},M4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),U4e=(e,t)=>{let r={};return e[sn]!=null&&(r[sn]=d.expectString(e[sn])),e[ao]!=null&&(r[ao]=d.expectString(e[ao])),r},F4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>U4e(r)),q4e=(e,t)=>{let r={};return e[uL]!=null&&(r[uL]=uje(e[uL])),r},j4e=(e,t)=>{let r={};return e[fL]!=null&&(r[fL]=fje(e[fL])),e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),e[pa]!=null&&(r[pa]=hM(e[pa])),r},V4e=(e,t)=>{let r={};return e[$h]!=null&&(r[ZHe]=d.strictParseInt32(e[$h])),e[hd]!=null&&(r[hd]=d.expectString(e[hd])),e[Bh]!=null&&(r[Bh]=d.expectString(e[Bh])),e[nl]!=null&&(r[nl]=d.strictParseInt32(e[nl])),e[fr]!=null&&(r[fr]=d.parseBoolean(e[fr])),String(e.Part).trim()===""?r[OE]=[]:e[Yx]!=null&&(r[OE]=Lje(d.getArrayIfSingleItem(e[Yx]))),r},H4e=(e,t)=>{let r={};return e[oo]!=null&&(r[oo]=tte(e[oo])),e[ec]!=null&&(r[ec]=d.expectString(e[ec])),r},tte=(e,t)=>{let r={};return e[ha]!=null&&(r[ha]=d.expectString(e[ha])),e[QA]!=null&&(r[QA]=d.expectString(e[QA])),e[mn]!=null&&(r[mn]=d.expectString(e[mn])),e[Rx]!=null&&(r[Rx]=d.expectString(e[Rx])),e[tee]!=null&&(r[Ui]=d.expectString(e[tee])),r},rte=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>H4e(r)),z4e=(e,t)=>{let r={};return e[xx]!=null&&(r[xx]=d.expectString(e[xx])),r},nte=(e,t)=>{let r={};return e[mn]!=null&&(r[mn]=d.expectString(e[mn])),e[ha]!=null&&(r[ha]=d.expectString(e[ha])),r},K4e=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),String(e.Tag).trim()===""?r[ni]=[]:e[St]!=null&&(r[ni]=pf(d.getArrayIfSingleItem(e[St]))),r},ste=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),e[Qe]!=null&&(r[Qe]=$4e(e[Qe])),e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),String(e.Tiering).trim()===""?r[sM]=[]:e[iM]!=null&&(r[sM]=SVe(d.getArrayIfSingleItem(e[iM]))),r},G4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ste(r)),$4e=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[St]!=null&&(r[St]=Qh(e[St])),e[jr]!=null&&(r[jr]=K4e(e[jr])),r},ite=(e,t)=>{let r={};return e[Xn]!=null&&(r[Xn]=J4e(e[Xn])),e[Pu]!=null&&(r[Pu]=d.parseBoolean(e[Pu])),e[Qe]!=null&&(r[Qe]=Y4e(e[Qe])),e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),e[Th]!=null&&(r[Th]=d.expectString(e[Th])),String(e.OptionalFields).trim()===""?r[dh]=[]:e[dh]!=null&&e[dh][VL]!=null&&(r[dh]=Q4e(d.getArrayIfSingleItem(e[dh][VL]))),e[jh]!=null&&(r[jh]=eje(e[jh])),r},W4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ite(r)),J4e=(e,t)=>{let r={};return e[Bo]!=null&&(r[Bo]=Z4e(e[Bo])),r},X4e=(e,t)=>{let r={};return e[eI]!=null&&(r[tM]=uVe(e[eI])),e[Zx]!=null&&(r[eM]=lVe(e[Zx])),r},Y4e=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),r},Q4e=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>d.expectString(r)),Z4e=(e,t)=>{let r={};return e[mh]!=null&&(r[mh]=d.expectString(e[mh])),e[Mt]!=null&&(r[Mt]=d.expectString(e[Mt])),e[wo]!=null&&(r[wo]=d.expectString(e[wo])),e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[Za]!=null&&(r[Za]=X4e(e[Za])),r},eje=(e,t)=>{let r={};return e[xh]!=null&&(r[xh]=d.expectString(e[xh])),r},tje=(e,t)=>{let r={};return e[rl]!=null&&(r[rl]=d.expectString(e[rl])),e[Hh]!=null&&(r[Hh]=d.expectString(e[Hh])),e[pa]!=null&&(r[pa]=hM(e[pa])),e[Lo]!=null&&(r[Lo]=d.expectString(e[Lo])),e[sl]!=null&&(r[sl]=d.expectString(e[sl])),r},rje=(e,t)=>{let r={};return e[Hh]!=null&&(r[Hh]=d.expectString(e[Hh])),e[pa]!=null&&(r[pa]=hM(e[pa])),e[Lo]!=null&&(r[Lo]=d.expectString(e[Lo])),e[sl]!=null&&(r[sl]=d.expectString(e[sl])),e[tc]!=null&&(r[tc]=Vje(e[tc])),r},nje=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),e[BL]!=null&&(r[ax]=d.expectString(e[BL])),String(e.Event).trim()===""?r[ol]=[]:e[df]!=null&&(r[ol]=pM(d.getArrayIfSingleItem(e[df]))),e[Qe]!=null&&(r[Qe]=gM(e[Qe])),r},sje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>nje(r)),ije=(e,t)=>{let r={};return e[yi]!=null&&(r[yi]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[yi]))),e[Pt]!=null&&(r[Pt]=d.strictParseInt32(e[Pt])),e[Ru]!=null&&(r[Ru]=d.parseBoolean(e[Ru])),r},oje=(e,t)=>{let r={};return e[Bn]!=null&&(r[Bn]=ije(e[Bn])),e[mn]!=null&&(r[mn]=d.expectString(e[mn])),e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[Qe]!=null&&(r[Qe]=cje(e[Qe])),e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),String(e.Transition).trim()===""?r[aM]=[]:e[cM]!=null&&(r[aM]=vVe(d.getArrayIfSingleItem(e[cM]))),String(e.NoncurrentVersionTransition).trim()===""?r[WL]=[]:e[JL]!=null&&(r[WL]=bje(d.getArrayIfSingleItem(e[JL]))),e[Xu]!=null&&(r[Xu]=Sje(e[Xu])),e[Uu]!=null&&(r[Uu]=n4e(e[Uu])),r},aje=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),String(e.Tag).trim()===""?r[ni]=[]:e[St]!=null&&(r[ni]=pf(d.getArrayIfSingleItem(e[St]))),e[Do]!=null&&(r[Do]=d.strictParseLong(e[Do])),e[ko]!=null&&(r[ko]=d.strictParseLong(e[ko])),r},cje=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[St]!=null&&(r[St]=Qh(e[St])),e[Do]!=null&&(r[Do]=d.strictParseLong(e[Do])),e[ko]!=null&&(r[ko]=d.strictParseLong(e[ko])),e[jr]!=null&&(r[jr]=aje(e[jr])),r},lje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>oje(r)),dje=(e,t)=>{let r={};return e[Tx]!=null&&(r[Tx]=d.expectString(e[Tx])),String(e.TargetGrants).trim()===""?r[fh]=[]:e[fh]!=null&&e[fh][al]!=null&&(r[fh]=gVe(d.getArrayIfSingleItem(e[fh][al]))),e[wx]!=null&&(r[wx]=d.expectString(e[wx])),e[lf]!=null&&(r[lf]=yVe(e[lf])),r},uje=(e,t)=>{let r={};return e[tL]!=null&&(r[tL]=N4e(e[tL])),e[cL]!=null&&(r[cL]=rje(e[cL])),e[oL]!=null&&(r[oL]=tje(e[oL])),r},fje=(e,t)=>{let r={};return e[AL]!=null&&(r[AL]=tVe(e[AL])),r},mje=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),e[Ah]!=null&&(r[Ah]=cte(e[Ah])),r},hje=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),String(e.Tag).trim()===""?r[ni]=[]:e[St]!=null&&(r[ni]=pf(d.getArrayIfSingleItem(e[St]))),e[el]!=null&&(r[el]=d.expectString(e[el])),r},ote=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),String(e.Filter).trim()===""||e[Qe]!=null&&(r[Qe]=gje(d.expectUnion(e[Qe]))),r},pje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ote(r)),gje=(e,t)=>e[_e]!=null?{Prefix:d.expectString(e[_e])}:e[St]!=null?{Tag:Qh(e[St])}:e[el]!=null?{AccessPointArn:d.expectString(e[el])}:e[jr]!=null?{And:hje(e[jr])}:{$unknown:Object.entries(e)[0]},yje=(e,t)=>{let r={};return e[Fi]!=null&&(r[Fi]=d.expectString(e[Fi])),e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[aL]!=null&&(r[aL]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[aL]))),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),e[Jt]!=null&&(r[Jt]=Sd(e[Jt])),e[Nh]!=null&&(r[Nh]=nte(e[Nh])),e[ht]!=null&&(r[ht]=d.expectString(e[ht])),e[Br]!=null&&(r[Br]=d.expectString(e[Br])),r},Eje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>yje(r)),Sje=(e,t)=>{let r={};return e[Po]!=null&&(r[Po]=d.strictParseInt32(e[Po])),e[Oo]!=null&&(r[Oo]=d.strictParseInt32(e[Oo])),r},Cje=(e,t)=>{let r={};return e[Po]!=null&&(r[Po]=d.strictParseInt32(e[Po])),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),e[Oo]!=null&&(r[Oo]=d.strictParseInt32(e[Oo])),r},bje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Cje(r)),gM=(e,t)=>{let r={};return e[ZL]!=null&&(r[dt]=eVe(e[ZL])),r},_je=(e,t)=>{let r={};return e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),e[xr]!=null&&(r[xr]=d.expectString(e[xr])),String(e.ChecksumAlgorithm).trim()===""?r[ht]=[]:e[ht]!=null&&(r[ht]=ete(d.getArrayIfSingleItem(e[ht]))),e[Br]!=null&&(r[Br]=d.expectString(e[Br])),e[Ls]!=null&&(r[Ls]=d.strictParseLong(e[Ls])),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),e[Jt]!=null&&(r[Jt]=Sd(e[Jt])),e[Uh]!=null&&(r[Uh]=lte(e[Uh])),r},ate=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>_je(r)),vje=(e,t)=>{let r={};return e[fx]!=null&&(r[fx]=d.expectString(e[fx])),e[Mi]!=null&&(r[Mi]=Ije(e[Mi])),r},Aje=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),r},xje=(e,t)=>{let r={};return e[Ro]!=null&&(r[Ro]=d.expectString(e[Ro])),e[Fh]!=null&&(r[Fh]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[Fh]))),r},Ije=(e,t)=>{let r={};return e[ju]!=null&&(r[ju]=_4e(e[ju])),r},Tje=(e,t)=>{let r={};return e[Li]!=null&&(r[Li]=d.strictParseInt32(e[Li])),e[Ls]!=null&&(r[Ls]=d.strictParseLong(e[Ls])),e[Rr]!=null&&(r[Rr]=d.expectString(e[Rr])),e[Pr]!=null&&(r[Pr]=d.expectString(e[Pr])),e[Or]!=null&&(r[Or]=d.expectString(e[Or])),e[Dr]!=null&&(r[Dr]=d.expectString(e[Dr])),e[kr]!=null&&(r[kr]=d.expectString(e[kr])),r},wje=(e,t)=>{let r={};return e[xr]!=null&&(r[xr]=d.expectString(e[xr])),String(e.ChecksumAlgorithm).trim()===""?r[ht]=[]:e[ht]!=null&&(r[ht]=ete(d.getArrayIfSingleItem(e[ht]))),e[Br]!=null&&(r[Br]=d.expectString(e[Br])),e[Ls]!=null&&(r[Ls]=d.strictParseLong(e[Ls])),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[xt]!=null&&(r[xt]=d.expectString(e[xt])),e[Ih]!=null&&(r[Ih]=d.parseBoolean(e[Ih])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),e[Jt]!=null&&(r[Jt]=Sd(e[Jt])),e[Uh]!=null&&(r[Uh]=lte(e[Uh])),r},Nje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>wje(r)),Sd=(e,t)=>{let r={};return e[ha]!=null&&(r[ha]=d.expectString(e[ha])),e[mn]!=null&&(r[mn]=d.expectString(e[mn])),r},Rje=(e,t)=>{let r={};return String(e.Rule).trim()===""?r[Mo]=[]:e[Mi]!=null&&(r[Mo]=Oje(d.getArrayIfSingleItem(e[Mi]))),r},Pje=(e,t)=>{let r={};return e[RE]!=null&&(r[RE]=d.expectString(e[RE])),r},Oje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Pje(r)),Dje=(e,t)=>{let r={};return e[Li]!=null&&(r[Li]=d.strictParseInt32(e[Li])),e[hn]!=null&&(r[hn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[hn]))),e[xr]!=null&&(r[xr]=d.expectString(e[xr])),e[Ls]!=null&&(r[Ls]=d.strictParseLong(e[Ls])),e[Rr]!=null&&(r[Rr]=d.expectString(e[Rr])),e[Pr]!=null&&(r[Pr]=d.expectString(e[Pr])),e[Or]!=null&&(r[Or]=d.expectString(e[Or])),e[Dr]!=null&&(r[Dr]=d.expectString(e[Dr])),e[kr]!=null&&(r[kr]=d.expectString(e[kr])),r},kje=(e,t)=>{let r={};return e[mx]!=null&&(r[mx]=d.expectString(e[mx])),r},Bje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Dje(r)),Lje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Tje(r)),Mje=(e,t)=>{let r={};return e[sL]!=null&&(r[sL]=d.parseBoolean(e[sL])),r},Uje=(e,t)=>{let r={};return e[bh]!=null&&(r[bh]=d.strictParseLong(e[bh])),e[yh]!=null&&(r[yh]=d.strictParseLong(e[yh])),e[Ch]!=null&&(r[Ch]=d.strictParseLong(e[Ch])),r},Fje=(e,t)=>{let r={};return e[Eh]!=null&&(r[Eh]=d.parseBoolean(e[Eh])),e[wh]!=null&&(r[wh]=d.parseBoolean(e[wh])),e[Sh]!=null&&(r[Sh]=d.parseBoolean(e[Sh])),e[Mh]!=null&&(r[Mh]=d.parseBoolean(e[Mh])),r},qje=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),e[QL]!=null&&(r[px]=d.expectString(e[QL])),String(e.Event).trim()===""?r[ol]=[]:e[df]!=null&&(r[ol]=pM(d.getArrayIfSingleItem(e[df]))),e[Qe]!=null&&(r[Qe]=gM(e[Qe])),r},jje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>qje(r)),Vje=(e,t)=>{let r={};return e[Bn]!=null&&(r[Bn]=d.expectString(e[Bn])),e[Pt]!=null&&(r[Pt]=d.strictParseInt32(e[Pt])),r},Hje=(e,t)=>{let r={};return e[fd]!=null&&(r[fd]=d.expectString(e[fd])),e[nx]!=null&&(r[nx]=d.expectString(e[nx])),e[pd]!=null&&(r[pd]=d.expectString(e[pd])),e[yx]!=null&&(r[yx]=d.expectString(e[yx])),e[Ex]!=null&&(r[Ex]=d.expectString(e[Ex])),r},zje=(e,t)=>{let r={};return e[fd]!=null&&(r[fd]=d.expectString(e[fd])),e[pd]!=null&&(r[pd]=d.expectString(e[pd])),r},Kje=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),r},Gje=(e,t)=>{let r={};return e[Cx]!=null&&(r[Cx]=d.expectString(e[Cx])),String(e.Rule).trim()===""?r[Mo]=[]:e[Mi]!=null&&(r[Mo]=Xje(d.getArrayIfSingleItem(e[Mi]))),r},$je=(e,t)=>{let r={};return e[mn]!=null&&(r[mn]=d.expectString(e[mn])),e[ku]!=null&&(r[ku]=d.strictParseInt32(e[ku])),e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[Qe]!=null&&(r[Qe]=Jje(e[Qe])),e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),e[af]!=null&&(r[af]=cVe(e[af])),e[zu]!=null&&(r[zu]=L4e(e[zu])),e[Xn]!=null&&(r[Xn]=w4e(e[Xn])),e[qu]!=null&&(r[qu]=I4e(e[qu])),r},Wje=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),String(e.Tag).trim()===""?r[ni]=[]:e[St]!=null&&(r[ni]=pf(d.getArrayIfSingleItem(e[St]))),r},Jje=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=d.expectString(e[_e])),e[St]!=null&&(r[St]=Qh(e[St])),e[jr]!=null&&(r[jr]=Wje(e[jr])),r},Xje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>$je(r)),Yje=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),e[zh]!=null&&(r[zh]=cte(e[zh])),r},cte=(e,t)=>{let r={};return e[Du]!=null&&(r[Du]=d.strictParseInt32(e[Du])),r},lte=(e,t)=>{let r={};return e[iL]!=null&&(r[iL]=d.parseBoolean(e[iL])),e[CL]!=null&&(r[CL]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[CL]))),r},Qje=(e,t)=>{let r={};return e[Fu]!=null&&(r[Fu]=g4e(e[Fu])),e[rf]!=null&&(r[rf]=Hje(e[rf])),r},Zje=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Qje(r)),eVe=(e,t)=>{let r={};return String(e.FilterRule).trim()===""?r[jL]=[]:e[qL]!=null&&(r[jL]=F4e(d.getArrayIfSingleItem(e[qL]))),r},tVe=(e,t)=>{let r={};return e[il]!=null&&(r[il]=d.expectString(e[il])),e[Lo]!=null&&(r[Lo]=d.expectString(e[Lo])),e[sl]!=null&&(r[sl]=d.expectString(e[sl])),e[Vh]!=null&&(r[Vh]=d.expectString(e[Vh])),r},rVe=(e,t)=>{let r={};return e[qh]!=null&&(r[qh]=d.expectString(e[qh])),e[Oh]!=null&&(r[Oh]=d.expectString(e[Oh])),r},nVe=(e,t)=>{let r={};return String(e.Rule).trim()===""?r[Mo]=[]:e[Mi]!=null&&(r[Mo]=iVe(d.getArrayIfSingleItem(e[Mi]))),r},sVe=(e,t)=>{let r={};return e[hh]!=null&&(r[hh]=rVe(e[hh])),e[qr]!=null&&(r[qr]=d.parseBoolean(e[qr])),r},iVe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>sVe(r)),oVe=(e,t)=>{let r={};return e[W2]!=null&&(r[W2]=d.expectString(e[W2])),e[bL]!=null&&(r[bL]=d.expectString(e[bL])),e[vL]!=null&&(r[vL]=d.expectString(e[vL])),e[Bn]!=null&&(r[Bn]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[Bn]))),r},aVe=(e,t)=>({}),cVe=(e,t)=>{let r={};return e[sf]!=null&&(r[sf]=dVe(e[sf])),e[ef]!=null&&(r[ef]=Kje(e[ef])),r},lVe=(e,t)=>{let r={};return e[Ph]!=null&&(r[Ph]=d.expectString(e[Ph])),r},dVe=(e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=d.expectString(e[Ne])),r},uVe=(e,t)=>({}),fVe=(e,t)=>{let r={};return e[bh]!=null&&(r[bh]=d.strictParseLong(e[bh])),e[yh]!=null&&(r[yh]=d.strictParseLong(e[yh])),e[Ch]!=null&&(r[Ch]=d.strictParseLong(e[Ch])),r},mVe=(e,t)=>{let r={};return e[vh]!=null&&(r[vh]=hVe(e[vh])),r},hVe=(e,t)=>{let r={};return e[Lh]!=null&&(r[Lh]=d.expectString(e[Lh])),e[Xn]!=null&&(r[Xn]=d4e(e[Xn])),r},Qh=(e,t)=>{let r={};return e[dt]!=null&&(r[dt]=d.expectString(e[dt])),e[ao]!=null&&(r[ao]=d.expectString(e[ao])),r},pf=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Qh(r)),pVe=(e,t)=>{let r={};return e[oo]!=null&&(r[oo]=tte(e[oo])),e[ec]!=null&&(r[ec]=d.expectString(e[ec])),r},gVe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>pVe(r)),yVe=(e,t)=>{let r={};return e[of]!=null&&(r[of]=aVe(e[of])),e[Qu]!=null&&(r[Qu]=kje(e[Qu])),r},EVe=(e,t)=>{let r={};return e[Pt]!=null&&(r[Pt]=d.strictParseInt32(e[Pt])),e[tl]!=null&&(r[tl]=d.expectString(e[tl])),r},SVe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>EVe(r)),CVe=(e,t)=>{let r={};return e[Ze]!=null&&(r[Ze]=d.expectString(e[Ze])),e[oM]!=null&&(r[Ix]=d.expectString(e[oM])),String(e.Event).trim()===""?r[ol]=[]:e[df]!=null&&(r[ol]=pM(d.getArrayIfSingleItem(e[df]))),e[Qe]!=null&&(r[Qe]=gM(e[Qe])),r},bVe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>CVe(r)),_Ve=(e,t)=>{let r={};return e[yi]!=null&&(r[yi]=d.expectNonNull(d.parseRfc3339DateTimeWithOffset(e[yi]))),e[Pt]!=null&&(r[Pt]=d.strictParseInt32(e[Pt])),e[bt]!=null&&(r[bt]=d.expectString(e[bt])),r},vVe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>_Ve(r)),ne=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),AVe=(e,t)=>d.collectBody(e,t).then(r=>t.utf8Encoder(r)),jr="And",xVe="AnalyticsAndOperator",wL="AnalyticsConfiguration",Zh="ACL",Lu="AccessControlList",RZ="AnalyticsConfigurationList",IVe="AccessControlPolicy",Mu="AccessControlTranslation",TVe="AccelerateConfiguration",dte="AbortDate",wVe="AnalyticsExportDestination",NVe="AnalyticsFilter",NL="AllowedHeader",RL="AllowedHeaders",RVe="AnalyticsId",Uu="AbortIncompleteMultipartUpload",mh="AccountId",W2="AccessKeyId",PL="AllowedMethod",OL="AllowedMethods",DL="AllowedOrigin",kL="AllowedOrigins",PVe="AccessPointAlias",el="AccessPointArn",KA="AllowQuotedRecordDelimiter",yM="AcceptRanges",ute="AbortRuleId",OVe="ArchiveStatus",DVe="AnalyticsS3BucketDestination",kVe="AnalyticsS3ExportFileFormat",hh="ApplyServerSideEncryptionByDefault",tl="AccessTier",ph="Account",Mt="Bucket",wE="BucketArn",gh="BucketAccountId",BVe="BucketAccelerateStatus",Kh="BypassGovernanceRetention",LVe="BucketInfo",qr="BucketKeyEnabled",MVe="BucketLifecycleConfiguration",UVe="BucketLocationConstraint",FVe="BucketLocationName",qVe="BucketLogsPermission",jVe="BucketLoggingStatus",VVe="BucketLocationType",QT="BucketName",yh="BytesProcessed",Eh="BlockPublicAcls",Sh="BlockPublicPolicy",NE="BucketRegion",Ch="BytesReturned",bh="BytesScanned",HVe="BucketType",zVe="BucketVersioningStatus",Qa="Buckets",J2="Credentials",ht="ChecksumAlgorithm",X2="CannedACL",KVe="CreateBucketConfiguration",ep="CacheControl",Rr="ChecksumCRC32",Pr="ChecksumCRC32C",Or="ChecksumCRC64NVME",tp="ContentDisposition",Y2="CreationDate",rp="ContentEncoding",BL="CloudFunction",PZ="CloudFunctionConfiguration",np="ContentLanguage",gd="ContentLength",fte="ChecksumMode",pn="ContentMD5",GVe="CompletedMultipartUpload",$Ve="CORSConfiguration",LL="CORSRule",ML="CORSRules",Zs="CommonPrefixes",WVe="CompletedPart",EM="ContentRange",OZ="ConfirmRemoveSelfBucketAccess",mte="CopySource",Dr="ChecksumSHA1",kr="ChecksumSHA256",hte="CopySourceIfMatch",Gx="CopySourceIfModifiedSince",pte="CopySourceIfNoneMatch",$x="CopySourceIfUnmodifiedSince",JVe="CopySourceRange",gte="CopySourceSSECustomerAlgorithm",yte="CopySourceSSECustomerKey",Ete="CopySourceSSECustomerKeyMD5",_h="CSV",Ste="CopySourceVersionId",XVe="CSVInput",YVe="CSVOutput",rl="ConfigurationState",Br="ChecksumType",QVe="ClientToken",sp="ContentType",ZVe="CompressionType",Ar="ContinuationToken",Q2="Checksum",ud="Contents",Z2="Code",e6e="Comments",Fu="Condition",ei="Delimiter",Nu="DaysAfterInitiation",vh="DataExport",t6e="DestinationIfMatch",DZ="DestinationIfModifiedSince",r6e="DestinationIfNoneMatch",kZ="DestinationIfUnmodifiedSince",ma="DeleteMarker",qu="DeleteMarkerReplication",n6e="DeleteMarkerReplicationStatus",eL="DeleteMarkerVersionId",BZ="DeleteMarkers",ha="DisplayName",s6e="DataRedundancy",ju="DefaultRetention",tL="DestinationResult",Pt="Days",yi="Date",GA="Deleted",i6e="Delete",Xn="Destination",o6e="Description",rc="Expires",QA="EmailAddress",Vu="EventBridgeConfiguration",ye="ExpectedBucketOwner",ZA="ErrorCode",ti="EncryptionConfiguration",Hu="ErrorDocument",UL="ExposeHeaders",FL="ExposeHeader",ex="ErrorMessage",Ru="ExpiredObjectDeleteMarker",zu="ExistingObjectReplication",a6e="ExistingObjectReplicationStatus",c6e="EnableRequestProgress",Cte="ExpiresString",bte="ExpectedSourceBucketOwner",l6e="ExpirationStatus",d6e="ExpirationState",ri="EncodingType",xr="ETag",rL="EncryptionType",Ah="EventThreshold",_te="ExpressionType",Za="Encryption",nL="Enabled",$A="End",pa="Error",LZ="Errors",df="Event",ol="Events",vte="Expression",Bn="Expiration",Qe="Filter",Ate="FieldDelimiter",u6e="FileHeaderInfo",f6e="FetchOwner",qL="FilterRule",m6e="FilterRuleName",h6e="FilterRuleValue",jL="FilterRules",VL="Field",wo="Format",xh="Frequency",al="Grant",ip="GrantFullControl",tx="GlacierJobParameters",op="GrantRead",ap="GrantReadACP",SM="GrantWrite",cp="GrantWriteACP",PE="Grants",oo="Grantee",rx="HttpErrorCodeReturnedEquals",fd="HostName",nx="HttpRedirectCode",Ze="Id",HL="InventoryConfiguration",MZ="InventoryConfigurationList",xte="InventoryConfigurationState",Ku="IndexDocument",mn="ID",p6e="InventoryDestination",Pu="IsEnabled",g6e="InventoryEncryption",y6e="InventoryFilter",E6e="InventoryFormat",S6e="InventoryFrequency",C6e="InventoryId",b6e="InventoryIncludedObjectVersions",Ih="IsLatest",UE="IfMatch",UZ="IfMatchInitiatedTime",FZ="IfMatchLastModifiedTime",qZ="IfMatchSize",Wx="IfModifiedSince",ZT="IfNoneMatch",_6e="InventoryOptionalField",Th="IncludedObjectVersions",sL="IsPublic",wh="IgnorePublicAcls",iL="IsRestoreInProgress",Gu="InputSerialization",v6e="InventoryS3BucketDestination",A6e="InventorySchedule",fr="IsTruncated",x6e="IntelligentTieringAndOperator",I6e="IntelligentTieringAccessTier",zL="IntelligentTieringConfiguration",jZ="IntelligentTieringConfigurationList",oL="InventoryTableConfigurationResult",T6e="InventoryTableConfigurationUpdates",sx="InventoryTableConfiguration",w6e="IntelligentTieringDays",N6e="IntelligentTieringFilter",R6e="IntelligentTieringId",P6e="IntelligentTieringStatus",Jx="IfUnmodifiedSince",Nh="Initiator",aL="Initiated",Rh="JSON",O6e="JSONInput",D6e="JSONOutput",k6e="JSONType",ix="JournalTableConfiguration",cL="JournalTableConfigurationResult",B6e="JournalTableConfigurationUpdates",dt="Key",lL="KeyCount",Ph="KeyId",L6e="KmsKeyArn",md="KeyMarker",M6e="KMSContext",dL="KMSKeyId",Oh="KMSMasterKeyID",ox="KeyPrefixEquals",$u="Location",Dh="LocationConstraint",Wu="LoggingEnabled",U6e="LifecycleExpiration",ax="LambdaFunctionArn",KL="LambdaFunctionConfigurations",F6e="LambdaFunctionConfiguration",q6e="LocationInfo",hn="LastModified",WA="LastModifiedTime",j6e="LocationNameAsString",V6e="LocationPrefix",H6e="LifecycleRule",z6e="LifecycleRuleAndOperator",K6e="LifecycleRuleFilter",G6e="LocationType",cx="Marker",$6e="MetricsAndOperator",Ou="MaxAgeSeconds",W6e="MaxBuckets",GL="MetricsConfiguration",VZ="MetricsConfigurationList",uL="MetadataConfigurationResult",J6e="MetadataConfiguration",X6e="MetadataDirective",Y6e="MaxDirectoryBuckets",$L="MfaDelete",Ite="MetadataEntry",Q6e="MetricsFilter",CM="MFA",lx="MFADelete",Z6e="MetricsId",No="MaxKeys",eHe="MetadataKey",Xx="MissingMeta",HZ="MpuObjectSize",nl="MaxParts",tHe="MetricsStatus",rHe="MetadataTableConfiguration",fL="MetadataTableConfigurationResult",nHe="MetadataTableEncryptionConfiguration",dx="MaxUploads",sHe="MetadataValue",Ju="Metrics",mL="Message",Du="Minutes",Ro="Mode",sn="Name",iHe="NotificationConfiguration",oHe="NotificationConfigurationFilter",Ei="NextContinuationToken",Po="NoncurrentDays",bM="NotificationId",kh="NextKeyMarker",hL="NextMarker",Oo="NewerNoncurrentVersions",Bh="NextPartNumberMarker",pL="NextUploadIdMarker",Xu="NoncurrentVersionExpiration",gL="NextVersionIdMarker",WL="NoncurrentVersionTransitions",JL="NoncurrentVersionTransition",Jt="Owner",zZ="ObjectAttributes",aHe="OwnershipControls",cHe="ObjectCannedACL",lHe="OwnershipControlsRule",dh="OptionalFields",dHe="ObjectIdentifier",_M="ObjectKey",ux="OutputLocation",uHe="ObjectLockConfiguration",fx="ObjectLockEnabled",KZ="ObjectLockEnabledForBucket",fHe="ObjectLockLegalHold",gf="ObjectLockLegalHoldStatus",lp="ObjectLockMode",mHe="ObjectLockRetention",Tte="ObjectLockRetentionMode",nc="ObjectLockRetainUntilDate",hHe="ObjectLockRule",RE="ObjectOwnership",Gh="OptionalObjectAttributes",pHe="OwnerOverride",yL="ObjectParts",Yu="OutputSerialization",Do="ObjectSizeGreaterThan",wte="ObjectSizeGreaterThanBytes",ko="ObjectSizeLessThan",Nte="ObjectSizeLessThanBytes",Lh="OutputSchemaVersion",EL="ObjectSize",gHe="ObjectVersionId",yHe="Objects",_e="Prefix",EHe="PublicAccessBlockConfiguration",$h="PartsCount",mx="PartitionDateSource",SHe="ParquetInput",Li="PartNumber",hd="PartNumberMarker",Qu="PartitionedPrefix",hx="Payer",Yx="Part",SL="Parquet",OE="Parts",ec="Permission",pd="Protocol",ku="Priority",JA="Quiet",px="QueueArn",XL="QueueConfiguration",YL="QueueConfigurations",Rte="QuoteCharacter",Pte="QuoteEscapeCharacter",CHe="QuoteFields",QL="Queue",Ote="Range",Zu="RedirectAllRequestsTo",Vr="RequestCharged",Dte="ResponseCacheControl",kte="ResponseContentDisposition",Bte="ResponseContentEncoding",Lte="ResponseContentLanguage",Mte="ResponseContentType",bHe="ReplicationConfiguration",vM="RecordDelimiter",Ute="ResponseExpires",_He="RecordExpirationDays",CL="RestoreExpiryDate",tc="RecordExpiration",gx="ReplicaKmsKeyID",yx="ReplaceKeyPrefixWith",Ex="ReplaceKeyWith",ef="ReplicaModifications",vHe="ReplicaModificationsStatus",AHe="RestoreOutputPath",Sr="RequestPayer",Mh="RestrictPublicBuckets",xHe="RequestPaymentConfiguration",Sx="RequestProgress",IHe="RequestRoute",THe="ReplicationRuleAndOperator",wHe="ReplicationRuleFilter",NHe="ReplicationRuleStatus",RHe="RestoreRequestType",PHe="ReplicationRule",OHe="RestoreRequest",uh="RoutingRules",Qx="RoutingRule",DHe="RenameSource",AM="ReplicationStatus",Uh="RestoreStatus",kHe="RequestToken",BHe="ReplicationTimeStatus",LHe="ReplicationTimeValue",tf="ReplicationTime",Fh="RetainUntilDate",xM="Restore",rf="Redirect",Cx="Role",Mi="Rule",Mo="Rules",Ne="Status",bx="StartAfter",bL="SecretAccessKey",_L="SseAlgorithm",Bo="S3BucketDestination",bt="StorageClass",nf="StorageClassAnalysis",MHe="StorageClassAnalysisDataExport",UHe="StorageClassAnalysisSchemaVersion",GZ="StatusCode",$Z="SkipDestinationValidation",FHe="SourceIfMatch",WZ="SourceIfModifiedSince",qHe="SourceIfNoneMatch",JZ="SourceIfUnmodifiedSince",Zx="SSE-KMS",sf="SseKmsEncryptedObjects",jHe="SseKmsEncryptedObjectsStatus",VHe="S3KeyFilter",ZL="S3Key",HHe="S3Location",zHe="SessionMode",KHe="SelectObjectContentRequest",_x="SelectParameters",of="SimplePrefix",vx="ScanRange",eI="SSE-S3",af="SourceSelectionCriteria",si="ServerSideEncryption",qh="SSEAlgorithm",GHe="ServerSideEncryptionByDefault",$He="ServerSideEncryptionConfiguration",Yn="SSECustomerAlgorithm",ya="SSECustomerKey",Qn="SSECustomerKeyMD5",eM="SSEKMS",Cd="SSEKMSEncryptionContext",Ms="SSEKMSKeyId",WHe="ServerSideEncryptionRule",tM="SSES3",vL="SessionToken",JHe="S3TablesBucketArn",Ax="S3TablesDestination",AL="S3TablesDestinationResult",XHe="S3TablesName",xL="S3",jh="Schedule",XA="Setting",Ls="Size",YA="Start",xx="Suffix",cf="Tagging",Ix="TopicArn",sl="TableArn",Tx="TargetBucket",il="TableBucketArn",IL="TableBucketType",tI="TagCount",rM="TopicConfiguration",nM="TopicConfigurations",YHe="TaggingDirective",IM="TransitionDefaultMinimumObjectSize",fh="TargetGrants",QHe="TargetGrant",Lo="TableName",Vh="TableNamespace",lf="TargetObjectKeyFormat",wx="TargetPrefix",ZHe="TotalPartsCount",fa="TagSet",e5e="TableSseAlgorithm",Fte="TransitionStorageClass",Hh="TableStatus",St="Tag",ni="Tags",qte="Tier",sM="Tierings",iM="Tiering",zh="Time",jte="Token",oM="Topic",aM="Transitions",cM="Transition",Ui="Type",XZ="Upload",Fi="UploadId",Nx="UploadIdMarker",t5e="UserMetadata",Rx="URI",YZ="Uploads",QZ="Version",Vte="VersionCount",r5e="VersioningConfiguration",xt="VersionId",Px="VersionIdMarker",ao="Value",ZZ="Versions",n5e="WebsiteConfiguration",eee="WriteOffsetBytes",FE="WebsiteRedirectLocation",Bu="Years",ew="analytics",Hte="accelerate",tw="acl",zte="accept-ranges",s5e="attributes",i5e="bucket-region",TM="cors",qE="cache-control",jE="content-disposition",VE="content-encoding",HE="content-language",uf="content-length",gn="content-md5",Kte="content-range",zE="content-type",yf="continuation-token",o5e="delete",rw="delimiter",ff="expires",wM="encryption",nw="encoding-type",sw="etag",Gte="expiresstring",a5e="fetch-owner",Uo="id",dp="if-match",NM="if-modified-since",iw="inventory",KE="if-none-match",ow="intelligent-tiering",RM="if-unmodified-since",$te="key-marker",PM="lifecycle",Wte="legal-hold",Wh="last-modified",Jte="location",Xte="logging",c5e="list-type",aw="metrics",OM="metadataConfiguration",l5e="metadataInventoryTable",d5e="metadataJournalTable",DM="metadataTable",u5e="marker",f5e="max-buckets",m5e="max-directory-buckets",Zn="member",kM="max-keys",h5e="max-parts",p5e="max-uploads",Yte="notification",BM="ownershipControls",Qte="object-lock",LM="policy",MM="publicAccessBlock",cw="partNumber",g5e="policyStatus",y5e="part-number-marker",GE="prefix",UM="replication",E5e="renameObject",Zte="requestPayment",ere="range",tre="response-cache-control",rre="response-content-disposition",nre="response-content-encoding",sre="response-content-language",ire="response-content-type",ore="response-expires",S5e="restore",are="retention",C5e="session",b5e="start-after",_5e="select",v5e="select-type",up="tagging",A5e="torrent",cre="uploads",$E="uploadId",x5e="upload-id-marker",lre="versioning",qi="versionId",cr='<?xml version="1.0" encoding="UTF-8"?>',I5e="versions",T5e="version-id-marker",FM="website",tee="xsi:type",fp="x-amz-acl",rI="x-amz-abort-date",ree="x-amz-access-point-alias",dre="x-amz-abort-rule-id",w5e="x-amz-archive-status",ure="x-amz-bucket-arn",qM="x-amz-bypass-governance-retention",N5e="x-amz-bucket-location-name",R5e="x-amz-bucket-location-type",P5e="x-amz-bucket-object-lock-enabled",fre="x-amz-bucket-object-lock-token",O5e="x-amz-bucket-region",jM="x-amz-checksum-algorithm",Ef="x-amz-checksum-crc32",Sf="x-amz-checksum-crc32c",Cf="x-amz-checksum-crc64nvme",mre="x-amz-checksum-mode",D5e="x-amz-confirm-remove-self-bucket-access",bf="x-amz-checksum-sha1",_f="x-amz-checksum-sha256",hre="x-amz-copy-source",pre="x-amz-copy-source-if-match",gre="x-amz-copy-source-if-modified-since",yre="x-amz-copy-source-if-none-match",Ere="x-amz-copy-source-if-unmodified-since",k5e="x-amz-create-session-mode",B5e="x-amz-copy-source-range",Sre="x-amz-copy-source-server-side-encryption-customer-algorithm",Cre="x-amz-copy-source-server-side-encryption-customer-key",bre="x-amz-copy-source-server-side-encryption-customer-key-md5",_re="x-amz-copy-source-version-id",mp="x-amz-checksum-type",L5e="x-amz-client-token",yd="x-amz-delete-marker",WE="x-amz-expiration",Ee="x-amz-expected-bucket-owner",M5e="x-amz-fwd-error-code",U5e="x-amz-fwd-error-message",F5e="x-amz-fwd-header-accept-ranges",q5e="x-amz-fwd-header-cache-control",j5e="x-amz-fwd-header-content-disposition",V5e="x-amz-fwd-header-content-encoding",H5e="x-amz-fwd-header-content-language",z5e="x-amz-fwd-header-content-range",K5e="x-amz-fwd-header-content-type",G5e="x-amz-fwd-header-etag",$5e="x-amz-fwd-header-expires",W5e="x-amz-fwd-header-last-modified",J5e="x-amz-fwd-header-x-amz-checksum-crc32",X5e="x-amz-fwd-header-x-amz-checksum-crc32c",Y5e="x-amz-fwd-header-x-amz-checksum-crc64nvme",Q5e="x-amz-fwd-header-x-amz-checksum-sha1",Z5e="x-amz-fwd-header-x-amz-checksum-sha256",e8e="x-amz-fwd-header-x-amz-delete-marker",t8e="x-amz-fwd-header-x-amz-expiration",r8e="x-amz-fwd-header-x-amz-missing-meta",n8e="x-amz-fwd-header-x-amz-mp-parts-count",s8e="x-amz-fwd-header-x-amz-object-lock-legal-hold",i8e="x-amz-fwd-header-x-amz-object-lock-mode",o8e="x-amz-fwd-header-x-amz-object-lock-retain-until-date",a8e="x-amz-fwd-header-x-amz-restore",c8e="x-amz-fwd-header-x-amz-request-charged",l8e="x-amz-fwd-header-x-amz-replication-status",d8e="x-amz-fwd-header-x-amz-storage-class",u8e="x-amz-fwd-header-x-amz-server-side-encryption",f8e="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",m8e="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",h8e="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",p8e="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",g8e="x-amz-fwd-header-x-amz-tagging-count",y8e="x-amz-fwd-header-x-amz-version-id",E8e="x-amz-fwd-status",hp="x-amz-grant-full-control",pp="x-amz-grant-read",gp="x-amz-grant-read-acp",VM="x-amz-grant-write",yp="x-amz-grant-write-acp",S8e="x-amz-if-match-initiated-time",C8e="x-amz-if-match-last-modified-time",b8e="x-amz-if-match-size",HM="x-amz-mfa",_8e="x-amz-metadata-directive",nI="x-amz-missing-meta",v8e="x-amz-mp-object-size",A8e="x-amz-max-parts",sI="x-amz-mp-parts-count",x8e="x-amz-object-attributes",JE="x-amz-object-lock-legal-hold",XE="x-amz-object-lock-mode",mf="x-amz-object-lock-retain-until-date",I8e="x-amz-object-ownership",zM="x-amz-optional-object-attributes",nee="x-amz-object-size",T8e="x-amz-part-number-marker",vre="x-amz-restore",Yr="x-amz-request-charged",w8e="x-amz-restore-output-path",Cr="x-amz-request-payer",N8e="x-amz-request-route",R8e="x-amz-rename-source",Are="x-amz-replication-status",P8e="x-amz-rename-source-if-match",O8e="x-amz-rename-source-if-modified-since",D8e="x-amz-rename-source-if-none-match",k8e="x-amz-rename-source-if-unmodified-since",B8e="x-amz-request-token",YE="x-amz-storage-class",Lr="x-amz-sdk-checksum-algorithm",L8e="x-amz-skip-destination-validation",xre="x-amz-source-expected-bucket-owner",co="x-amz-server-side-encryption",lo="x-amz-server-side-encryption-aws-kms-key-id",An="x-amz-server-side-encryption-bucket-key-enabled",bd="x-amz-server-side-encryption-context",Es="x-amz-server-side-encryption-customer-algorithm",Ea="x-amz-server-side-encryption-customer-key",Ss="x-amz-server-side-encryption-customer-key-md5",KM="x-amz-tagging",iI="x-amz-tagging-count",M8e="x-amz-tagging-directive",GM="x-amz-transition-default-minimum-object-size",sc="x-amz-version-id",U8e="x-amz-write-offset-bytes",QE="x-amz-website-redirect-location",Cs="x-id",DE=class extends d.Command.classBuilder().ep({...fe,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(fee,uee).ser(I2e).de(_Me).build(){},F8e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},q8e=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),j8e=(e,t)=>{let r=Object.assign(NZ.getAwsRegionExtensionConfiguration(e),d.getDefaultExtensionConfiguration(e),TL.getHttpHandlerExtensionConfiguration(e),F8e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,NZ.resolveAwsRegionExtensionConfiguration(r),d.resolveDefaultRuntimeConfig(r),TL.resolveHttpHandlerRuntimeConfig(r),q8e(r))},Ed=class extends d.Client{config;constructor(...[t]){let r=Zke.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=tBe(r),s=IZ.resolveUserAgentConfig(n),i=Er.resolveFlexibleChecksumsConfig(s),o=TZ.resolveRetryConfig(i),a=Jke.resolveRegionConfig(o),c=xZ.resolveHostHeaderConfig(a),l=de.resolveEndpointConfig(c),u=Xke.resolveEventStreamSerdeConfig(l),m=wZ.resolveHttpAuthSchemeConfig(u),h=Be.resolveS3Config(m,{session:[()=>this,DE]}),p=j8e(h,t?.extensions||[]);this.config=p,this.middlewareStack.use(IZ.getUserAgentPlugin(this.config)),this.middlewareStack.use(TZ.getRetryPlugin(this.config)),this.middlewareStack.use(Yke.getContentLengthPlugin(this.config)),this.middlewareStack.use(xZ.getHostHeaderPlugin(this.config)),this.middlewareStack.use($ke.getLoggerPlugin(this.config)),this.middlewareStack.use(Wke.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(se.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:wZ.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new se.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials,"aws.auth#sigv4a":g.credentials})})),this.middlewareStack.use(se.getHttpSigningPlugin(this.config)),this.middlewareStack.use(Be.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(Gke.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(Be.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(Be.getS3ExpressPlugin(this.config)),this.middlewareStack.use(Be.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},oI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(S2e).de(pMe).build(){},aI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(iee,see).ser(C2e).de(gMe).build(){},cI=class extends d.Command.classBuilder().ep({...fe,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(aee,oee).ser(b2e).de(yMe).build(){},lI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),eBe.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(_2e).de(EMe).build(){},dI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(v2e).de(SMe).build(){},uI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(A2e).de(CMe).build(){},fI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(lee,cee).ser(x2e).de(bMe).build(){},mI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(w2e).de(AMe).build(){},hI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(T2e).de(vMe).build(){},pI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(N2e).de(xMe).build(){},gI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(R2e).de(IMe).build(){},yI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(P2e).de(TMe).build(){},EI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(O2e).de(wMe).build(){},SI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(D2e).de(NMe).build(){},CI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(k2e).de(RMe).build(){},bI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(B2e).de(PMe).build(){},_I=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(L2e).de(OMe).build(){},vI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(M2e).de(DMe).build(){},AI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(U2e).de(kMe).build(){},xI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(F2e).de(BMe).build(){},II=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(q2e).de(LMe).build(){},TI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(j2e).de(MMe).build(){},wI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(V2e).de(UMe).build(){},NI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(H2e).de(FMe).build(){},RI=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(z2e).de(qMe).build(){},PI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(K2e).de(jMe).build(){},OI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(G2e).de(VMe).build(){},DI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser($2e).de(HMe).build(){},kI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(W2e).de(zMe).build(){},BI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(J2e).de(KMe).build(){},LI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,pee).ser(X2e).de(GMe).build(){},MI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(Y2e).de($Me).build(){},UI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,Cee).ser(Q2e).de(WMe).build(){},FI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Z2e).de(JMe).build(){},qI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(eLe).de(XMe).build(){},jI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(tLe).de(YMe).build(){},VI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(rLe).de(QMe).build(){},HI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(nLe).de(ZMe).build(){},zI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(sLe).de(eUe).build(){},KI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(iLe).de(tUe).build(){},GI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(oLe).de(rUe).build(){},$I=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(aLe).de(nUe).build(){},WI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(cLe).de(sUe).build(){},JI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(lLe).de(iUe).build(){},XI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(dLe).de(oUe).build(){},YI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(uLe).de(aUe).build(){},QI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(fLe).de(cUe).build(){},ZI=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(mLe).de(lUe).build(){},eT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(pLe).de(uUe).build(){},tT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(vee,void 0).ser(gLe).de(fUe).build(){},rT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),ga.getSsecPlugin(n),Be.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(_ee,bee).ser(hLe).de(dUe).build(){},nT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(yLe).de(mUe).build(){},sT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(ELe).de(hUe).build(){},iT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(SLe).de(pUe).build(){},oT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(CLe).de(gUe).build(){},aT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,Aee).ser(bLe).de(yUe).build(){},cT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(_Le).de(EUe).build(){},Jh=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(vLe).de(SUe).build(){},Xh=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n),Be.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(Iee,xee).ser(ALe).de(CUe).build(){},lT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(xLe).de(bUe).build(){},dT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(ILe).de(_Ue).build(){},uT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,Tee).ser(TLe).de(vUe).build(){},fT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(wLe).de(AUe).build(){},kE=class extends d.Command.classBuilder().ep(fe).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(NLe).de(xUe).build(){},BE=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(RLe).de(IUe).build(){},mT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(PLe).de(TUe).build(){},hT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(OLe).de(wUe).build(){},LE=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(DLe).de(NUe).build(){},pT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(kLe).de(RUe).build(){},ME=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(wee,void 0).ser(BLe).de(PUe).build(){},gT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(LLe).de(OUe).build(){},yT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(MLe).de(DUe).build(){},ET=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(ULe).de(kUe).build(){},ST=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(FLe).de(BUe).build(){},CT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(Nee,void 0).ser(qLe).de(LUe).build(){},bT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(jLe).de(MUe).build(){},_T=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(Ree,void 0).ser(VLe).de(UUe).build(){},vT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(HLe).de(FUe).build(){},AT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(zLe).de(qUe).build(){},xT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(KLe).de(jUe).build(){},IT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(GLe).de(VUe).build(){},TT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser($Le).de(HUe).build(){},wT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(WLe).de(zUe).build(){},NT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(JLe).de(KUe).build(){},RT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(XLe).de(GUe).build(){},PT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(YLe).de($Ue).build(){},OT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(QLe).de(WUe).build(){},DT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(ZLe).de(JUe).build(){},kT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(tMe).de(YUe).build(){},BT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Be.getCheckContentLengthHeaderPlugin(n),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Oee,Pee).ser(eMe).de(XUe).build(){},LT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(rMe).de(QUe).build(){},MT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(nMe).de(ZUe).build(){},UT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(sMe).de(eFe).build(){},FT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(iMe).de(tFe).build(){},qT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(oMe).de(rFe).build(){},jT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(aMe).de(nFe).build(){},VT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Be.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(Mee,void 0).ser(cMe).de(sFe).build(){},HT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(Fee,Uee).ser(lMe).de(iFe).build(){},zT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(dMe).de(oFe).build(){},KT=class extends d.Command.classBuilder().ep({...fe,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(uMe).de(aFe).build(){},GT=class extends d.Command.classBuilder().ep({...fe,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Er.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(jee,qee).ser(fMe).de(cFe).build(){},$T=class extends d.Command.classBuilder().ep({...fe,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions()),Be.getThrow200ExceptionsPlugin(n),ga.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(Hee,Vee).ser(mMe).de(lFe).build(){},WT=class extends d.Command.classBuilder().ep({...fe,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,s){return[ue.getSerdePlugin(n,this.serialize,this.deserialize),de.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(zee,void 0).ser(hMe).de(dFe).build(){},V8e={AbortMultipartUploadCommand:oI,CompleteMultipartUploadCommand:aI,CopyObjectCommand:cI,CreateBucketCommand:lI,CreateBucketMetadataConfigurationCommand:dI,CreateBucketMetadataTableConfigurationCommand:uI,CreateMultipartUploadCommand:fI,CreateSessionCommand:DE,DeleteBucketCommand:hI,DeleteBucketAnalyticsConfigurationCommand:mI,DeleteBucketCorsCommand:pI,DeleteBucketEncryptionCommand:gI,DeleteBucketIntelligentTieringConfigurationCommand:yI,DeleteBucketInventoryConfigurationCommand:EI,DeleteBucketLifecycleCommand:SI,DeleteBucketMetadataConfigurationCommand:CI,DeleteBucketMetadataTableConfigurationCommand:bI,DeleteBucketMetricsConfigurationCommand:_I,DeleteBucketOwnershipControlsCommand:vI,DeleteBucketPolicyCommand:AI,DeleteBucketReplicationCommand:xI,DeleteBucketTaggingCommand:II,DeleteBucketWebsiteCommand:TI,DeleteObjectCommand:wI,DeleteObjectsCommand:NI,DeleteObjectTaggingCommand:RI,DeletePublicAccessBlockCommand:PI,GetBucketAccelerateConfigurationCommand:OI,GetBucketAclCommand:DI,GetBucketAnalyticsConfigurationCommand:kI,GetBucketCorsCommand:BI,GetBucketEncryptionCommand:LI,GetBucketIntelligentTieringConfigurationCommand:MI,GetBucketInventoryConfigurationCommand:UI,GetBucketLifecycleConfigurationCommand:FI,GetBucketLocationCommand:qI,GetBucketLoggingCommand:jI,GetBucketMetadataConfigurationCommand:VI,GetBucketMetadataTableConfigurationCommand:HI,GetBucketMetricsConfigurationCommand:zI,GetBucketNotificationConfigurationCommand:KI,GetBucketOwnershipControlsCommand:GI,GetBucketPolicyCommand:$I,GetBucketPolicyStatusCommand:WI,GetBucketReplicationCommand:JI,GetBucketRequestPaymentCommand:XI,GetBucketTaggingCommand:YI,GetBucketVersioningCommand:QI,GetBucketWebsiteCommand:ZI,GetObjectCommand:rT,GetObjectAclCommand:eT,GetObjectAttributesCommand:tT,GetObjectLegalHoldCommand:nT,GetObjectLockConfigurationCommand:sT,GetObjectRetentionCommand:iT,GetObjectTaggingCommand:oT,GetObjectTorrentCommand:aT,GetPublicAccessBlockCommand:cT,HeadBucketCommand:Jh,HeadObjectCommand:Xh,ListBucketAnalyticsConfigurationsCommand:lT,ListBucketIntelligentTieringConfigurationsCommand:dT,ListBucketInventoryConfigurationsCommand:uT,ListBucketMetricsConfigurationsCommand:fT,ListBucketsCommand:kE,ListDirectoryBucketsCommand:BE,ListMultipartUploadsCommand:mT,ListObjectsCommand:hT,ListObjectsV2Command:LE,ListObjectVersionsCommand:pT,ListPartsCommand:ME,PutBucketAccelerateConfigurationCommand:gT,PutBucketAclCommand:yT,PutBucketAnalyticsConfigurationCommand:ET,PutBucketCorsCommand:ST,PutBucketEncryptionCommand:CT,PutBucketIntelligentTieringConfigurationCommand:bT,PutBucketInventoryConfigurationCommand:_T,PutBucketLifecycleConfigurationCommand:vT,PutBucketLoggingCommand:AT,PutBucketMetricsConfigurationCommand:xT,PutBucketNotificationConfigurationCommand:IT,PutBucketOwnershipControlsCommand:TT,PutBucketPolicyCommand:wT,PutBucketReplicationCommand:NT,PutBucketRequestPaymentCommand:RT,PutBucketTaggingCommand:PT,PutBucketVersioningCommand:OT,PutBucketWebsiteCommand:DT,PutObjectCommand:BT,PutObjectAclCommand:kT,PutObjectLegalHoldCommand:LT,PutObjectLockConfigurationCommand:MT,PutObjectRetentionCommand:UT,PutObjectTaggingCommand:FT,PutPublicAccessBlockCommand:qT,RenameObjectCommand:jT,RestoreObjectCommand:VT,SelectObjectContentCommand:HT,UpdateBucketMetadataInventoryTableConfigurationCommand:zT,UpdateBucketMetadataJournalTableConfigurationCommand:KT,UploadPartCommand:GT,UploadPartCopyCommand:$T,WriteGetObjectResponseCommand:WT},JT=class extends Ed{};d.createAggregatedClient(V8e,JT);var H8e=se.createPaginator(Ed,kE,"ContinuationToken","ContinuationToken","MaxBuckets"),z8e=se.createPaginator(Ed,BE,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),K8e=se.createPaginator(Ed,LE,"ContinuationToken","NextContinuationToken","MaxKeys"),G8e=se.createPaginator(Ed,ME,"PartNumberMarker","NextPartNumberMarker","MaxParts"),Ire=async(e,t)=>{let r;try{return r=await e.send(new Jh(t)),{state:vn.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:vn.WaiterState.RETRY,reason:r}}return{state:vn.WaiterState.RETRY,reason:r}},$8e=async(e,t)=>{let r={minDelay:5,maxDelay:120};return vn.createWaiter({...r,...e},t,Ire)},W8e=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await vn.createWaiter({...r,...e},t,Ire);return vn.checkExceptions(n)},Tre=async(e,t)=>{let r;try{r=await e.send(new Jh(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:vn.WaiterState.SUCCESS,reason:r}}return{state:vn.WaiterState.RETRY,reason:r}},J8e=async(e,t)=>{let r={minDelay:5,maxDelay:120};return vn.createWaiter({...r,...e},t,Tre)},X8e=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await vn.createWaiter({...r,...e},t,Tre);return vn.checkExceptions(n)},wre=async(e,t)=>{let r;try{return r=await e.send(new Xh(t)),{state:vn.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:vn.WaiterState.RETRY,reason:r}}return{state:vn.WaiterState.RETRY,reason:r}},Y8e=async(e,t)=>{let r={minDelay:5,maxDelay:120};return vn.createWaiter({...r,...e},t,wre)},Q8e=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await vn.createWaiter({...r,...e},t,wre);return vn.checkExceptions(n)},Nre=async(e,t)=>{let r;try{r=await e.send(new Xh(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:vn.WaiterState.SUCCESS,reason:r}}return{state:vn.WaiterState.RETRY,reason:r}},Z8e=async(e,t)=>{let r={minDelay:5,maxDelay:120};return vn.createWaiter({...r,...e},t,Nre)},eze=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await vn.createWaiter({...r,...e},t,Nre);return vn.checkExceptions(n)};Object.defineProperty(T,"$Command",{enumerable:!0,get:function(){return d.Command}});Object.defineProperty(T,"__Client",{enumerable:!0,get:function(){return d.Client}});T.AbortMultipartUploadCommand=oI;T.AnalyticsS3ExportFileFormat=TBe;T.ArchiveStatus=i2e;T.BucketAccelerateStatus=sBe;T.BucketAlreadyExists=kx;T.BucketAlreadyOwnedByYou=Bx;T.BucketCannedACL=yBe;T.BucketLocationConstraint=bBe;T.BucketLogsPermission=UBe;T.BucketType=SBe;T.BucketVersioningStatus=QBe;T.ChecksumAlgorithm=uBe;T.ChecksumMode=t2e;T.ChecksumType=cBe;T.CompleteMultipartUploadCommand=aI;T.CompleteMultipartUploadOutputFilterSensitiveLog=see;T.CompleteMultipartUploadRequestFilterSensitiveLog=iee;T.CompressionType=m2e;T.CopyObjectCommand=cI;T.CopyObjectOutputFilterSensitiveLog=oee;T.CopyObjectRequestFilterSensitiveLog=aee;T.CreateBucketCommand=lI;T.CreateBucketMetadataConfigurationCommand=dI;T.CreateBucketMetadataTableConfigurationCommand=uI;T.CreateMultipartUploadCommand=fI;T.CreateMultipartUploadOutputFilterSensitiveLog=cee;T.CreateMultipartUploadRequestFilterSensitiveLog=lee;T.CreateSessionCommand=DE;T.CreateSessionOutputFilterSensitiveLog=uee;T.CreateSessionRequestFilterSensitiveLog=fee;T.DataRedundancy=EBe;T.DeleteBucketAnalyticsConfigurationCommand=mI;T.DeleteBucketCommand=hI;T.DeleteBucketCorsCommand=pI;T.DeleteBucketEncryptionCommand=gI;T.DeleteBucketIntelligentTieringConfigurationCommand=yI;T.DeleteBucketInventoryConfigurationCommand=EI;T.DeleteBucketLifecycleCommand=SI;T.DeleteBucketMetadataConfigurationCommand=CI;T.DeleteBucketMetadataTableConfigurationCommand=bI;T.DeleteBucketMetricsConfigurationCommand=_I;T.DeleteBucketOwnershipControlsCommand=vI;T.DeleteBucketPolicyCommand=AI;T.DeleteBucketReplicationCommand=xI;T.DeleteBucketTaggingCommand=II;T.DeleteBucketWebsiteCommand=TI;T.DeleteMarkerReplicationStatus=HBe;T.DeleteObjectCommand=wI;T.DeleteObjectTaggingCommand=RI;T.DeleteObjectsCommand=NI;T.DeletePublicAccessBlockCommand=PI;T.EncodingType=o2e;T.EncryptionFilterSensitiveLog=Dee;T.EncryptionTypeMismatch=qx;T.Event=jBe;T.ExistingObjectReplicationStatus=GBe;T.ExpirationState=xBe;T.ExpirationStatus=LBe;T.ExpressionType=f2e;T.FileHeaderInfo=h2e;T.FilterRuleName=VBe;T.GetBucketAccelerateConfigurationCommand=OI;T.GetBucketAclCommand=DI;T.GetBucketAnalyticsConfigurationCommand=kI;T.GetBucketCorsCommand=BI;T.GetBucketEncryptionCommand=LI;T.GetBucketEncryptionOutputFilterSensitiveLog=pee;T.GetBucketIntelligentTieringConfigurationCommand=MI;T.GetBucketInventoryConfigurationCommand=UI;T.GetBucketInventoryConfigurationOutputFilterSensitiveLog=Cee;T.GetBucketLifecycleConfigurationCommand=FI;T.GetBucketLocationCommand=qI;T.GetBucketLoggingCommand=jI;T.GetBucketMetadataConfigurationCommand=VI;T.GetBucketMetadataTableConfigurationCommand=HI;T.GetBucketMetricsConfigurationCommand=zI;T.GetBucketNotificationConfigurationCommand=KI;T.GetBucketOwnershipControlsCommand=GI;T.GetBucketPolicyCommand=$I;T.GetBucketPolicyStatusCommand=WI;T.GetBucketReplicationCommand=JI;T.GetBucketRequestPaymentCommand=XI;T.GetBucketTaggingCommand=YI;T.GetBucketVersioningCommand=QI;T.GetBucketWebsiteCommand=ZI;T.GetObjectAclCommand=eT;T.GetObjectAttributesCommand=tT;T.GetObjectAttributesRequestFilterSensitiveLog=vee;T.GetObjectCommand=rT;T.GetObjectLegalHoldCommand=nT;T.GetObjectLockConfigurationCommand=sT;T.GetObjectOutputFilterSensitiveLog=bee;T.GetObjectRequestFilterSensitiveLog=_ee;T.GetObjectRetentionCommand=iT;T.GetObjectTaggingCommand=oT;T.GetObjectTorrentCommand=aT;T.GetObjectTorrentOutputFilterSensitiveLog=Aee;T.GetPublicAccessBlockCommand=cT;T.HeadBucketCommand=Jh;T.HeadObjectCommand=Xh;T.HeadObjectOutputFilterSensitiveLog=xee;T.HeadObjectRequestFilterSensitiveLog=Iee;T.IdempotencyParameterMismatch=zx;T.IntelligentTieringAccessTier=RBe;T.IntelligentTieringStatus=NBe;T.InvalidObjectState=Mx;T.InvalidRequest=jx;T.InvalidWriteOffset=Vx;T.InventoryConfigurationFilterSensitiveLog=XT;T.InventoryConfigurationState=vBe;T.InventoryDestinationFilterSensitiveLog=See;T.InventoryEncryptionFilterSensitiveLog=yee;T.InventoryFormat=PBe;T.InventoryFrequency=kBe;T.InventoryIncludedObjectVersions=OBe;T.InventoryOptionalField=DBe;T.InventoryS3BucketDestinationFilterSensitiveLog=Eee;T.JSONType=p2e;T.ListBucketAnalyticsConfigurationsCommand=lT;T.ListBucketIntelligentTieringConfigurationsCommand=dT;T.ListBucketInventoryConfigurationsCommand=uT;T.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=Tee;T.ListBucketMetricsConfigurationsCommand=fT;T.ListBucketsCommand=kE;T.ListDirectoryBucketsCommand=BE;T.ListMultipartUploadsCommand=mT;T.ListObjectVersionsCommand=pT;T.ListObjectsCommand=hT;T.ListObjectsV2Command=LE;T.ListPartsCommand=ME;T.ListPartsRequestFilterSensitiveLog=wee;T.LocationType=CBe;T.MFADelete=d2e;T.MFADeleteStatus=YBe;T.MetadataDirective=fBe;T.MetricsStatus=zBe;T.NoSuchBucket=Lx;T.NoSuchKey=Ux;T.NoSuchUpload=Ox;T.NotFound=Fx;T.ObjectAlreadyInActiveTierError=Kx;T.ObjectAttributes=r2e;T.ObjectCannedACL=dBe;T.ObjectLockEnabled=n2e;T.ObjectLockLegalHoldStatus=mBe;T.ObjectLockMode=hBe;T.ObjectLockRetentionMode=s2e;T.ObjectNotInActiveTierError=Dx;T.ObjectOwnership=_Be;T.ObjectStorageClass=a2e;T.ObjectVersionStorageClass=l2e;T.OptionalObjectAttributes=c2e;T.OutputLocationFilterSensitiveLog=Bee;T.OwnerOverride=aBe;T.PartitionDateSource=FBe;T.Payer=XBe;T.Permission=oBe;T.Protocol=ZBe;T.PutBucketAccelerateConfigurationCommand=gT;T.PutBucketAclCommand=yT;T.PutBucketAnalyticsConfigurationCommand=ET;T.PutBucketCorsCommand=ST;T.PutBucketEncryptionCommand=CT;T.PutBucketEncryptionRequestFilterSensitiveLog=Nee;T.PutBucketIntelligentTieringConfigurationCommand=bT;T.PutBucketInventoryConfigurationCommand=_T;T.PutBucketInventoryConfigurationRequestFilterSensitiveLog=Ree;T.PutBucketLifecycleConfigurationCommand=vT;T.PutBucketLoggingCommand=AT;T.PutBucketMetricsConfigurationCommand=xT;T.PutBucketNotificationConfigurationCommand=IT;T.PutBucketOwnershipControlsCommand=TT;T.PutBucketPolicyCommand=wT;T.PutBucketReplicationCommand=NT;T.PutBucketRequestPaymentCommand=RT;T.PutBucketTaggingCommand=PT;T.PutBucketVersioningCommand=OT;T.PutBucketWebsiteCommand=DT;T.PutObjectAclCommand=kT;T.PutObjectCommand=BT;T.PutObjectLegalHoldCommand=LT;T.PutObjectLockConfigurationCommand=MT;T.PutObjectOutputFilterSensitiveLog=Pee;T.PutObjectRequestFilterSensitiveLog=Oee;T.PutObjectRetentionCommand=UT;T.PutObjectTaggingCommand=FT;T.PutPublicAccessBlockCommand=qT;T.QuoteFields=g2e;T.RenameObjectCommand=jT;T.ReplicaModificationsStatus=$Be;T.ReplicationRuleStatus=JBe;T.ReplicationStatus=e2e;T.ReplicationTimeStatus=KBe;T.RequestCharged=rBe;T.RequestPayer=nBe;T.RestoreObjectCommand=VT;T.RestoreObjectRequestFilterSensitiveLog=Mee;T.RestoreRequestFilterSensitiveLog=Lee;T.RestoreRequestType=y2e;T.S3=JT;T.S3Client=Ed;T.S3LocationFilterSensitiveLog=kee;T.S3ServiceException=ys;T.S3TablesBucketType=qBe;T.SSEKMSFilterSensitiveLog=gee;T.SelectObjectContentCommand=HT;T.SelectObjectContentEventStreamFilterSensitiveLog=E2e;T.SelectObjectContentOutputFilterSensitiveLog=Uee;T.SelectObjectContentRequestFilterSensitiveLog=Fee;T.ServerSideEncryption=lBe;T.ServerSideEncryptionByDefaultFilterSensitiveLog=mee;T.ServerSideEncryptionConfigurationFilterSensitiveLog=lM;T.ServerSideEncryptionRuleFilterSensitiveLog=hee;T.SessionCredentialsFilterSensitiveLog=dee;T.SessionMode=IBe;T.SseKmsEncryptedObjectsStatus=WBe;T.StorageClass=pBe;T.StorageClassAnalysisSchemaVersion=wBe;T.TableSseAlgorithm=ABe;T.TaggingDirective=gBe;T.Tier=u2e;T.TooManyParts=Hx;T.TransitionDefaultMinimumObjectSize=MBe;T.TransitionStorageClass=BBe;T.Type=iBe;T.UpdateBucketMetadataInventoryTableConfigurationCommand=zT;T.UpdateBucketMetadataJournalTableConfigurationCommand=KT;T.UploadPartCommand=GT;T.UploadPartCopyCommand=$T;T.UploadPartCopyOutputFilterSensitiveLog=Vee;T.UploadPartCopyRequestFilterSensitiveLog=Hee;T.UploadPartOutputFilterSensitiveLog=qee;T.UploadPartRequestFilterSensitiveLog=jee;T.WriteGetObjectResponseCommand=WT;T.WriteGetObjectResponseRequestFilterSensitiveLog=zee;T.paginateListBuckets=H8e;T.paginateListDirectoryBuckets=z8e;T.paginateListObjectsV2=K8e;T.paginateListParts=G8e;T.waitForBucketExists=$8e;T.waitForBucketNotExists=J8e;T.waitForObjectExists=Y8e;T.waitForObjectNotExists=Z8e;T.waitUntilBucketExists=W8e;T.waitUntilBucketNotExists=X8e;T.waitUntilObjectExists=Q8e;T.waitUntilObjectNotExists=eze});var Ore=C(Pre=>{"use strict";var tze=PS();function rze(e){let{port:t,query:r}=e,{protocol:n,path:s,hostname:i}=e;n&&n.slice(-1)!==":"&&(n+=":"),t&&(i+=`:${t}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let o=r?tze.buildQueryString(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(e.username!=null||e.password!=null){let l=e.username??"",u=e.password??"";a=`${l}:${u}@`}let c="";return e.fragment&&(c=`#${e.fragment}`),`${n}//${a}${i}${s}${o}${c}`}Pre.formatUrl=rze});var Dre=C($M=>{"use strict";var nze=Ore(),sze=Eo(),ize=rr(),oze=Tm(),aze="UNSIGNED-PAYLOAD",cze="X-Amz-Content-Sha256",ZE=class{signer;constructor(t){let r={service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1,applyChecksum:t.applyChecksum||!1,...t};this.signer=new oze.SignatureV4MultiRegion(r)}presign(t,{unsignableHeaders:r=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...i}={}){return this.prepareRequest(t,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presign(t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...i})}presignWithCredentials(t,r,{unsignableHeaders:n=new Set,hoistableHeaders:s=new Set,unhoistableHeaders:i=new Set,...o}={}){return this.prepareRequest(t,{unsignableHeaders:n,unhoistableHeaders:i,hoistableHeaders:s}),this.signer.presignWithCredentials(t,r,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...o})}prepareRequest(t,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set,hoistableHeaders:s=new Set}={}){r.add("content-type"),Object.keys(t.headers).map(c=>c.toLowerCase()).filter(c=>c.startsWith("x-amz-server-side-encryption")).forEach(c=>{s.has(c)||n.add(c)}),t.headers[cze]=aze;let i=t.headers.host,o=t.port,a=`${t.hostname}${t.port!=null?":"+o:""}`;(!i||i===t.hostname&&t.port!=null)&&(t.headers.host=a)}},lze=async(e,t,r={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let h=(await sze.getEndpointFromInstructions(t.input,t.constructor,e.config)).properties?.authSchemes?.[0];h?.name==="sigv4a"?s=h?.signingRegionSet?.join(","):s=h?.signingRegion,n=new ZE({...e.config,signingName:h?.signingName,region:async()=>s})}else n=new ZE(e.config);let i=(m,h)=>async p=>{let{request:g}=p;if(!ize.HttpRequest.isInstance(g))throw new Error("Request to be presigned is not an valid HTTP request.");delete g.headers["amz-sdk-invocation-id"],delete g.headers["amz-sdk-request"],delete g.headers["x-amz-user-agent"];let y,_={...r,signingRegion:r.signingRegion??h.signing_region??s,signingService:r.signingService??h.signing_service};return h.s3ExpressIdentity?y=await n.presignWithCredentials(g,h.s3ExpressIdentity,_):y=await n.presign(g,_),{response:{},output:{$metadata:{httpStatusCode:200},presigned:y}}},o="presignInterceptMiddleware",a=e.middlewareStack.clone();a.addRelativeTo(i,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let c=t.resolveMiddleware(a,e.config,{}),{output:l}=await c({input:t.input}),{presigned:u}=l;return nze.formatUrl(u)};$M.S3RequestPresigner=ZE;$M.getSignedUrl=lze});var ic=C(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.deepExtend=Ep.deepCopy=void 0;function dze(e){return WM(void 0,e)}Ep.deepCopy=dze;function WM(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:{let r=t;return new Date(r.getTime())}case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=WM(e[r],t[r]));return e}Ep.deepExtend=WM});var bs=C(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.InstanceIdClientErrorCode=lr.InstallationsClientErrorCode=lr.MessagingClientErrorCode=lr.AuthClientErrorCode=lr.AppErrorCodes=lr.FirebaseProjectManagementError=lr.FirebaseMessagingError=lr.FirebaseInstallationsError=lr.FirebaseInstanceIdError=lr.FirebaseFirestoreError=lr.FirebaseDatabaseError=lr.FirebaseAuthError=lr.FirebaseAppError=lr.PrefixedFirebaseError=lr.FirebaseError=void 0;var JM=ic(),_d=class e extends Error{constructor(t){super(t.message),this.errorInfo=t,this.__proto__=e.prototype}get code(){return this.errorInfo?.code}get message(){return this.errorInfo?.message}toJSON(){return{code:this.code,message:this.message}}};lr.FirebaseError=_d;var vf=class e extends _d{constructor(t,r,n){super({code:`${t}/${r}`,message:n}),this.codePrefix=t,this.__proto__=e.prototype}hasCode(t){return`${this.codePrefix}/${t}`===this.code}};lr.PrefixedFirebaseError=vf;var XM=class e extends vf{constructor(t,r){super("app",t,r),this.__proto__=e.prototype}};lr.FirebaseAppError=XM;var YM=class e extends vf{static fromServerError(t,r,n){let s=(t||"").indexOf(":"),i=null;s!==-1&&(i=t.substring(s+1).trim(),t=t.substring(0,s).trim());let o=uze[t]||"INTERNAL_ERROR",a=(0,JM.deepCopy)(Se[o]);if(a.message=i||r||a.message,o==="INTERNAL_ERROR"&&typeof n<"u")try{a.message+=` Raw server response: "${JSON.stringify(n)}"`}catch{}return new e(a)}constructor(t,r){super("auth",t.code,r||t.message),this.__proto__=e.prototype}};lr.FirebaseAuthError=YM;var QM=class extends _d{constructor(t,r){super({code:"database/"+t.code,message:r||t.message})}};lr.FirebaseDatabaseError=QM;var ZM=class extends _d{constructor(t,r){super({code:"firestore/"+t.code,message:r||t.message})}};lr.FirebaseFirestoreError=ZM;var eU=class e extends _d{constructor(t,r){super({code:"instance-id/"+t.code,message:r||t.message}),this.__proto__=e.prototype}};lr.FirebaseInstanceIdError=eU;var tU=class e extends _d{constructor(t,r){super({code:"installations/"+t.code,message:r||t.message}),this.__proto__=e.prototype}};lr.FirebaseInstallationsError=tU;var rU=class e extends vf{static fromServerError(t,r,n){let s="UNKNOWN_ERROR";t&&t in kre&&(s=kre[t]);let i=(0,JM.deepCopy)(on[s]);if(i.message=r||i.message,s==="UNKNOWN_ERROR"&&typeof n<"u")try{i.message+=` Raw server response: "${JSON.stringify(n)}"`}catch{}return new e(i)}static fromTopicManagementServerError(t,r,n){let s=fze[t]||"UNKNOWN_ERROR",i=(0,JM.deepCopy)(on[s]);if(i.message=r||i.message,s==="UNKNOWN_ERROR"&&typeof n<"u")try{i.message+=` Raw server response: "${JSON.stringify(n)}"`}catch{}return new e(i)}constructor(t,r){super("messaging",t.code,r||t.message),this.__proto__=e.prototype}};lr.FirebaseMessagingError=rU;var nU=class e extends vf{constructor(t,r){super("project-management",t,r),this.__proto__=e.prototype}};lr.FirebaseProjectManagementError=nU;var ji=class{};lr.AppErrorCodes=ji;ji.APP_DELETED="app-deleted";ji.DUPLICATE_APP="duplicate-app";ji.INVALID_ARGUMENT="invalid-argument";ji.INTERNAL_ERROR="internal-error";ji.INVALID_APP_NAME="invalid-app-name";ji.INVALID_APP_OPTIONS="invalid-app-options";ji.INVALID_CREDENTIAL="invalid-credential";ji.NETWORK_ERROR="network-error";ji.NETWORK_TIMEOUT="network-timeout";ji.NO_APP="no-app";ji.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response";var Se=class{};lr.AuthClientErrorCode=Se;Se.AUTH_BLOCKING_TOKEN_EXPIRED={code:"auth-blocking-token-expired",message:"The provided Firebase Auth Blocking token is expired."};Se.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."};Se.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."};Se.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."};Se.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."};Se.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."};Se.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."};Se.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."};Se.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."};Se.EMAIL_NOT_FOUND={code:"email-not-found",message:"There is no user record corresponding to the provided email."};Se.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."};Se.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."};Se.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."};Se.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."};Se.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."};Se.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."};Se.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."};Se.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."};Se.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."};Se.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."};Se.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."};Se.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."};Se.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."};Se.INVALID_NEW_EMAIL={code:"invalid-new-email",message:"The new email address is improperly formatted."};Se.INVALID_ENROLLED_FACTORS={code:"invalid-enrolled-factors",message:"The enrolled factors must be a valid array of MultiFactorInfo objects."};Se.INVALID_ENROLLMENT_TIME={code:"invalid-enrollment-time",message:"The second factor enrollment time must be a valid UTC date string."};Se.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."};Se.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."};Se.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."};Se.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."};Se.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."};Se.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."};Se.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."};Se.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."};Se.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."};Se.INVALID_NAME={code:"invalid-name",message:"The resource name provided is invalid."};Se.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."};Se.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."};Se.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."};Se.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."};Se.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."};Se.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."};Se.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."};Se.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid parent project. Either parent project doesn't exist or didn't enable multi-tenancy."};Se.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."};Se.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."};Se.INVALID_PROVIDER_UID={code:"invalid-provider-uid",message:"The providerUid must be a valid provider uid string."};Se.INVALID_OAUTH_RESPONSETYPE={code:"invalid-oauth-responsetype",message:"Only exactly one OAuth responseType should be set to true."};Se.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."};Se.INVALID_TENANT_ID={code:"invalid-tenant-id",message:"The tenant ID must be a valid non-empty string."};Se.INVALID_TENANT_TYPE={code:"invalid-tenant-type",message:'Tenant type must be either "full_service" or "lightweight".'};Se.INVALID_TESTING_PHONE_NUMBER={code:"invalid-testing-phone-number",message:"Invalid testing phone number or invalid test code provided."};Se.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."};Se.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."};Se.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."};Se.MISMATCHING_TENANT_ID={code:"mismatching-tenant-id",message:"User tenant ID does not match with the current TenantAwareAuth tenant ID."};Se.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."};Se.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."};Se.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."};Se.MISSING_DISPLAY_NAME={code:"missing-display-name",message:"The resource being created or edited is missing a valid display name."};Se.MISSING_EMAIL={code:"missing-email",message:"The email is required for the specified action. For example, a multi-factor user requires a verified email."};Se.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."};Se.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."};Se.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."};Se.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."};Se.MISSING_OAUTH_CLIENT_SECRET={code:"missing-oauth-client-secret",message:"The OAuth configuration client secret is required to enable OIDC code flow."};Se.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."};Se.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."};Se.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED={code:"test-phone-number-limit-exceeded",message:"The maximum allowed number of test phone number / code pairs has been exceeded."};Se.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."};Se.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."};Se.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."};Se.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."};Se.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."};Se.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'};Se.QUOTA_EXCEEDED={code:"quota-exceeded",message:"The project quota for the specified operation has been exceeded."};Se.SECOND_FACTOR_LIMIT_EXCEEDED={code:"second-factor-limit-exceeded",message:"The maximum number of allowed second factors on a user has been exceeded."};Se.SECOND_FACTOR_UID_ALREADY_EXISTS={code:"second-factor-uid-already-exists",message:'The specified second factor "uid" already exists.'};Se.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."};Se.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."};Se.TENANT_NOT_FOUND={code:"tenant-not-found",message:"There is no tenant corresponding to the provided identifier."};Se.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."};Se.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."};Se.UNSUPPORTED_FIRST_FACTOR={code:"unsupported-first-factor",message:"A multi-factor user requires a supported first factor."};Se.UNSUPPORTED_SECOND_FACTOR={code:"unsupported-second-factor",message:"The request specified an unsupported type of second factor."};Se.UNSUPPORTED_TENANT_OPERATION={code:"unsupported-tenant-operation",message:"This operation is not supported in a multi-tenant context."};Se.UNVERIFIED_EMAIL={code:"unverified-email",message:"A verified email is required for the specified action. For example, a multi-factor user requires a verified email."};Se.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."};Se.NOT_FOUND={code:"not-found",message:"The requested resource was not found."};Se.USER_DISABLED={code:"user-disabled",message:"The user record is disabled."};Se.USER_NOT_DISABLED={code:"user-not-disabled",message:"The user must be disabled in order to bulk delete it (or you must pass force=true)."};Se.INVALID_RECAPTCHA_ACTION={code:"invalid-recaptcha-action",message:'reCAPTCHA action must be "BLOCK".'};Se.INVALID_RECAPTCHA_ENFORCEMENT_STATE={code:"invalid-recaptcha-enforcement-state",message:'reCAPTCHA enforcement state must be either "OFF", "AUDIT" or "ENFORCE".'};Se.RECAPTCHA_NOT_ENABLED={code:"racaptcha-not-enabled",message:"reCAPTCHA enterprise is not enabled."};var on=class{};lr.MessagingClientErrorCode=on;on.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."};on.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."};on.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."};on.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."};on.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."};on.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."};on.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."};on.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."};on.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."};on.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'};on.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."};on.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."};on.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."};on.THIRD_PARTY_AUTH_ERROR={code:"third-party-auth-error",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."};on.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."};on.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."};on.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."};on.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."};on.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."};var vd=class{};lr.InstallationsClientErrorCode=vd;vd.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."};vd.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."};vd.INVALID_INSTALLATION_ID={code:"invalid-installation-id",message:"Invalid installation ID provided."};vd.API_ERROR={code:"api-error",message:"Installation ID API call failed."};var lw=class extends vd{};lr.InstanceIdClientErrorCode=lw;lw.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."};var uze={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",DUPLICATE_MFA_ENROLLMENT_ID:"SECOND_FACTOR_UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",EMAIL_NOT_FOUND:"EMAIL_NOT_FOUND",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_NEW_EMAIL:"INVALID_NEW_EMAIL",INVALID_DISPLAY_NAME:"INVALID_DISPLAY_NAME",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_NAME:"INVALID_NAME",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROJECT_ID:"INVALID_PROJECT_ID",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",INVALID_TESTING_PHONE_NUMBER:"INVALID_TESTING_PHONE_NUMBER",INVALID_TENANT_TYPE:"INVALID_TENANT_TYPE",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_DISPLAY_NAME:"MISSING_DISPLAY_NAME",MISSING_EMAIL:"MISSING_EMAIL",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",QUOTA_EXCEEDED:"QUOTA_EXCEEDED",SECOND_FACTOR_LIMIT_EXCEEDED:"SECOND_FACTOR_LIMIT_EXCEEDED",TENANT_NOT_FOUND:"TENANT_NOT_FOUND",TENANT_ID_MISMATCH:"MISMATCHING_TENANT_ID",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",UNSUPPORTED_FIRST_FACTOR:"UNSUPPORTED_FIRST_FACTOR",UNSUPPORTED_SECOND_FACTOR:"UNSUPPORTED_SECOND_FACTOR",UNSUPPORTED_TENANT_OPERATION:"UNSUPPORTED_TENANT_OPERATION",UNVERIFIED_EMAIL:"UNVERIFIED_EMAIL",USER_NOT_FOUND:"USER_NOT_FOUND",USER_DISABLED:"USER_DISABLED",WEAK_PASSWORD:"INVALID_PASSWORD",INVALID_RECAPTCHA_ACTION:"INVALID_RECAPTCHA_ACTION",INVALID_RECAPTCHA_ENFORCEMENT_STATE:"INVALID_RECAPTCHA_ENFORCEMENT_STATE",RECAPTCHA_NOT_ENABLED:"RECAPTCHA_NOT_ENABLED"},kre={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"THIRD_PARTY_AUTH_ERROR",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"THIRD_PARTY_AUTH_ERROR",APNS_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",THIRD_PARTY_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},fze={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"}});var es=C(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.isTaskId=It.isTopic=It.isURL=It.isUTCDateString=It.isISODateString=It.isPhoneNumber=It.isEmail=It.isPassword=It.isUid=It.isNonNullObject=It.isObject=It.isNonEmptyString=It.isBase64String=It.isString=It.isNumber=It.isBoolean=It.isNonEmptyArray=It.isArray=It.isBuffer=void 0;var mze=require("url");function hze(e){return e instanceof Buffer}It.isBuffer=hze;function sU(e){return Array.isArray(e)}It.isArray=sU;function pze(e){return sU(e)&&e.length!==0}It.isNonEmptyArray=pze;function gze(e){return typeof e=="boolean"}It.isBoolean=gze;function yze(e){return typeof e=="number"&&!isNaN(e)}It.isNumber=yze;function iU(e){return typeof e=="string"}It.isString=iU;function Eze(e){return iU(e)?/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e):!1}It.isBase64String=Eze;function oU(e){return iU(e)&&e!==""}It.isNonEmptyString=oU;function Bre(e){return typeof e=="object"&&!sU(e)}It.isObject=Bre;function Sze(e){return Bre(e)&&e!==null}It.isNonNullObject=Sze;function Cze(e){return typeof e=="string"&&e.length>0&&e.length<=128}It.isUid=Cze;function bze(e){return typeof e=="string"&&e.length>=6}It.isPassword=bze;function _ze(e){return typeof e!="string"?!1:/^[^@]+@[^@]+$/.test(e)}It.isEmail=_ze;function vze(e){if(typeof e!="string")return!1;let t=/^\+/,r=/[\da-zA-Z]+/;return t.test(e)&&r.test(e)}It.isPhoneNumber=vze;function Aze(e){try{return oU(e)&&new Date(e).toISOString()===e}catch{return!1}}It.isISODateString=Aze;function xze(e){try{return oU(e)&&new Date(e).toUTCString()===e}catch{return!1}}It.isUTCDateString=xze;function Ize(e){if(typeof e!="string"||/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(e))return!1;try{let r=mze.parse(e),n=r.protocol,s=r.slashes,i=r.hostname,o=r.pathname;if(n!=="http:"&&n!=="https:"||!s||!i||!/^[a-zA-Z0-9]+[\w-]*([.]?[a-zA-Z0-9]+[\w-]*)*$/.test(i)||o&&o!=="/"&&!/^(\/[\w\-.~!$'()*+,;=:@%]+)*\/?$/.test(o))return!1}catch{return!1}return!0}It.isURL=Ize;function Tze(e){return typeof e!="string"?!1:/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(e)}It.isTopic=Tze;function wze(e){return typeof e!="string"?!1:/^[A-Za-z0-9_-]+$/.test(e)}It.isTaskId=wze});var aU=C((ACt,Lre)=>{"use strict";var{EventEmitter:Nze}=require("node:events"),{inherits:Rze}=require("node:util");function Af(e){if(typeof e=="string"&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw new TypeError("The needle has to be a String or a Buffer.");let t=e.length,r=t-1;if(t===0)throw new Error("The needle cannot be an empty String/Buffer.");if(t>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(t),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(r);for(var n=0;n<r;++n)this._occ[e[n]]=r-n}Rze(Af,Nze);Af.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};Af.prototype.push=function(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));let r=e.length;this._bufpos=t||0;let n;for(;n!==r&&this.matches<this.maxMatches;)n=this._sbmh_feed(e);return n};Af.prototype._sbmh_feed=function(e){let t=e.length,r=this._needle,n=r.length,s=n-1,i=r[s],o=-this._lookbehind_size,a;if(o<0){for(;o<0&&o<=t-n;){if(a=e[o+s],a===i&&this._sbmh_memcmp(e,o,s))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=o+n;o+=this._occ[a]}for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)++o;if(o>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let c=this._lookbehind_size+o;return c>0&&this.emit("info",!1,this._lookbehind,0,c),this._lookbehind_size-=c,this._lookbehind.copy(this._lookbehind,0,c,this._lookbehind_size),e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}}if(o=e.indexOf(r,o+this._bufpos),o!==-1)return++this.matches,o===0?this.emit("info",!0):this.emit("info",!0,e,this._bufpos,o),this._bufpos=o+n;for(o=t-s,o<0&&(o=0);o!==t&&(e[o]!==r[0]||Buffer.compare(e.subarray(o+1,t),r.subarray(1,t-o))!==0);)++o;return o!==t&&(e.copy(this._lookbehind,0,o,t),this._lookbehind_size=t-o),o!==0&&this.emit("info",!1,e,this._bufpos,o),this._bufpos=t,t};Af.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]};Af.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;return!0};Lre.exports=Af});var Fre=C((xCt,Ure)=>{"use strict";var Pze=require("node:util").inherits,Mre=require("node:stream").Readable;function cU(e){Mre.call(this,e)}Pze(cU,Mre);cU.prototype._read=function(e){};Ure.exports=cU});var dw=C((ICt,qre)=>{"use strict";qre.exports=function(t,r,n){if(!t||t[r]===void 0||t[r]===null)return n;if(typeof t[r]!="number"||isNaN(t[r]))throw new TypeError("Limit "+r+" is not a valid number");return t[r]}});var zre=C((TCt,Hre)=>{"use strict";var Vre=require("node:events").EventEmitter,Oze=require("node:util").inherits,jre=dw(),Dze=aU(),kze=Buffer.from(`\r
\r
`),Bze=/\r\n/g,Lze=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function Sp(e){Vre.call(this),e=e||{};let t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=jre(e,"maxHeaderPairs",2e3),this.maxHeaderSize=jre(e,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new Dze(kze),this.ss.on("info",function(r,n,s,i){n&&!t.maxed&&(t.nread+i-s>=t.maxHeaderSize?(i=t.maxHeaderSize-t.nread+s,t.nread=t.maxHeaderSize,t.maxed=!0):t.nread+=i-s,t.buffer+=n.toString("binary",s,i)),r&&t._finish()})}Oze(Sp,Vre);Sp.prototype.push=function(e){let t=this.ss.push(e);if(this.finished)return t};Sp.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};Sp.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)};Sp.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let e=this.buffer.split(Bze),t=e.length,r,n;for(var s=0;s<t;++s){if(e[s].length===0)continue;if((e[s][0]==="	"||e[s][0]===" ")&&n){this.header[n][this.header[n].length-1]+=e[s];continue}let i=e[s].indexOf(":");if(i===-1||i===0)return;if(r=Lze.exec(e[s]),n=r[1].toLowerCase(),this.header[n]=this.header[n]||[],this.header[n].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}};Hre.exports=Sp});var dU=C((wCt,Gre)=>{"use strict";var lU=require("node:stream").Writable,Mze=require("node:util").inherits,Uze=aU(),Kre=Fre(),Fze=zre(),qze=45,jze=Buffer.from("-"),Vze=Buffer.from(`\r
`),Hze=function(){};function Sa(e){if(!(this instanceof Sa))return new Sa(e);if(lU.call(this,e),!e||!e.headerFirst&&typeof e.boundary!="string")throw new TypeError("Boundary required");typeof e.boundary=="string"?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:e.partHwm},this._pause=!1;let t=this;this._hparser=new Fze(e),this._hparser.on("header",function(r){t._inHeader=!1,t._part.emit("header",r)})}Mze(Sa,lU);Sa.prototype.emit=function(e){if(e==="finish"&&!this._realFinish){if(!this._finished){let t=this;process.nextTick(function(){if(t.emit("error",new Error("Unexpected end of multipart data")),t._part&&!t._ignoreData){let r=t._isPreamble?"Preamble":"Part";t._part.emit("error",new Error(r+" terminated early due to unexpected end of multipart data")),t._part.push(null),process.nextTick(function(){t._realFinish=!0,t.emit("finish"),t._realFinish=!1});return}t._realFinish=!0,t.emit("finish"),t._realFinish=!1})}}else lU.prototype.emit.apply(this,arguments)};Sa.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new Kre(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());let n=this._hparser.push(e);if(!this._inHeader&&n!==void 0&&n<e.length)e=e.slice(n);else return r()}this._firstWrite&&(this._bparser.push(Vze),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()};Sa.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};Sa.prototype.setBoundary=function(e){let t=this;this._bparser=new Uze(`\r
--`+e),this._bparser.on("info",function(r,n,s,i){t._oninfo(r,n,s,i)})};Sa.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",Hze),this._part.resume())};Sa.prototype._oninfo=function(e,t,r,n){let s,i=this,o=0,a,c=!0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+o<n;)if(t[r+o]===qze)++o,++this._dashes;else{this._dashes&&(s=jze),this._dashes=0;break}if(this._dashes===2&&(r+o<n&&this.listenerCount("trailer")!==0&&this.emit("trailer",t.slice(r+o,n)),this.reset(),this._finished=!0,i._parts===0&&(i._realFinish=!0,i.emit("finish"),i._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new Kre(this._partOpts),this._part._read=function(l){i._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),t&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(s&&(c=this._part.push(s)),c=this._part.push(t.slice(r,n)),c||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(s&&this._hparser.push(s),a=this._hparser.push(t.slice(r,n)),!this._inHeader&&a!==void 0&&a<n&&this._oninfo(!1,t,r+a,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",function(){--i._parts===0&&(i._finished?(i._realFinish=!0,i.emit("finish"),i._realFinish=!1):i._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};Sa.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let e=this._cb;this._cb=void 0,e()}};Gre.exports=Sa});var uw=C((uU,Jre)=>{"use strict";var $re=new TextDecoder("utf-8"),Wre=new Map([["utf-8",$re],["utf8",$re]]);function zze(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return e0.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return e0.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return e0.utf16le;case"base64":return e0.base64;default:if(t===void 0){t=!0,e=e.toLowerCase();continue}return e0.other.bind(e)}}var e0={utf8:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.utf8Slice(0,e.length)),latin1:(e,t)=>e.length===0?"":typeof e=="string"?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.ucs2Slice(0,e.length)),base64:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.base64Slice(0,e.length)),other:(e,t)=>{if(e.length===0)return"";if(typeof e=="string"&&(e=Buffer.from(e,t)),Wre.has(uU.toString()))try{return Wre.get(uU).decode(e)}catch{}return typeof e=="string"?e:e.toString()}};function Kze(e,t,r){return e&&zze(r)(e,t)}Jre.exports=Kze});var mU=C((NCt,ene)=>{"use strict";var fw=uw(),Xre=/%[a-fA-F0-9][a-fA-F0-9]/g,Gze={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function Yre(e){return Gze[e]}var mw=0,Qre=1,fU=2,Zre=3;function $ze(e){let t=[],r=mw,n="",s=!1,i=!1,o=0,a="",c=e.length;for(var l=0;l<c;++l){let u=e[l];if(u==="\\"&&s)if(i)i=!1;else{i=!0;continue}else if(u==='"')if(i)i=!1;else{if(s)for(s=!1,r=mw;l+1<c&&e[l+1]!==";";)++l;else s=!0;continue}else if(i&&s&&(a+="\\"),i=!1,(r===fU||r===Zre)&&u==="'"){r===fU?(r=Zre,n=a.substring(1)):r=Qre,a="";continue}else if(r===mw&&(u==="*"||u==="=")&&t.length){r=u==="*"?fU:Qre,t[o]=[a,void 0],a="";continue}else if(!s&&u===";"){r=mw,n?(a.length&&(a=fw(a.replace(Xre,Yre),"binary",n)),n=""):a.length&&(a=fw(a,"binary","utf8")),t[o]===void 0?t[o]=a:t[o][1]=a,a="",++o;continue}else if(!s&&(u===" "||u==="	"))continue;a+=u}return n&&a.length?a=fw(a.replace(Xre,Yre),"binary",n):a&&(a=fw(a,"binary","utf8")),t[o]===void 0?a&&(t[o]=a):t[o][1]=a,t}ene.exports=$ze});var rne=C((RCt,tne)=>{"use strict";tne.exports=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;--r)switch(t.charCodeAt(r)){case 47:case 92:return t=t.slice(r+1),t===".."||t==="."?"":t}return t===".."||t==="."?"":t}});var one=C((PCt,ine)=>{"use strict";var{Readable:sne}=require("node:stream"),{inherits:Wze}=require("node:util"),Jze=dU(),nne=mU(),Xze=uw(),Yze=rne(),xf=dw(),Qze=/^boundary$/i,Zze=/^form-data$/i,eKe=/^charset$/i,tKe=/^filename$/i,rKe=/^name$/i;hw.detect=/^multipart\/form-data/i;function hw(e,t){let r,n,s=this,i,o=t.limits,a=t.isPartAFile||(($e,rt,er)=>rt==="application/octet-stream"||er!==void 0),c=t.parsedConType||[],l=t.defCharset||"utf8",u=t.preservePath,m={highWaterMark:t.fileHwm};for(r=0,n=c.length;r<n;++r)if(Array.isArray(c[r])&&Qze.test(c[r][0])){i=c[r][1];break}function h(){J===0&&De&&!e._done&&(De=!1,s.end())}if(typeof i!="string")throw new Error("Multipart: Boundary not found");let p=xf(o,"fieldSize",1*1024*1024),g=xf(o,"fileSize",1/0),y=xf(o,"files",1/0),_=xf(o,"fields",1/0),x=xf(o,"parts",1/0),w=xf(o,"headerPairs",2e3),D=xf(o,"headerSize",80*1024),G=0,W=0,J=0,xe,be,De=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=e;let Ge={boundary:i,maxHeaderPairs:w,maxHeaderSize:D,partHwm:m.highWaterMark,highWaterMark:t.highWaterMark};this.parser=new Jze(Ge),this.parser.on("drain",function(){if(s._needDrain=!1,s._cb&&!s._pause){let $e=s._cb;s._cb=void 0,$e()}}).on("part",function $e(rt){if(++s._nparts>x)return s.parser.removeListener("part",$e),s.parser.on("part",Cp),e.hitPartsLimit=!0,e.emit("partsLimit"),Cp(rt);if(be){let er=be;er.emit("end"),er.removeAllListeners("end")}rt.on("header",function(er){let Ir,jt,Vt,He,Ti,wi,hr=0;if(er["content-type"]&&(Vt=nne(er["content-type"][0]),Vt[0])){for(Ir=Vt[0].toLowerCase(),r=0,n=Vt.length;r<n;++r)if(eKe.test(Vt[r][0])){He=Vt[r][1].toLowerCase();break}}if(Ir===void 0&&(Ir="text/plain"),He===void 0&&(He=l),er["content-disposition"]){if(Vt=nne(er["content-disposition"][0]),!Zze.test(Vt[0]))return Cp(rt);for(r=0,n=Vt.length;r<n;++r)rKe.test(Vt[r][0])?jt=Vt[r][1]:tKe.test(Vt[r][0])&&(wi=Vt[r][1],u||(wi=Yze(wi)))}else return Cp(rt);er["content-transfer-encoding"]?Ti=er["content-transfer-encoding"][0].toLowerCase():Ti="7bit";let Ur,Xr;if(a(jt,Ir,wi)){if(G===y)return e.hitFilesLimit||(e.hitFilesLimit=!0,e.emit("filesLimit")),Cp(rt);if(++G,e.listenerCount("file")===0){s.parser._ignore();return}++J;let Bt=new hU(m);xe=Bt,Bt.on("end",function(){if(--J,s._pause=!1,h(),s._cb&&!s._needDrain){let pr=s._cb;s._cb=void 0,pr()}}),Bt._read=function(pr){if(s._pause&&(s._pause=!1,s._cb&&!s._needDrain)){let _r=s._cb;s._cb=void 0,_r()}},e.emit("file",jt,Bt,wi,Ti,Ir),Ur=function(pr){if((hr+=pr.length)>g){let _r=g-hr+pr.length;_r>0&&Bt.push(pr.slice(0,_r)),Bt.truncated=!0,Bt.bytesRead=g,rt.removeAllListeners("data"),Bt.emit("limit");return}else Bt.push(pr)||(s._pause=!0);Bt.bytesRead=hr},Xr=function(){xe=void 0,Bt.push(null)}}else{if(W===_)return e.hitFieldsLimit||(e.hitFieldsLimit=!0,e.emit("fieldsLimit")),Cp(rt);++W,++J;let Bt="",pr=!1;be=rt,Ur=function(_r){if((hr+=_r.length)>p){let Un=p-(hr-_r.length);Bt+=_r.toString("binary",0,Un),pr=!0,rt.removeAllListeners("data")}else Bt+=_r.toString("binary")},Xr=function(){be=void 0,Bt.length&&(Bt=Xze(Bt,"binary",He)),e.emit("field",jt,Bt,!1,pr,Ti,Ir),--J,h()}}rt._readableState.sync=!1,rt.on("data",Ur),rt.on("end",Xr)}).on("error",function(er){xe&&xe.emit("error",er)})}).on("error",function($e){e.emit("error",$e)}).on("finish",function(){De=!0,h()})}hw.prototype.write=function(e,t){let r=this.parser.write(e);r&&!this._pause?t():(this._needDrain=!r,this._cb=t)};hw.prototype.end=function(){let e=this;e.parser.writable?e.parser.end():e._boy._done||process.nextTick(function(){e._boy._done=!0,e._boy.emit("finish")})};function Cp(e){e.resume()}function hU(e){sne.call(this,e),this.bytesRead=0,this.truncated=!1}Wze(hU,sne);hU.prototype._read=function(e){};ine.exports=hw});var cne=C((OCt,ane)=>{"use strict";var nKe=/\+/g,sKe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function pU(){this.buffer=void 0}pU.prototype.write=function(e){e=e.replace(nKe," ");let t="",r=0,n=0,s=e.length;for(;r<s;++r)this.buffer!==void 0?sKe[e.charCodeAt(r)]?(this.buffer+=e[r],++n,this.buffer.length===2&&(t+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(t+="%"+this.buffer,this.buffer=void 0,--r):e[r]==="%"&&(r>n&&(t+=e.substring(n,r),n=r),this.buffer="",++n);return n<s&&this.buffer===void 0&&(t+=e.substring(n)),t};pU.prototype.reset=function(){this.buffer=void 0};ane.exports=pU});var dne=C((DCt,lne)=>{"use strict";var iKe=cne(),bp=uw(),gU=dw(),oKe=/^charset$/i;pw.detect=/^application\/x-www-form-urlencoded/i;function pw(e,t){let r=t.limits,n=t.parsedConType;this.boy=e,this.fieldSizeLimit=gU(r,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=gU(r,"fieldNameSize",100),this.fieldsLimit=gU(r,"fields",1/0);let s;for(var i=0,o=n.length;i<o;++i)if(Array.isArray(n[i])&&oKe.test(n[i][0])){s=n[i][1].toLowerCase();break}s===void 0&&(s=t.defCharset||"utf8"),this.decoder=new iKe,this.charset=s,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}pw.prototype.write=function(e,t){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),t();let r,n,s,i=0,o=e.length;for(;i<o;)if(this._state==="key"){for(r=n=void 0,s=i;s<o;++s){if(this._checkingBytes||++i,e[s]===61){r=s;break}else if(e[s]===38){n=s;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(r!==void 0)r>i&&(this._key+=this.decoder.write(e.toString("binary",i,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),i=r+1;else if(n!==void 0){++this._fields;let a,c=this._keyTrunc;if(n>i?a=this._key+=this.decoder.write(e.toString("binary",i,n)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",bp(a,"binary",this.charset),"",c,!1),i=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>i&&(this._key+=this.decoder.write(e.toString("binary",i,s))),i=s,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(i<o&&(this._key+=this.decoder.write(e.toString("binary",i))),i=o)}else{for(n=void 0,s=i;s<o;++s){if(this._checkingBytes||++i,e[s]===38){n=s;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(n!==void 0){if(++this._fields,n>i&&(this._val+=this.decoder.write(e.toString("binary",i,n))),this.boy.emit("field",bp(this._key,"binary",this.charset),bp(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),i=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>i&&(this._val+=this.decoder.write(e.toString("binary",i,s))),i=s,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(i<o&&(this._val+=this.decoder.write(e.toString("binary",i))),i=o)}t()};pw.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",bp(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",bp(this._key,"binary",this.charset),bp(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};lne.exports=pw});var mne=C((kCt,t0)=>{"use strict";var yU=require("node:stream").Writable,{inherits:aKe}=require("node:util"),cKe=dU(),une=one(),fne=dne(),lKe=mU();function cl(e){if(!(this instanceof cl))return new cl(e);if(typeof e!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof e.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof e.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let{headers:t,...r}=e;this.opts={autoDestroy:!1,...r},yU.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(t),this._finished=!1}aKe(cl,yU);cl.prototype.emit=function(e){if(e==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}yU.prototype.emit.apply(this,arguments)};cl.prototype.getParserByHeaders=function(e){let t=lKe(e["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:e,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:t,preservePath:this.opts.preservePath};if(une.detect.test(t[0]))return new une(this,r);if(fne.detect.test(t[0]))return new fne(this,r);throw new Error("Unsupported Content-Type.")};cl.prototype._write=function(e,t,r){this._parser.write(e,r)};t0.exports=cl;t0.exports.default=cl;t0.exports.Busboy=cl;t0.exports.Dicer=cKe});var s0=C(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.Http2SessionHandler=an.ExponentialBackoffPoller=an.ApiSettings=an.AuthorizedHttp2Client=an.AuthorizedHttpClient=an.parseHttpResponse=an.Http2Client=an.HttpClient=an.RequestClient=an.defaultRetryConfig=an.RequestResponseError=void 0;var Dt=bs(),Ca=es(),dKe=require("http"),uKe=require("https"),fKe=require("http2"),EU=require("url"),mKe=require("events"),gw=class{constructor(t){this.status=t.status,this.headers=t.headers,this.text=t.data;try{if(!t.data)throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");this.parsedData=JSON.parse(t.data)}catch(r){this.parsedData=void 0,this.parseError=r}this.request=`${t.config.method} ${t.config.url}`}get data(){if(this.isJson())return this.parsedData;throw new Dt.FirebaseAppError(Dt.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,`Error while parsing response data: "${this.parseError.toString()}". Raw server response: "${this.text}". Status code: "${this.status}". Outgoing request: "${this.request}."`)}isJson(){return typeof this.parsedData<"u"}},SU=class{constructor(t){this.status=t.status,this.headers=t.headers,this.multipart=t.multipart}get text(){throw new Dt.FirebaseAppError(Dt.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as text")}get data(){throw new Dt.FirebaseAppError(Dt.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as JSON")}isJson(){return!1}},r0=class e extends Error{constructor(t){super(`Server responded with status ${t.status}.`),this.response=t,Object.setPrototypeOf(this,e.prototype)}};an.RequestResponseError=r0;function NU(){return{maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:60*1e3}}an.defaultRetryConfig=NU;function hKe(e){if(!Ca.isNumber(e.maxRetries)||e.maxRetries<0)throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INVALID_ARGUMENT,"maxRetries must be a non-negative integer");if(typeof e.backOffFactor<"u"&&(!Ca.isNumber(e.backOffFactor)||e.backOffFactor<0))throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INVALID_ARGUMENT,"backOffFactor must be a non-negative number");if(!Ca.isNumber(e.maxDelayInMillis)||e.maxDelayInMillis<0)throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INVALID_ARGUMENT,"maxDelayInMillis must be a non-negative integer");if(typeof e.statusCodes<"u"&&!Ca.isArray(e.statusCodes))throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INVALID_ARGUMENT,"statusCodes must be an array");if(typeof e.ioErrorCodes<"u"&&!Ca.isArray(e.ioErrorCodes))throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INVALID_ARGUMENT,"ioErrorCodes must be an array")}var n0=class{constructor(t=NU()){t&&(this.retry=t,hKe(this.retry))}createRequestResponse(t){return t.multipart?new SU(t):new gw(t)}waitForRetry(t){return t>0?new Promise(r=>{setTimeout(r,t)}):Promise.resolve()}getRetryDelayMillis(t,r){if(!this.isRetryEligible(t,r))return[0,!1];let n=r.response;if(n&&n.headers["retry-after"]){let s=this.parseRetryAfterIntoMillis(n.headers["retry-after"]);if(s>0)return[s,!0]}return[this.backOffDelayMillis(t),!0]}isRetryEligible(t,r){return!this.retry||t>=this.retry.maxRetries?!1:r.response?(this.retry.statusCodes||[]).indexOf(r.response.status)!==-1:r.code?(this.retry.ioErrorCodes||[]).indexOf(r.code)!==-1:!1}parseRetryAfterIntoMillis(t){let r=parseInt(t,10);if(!isNaN(r))return r*1e3;let n=new Date(t);return isNaN(n.getTime())?-1:n.getTime()-Date.now()}backOffDelayMillis(t){if(t===0)return 0;if(!this.retry)throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INTERNAL_ERROR,"Expected this.retry to exist.");let r=this.retry.backOffFactor||0,n=2**t*r;return Math.min(n*1e3,this.retry.maxDelayInMillis)}};an.RequestClient=n0;var yw=class extends n0{constructor(t){super(t)}send(t){return this.sendWithRetry(t)}sendWithRetry(t,r=0){return CU.invoke(t).then(n=>this.createRequestResponse(n)).catch(n=>{let[s,i]=this.getRetryDelayMillis(r,n);if(i&&this.retry&&s<=this.retry.maxDelayInMillis)return this.waitForRetry(s).then(()=>this.sendWithRetry(t,r+1));throw n.response?new r0(this.createRequestResponse(n.response)):n.code==="ETIMEDOUT"?new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${n.message}.`):new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${n.message}. Error code: ${n.code}`)})}};an.HttpClient=yw;var Ew=class extends n0{constructor(t=NU()){super(t)}send(t){return this.sendWithRetry(t)}sendWithRetry(t,r=0){return bU.invoke(t).then(n=>this.createRequestResponse(n)).catch(n=>{let[s,i]=this.getRetryDelayMillis(r,n);if(i&&this.retry&&s<=this.retry.maxDelayInMillis)return this.waitForRetry(s).then(()=>this.sendWithRetry(t,r+1));throw n.response?new r0(this.createRequestResponse(n.response)):n.code==="ETIMEDOUT"?new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${n.message}.`):new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${n.message}. Error code: ${n.code}`)})}};an.Http2Client=Ew;function pKe(e,t){let r=Ca.isBuffer(e)?e.toString("utf-8"):e,n=r.indexOf(`\r
\r
`),s=r.substring(0,n).split(`\r
`),o=s[0].trim().split(/\s/)[1],a={};s.slice(1).forEach(u=>{let m=u.indexOf(":"),h=u.substring(0,m).trim().toLowerCase(),p=u.substring(m+1).trim();a[h]=p});let c=r.substring(n+4);c.endsWith(`
`)&&(c=c.slice(0,-1)),c.endsWith("\r")&&(c=c.slice(0,-1));let l={status:parseInt(o,10),headers:a,data:c,config:t,request:null};if(!Ca.isNumber(l.status))throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INTERNAL_ERROR,"Malformed HTTP status line.");return new gw(l)}an.parseHttpResponse=pKe;var Sw=class{constructor(t){this.configImpl=t}getMultipartBoundary(t){let r=t["content-type"];if(!r||!r.startsWith("multipart/"))return null;let n=r.split(";"),s={};return n.slice(1).map(o=>o.trim().split("=")).reduce((o,a)=>{if(a.length===2){let c={};return c[a[0]]=a[1],Object.assign(o,c)}return o},s).boundary}handleMultipartResponse(t,r,n){let s=mne(),i=new s.Dicer({boundary:n}),o=[];i.on("part",a=>{let c=[];a.on("data",l=>{c.push(l)}),a.on("end",()=>{o.push(Buffer.concat(c))})}),i.on("finish",()=>{t.data=void 0,t.multipart=o,this.finalizeResponse(t)}),r.pipe(i)}handleRegularResponse(t,r){let n=[];r.on("data",s=>{n.push(s)}),r.on("error",s=>{let i=t.request;i&&i.destroyed||this.enhanceAndReject(s,null,i)}),r.on("end",()=>{t.data=Buffer.concat(n).toString(),this.finalizeResponse(t)})}finalizeResponse(t){t.status>=200&&t.status<300?this.resolve(t):this.rejectWithError("Request failed with status code "+t.status,null,t.request,t)}rejectWithError(t,r,n,s){let i=new Error(t);this.enhanceAndReject(i,r,n,s)}enhanceAndReject(t,r,n,s){this.reject(this.enhanceError(t,r,n,s))}enhanceError(t,r,n,s){return t.config=this.configImpl,r&&(t.code=r),t.request=n,t.response=s,t}},CU=class e extends Sw{static invoke(t){return new e(t).promise}constructor(t){let r=new _U(t);super(r);try{this.httpConfigImpl=r,this.options=this.httpConfigImpl.buildRequestOptions(),this.entity=this.httpConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s,this.execute()})}catch(n){this.promise=Promise.reject(this.enhanceError(n,null))}}execute(){let r=(this.options.protocol==="https:"?uKe:dKe).request(this.options,i=>{this.handleResponse(i,r)});r.on("error",i=>{r.aborted||this.enhanceAndReject(i,null,r)});let n=this.httpConfigImpl.timeout,s=()=>{r.destroy(),this.rejectWithError(`timeout of ${n}ms exceeded`,"ETIMEDOUT",r)};n&&r.setTimeout(n,s),r.end(this.entity)}handleResponse(t,r){if(r.aborted)return;if(!t.statusCode)throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");let n={status:t.statusCode,headers:t.headers,request:r,data:void 0,config:this.httpConfigImpl},s=this.getMultipartBoundary(t.headers),i=this.uncompressResponse(t);s?this.handleMultipartResponse(n,i,s):this.handleRegularResponse(n,i)}uncompressResponse(t){let r=t,n=["gzip","compress","deflate"];if(t.headers["content-encoding"]&&n.indexOf(t.headers["content-encoding"])!==-1){let s=require("zlib");r=r.pipe(s.createUnzip()),delete t.headers["content-encoding"]}return r}},bU=class e extends Sw{static invoke(t){return new e(t).promise}constructor(t){let r=new vU(t);super(r);try{this.http2ConfigImpl=r,this.options=this.http2ConfigImpl.buildRequestOptions(),this.entity=this.http2ConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s,this.execute()})}catch(n){this.promise=Promise.reject(this.enhanceError(n,null))}}execute(){let t=this.http2ConfigImpl.http2SessionHandler.session.request({":method":this.options.method,":scheme":this.options.protocol,":path":this.options.path,...this.options.headers});t.on("response",s=>{this.handleHttp2Response(s,t)}),t.on("error",s=>{t.aborted||this.enhanceAndReject(s,null,t)});let r=this.http2ConfigImpl.timeout,n=()=>{t.destroy(),this.rejectWithError(`timeout of ${r}ms exceeded`,"ETIMEDOUT",t)};r&&t.setTimeout(r,n),t.end(this.entity)}handleHttp2Response(t,r){if(r.aborted)return;if(!t[":status"])throw new Dt.FirebaseAppError(Dt.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");let n={status:t[":status"],headers:t,request:r,data:void 0,config:this.http2ConfigImpl},s=this.getMultipartBoundary(t),i=this.uncompressResponse(t,r);s?this.handleMultipartResponse(n,i,s):this.handleRegularResponse(n,i)}uncompressResponse(t,r){let n=r,s=["gzip","compress","deflate"];if(t["content-encoding"]&&s.indexOf(t["content-encoding"])!==-1){let i=require("zlib");n=n.pipe(i.createUnzip()),delete t["content-encoding"]}return n}},Cw=class{constructor(t){this.config=t,this.config=t}get method(){return this.config.method}get url(){return this.config.url}get headers(){return this.config.headers}get data(){return this.config.data}get timeout(){return this.config.timeout}buildEntity(t){let r;if(!this.hasEntity()||!this.isEntityEnclosingRequest())return r;if(Ca.isBuffer(this.data))r=this.data;else if(Ca.isObject(this.data))r=Buffer.from(JSON.stringify(this.data),"utf-8"),typeof t["content-type"]>"u"&&(t["content-type"]="application/json;charset=utf-8");else if(Ca.isString(this.data))r=Buffer.from(this.data,"utf-8");else throw new Error("Request data must be a string, a Buffer or a json serializable object");return t["Content-Length"]=r.length.toString(),r}buildUrl(){let t=this.urlWithProtocol();if(!this.hasEntity()||this.isEntityEnclosingRequest())return EU.parse(t);if(!Ca.isObject(this.data))throw new Error(`${this.method} requests cannot have a body`);let r=new EU.URL(t),n=this.data;for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.searchParams.append(s,n[s]);return EU.parse(r.toString())}urlWithProtocol(){let t=this.url;return t.startsWith("http://")||t.startsWith("https://")?t:`https://${t}`}hasEntity(){return!!this.data}isEntityEnclosingRequest(){return this.method!=="GET"&&this.method!=="HEAD"}},_U=class extends Cw{constructor(t){super(t),this.httpConfig=t}get httpAgent(){return this.httpConfig.httpAgent}buildRequestOptions(){let t=this.buildUrl(),r=t.protocol,n=t.port;return n||(n=r==="https:"?"443":"80"),{protocol:r,hostname:t.hostname,port:n,path:t.path,method:this.method,agent:this.httpAgent,headers:Object.assign({},this.headers)}}},vU=class extends Cw{constructor(t){super(t),this.http2Config=t}get http2SessionHandler(){return this.http2Config.http2SessionHandler}buildRequestOptions(){let t=this.buildUrl();return{protocol:t.protocol,path:t.path,method:this.method,headers:Object.assign({},this.headers)}}},AU=class extends yw{constructor(t){super(),this.app=t}send(t){return this.getToken().then(r=>{let n=Object.assign({},t);n.headers=Object.assign({},t.headers);let s="Authorization";return n.headers[s]=`Bearer ${r}`,!n.headers["x-goog-user-project"]&&this.app.options.projectId&&(n.headers["x-goog-user-project"]=this.app.options.projectId),!n.httpAgent&&this.app.options.httpAgent&&(n.httpAgent=this.app.options.httpAgent),super.send(n)})}getToken(){return this.app.INTERNAL.getToken().then(t=>t.accessToken)}};an.AuthorizedHttpClient=AU;var xU=class extends Ew{constructor(t){super(),this.app=t}send(t){return this.getToken().then(r=>{let n=Object.assign({},t);n.headers=Object.assign({},t.headers);let s="Authorization";return n.headers[s]=`Bearer ${r}`,super.send(n)})}getToken(){return this.app.INTERNAL.getToken().then(t=>t.accessToken)}};an.AuthorizedHttp2Client=xU;var IU=class{constructor(t,r="POST"){this.endpoint=t,this.httpMethod=r,this.setRequestValidator(null).setResponseValidator(null)}getEndpoint(){return this.endpoint}getHttpMethod(){return this.httpMethod}setRequestValidator(t){let r=()=>{};return this.requestValidator=t||r,this}getRequestValidator(){return this.requestValidator}setResponseValidator(t){let r=()=>{};return this.responseValidator=t||r,this}getResponseValidator(){return this.responseValidator}};an.ApiSettings=IU;var TU=class extends mKe.EventEmitter{constructor(t=1e3,r=1e4,n=6e4){super(),this.initialPollingDelayMillis=t,this.maxPollingDelayMillis=r,this.masterTimeoutMillis=n,this.numTries=0,this.completed=!1}poll(t){if(this.pollCallback)throw new Error("poll() can only be called once per instance of ExponentialBackoffPoller");return this.pollCallback=t,this.on("poll",this.repoll),this.masterTimer=setTimeout(()=>{this.completed||(this.markCompleted(),this.reject(new Error("ExponentialBackoffPoller deadline exceeded - Master timeout reached")))},this.masterTimeoutMillis),new Promise((r,n)=>{this.resolve=r,this.reject=n,this.repoll()})}repoll(){this.pollCallback().then(t=>{if(!this.completed){if(!t){this.repollTimer=setTimeout(()=>this.emit("poll"),this.getPollingDelayMillis()),this.numTries++;return}this.markCompleted(),this.resolve(t)}}).catch(t=>{this.completed||(this.markCompleted(),this.reject(t))})}getPollingDelayMillis(){let t=Math.pow(2,this.numTries)*this.initialPollingDelayMillis;return Math.min(t,this.maxPollingDelayMillis)}markCompleted(){this.completed=!0,this.masterTimer&&clearTimeout(this.masterTimer),this.repollTimer&&clearTimeout(this.repollTimer)}};an.ExponentialBackoffPoller=TU;var wU=class{constructor(t){this.http2Session=this.createSession(t)}createSession(t){if(!this.http2Session||this.isClosed){let r={peerMaxConcurrentStreams:100,ALPNProtocols:["h2"]},n=fKe.connect(t,r);return n.on("goaway",(s,i,o)=>{throw new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_ERROR,`Error while making requests: GOAWAY - ${o.toString()}, Error code: ${s}`)}),n.on("error",s=>{throw new Dt.FirebaseAppError(Dt.AppErrorCodes.NETWORK_ERROR,`Error while making requests: ${s}`)}),n}return this.http2Session}get session(){return this.http2Session}get isClosed(){return this.http2Session.closed}close(){this.http2Session.close()}};an.Http2SessionHandler=wU});var _p=C((RU,pne)=>{var bw=require("buffer"),oc=bw.Buffer;function hne(e,t){for(var r in e)t[r]=e[r]}oc.from&&oc.alloc&&oc.allocUnsafe&&oc.allocUnsafeSlow?pne.exports=bw:(hne(bw,RU),RU.Buffer=If);function If(e,t,r){return oc(e,t,r)}If.prototype=Object.create(oc.prototype);hne(oc,If);If.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return oc(e,t,r)};If.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=oc(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};If.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return oc(e)};If.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return bw.SlowBuffer(e)}});var PU=C((LCt,gne)=>{var _w=_p().Buffer,gKe=require("stream"),yKe=require("util");function vw(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=_w.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=_w.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}yKe.inherits(vw,gKe);vw.prototype.write=function(t){this.buffer=_w.concat([this.buffer,_w.from(t)]),this.emit("data",t)};vw.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};gne.exports=vw});var Ene=C((MCt,yne)=>{"use strict";function OU(e){var t=(e/8|0)+(e%8===0?0:1);return t}var EKe={ES256:OU(256),ES384:OU(384),ES512:OU(521)};function SKe(e){var t=EKe[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}yne.exports=SKe});var xne=C((UCt,Ane)=>{"use strict";var Aw=_p().Buffer,Cne=Ene(),xw=128,bne=0,CKe=32,bKe=16,_Ke=2,_ne=bKe|CKe|bne<<6,Iw=_Ke|bne<<6;function vKe(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vne(e){if(Aw.isBuffer(e))return e;if(typeof e=="string")return Aw.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function AKe(e,t){e=vne(e);var r=Cne(t),n=r+1,s=e.length,i=0;if(e[i++]!==_ne)throw new Error('Could not find expected "seq"');var o=e[i++];if(o===(xw|1)&&(o=e[i++]),s-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(s-i)+'" remaining');if(e[i++]!==Iw)throw new Error('Could not find expected "int" for "r"');var a=e[i++];if(s-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(s-i-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=i;if(i+=a,e[i++]!==Iw)throw new Error('Could not find expected "int" for "s"');var l=e[i++];if(s-i!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(s-i)+'"');if(n<l)throw new Error('"s" specified length of "'+l+'", max of "'+n+'" is acceptable');var u=i;if(i+=l,i!==s)throw new Error('Expected to consume entire buffer, but "'+(s-i)+'" bytes remain');var m=r-a,h=r-l,p=Aw.allocUnsafe(m+a+h+l);for(i=0;i<m;++i)p[i]=0;e.copy(p,i,c+Math.max(-m,0),c+a),i=r;for(var g=i;i<g+h;++i)p[i]=0;return e.copy(p,i,u+Math.max(-h,0),u+l),p=p.toString("base64"),p=vKe(p),p}function Sne(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var s=e[t+n]>=xw;return s&&--n,n}function xKe(e,t){e=vne(e);var r=Cne(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var s=Sne(e,0,r),i=Sne(e,r,e.length),o=r-s,a=r-i,c=2+o+1+1+a,l=c<xw,u=Aw.allocUnsafe((l?2:3)+c),m=0;return u[m++]=_ne,l?u[m++]=c:(u[m++]=xw|1,u[m++]=c&255),u[m++]=Iw,u[m++]=o,s<0?(u[m++]=0,m+=e.copy(u,m,0,r)):m+=e.copy(u,m,s,r),u[m++]=Iw,u[m++]=a,i<0?(u[m++]=0,e.copy(u,m,r)):e.copy(u,m,r+i),u}Ane.exports={derToJose:AKe,joseToDer:xKe}});var Tne=C((FCt,Ine)=>{"use strict";var i0=require("buffer").Buffer,DU=require("buffer").SlowBuffer;Ine.exports=Tw;function Tw(e,t){if(!i0.isBuffer(e)||!i0.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Tw.install=function(){i0.prototype.equal=DU.prototype.equal=function(t){return Tw(this,t)}};var IKe=i0.prototype.equal,TKe=DU.prototype.equal;Tw.restore=function(){i0.prototype.equal=IKe,DU.prototype.equal=TKe}});var MU=C((qCt,Lne)=>{var Ap=_p().Buffer,Fo=require("crypto"),Nne=xne(),wne=require("util"),wKe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,o0="secret must be a string or buffer",vp="key must be a string or a buffer",NKe="key must be a string, a buffer or an object",BU=typeof Fo.createPublicKey=="function";BU&&(vp+=" or a KeyObject",o0+="or a KeyObject");function Rne(e){if(!Ap.isBuffer(e)&&typeof e!="string"&&(!BU||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw ba(vp)}function Pne(e){if(!Ap.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw ba(NKe)}function RKe(e){if(!Ap.isBuffer(e)){if(typeof e=="string")return e;if(!BU||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw ba(o0)}}function LU(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function One(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function ba(e){var t=[].slice.call(arguments,1),r=wne.format.bind(wne,e).apply(null,t);return new TypeError(r)}function PKe(e){return Ap.isBuffer(e)||typeof e=="string"}function a0(e){return PKe(e)||(e=JSON.stringify(e)),e}function Dne(e){return function(r,n){RKe(n),r=a0(r);var s=Fo.createHmac("sha"+e,n),i=(s.update(r),s.digest("base64"));return LU(i)}}var kU,OKe="timingSafeEqual"in Fo?function(t,r){return t.byteLength!==r.byteLength?!1:Fo.timingSafeEqual(t,r)}:function(t,r){return kU||(kU=Tne()),kU(t,r)};function DKe(e){return function(r,n,s){var i=Dne(e)(r,s);return OKe(Ap.from(n),Ap.from(i))}}function kne(e){return function(r,n){Pne(n),r=a0(r);var s=Fo.createSign("RSA-SHA"+e),i=(s.update(r),s.sign(n,"base64"));return LU(i)}}function Bne(e){return function(r,n,s){Rne(s),r=a0(r),n=One(n);var i=Fo.createVerify("RSA-SHA"+e);return i.update(r),i.verify(s,n,"base64")}}function kKe(e){return function(r,n){Pne(n),r=a0(r);var s=Fo.createSign("RSA-SHA"+e),i=(s.update(r),s.sign({key:n,padding:Fo.constants.RSA_PKCS1_PSS_PADDING,saltLength:Fo.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return LU(i)}}function BKe(e){return function(r,n,s){Rne(s),r=a0(r),n=One(n);var i=Fo.createVerify("RSA-SHA"+e);return i.update(r),i.verify({key:s,padding:Fo.constants.RSA_PKCS1_PSS_PADDING,saltLength:Fo.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function LKe(e){var t=kne(e);return function(){var n=t.apply(null,arguments);return n=Nne.derToJose(n,"ES"+e),n}}function MKe(e){var t=Bne(e);return function(n,s,i){s=Nne.joseToDer(s,"ES"+e).toString("base64");var o=t(n,s,i);return o}}function UKe(){return function(){return""}}function FKe(){return function(t,r){return r===""}}Lne.exports=function(t){var r={hs:Dne,rs:kne,ps:kKe,es:LKe,none:UKe},n={hs:DKe,rs:Bne,ps:BKe,es:MKe,none:FKe},s=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw ba(wKe,t);var i=(s[1]||s[3]).toLowerCase(),o=s[2];return{sign:r[i](o),verify:n[i](o)}}});var UU=C((jCt,Mne)=>{var qKe=require("buffer").Buffer;Mne.exports=function(t){return typeof t=="string"?t:typeof t=="number"||qKe.isBuffer(t)?t.toString():JSON.stringify(t)}});var Hne=C((VCt,Vne)=>{var jKe=_p().Buffer,Une=PU(),VKe=MU(),HKe=require("stream"),Fne=UU(),FU=require("util");function qne(e,t){return jKe.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zKe(e,t,r){r=r||"utf8";var n=qne(Fne(e),"binary"),s=qne(Fne(t),r);return FU.format("%s.%s",n,s)}function jne(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,s=e.encoding,i=VKe(t.alg),o=zKe(t,r,s),a=i.sign(o,n);return FU.format("%s.%s",o,a)}function ww(e){var t=e.secret||e.privateKey||e.key,r=new Une(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Une(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}FU.inherits(ww,HKe);ww.prototype.sign=function(){try{var t=jne({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};ww.sign=jne;Vne.exports=ww});var Zne=C((HCt,Qne)=>{var Kne=_p().Buffer,zne=PU(),KKe=MU(),GKe=require("stream"),Gne=UU(),$Ke=require("util"),WKe=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function JKe(e){return Object.prototype.toString.call(e)==="[object Object]"}function XKe(e){if(JKe(e))return e;try{return JSON.parse(e)}catch{return}}function $ne(e){var t=e.split(".",1)[0];return XKe(Kne.from(t,"base64").toString("binary"))}function YKe(e){return e.split(".",2).join(".")}function Wne(e){return e.split(".")[2]}function QKe(e,t){t=t||"utf8";var r=e.split(".")[1];return Kne.from(r,"base64").toString(t)}function Jne(e){return WKe.test(e)&&!!$ne(e)}function Xne(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=Gne(e);var s=Wne(e),i=YKe(e),o=KKe(t);return o.verify(i,s,r)}function Yne(e,t){if(t=t||{},e=Gne(e),!Jne(e))return null;var r=$ne(e);if(!r)return null;var n=QKe(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:Wne(e)}}function xp(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new zne(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new zne(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}$Ke.inherits(xp,GKe);xp.prototype.verify=function(){try{var t=Xne(this.signature.buffer,this.algorithm,this.key.buffer),r=Yne(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};xp.decode=Yne;xp.isValid=Jne;xp.verify=Xne;Qne.exports=xp});var Rw=C(Ad=>{var ese=Hne(),Nw=Zne(),ZKe=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Ad.ALGORITHMS=ZKe;Ad.sign=ese.sign;Ad.verify=Nw.verify;Ad.decode=Nw.decode;Ad.isValid=Nw.isValid;Ad.createSign=function(t){return new ese(t)};Ad.createVerify=function(t){return new Nw(t)}});var qU=C((KCt,tse)=>{var eGe=Rw();tse.exports=function(e,t){t=t||{};var r=eGe.decode(e,t);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var s=JSON.parse(n);s!==null&&typeof s=="object"&&(n=s)}catch{}return t.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var c0=C((GCt,rse)=>{var Pw=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};Pw.prototype=Object.create(Error.prototype);Pw.prototype.constructor=Pw;rse.exports=Pw});var jU=C(($Ct,sse)=>{var nse=c0(),Ow=function(e,t){nse.call(this,e),this.name="NotBeforeError",this.date=t};Ow.prototype=Object.create(nse.prototype);Ow.prototype.constructor=Ow;sse.exports=Ow});var VU=C((WCt,ose)=>{var ise=c0(),Dw=function(e,t){ise.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};Dw.prototype=Object.create(ise.prototype);Dw.prototype.constructor=Dw;ose.exports=Dw});var HU=C((JCt,ase)=>{var Ip=1e3,Tp=Ip*60,wp=Tp*60,Tf=wp*24,tGe=Tf*7,rGe=Tf*365.25;ase.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return nGe(e);if(r==="number"&&isFinite(e))return t.long?iGe(e):sGe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function nGe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*rGe;case"weeks":case"week":case"w":return r*tGe;case"days":case"day":case"d":return r*Tf;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wp;case"minutes":case"minute":case"mins":case"min":case"m":return r*Tp;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ip;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function sGe(e){var t=Math.abs(e);return t>=Tf?Math.round(e/Tf)+"d":t>=wp?Math.round(e/wp)+"h":t>=Tp?Math.round(e/Tp)+"m":t>=Ip?Math.round(e/Ip)+"s":e+"ms"}function iGe(e){var t=Math.abs(e);return t>=Tf?kw(e,t,Tf,"day"):t>=wp?kw(e,t,wp,"hour"):t>=Tp?kw(e,t,Tp,"minute"):t>=Ip?kw(e,t,Ip,"second"):e+" ms"}function kw(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var zU=C((XCt,cse)=>{var oGe=HU();cse.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=oGe(e);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof e=="number"?r+e:void 0}});var l0=C((YCt,lse)=>{"use strict";var aGe="2.0.0",cGe=Number.MAX_SAFE_INTEGER||9007199254740991,lGe=16,dGe=250,uGe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];lse.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:lGe,MAX_SAFE_BUILD_LENGTH:dGe,MAX_SAFE_INTEGER:cGe,RELEASE_TYPES:uGe,SEMVER_SPEC_VERSION:aGe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var d0=C((QCt,dse)=>{"use strict";var fGe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};dse.exports=fGe});var Np=C((ac,use)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:KU,MAX_SAFE_BUILD_LENGTH:mGe,MAX_LENGTH:hGe}=l0(),pGe=d0();ac=use.exports={};var gGe=ac.re=[],yGe=ac.safeRe=[],qe=ac.src=[],EGe=ac.safeSrc=[],je=ac.t={},SGe=0,GU="[a-zA-Z0-9-]",CGe=[["\\s",1],["\\d",hGe],[GU,mGe]],bGe=e=>{for(let[t,r]of CGe)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},gt=(e,t,r)=>{let n=bGe(t),s=SGe++;pGe(e,s,t),je[e]=s,qe[s]=t,EGe[s]=n,gGe[s]=new RegExp(t,r?"g":void 0),yGe[s]=new RegExp(n,r?"g":void 0)};gt("NUMERICIDENTIFIER","0|[1-9]\\d*");gt("NUMERICIDENTIFIERLOOSE","\\d+");gt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${GU}*`);gt("MAINVERSION",`(${qe[je.NUMERICIDENTIFIER]})\\.(${qe[je.NUMERICIDENTIFIER]})\\.(${qe[je.NUMERICIDENTIFIER]})`);gt("MAINVERSIONLOOSE",`(${qe[je.NUMERICIDENTIFIERLOOSE]})\\.(${qe[je.NUMERICIDENTIFIERLOOSE]})\\.(${qe[je.NUMERICIDENTIFIERLOOSE]})`);gt("PRERELEASEIDENTIFIER",`(?:${qe[je.NONNUMERICIDENTIFIER]}|${qe[je.NUMERICIDENTIFIER]})`);gt("PRERELEASEIDENTIFIERLOOSE",`(?:${qe[je.NONNUMERICIDENTIFIER]}|${qe[je.NUMERICIDENTIFIERLOOSE]})`);gt("PRERELEASE",`(?:-(${qe[je.PRERELEASEIDENTIFIER]}(?:\\.${qe[je.PRERELEASEIDENTIFIER]})*))`);gt("PRERELEASELOOSE",`(?:-?(${qe[je.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${qe[je.PRERELEASEIDENTIFIERLOOSE]})*))`);gt("BUILDIDENTIFIER",`${GU}+`);gt("BUILD",`(?:\\+(${qe[je.BUILDIDENTIFIER]}(?:\\.${qe[je.BUILDIDENTIFIER]})*))`);gt("FULLPLAIN",`v?${qe[je.MAINVERSION]}${qe[je.PRERELEASE]}?${qe[je.BUILD]}?`);gt("FULL",`^${qe[je.FULLPLAIN]}$`);gt("LOOSEPLAIN",`[v=\\s]*${qe[je.MAINVERSIONLOOSE]}${qe[je.PRERELEASELOOSE]}?${qe[je.BUILD]}?`);gt("LOOSE",`^${qe[je.LOOSEPLAIN]}$`);gt("GTLT","((?:<|>)?=?)");gt("XRANGEIDENTIFIERLOOSE",`${qe[je.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);gt("XRANGEIDENTIFIER",`${qe[je.NUMERICIDENTIFIER]}|x|X|\\*`);gt("XRANGEPLAIN",`[v=\\s]*(${qe[je.XRANGEIDENTIFIER]})(?:\\.(${qe[je.XRANGEIDENTIFIER]})(?:\\.(${qe[je.XRANGEIDENTIFIER]})(?:${qe[je.PRERELEASE]})?${qe[je.BUILD]}?)?)?`);gt("XRANGEPLAINLOOSE",`[v=\\s]*(${qe[je.XRANGEIDENTIFIERLOOSE]})(?:\\.(${qe[je.XRANGEIDENTIFIERLOOSE]})(?:\\.(${qe[je.XRANGEIDENTIFIERLOOSE]})(?:${qe[je.PRERELEASELOOSE]})?${qe[je.BUILD]}?)?)?`);gt("XRANGE",`^${qe[je.GTLT]}\\s*${qe[je.XRANGEPLAIN]}$`);gt("XRANGELOOSE",`^${qe[je.GTLT]}\\s*${qe[je.XRANGEPLAINLOOSE]}$`);gt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${KU}})(?:\\.(\\d{1,${KU}}))?(?:\\.(\\d{1,${KU}}))?`);gt("COERCE",`${qe[je.COERCEPLAIN]}(?:$|[^\\d])`);gt("COERCEFULL",qe[je.COERCEPLAIN]+`(?:${qe[je.PRERELEASE]})?(?:${qe[je.BUILD]})?(?:$|[^\\d])`);gt("COERCERTL",qe[je.COERCE],!0);gt("COERCERTLFULL",qe[je.COERCEFULL],!0);gt("LONETILDE","(?:~>?)");gt("TILDETRIM",`(\\s*)${qe[je.LONETILDE]}\\s+`,!0);ac.tildeTrimReplace="$1~";gt("TILDE",`^${qe[je.LONETILDE]}${qe[je.XRANGEPLAIN]}$`);gt("TILDELOOSE",`^${qe[je.LONETILDE]}${qe[je.XRANGEPLAINLOOSE]}$`);gt("LONECARET","(?:\\^)");gt("CARETTRIM",`(\\s*)${qe[je.LONECARET]}\\s+`,!0);ac.caretTrimReplace="$1^";gt("CARET",`^${qe[je.LONECARET]}${qe[je.XRANGEPLAIN]}$`);gt("CARETLOOSE",`^${qe[je.LONECARET]}${qe[je.XRANGEPLAINLOOSE]}$`);gt("COMPARATORLOOSE",`^${qe[je.GTLT]}\\s*(${qe[je.LOOSEPLAIN]})$|^$`);gt("COMPARATOR",`^${qe[je.GTLT]}\\s*(${qe[je.FULLPLAIN]})$|^$`);gt("COMPARATORTRIM",`(\\s*)${qe[je.GTLT]}\\s*(${qe[je.LOOSEPLAIN]}|${qe[je.XRANGEPLAIN]})`,!0);ac.comparatorTrimReplace="$1$2$3";gt("HYPHENRANGE",`^\\s*(${qe[je.XRANGEPLAIN]})\\s+-\\s+(${qe[je.XRANGEPLAIN]})\\s*$`);gt("HYPHENRANGELOOSE",`^\\s*(${qe[je.XRANGEPLAINLOOSE]})\\s+-\\s+(${qe[je.XRANGEPLAINLOOSE]})\\s*$`);gt("STAR","(<|>)?=?\\s*\\*");gt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");gt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Bw=C((ZCt,fse)=>{"use strict";var _Ge=Object.freeze({loose:!0}),vGe=Object.freeze({}),AGe=e=>e?typeof e!="object"?_Ge:e:vGe;fse.exports=AGe});var $U=C((ebt,pse)=>{"use strict";var mse=/^[0-9]+$/,hse=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=mse.test(e),n=mse.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},xGe=(e,t)=>hse(t,e);pse.exports={compareIdentifiers:hse,rcompareIdentifiers:xGe}});var ii=C((tbt,yse)=>{"use strict";var Lw=d0(),{MAX_LENGTH:gse,MAX_SAFE_INTEGER:Mw}=l0(),{safeRe:Uw,t:Fw}=Np(),IGe=Bw(),{compareIdentifiers:WU}=$U(),JU=class e{constructor(t,r){if(r=IGe(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>gse)throw new TypeError(`version is longer than ${gse} characters`);Lw("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?Uw[Fw.LOOSE]:Uw[Fw.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mw||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mw||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mw||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Mw)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Lw("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(Lw("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return WU(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(Lw("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return WU(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?Uw[Fw.PRERELEASELOOSE]:Uw[Fw.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),WU(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};yse.exports=JU});var wf=C((rbt,Sse)=>{"use strict";var Ese=ii(),TGe=(e,t,r=!1)=>{if(e instanceof Ese)return e;try{return new Ese(e,t)}catch(n){if(!r)return null;throw n}};Sse.exports=TGe});var bse=C((nbt,Cse)=>{"use strict";var wGe=wf(),NGe=(e,t)=>{let r=wGe(e,t);return r?r.version:null};Cse.exports=NGe});var vse=C((sbt,_se)=>{"use strict";var RGe=wf(),PGe=(e,t)=>{let r=RGe(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};_se.exports=PGe});var Ise=C((ibt,xse)=>{"use strict";var Ase=ii(),OGe=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Ase(e instanceof Ase?e.version:e,r).inc(t,n,s).version}catch{return null}};xse.exports=OGe});var Nse=C((obt,wse)=>{"use strict";var Tse=wf(),DGe=(e,t)=>{let r=Tse(e,null,!0),n=Tse(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};wse.exports=DGe});var Pse=C((abt,Rse)=>{"use strict";var kGe=ii(),BGe=(e,t)=>new kGe(e,t).major;Rse.exports=BGe});var Dse=C((cbt,Ose)=>{"use strict";var LGe=ii(),MGe=(e,t)=>new LGe(e,t).minor;Ose.exports=MGe});var Bse=C((lbt,kse)=>{"use strict";var UGe=ii(),FGe=(e,t)=>new UGe(e,t).patch;kse.exports=FGe});var Mse=C((dbt,Lse)=>{"use strict";var qGe=wf(),jGe=(e,t)=>{let r=qGe(e,t);return r&&r.prerelease.length?r.prerelease:null};Lse.exports=jGe});var qo=C((ubt,Fse)=>{"use strict";var Use=ii(),VGe=(e,t,r)=>new Use(e,r).compare(new Use(t,r));Fse.exports=VGe});var jse=C((fbt,qse)=>{"use strict";var HGe=qo(),zGe=(e,t,r)=>HGe(t,e,r);qse.exports=zGe});var Hse=C((mbt,Vse)=>{"use strict";var KGe=qo(),GGe=(e,t)=>KGe(e,t,!0);Vse.exports=GGe});var qw=C((hbt,Kse)=>{"use strict";var zse=ii(),$Ge=(e,t,r)=>{let n=new zse(e,r),s=new zse(t,r);return n.compare(s)||n.compareBuild(s)};Kse.exports=$Ge});var $se=C((pbt,Gse)=>{"use strict";var WGe=qw(),JGe=(e,t)=>e.sort((r,n)=>WGe(r,n,t));Gse.exports=JGe});var Jse=C((gbt,Wse)=>{"use strict";var XGe=qw(),YGe=(e,t)=>e.sort((r,n)=>XGe(n,r,t));Wse.exports=YGe});var u0=C((ybt,Xse)=>{"use strict";var QGe=qo(),ZGe=(e,t,r)=>QGe(e,t,r)>0;Xse.exports=ZGe});var jw=C((Ebt,Yse)=>{"use strict";var e$e=qo(),t$e=(e,t,r)=>e$e(e,t,r)<0;Yse.exports=t$e});var XU=C((Sbt,Qse)=>{"use strict";var r$e=qo(),n$e=(e,t,r)=>r$e(e,t,r)===0;Qse.exports=n$e});var YU=C((Cbt,Zse)=>{"use strict";var s$e=qo(),i$e=(e,t,r)=>s$e(e,t,r)!==0;Zse.exports=i$e});var Vw=C((bbt,eie)=>{"use strict";var o$e=qo(),a$e=(e,t,r)=>o$e(e,t,r)>=0;eie.exports=a$e});var Hw=C((_bt,tie)=>{"use strict";var c$e=qo(),l$e=(e,t,r)=>c$e(e,t,r)<=0;tie.exports=l$e});var QU=C((vbt,rie)=>{"use strict";var d$e=XU(),u$e=YU(),f$e=u0(),m$e=Vw(),h$e=jw(),p$e=Hw(),g$e=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return d$e(e,r,n);case"!=":return u$e(e,r,n);case">":return f$e(e,r,n);case">=":return m$e(e,r,n);case"<":return h$e(e,r,n);case"<=":return p$e(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};rie.exports=g$e});var sie=C((Abt,nie)=>{"use strict";var y$e=ii(),E$e=wf(),{safeRe:zw,t:Kw}=Np(),S$e=(e,t)=>{if(e instanceof y$e)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?zw[Kw.COERCEFULL]:zw[Kw.COERCE]);else{let c=t.includePrerelease?zw[Kw.COERCERTLFULL]:zw[Kw.COERCERTL],l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return E$e(`${n}.${s}.${i}${o}${a}`,t)};nie.exports=S$e});var oie=C((xbt,iie)=>{"use strict";var ZU=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};iie.exports=ZU});var jo=C((Ibt,die)=>{"use strict";var C$e=/\s+/g,eF=class e{constructor(t,r){if(r=_$e(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof tF)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(C$e," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!cie(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&N$e(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&T$e)|(this.options.loose&&w$e))+":"+t,s=aie.get(n);if(s)return s;let i=this.options.loose,o=i?Si[oi.HYPHENRANGELOOSE]:Si[oi.HYPHENRANGE];t=t.replace(o,F$e(this.options.includePrerelease)),Qr("hyphen replace",t),t=t.replace(Si[oi.COMPARATORTRIM],A$e),Qr("comparator trim",t),t=t.replace(Si[oi.TILDETRIM],x$e),Qr("tilde trim",t),t=t.replace(Si[oi.CARETTRIM],I$e),Qr("caret trim",t);let a=t.split(" ").map(m=>R$e(m,this.options)).join(" ").split(/\s+/).map(m=>U$e(m,this.options));i&&(a=a.filter(m=>(Qr("loose invalid filter",m,this.options),!!m.match(Si[oi.COMPARATORLOOSE])))),Qr("range list",a);let c=new Map,l=a.map(m=>new tF(m,this.options));for(let m of l){if(cie(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return aie.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>lie(n,r)&&t.set.some(s=>lie(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new v$e(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(q$e(this.set[r],t,this.options))return!0;return!1}};die.exports=eF;var b$e=oie(),aie=new b$e,_$e=Bw(),tF=f0(),Qr=d0(),v$e=ii(),{safeRe:Si,t:oi,comparatorTrimReplace:A$e,tildeTrimReplace:x$e,caretTrimReplace:I$e}=Np(),{FLAG_INCLUDE_PRERELEASE:T$e,FLAG_LOOSE:w$e}=l0(),cie=e=>e.value==="<0.0.0-0",N$e=e=>e.value==="",lie=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},R$e=(e,t)=>(e=e.replace(Si[oi.BUILD],""),Qr("comp",e,t),e=D$e(e,t),Qr("caret",e),e=P$e(e,t),Qr("tildes",e),e=B$e(e,t),Qr("xrange",e),e=M$e(e,t),Qr("stars",e),e),Ci=e=>!e||e.toLowerCase()==="x"||e==="*",P$e=(e,t)=>e.trim().split(/\s+/).map(r=>O$e(r,t)).join(" "),O$e=(e,t)=>{let r=t.loose?Si[oi.TILDELOOSE]:Si[oi.TILDE];return e.replace(r,(n,s,i,o,a)=>{Qr("tilde",e,n,s,i,o,a);let c;return Ci(s)?c="":Ci(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:Ci(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Qr("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Qr("tilde return",c),c})},D$e=(e,t)=>e.trim().split(/\s+/).map(r=>k$e(r,t)).join(" "),k$e=(e,t)=>{Qr("caret",e,t);let r=t.loose?Si[oi.CARETLOOSE]:Si[oi.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,o,a,c)=>{Qr("caret",e,s,i,o,a,c);let l;return Ci(i)?l="":Ci(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Ci(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(Qr("replaceCaret pr",c),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(Qr("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Qr("caret return",l),l})},B$e=(e,t)=>(Qr("replaceXRanges",e,t),e.split(/\s+/).map(r=>L$e(r,t)).join(" ")),L$e=(e,t)=>{e=e.trim();let r=t.loose?Si[oi.XRANGELOOSE]:Si[oi.XRANGE];return e.replace(r,(n,s,i,o,a,c)=>{Qr("xRange",e,n,s,i,o,a,c);let l=Ci(i),u=l||Ci(o),m=u||Ci(a),h=m;return s==="="&&h&&(s=""),c=t.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&h?(u&&(o=0),a=0,s===">"?(s=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:m&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Qr("xRange return",n),n})},M$e=(e,t)=>(Qr("replaceStars",e,t),e.trim().replace(Si[oi.STAR],"")),U$e=(e,t)=>(Qr("replaceGTE0",e,t),e.trim().replace(Si[t.includePrerelease?oi.GTE0PRE:oi.GTE0],"")),F$e=e=>(t,r,n,s,i,o,a,c,l,u,m,h)=>(Ci(n)?r="":Ci(s)?r=`>=${n}.0.0${e?"-0":""}`:Ci(i)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ci(l)?c="":Ci(u)?c=`<${+l+1}.0.0-0`:Ci(m)?c=`<${l}.${+u+1}.0-0`:h?c=`<=${l}.${u}.${m}-${h}`:e?c=`<${l}.${u}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),q$e=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Qr(e[n].semver),e[n].semver!==tF.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var f0=C((Tbt,gie)=>{"use strict";var m0=Symbol("SemVer ANY"),sF=class e{static get ANY(){return m0}constructor(t,r){if(r=uie(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),nF("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===m0?this.value="":this.value=this.operator+this.semver.version,nF("comp",this)}parse(t){let r=this.options.loose?fie[mie.COMPARATORLOOSE]:fie[mie.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new hie(n[2],this.options.loose):this.semver=m0}toString(){return this.value}test(t){if(nF("Comparator.test",t,this.options.loose),this.semver===m0||t===m0)return!0;if(typeof t=="string")try{t=new hie(t,this.options)}catch{return!1}return rF(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new pie(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new pie(this.value,r).test(t.semver):(r=uie(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||rF(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||rF(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};gie.exports=sF;var uie=Bw(),{safeRe:fie,t:mie}=Np(),rF=QU(),nF=d0(),hie=ii(),pie=jo()});var h0=C((wbt,yie)=>{"use strict";var j$e=jo(),V$e=(e,t,r)=>{try{t=new j$e(t,r)}catch{return!1}return t.test(e)};yie.exports=V$e});var Sie=C((Nbt,Eie)=>{"use strict";var H$e=jo(),z$e=(e,t)=>new H$e(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Eie.exports=z$e});var bie=C((Rbt,Cie)=>{"use strict";var K$e=ii(),G$e=jo(),$$e=(e,t,r)=>{let n=null,s=null,i=null;try{i=new G$e(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new K$e(n,r))}),n};Cie.exports=$$e});var vie=C((Pbt,_ie)=>{"use strict";var W$e=ii(),J$e=jo(),X$e=(e,t,r)=>{let n=null,s=null,i=null;try{i=new J$e(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new W$e(n,r))}),n};_ie.exports=X$e});var Iie=C((Obt,xie)=>{"use strict";var iF=ii(),Y$e=jo(),Aie=u0(),Q$e=(e,t)=>{e=new Y$e(e,t);let r=new iF("0.0.0");if(e.test(r)||(r=new iF("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new iF(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Aie(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||Aie(r,i))&&(r=i)}return r&&e.test(r)?r:null};xie.exports=Q$e});var wie=C((Dbt,Tie)=>{"use strict";var Z$e=jo(),eWe=(e,t)=>{try{return new Z$e(e,t).range||"*"}catch{return null}};Tie.exports=eWe});var Gw=C((kbt,Oie)=>{"use strict";var tWe=ii(),Pie=f0(),{ANY:rWe}=Pie,nWe=jo(),sWe=h0(),Nie=u0(),Rie=jw(),iWe=Hw(),oWe=Vw(),aWe=(e,t,r,n)=>{e=new tWe(e,n),t=new nWe(t,n);let s,i,o,a,c;switch(r){case">":s=Nie,i=iWe,o=Rie,a=">",c=">=";break;case"<":s=Rie,i=oWe,o=Nie,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(sWe(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],m=null,h=null;if(u.forEach(p=>{p.semver===rWe&&(p=new Pie(">=0.0.0")),m=m||p,h=h||p,s(p.semver,m.semver,n)?m=p:o(p.semver,h.semver,n)&&(h=p)}),m.operator===a||m.operator===c||(!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0};Oie.exports=aWe});var kie=C((Bbt,Die)=>{"use strict";var cWe=Gw(),lWe=(e,t,r)=>cWe(e,t,">",r);Die.exports=lWe});var Lie=C((Lbt,Bie)=>{"use strict";var dWe=Gw(),uWe=(e,t,r)=>dWe(e,t,"<",r);Bie.exports=uWe});var Fie=C((Mbt,Uie)=>{"use strict";var Mie=jo(),fWe=(e,t,r)=>(e=new Mie(e,r),t=new Mie(t,r),e.intersects(t,r));Uie.exports=fWe});var jie=C((Ubt,qie)=>{"use strict";var mWe=h0(),hWe=qo();qie.exports=(e,t,r)=>{let n=[],s=null,i=null,o=e.sort((u,m)=>hWe(u,m,r));for(let u of o)mWe(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[u,m]of n)u===m?a.push(u):!m&&u===o[0]?a.push("*"):m?u===o[0]?a.push(`<=${m}`):a.push(`${u} - ${m}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var $ie=C((Fbt,Gie)=>{"use strict";var Vie=jo(),aF=f0(),{ANY:oF}=aF,p0=h0(),cF=qo(),pWe=(e,t,r={})=>{if(e===t)return!0;e=new Vie(e,r),t=new Vie(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let o=yWe(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},gWe=[new aF(">=0.0.0-0")],Hie=[new aF(">=0.0.0")],yWe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===oF){if(t.length===1&&t[0].semver===oF)return!0;r.includePrerelease?e=gWe:e=Hie}if(t.length===1&&t[0].semver===oF){if(r.includePrerelease)return!0;t=Hie}let n=new Set,s,i;for(let p of e)p.operator===">"||p.operator===">="?s=zie(s,p,r):p.operator==="<"||p.operator==="<="?i=Kie(i,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=cF(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!p0(p,String(s),r)||i&&!p0(p,String(i),r))return null;for(let g of t)if(!p0(p,String(g),r))return!1;return!0}let a,c,l,u,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;m&&m.prerelease.length===1&&i.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=zie(s,p,r),a===p&&a!==s)return!1}else if(s.operator===">="&&!p0(s.semver,String(p),r))return!1}if(i){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=Kie(i,p,r),c===p&&c!==i)return!1}else if(i.operator==="<="&&!p0(i.semver,String(p),r))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&u&&!s&&o!==0||h||m)},zie=(e,t,r)=>{if(!e)return t;let n=cF(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Kie=(e,t,r)=>{if(!e)return t;let n=cF(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};Gie.exports=pWe});var $w=C((qbt,Xie)=>{"use strict";var lF=Np(),Wie=l0(),EWe=ii(),Jie=$U(),SWe=wf(),CWe=bse(),bWe=vse(),_We=Ise(),vWe=Nse(),AWe=Pse(),xWe=Dse(),IWe=Bse(),TWe=Mse(),wWe=qo(),NWe=jse(),RWe=Hse(),PWe=qw(),OWe=$se(),DWe=Jse(),kWe=u0(),BWe=jw(),LWe=XU(),MWe=YU(),UWe=Vw(),FWe=Hw(),qWe=QU(),jWe=sie(),VWe=f0(),HWe=jo(),zWe=h0(),KWe=Sie(),GWe=bie(),$We=vie(),WWe=Iie(),JWe=wie(),XWe=Gw(),YWe=kie(),QWe=Lie(),ZWe=Fie(),e9e=jie(),t9e=$ie();Xie.exports={parse:SWe,valid:CWe,clean:bWe,inc:_We,diff:vWe,major:AWe,minor:xWe,patch:IWe,prerelease:TWe,compare:wWe,rcompare:NWe,compareLoose:RWe,compareBuild:PWe,sort:OWe,rsort:DWe,gt:kWe,lt:BWe,eq:LWe,neq:MWe,gte:UWe,lte:FWe,cmp:qWe,coerce:jWe,Comparator:VWe,Range:HWe,satisfies:zWe,toComparators:KWe,maxSatisfying:GWe,minSatisfying:$We,minVersion:WWe,validRange:JWe,outside:XWe,gtr:YWe,ltr:QWe,intersects:ZWe,simplifyRange:e9e,subset:t9e,SemVer:EWe,re:lF.re,src:lF.src,tokens:lF.t,SEMVER_SPEC_VERSION:Wie.SEMVER_SPEC_VERSION,RELEASE_TYPES:Wie.RELEASE_TYPES,compareIdentifiers:Jie.compareIdentifiers,rcompareIdentifiers:Jie.rcompareIdentifiers}});var Qie=C((jbt,Yie)=>{var r9e=$w();Yie.exports=r9e.satisfies(process.version,">=15.7.0")});var eoe=C((Vbt,Zie)=>{var n9e=$w();Zie.exports=n9e.satisfies(process.version,">=16.9.0")});var dF=C((Hbt,toe)=>{var s9e=Qie(),i9e=eoe(),o9e={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a9e={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};toe.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let n=o9e[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(s9e)switch(r){case"ec":let s=t.asymmetricKeyDetails.namedCurve,i=a9e[e];if(s!==i)throw new Error(`"alg" parameter "${e}" requires curve "${i}".`);break;case"rsa-pss":if(i9e){let o=parseInt(e.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:l}=t.asymmetricKeyDetails;if(a!==`sha${o}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(l!==void 0&&l>o>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var uF=C((zbt,roe)=>{var c9e=$w();roe.exports=c9e.satisfies(process.version,"^6.12.0 || >=8.0.0")});var ioe=C((Kbt,soe)=>{var Hr=c0(),l9e=jU(),noe=VU(),d9e=qU(),u9e=zU(),f9e=dF(),m9e=uF(),h9e=Rw(),{KeyObject:p9e,createSecretKey:g9e,createPublicKey:y9e}=require("crypto"),fF=["RS256","RS384","RS512"],E9e=["ES256","ES384","ES512"],mF=["RS256","RS384","RS512"],S9e=["HS256","HS384","HS512"];m9e&&(fF.splice(fF.length,0,"PS256","PS384","PS512"),mF.splice(mF.length,0,"PS256","PS384","PS512"));soe.exports=function(e,t,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let s;if(n?s=n:s=function(u,m){if(u)throw u;return m},r.clockTimestamp&&typeof r.clockTimestamp!="number")return s(new Hr("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return s(new Hr("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return s(new Hr("allowInvalidAsymmetricKeyTypes must be a boolean"));let i=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return s(new Hr("jwt must be provided"));if(typeof e!="string")return s(new Hr("jwt must be a string"));let o=e.split(".");if(o.length!==3)return s(new Hr("jwt malformed"));let a;try{a=d9e(e,{complete:!0})}catch(u){return s(u)}if(!a)return s(new Hr("invalid token"));let c=a.header,l;if(typeof t=="function"){if(!n)return s(new Hr("verify must be called asynchronous if secret or public key is provided as a callback"));l=t}else l=function(u,m){return m(null,t)};return l(c,function(u,m){if(u)return s(new Hr("error in secret or public key callback: "+u.message));let h=o[2].trim()!=="";if(!h&&m)return s(new Hr("jwt signature is required"));if(h&&!m)return s(new Hr("secret or public key must be provided"));if(!h&&!r.algorithms)return s(new Hr('please specify "none" in "algorithms" to verify unsigned tokens'));if(m!=null&&!(m instanceof p9e))try{m=y9e(m)}catch{try{m=g9e(typeof m=="string"?Buffer.from(m):m)}catch{return s(new Hr("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(m.type==="secret"?r.algorithms=S9e:["rsa","rsa-pss"].includes(m.asymmetricKeyType)?r.algorithms=mF:m.asymmetricKeyType==="ec"?r.algorithms=E9e:r.algorithms=fF),r.algorithms.indexOf(a.header.alg)===-1)return s(new Hr("invalid algorithm"));if(c.alg.startsWith("HS")&&m.type!=="secret")return s(new Hr(`secretOrPublicKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)&&m.type!=="public")return s(new Hr(`secretOrPublicKey must be an asymmetric key when using ${c.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{f9e(c.alg,m)}catch(y){return s(y)}let p;try{p=h9e.verify(e,a.header.alg,m)}catch(y){return s(y)}if(!p)return s(new Hr("invalid signature"));let g=a.payload;if(typeof g.nbf<"u"&&!r.ignoreNotBefore){if(typeof g.nbf!="number")return s(new Hr("invalid nbf value"));if(g.nbf>i+(r.clockTolerance||0))return s(new l9e("jwt not active",new Date(g.nbf*1e3)))}if(typeof g.exp<"u"&&!r.ignoreExpiration){if(typeof g.exp!="number")return s(new Hr("invalid exp value"));if(i>=g.exp+(r.clockTolerance||0))return s(new noe("jwt expired",new Date(g.exp*1e3)))}if(r.audience){let y=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(g.aud)?g.aud:[g.aud]).some(function(w){return y.some(function(D){return D instanceof RegExp?D.test(w):D===w})}))return s(new Hr("jwt audience invalid. expected: "+y.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&g.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(g.iss)===-1))return s(new Hr("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&g.sub!==r.subject)return s(new Hr("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&g.jti!==r.jwtid)return s(new Hr("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&g.nonce!==r.nonce)return s(new Hr("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof g.iat!="number")return s(new Hr("iat required when maxAge is specified"));let y=u9e(r.maxAge,g.iat);if(typeof y>"u")return s(new Hr('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=y+(r.clockTolerance||0))return s(new noe("maxAge exceeded",new Date(y*1e3)))}if(r.complete===!0){let y=a.signature;return s(null,{header:c,payload:g,signature:y})}return s(null,g)})}});var uoe=C((Gbt,doe)=>{var ooe=1/0,coe=9007199254740991,C9e=17976931348623157e292,aoe=NaN,b9e="[object Arguments]",_9e="[object Function]",v9e="[object GeneratorFunction]",A9e="[object String]",x9e="[object Symbol]",I9e=/^\s+|\s+$/g,T9e=/^[-+]0x[0-9a-f]+$/i,w9e=/^0b[01]+$/i,N9e=/^0o[0-7]+$/i,R9e=/^(?:0|[1-9]\d*)$/,P9e=parseInt;function O9e(e,t){for(var r=-1,n=e?e.length:0,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}function D9e(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function k9e(e,t,r){if(t!==t)return D9e(e,B9e,r);for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}function B9e(e){return e!==e}function L9e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function M9e(e,t){return O9e(t,function(r){return e[r]})}function U9e(e,t){return function(r){return e(t(r))}}var Ww=Object.prototype,pF=Ww.hasOwnProperty,Jw=Ww.toString,F9e=Ww.propertyIsEnumerable,q9e=U9e(Object.keys,Object),j9e=Math.max;function V9e(e,t){var r=loe(e)||$9e(e)?L9e(e.length,String):[],n=r.length,s=!!n;for(var i in e)(t||pF.call(e,i))&&!(s&&(i=="length"||z9e(i,n)))&&r.push(i);return r}function H9e(e){if(!K9e(e))return q9e(e);var t=[];for(var r in Object(e))pF.call(e,r)&&r!="constructor"&&t.push(r);return t}function z9e(e,t){return t=t??coe,!!t&&(typeof e=="number"||R9e.test(e))&&e>-1&&e%1==0&&e<t}function K9e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ww;return e===r}function G9e(e,t,r,n){e=gF(e)?e:nJe(e),r=r&&!n?eJe(r):0;var s=e.length;return r<0&&(r=j9e(s+r,0)),Y9e(e)?r<=s&&e.indexOf(t,r)>-1:!!s&&k9e(e,t,r)>-1}function $9e(e){return W9e(e)&&pF.call(e,"callee")&&(!F9e.call(e,"callee")||Jw.call(e)==b9e)}var loe=Array.isArray;function gF(e){return e!=null&&X9e(e.length)&&!J9e(e)}function W9e(e){return yF(e)&&gF(e)}function J9e(e){var t=hF(e)?Jw.call(e):"";return t==_9e||t==v9e}function X9e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=coe}function hF(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function yF(e){return!!e&&typeof e=="object"}function Y9e(e){return typeof e=="string"||!loe(e)&&yF(e)&&Jw.call(e)==A9e}function Q9e(e){return typeof e=="symbol"||yF(e)&&Jw.call(e)==x9e}function Z9e(e){if(!e)return e===0?e:0;if(e=tJe(e),e===ooe||e===-ooe){var t=e<0?-1:1;return t*C9e}return e===e?e:0}function eJe(e){var t=Z9e(e),r=t%1;return t===t?r?t-r:t:0}function tJe(e){if(typeof e=="number")return e;if(Q9e(e))return aoe;if(hF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(I9e,"");var r=w9e.test(e);return r||N9e.test(e)?P9e(e.slice(2),r?2:8):T9e.test(e)?aoe:+e}function rJe(e){return gF(e)?V9e(e):H9e(e)}function nJe(e){return e?M9e(e,rJe(e)):[]}doe.exports=G9e});var moe=C(($bt,foe)=>{var sJe="[object Boolean]",iJe=Object.prototype,oJe=iJe.toString;function aJe(e){return e===!0||e===!1||cJe(e)&&oJe.call(e)==sJe}function cJe(e){return!!e&&typeof e=="object"}foe.exports=aJe});var Eoe=C((Wbt,yoe)=>{var hoe=1/0,lJe=17976931348623157e292,poe=NaN,dJe="[object Symbol]",uJe=/^\s+|\s+$/g,fJe=/^[-+]0x[0-9a-f]+$/i,mJe=/^0b[01]+$/i,hJe=/^0o[0-7]+$/i,pJe=parseInt,gJe=Object.prototype,yJe=gJe.toString;function EJe(e){return typeof e=="number"&&e==_Je(e)}function goe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function SJe(e){return!!e&&typeof e=="object"}function CJe(e){return typeof e=="symbol"||SJe(e)&&yJe.call(e)==dJe}function bJe(e){if(!e)return e===0?e:0;if(e=vJe(e),e===hoe||e===-hoe){var t=e<0?-1:1;return t*lJe}return e===e?e:0}function _Je(e){var t=bJe(e),r=t%1;return t===t?r?t-r:t:0}function vJe(e){if(typeof e=="number")return e;if(CJe(e))return poe;if(goe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=goe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(uJe,"");var r=mJe.test(e);return r||hJe.test(e)?pJe(e.slice(2),r?2:8):fJe.test(e)?poe:+e}yoe.exports=EJe});var Coe=C((Jbt,Soe)=>{var AJe="[object Number]",xJe=Object.prototype,IJe=xJe.toString;function TJe(e){return!!e&&typeof e=="object"}function wJe(e){return typeof e=="number"||TJe(e)&&IJe.call(e)==AJe}Soe.exports=wJe});var Aoe=C((Xbt,voe)=>{var NJe="[object Object]";function RJe(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function PJe(e,t){return function(r){return e(t(r))}}var OJe=Function.prototype,boe=Object.prototype,_oe=OJe.toString,DJe=boe.hasOwnProperty,kJe=_oe.call(Object),BJe=boe.toString,LJe=PJe(Object.getPrototypeOf,Object);function MJe(e){return!!e&&typeof e=="object"}function UJe(e){if(!MJe(e)||BJe.call(e)!=NJe||RJe(e))return!1;var t=LJe(e);if(t===null)return!0;var r=DJe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&_oe.call(r)==kJe}voe.exports=UJe});var Ioe=C((Ybt,xoe)=>{var FJe="[object String]",qJe=Object.prototype,jJe=qJe.toString,VJe=Array.isArray;function HJe(e){return!!e&&typeof e=="object"}function zJe(e){return typeof e=="string"||!VJe(e)&&HJe(e)&&jJe.call(e)==FJe}xoe.exports=zJe});var Poe=C((Qbt,Roe)=>{var KJe="Expected a function",Toe=1/0,GJe=17976931348623157e292,woe=NaN,$Je="[object Symbol]",WJe=/^\s+|\s+$/g,JJe=/^[-+]0x[0-9a-f]+$/i,XJe=/^0b[01]+$/i,YJe=/^0o[0-7]+$/i,QJe=parseInt,ZJe=Object.prototype,e7e=ZJe.toString;function t7e(e,t){var r;if(typeof t!="function")throw new TypeError(KJe);return e=o7e(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function r7e(e){return t7e(2,e)}function Noe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function n7e(e){return!!e&&typeof e=="object"}function s7e(e){return typeof e=="symbol"||n7e(e)&&e7e.call(e)==$Je}function i7e(e){if(!e)return e===0?e:0;if(e=a7e(e),e===Toe||e===-Toe){var t=e<0?-1:1;return t*GJe}return e===e?e:0}function o7e(e){var t=i7e(e),r=t%1;return t===t?r?t-r:t:0}function a7e(e){if(typeof e=="number")return e;if(s7e(e))return woe;if(Noe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Noe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(WJe,"");var r=XJe.test(e);return r||YJe.test(e)?QJe(e.slice(2),r?2:8):JJe.test(e)?woe:+e}Roe.exports=r7e});var qoe=C((Zbt,Foe)=>{var Ooe=zU(),c7e=uF(),l7e=dF(),Doe=Rw(),d7e=uoe(),Xw=moe(),koe=Eoe(),EF=Coe(),Loe=Aoe(),xd=Ioe(),u7e=Poe(),{KeyObject:f7e,createSecretKey:m7e,createPrivateKey:h7e}=require("crypto"),Moe=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];c7e&&Moe.splice(3,0,"PS256","PS384","PS512");var p7e={expiresIn:{isValid:function(e){return koe(e)||xd(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return koe(e)||xd(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return xd(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:d7e.bind(null,Moe),message:'"algorithm" must be a valid string enum value'},header:{isValid:Loe,message:'"header" must be an object'},encoding:{isValid:xd,message:'"encoding" must be a string'},issuer:{isValid:xd,message:'"issuer" must be a string'},subject:{isValid:xd,message:'"subject" must be a string'},jwtid:{isValid:xd,message:'"jwtid" must be a string'},noTimestamp:{isValid:Xw,message:'"noTimestamp" must be a boolean'},keyid:{isValid:xd,message:'"keyid" must be a string'},mutatePayload:{isValid:Xw,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:Xw,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:Xw,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},g7e={iat:{isValid:EF,message:'"iat" should be a number of seconds'},exp:{isValid:EF,message:'"exp" should be a number of seconds'},nbf:{isValid:EF,message:'"nbf" should be a number of seconds'}};function Uoe(e,t,r,n){if(!Loe(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(s){let i=e[s];if(!i){if(!t)throw new Error('"'+s+'" is not allowed in "'+n+'"');return}if(!i.isValid(r[s]))throw new Error(i.message)})}function y7e(e){return Uoe(p7e,!1,e,"options")}function E7e(e){return Uoe(g7e,!0,e,"payload")}var Boe={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},S7e=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];Foe.exports=function(e,t,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let s=typeof e=="object"&&!Buffer.isBuffer(e),i=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function o(l){if(n)return n(l);throw l}if(!t&&r.algorithm!=="none")return o(new Error("secretOrPrivateKey must have a value"));if(t!=null&&!(t instanceof f7e))try{t=h7e(t)}catch{try{t=m7e(typeof t=="string"?Buffer.from(t):t)}catch{return o(new Error("secretOrPrivateKey is not valid key material"))}}if(i.alg.startsWith("HS")&&t.type!=="secret")return o(new Error(`secretOrPrivateKey must be a symmetric key when using ${i.alg}`));if(/^(?:RS|PS|ES)/.test(i.alg)){if(t.type!=="private")return o(new Error(`secretOrPrivateKey must be an asymmetric key when using ${i.alg}`));if(!r.allowInsecureKeySizes&&!i.alg.startsWith("ES")&&t.asymmetricKeyDetails!==void 0&&t.asymmetricKeyDetails.modulusLength<2048)return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`))}if(typeof e>"u")return o(new Error("payload is required"));if(s){try{E7e(e)}catch(l){return o(l)}r.mutatePayload||(e=Object.assign({},e))}else{let l=S7e.filter(function(u){return typeof r[u]<"u"});if(l.length>0)return o(new Error("invalid "+l.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof r.expiresIn<"u")return o(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof r.notBefore<"u")return o(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{y7e(r)}catch(l){return o(l)}if(!r.allowInvalidAsymmetricKeyTypes)try{l7e(i.alg,t)}catch(l){return o(l)}let a=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=a),typeof r.notBefore<"u"){try{e.nbf=Ooe(r.notBefore,a)}catch(l){return o(l)}if(typeof e.nbf>"u")return o(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof e=="object"){try{e.exp=Ooe(r.expiresIn,a)}catch(l){return o(l)}if(typeof e.exp>"u")return o(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(Boe).forEach(function(l){let u=Boe[l];if(typeof r[l]<"u"){if(typeof e[u]<"u")return o(new Error('Bad "options.'+l+'" option. The payload already has an "'+u+'" property.'));e[u]=r[l]}});let c=r.encoding||"utf8";if(typeof n=="function")n=n&&u7e(n),Doe.createSign({header:i,privateKey:t,payload:e,encoding:c}).once("error",n).once("done",function(l){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&l.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`));n(null,l)});else{let l=Doe.sign({header:i,payload:e,secret:t,encoding:c});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&l.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`);return l}}});var SF=C((e_t,joe)=>{joe.exports={decode:qU(),verify:ioe(),sign:qoe(),JsonWebTokenError:c0(),NotBeforeError:jU(),TokenExpiredError:VU()}});var Tt=C((t_t,Voe)=>{Voe.exports={options:{usePureJavaScript:!1}}});var Koe=C((r_t,zoe)=>{var CF={};zoe.exports=CF;var Hoe={};CF.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=C7e(e,t);else{var s=0,i=t.length,o=t.charAt(0),a=[0];for(s=0;s<e.length;++s){for(var c=0,l=e[s];c<a.length;++c)l+=a[c]<<8,a[c]=l%i,l=l/i|0;for(;l>0;)a.push(l%i),l=l/i|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=o;for(s=a.length-1;s>=0;--s)n+=t[a[s]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};CF.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Hoe[t];if(!r){r=Hoe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,i=t.charAt(0),o=[0],n=0;n<e.length;n++){var a=r[e.charCodeAt(n)];if(a===void 0)return;for(var c=0,l=a;c<o.length;++c)l+=o[c]*s,o[c]=l&255,l>>=8;for(;l>0;)o.push(l&255),l>>=8}for(var u=0;e[u]===i&&u<e.length-1;++u)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function C7e(e,t){var r=0,n=t.length,s=t.charAt(0),i=[0];for(r=0;r<e.length();++r){for(var o=0,a=e.at(r);o<i.length;++o)a+=i[o]<<8,i[o]=a%n,a=a/n|0;for(;a>0;)i.push(a%n),a=a/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=i.length-1;r>=0;--r)c+=t[i[r]];return c}});var nr=C((n_t,Joe)=>{var Goe=Tt(),$oe=Koe(),F=Joe.exports=Goe.util=Goe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){F.nextTick=process.nextTick,typeof setImmediate=="function"?F.setImmediate=setImmediate:F.setImmediate=F.nextTick;return}if(typeof setImmediate=="function"){F.setImmediate=function(){return setImmediate.apply(void 0,arguments)},F.nextTick=function(a){return setImmediate(a)};return}if(F.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var l=t.slice();t.length=0,l.forEach(function(u){u()})}};var o=a,e="forge.setImmediate",t=[];F.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(l){l()})}).observe(s,{attributes:!0});var i=F.setImmediate;F.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),i(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}F.nextTick=F.setImmediate})();F.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;F.globalScope=(function(){return F.isNodejs?global:typeof self>"u"?window:self})();F.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};F.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};F.isArrayBufferView=function(e){return e&&F.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function g0(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}F.ByteBuffer=bF;function bF(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(F.isArrayBuffer(e)||F.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof bF||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}F.ByteStringBuffer=bF;var b7e=4096;F.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>b7e&&(this.data.substr(0,1),this._constructedStringLength=0)};F.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};F.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};F.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};F.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};F.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};F.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(F.encodeUtf8(e))};F.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};F.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};F.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};F.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};F.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};F.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};F.ByteStringBuffer.prototype.putInt=function(e,t){g0(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};F.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};F.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};F.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};F.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};F.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};F.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};F.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};F.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};F.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};F.ByteStringBuffer.prototype.getInt=function(e){g0(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};F.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};F.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};F.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};F.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};F.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};F.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};F.ByteStringBuffer.prototype.copy=function(){var e=F.createBuffer(this.data);return e.read=this.read,e};F.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};F.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};F.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};F.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};F.ByteStringBuffer.prototype.toString=function(){return F.decodeUtf8(this.bytes())};function _7e(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=F.isArrayBuffer(e),n=F.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}F.DataBuffer=_7e;F.DataBuffer.prototype.length=function(){return this.write-this.read};F.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};F.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};F.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};F.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};F.DataBuffer.prototype.putBytes=function(e,t){if(F.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(F.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof F.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&F.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof F.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var i;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=F.binary.hex.decode(e,i,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),i=new Uint8Array(this.data.buffer,this.write),this.write+=F.binary.base64.decode(e,i,this.write),this;if(t==="utf8"&&(e=F.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=F.binary.raw.decode(i),this;if(t==="utf16")return this.accommodate(e.length*2),i=new Uint16Array(this.data.buffer,this.write),this.write+=F.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};F.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};F.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};F.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};F.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};F.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};F.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};F.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};F.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};F.DataBuffer.prototype.putInt=function(e,t){g0(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};F.DataBuffer.prototype.putSignedInt=function(e,t){return g0(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};F.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};F.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};F.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};F.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};F.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};F.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};F.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};F.DataBuffer.prototype.getInt=function(e){g0(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};F.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};F.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};F.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};F.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};F.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};F.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};F.DataBuffer.prototype.copy=function(){return new F.DataBuffer(this)};F.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};F.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};F.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};F.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};F.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return F.binary.raw.encode(t);if(e==="hex")return F.binary.hex.encode(t);if(e==="base64")return F.binary.base64.encode(t);if(e==="utf8")return F.text.utf8.decode(t);if(e==="utf16")return F.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};F.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=F.encodeUtf8(e)),new F.ByteBuffer(e)};F.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};F.xorBytes=function(e,t,r){for(var n="",s="",i="",o=0,a=0;r>0;--r,++o)s=e.charCodeAt(o)^t.charCodeAt(o),a>=10&&(n+=i,i="",a=0),i+=String.fromCharCode(s),++a;return n+=i,n};F.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};F.bytesToHex=function(e){return F.createBuffer(e).toHex()};F.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Td=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Woe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";F.encode64=function(e,t){for(var r="",n="",s,i,o,a=0;a<e.length;)s=e.charCodeAt(a++),i=e.charCodeAt(a++),o=e.charCodeAt(a++),r+=Id.charAt(s>>2),r+=Id.charAt((s&3)<<4|i>>4),isNaN(i)?r+="==":(r+=Id.charAt((i&15)<<2|o>>6),r+=isNaN(o)?"=":Id.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};F.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,i,o=0;o<e.length;)r=Td[e.charCodeAt(o++)-43],n=Td[e.charCodeAt(o++)-43],s=Td[e.charCodeAt(o++)-43],i=Td[e.charCodeAt(o++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),i!==64&&(t+=String.fromCharCode((s&3)<<6|i)));return t};F.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};F.decodeUtf8=function(e){return decodeURIComponent(escape(e))};F.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:$oe.encode,decode:$oe.decode}};F.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};F.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,i=0;i<e.length;++i)n[s++]=e.charCodeAt(i);return t?s-r:n};F.binary.hex.encode=F.bytesToHex;F.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,i=r;for(e.length&1&&(s=1,n[i++]=parseInt(e[0],16));s<e.length;s+=2)n[i++]=parseInt(e.substr(s,2),16);return t?i-r:n};F.binary.base64.encode=function(e,t){for(var r="",n="",s,i,o,a=0;a<e.byteLength;)s=e[a++],i=e[a++],o=e[a++],r+=Id.charAt(s>>2),r+=Id.charAt((s&3)<<4|i>>4),isNaN(i)?r+="==":(r+=Id.charAt((i&15)<<2|o>>6),r+=isNaN(o)?"=":Id.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};F.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,i,o,a,c=0,l=r;c<e.length;)s=Td[e.charCodeAt(c++)-43],i=Td[e.charCodeAt(c++)-43],o=Td[e.charCodeAt(c++)-43],a=Td[e.charCodeAt(c++)-43],n[l++]=s<<2|i>>4,o!==64&&(n[l++]=(i&15)<<4|o>>2,a!==64&&(n[l++]=(o&3)<<6|a));return t?l-r:n.subarray(0,l)};F.binary.base58.encode=function(e,t){return F.binary.baseN.encode(e,Woe,t)};F.binary.base58.decode=function(e,t){return F.binary.baseN.decode(e,Woe,t)};F.text={utf8:{},utf16:{}};F.text.utf8.encode=function(e,t,r){e=F.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,i=0;i<e.length;++i)n[s++]=e.charCodeAt(i);return t?s-r:n};F.text.utf8.decode=function(e){return F.decodeUtf8(String.fromCharCode.apply(null,e))};F.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var i=r,o=r,a=0;a<e.length;++a)s[o++]=e.charCodeAt(a),i+=2;return t?i-r:n};F.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};F.deflate=function(e,t,r){if(t=F.decode64(e.deflate(F.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};F.inflate=function(e,t,r){var n=e.inflate(F.encode64(t)).rval;return n===null?null:F.decode64(n)};var _F=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=F.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},vF=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(F.decode64(r))),r},v7e=function(e,t,r,n){var s=vF(e,t);s===null&&(s={}),s[r]=n,_F(e,t,s)},A7e=function(e,t,r){var n=vF(e,t);return n!==null&&(n=r in n?n[r]:null),n},x7e=function(e,t,r){var n=vF(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var i in n){s=!1;break}s&&(n=null),_F(e,t,n)}},I7e=function(e,t){_F(e,t,null)},Yw=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,i=!1,o=null;for(var a in r){s=r[a];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),i=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),i=!0)}catch(c){o=c}if(i)break}if(!i)throw o;return n};F.setItem=function(e,t,r,n,s){Yw(v7e,arguments,s)};F.getItem=function(e,t,r,n){return Yw(A7e,arguments,n)};F.removeItem=function(e,t,r,n){Yw(x7e,arguments,n)};F.clearItems=function(e,t,r){Yw(I7e,arguments,r)};F.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};F.format=function(e){for(var t=/%./g,r,n,s=0,i=[],o=0;r=t.exec(e);){n=e.substring(o,t.lastIndex-2),n.length>0&&i.push(n),o=t.lastIndex;var a=r[0][1];switch(a){case"s":case"o":s<arguments.length?i.push(arguments[s+++1]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+a+"?>")}}return i.push(e.substring(o)),i.join("")};F.formatNumber=function(e,t,r,n){var s=e,i=isNaN(t=Math.abs(t))?2:t,o=r===void 0?",":r,a=n===void 0?".":n,c=s<0?"-":"",l=parseInt(s=Math.abs(+s||0).toFixed(i),10)+"",u=l.length>3?l.length%3:0;return c+(u?l.substr(0,u)+a:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(i?o+Math.abs(s-l).toFixed(i).slice(2):"")};F.formatSize=function(e){return e>=1073741824?e=F.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=F.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=F.formatNumber(e/1024,0)+" KiB":e=F.formatNumber(e,0)+" bytes",e};F.bytesFromIP=function(e){return e.indexOf(".")!==-1?F.bytesFromIPv4(e):e.indexOf(":")!==-1?F.bytesFromIPv6(e):null};F.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=F.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};F.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(o){return o.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=F.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var i=F.hexToBytes(e[s]);i.length<2&&n.putByte(0),n.putBytes(i)}return n.getBytes()};F.bytesToIP=function(e){return e.length===4?F.bytesToIPv4(e):e.length===16?F.bytesToIPv6(e):null};F.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};F.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var i=F.bytesToHex(e[s]+e[s+1]);i[0]==="0"&&i!=="0";)i=i.substr(1);if(i==="0"){var o=r[r.length-1],a=t.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(i)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};F.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in F&&!e.update)return t(null,F.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return F.cores=navigator.hardwareConcurrency,t(null,F.cores);if(typeof Worker>"u")return F.cores=1,t(null,F.cores);if(typeof Blob>"u")return F.cores=2,t(null,F.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),c=a+4;Date.now()<c;);self.postMessage({st:a,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,c){if(a===0){var l=Math.floor(o.reduce(function(u,m){return u+m},0)/o.length);return F.cores=Math.max(1,l),URL.revokeObjectURL(r),t(null,F.cores)}s(c,function(u,m){o.push(i(c,m)),n(o,a-1,c)})}function s(o,a){for(var c=[],l=[],u=0;u<o;++u){var m=new Worker(r);m.addEventListener("message",function(h){if(l.push(h.data),l.length===o){for(var p=0;p<o;++p)c[p].terminate();a(null,l)}}),c.push(m)}for(var u=0;u<o;++u)c[u].postMessage(u)}function i(o,a){for(var c=[],l=0;l<o;++l)for(var u=a[l],m=c[l]=[],h=0;h<o;++h)if(l!==h){var p=a[h];(u.st>p.st&&u.st<p.et||p.st>u.st&&p.st<u.et)&&m.push(h)}return c.reduce(function(g,y){return Math.max(g,y.length)},0)}}});var Qw=C((s_t,Xoe)=>{var _s=Tt();nr();Xoe.exports=_s.cipher=_s.cipher||{};_s.cipher.algorithms=_s.cipher.algorithms||{};_s.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=_s.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new _s.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};_s.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=_s.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new _s.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};_s.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),_s.cipher.algorithms[e]=t};_s.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in _s.cipher.algorithms?_s.cipher.algorithms[e]:null};var AF=_s.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};AF.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=_s.util.createBuffer(),this.output=e.output||_s.util.createBuffer(),this.mode.start(t)};AF.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};AF.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var IF=C((i_t,Yoe)=>{var vs=Tt();nr();vs.cipher=vs.cipher||{};var Ut=Yoe.exports=vs.cipher.modes=vs.cipher.modes||{};Ut.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ut.ecb.prototype.start=function(e){};Ut.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ut.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ut.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ut.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ut.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ut.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Zw(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ut.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ut.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ut.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ut.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ut.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=vs.util.createBuffer(),this._partialBytes=0};Ut.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Zw(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ut.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(i>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ut.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(i>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ut.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vs.util.createBuffer(),this._partialBytes=0};Ut.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Zw(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ut.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(i>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ut.ofb.prototype.decrypt=Ut.ofb.prototype.encrypt;Ut.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vs.util.createBuffer(),this._partialBytes=0};Ut.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Zw(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ut.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(i>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}eN(this._inBlock)};Ut.ctr.prototype.decrypt=Ut.ctr.prototype.encrypt;Ut.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=vs.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ut.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=vs.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=vs.util.createBuffer(e.additionalData):r=vs.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=vs.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(xF(n*8)))}this._inBlock=this._j0.slice(0),eN(this._inBlock),this._partialBytes=0,r=vs.util.createBuffer(r),this._aDataLength=xF(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ut.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(i<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),eN(this._inBlock)};Ut.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),eN(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ut.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=vs.util.createBuffer();var n=this._aDataLength.concat(xF(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var i=0;i<this._ints;++i)this.tag.putInt32(this._s[i]^s[i]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ut.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var i=e[s/32|0]&1<<31-s%32;i&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ut.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ut.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,i=this._m[r][s];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t};Ut.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ut.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,i=new Array(s),o=0;o<s;++o){var a=[0,0,0,0],c=o/n|0,l=(n-1-o%n)*t;a[c]=1<<t-1<<l,i[o]=this.generateSubHashTable(this.multiply(a,e),t)}return i};Ut.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var i=n>>>1;i>0;)this.pow(s[2*i],s[i]=[]),i>>=1;for(i=2;i<n;){for(var o=1;o<i;++o){var a=s[i],c=s[o];s[i+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}i*=2}for(s[0]=[0,0,0,0],i=n+1;i<r;++i){var l=s[i^n];s[i]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return s};function Zw(e,t){if(typeof e=="string"&&(e=vs.util.createBuffer(e)),vs.util.isArray(e)&&e.length>4){var r=e;e=vs.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!vs.util.isArray(e)){for(var s=[],i=t/4,n=0;n<i;++n)s.push(e.getInt32());e=s}return e}function eN(e){e[e.length-1]=e[e.length-1]+1&4294967295}function xF(e){return[e/4294967296|0,e&4294967295]}});var wd=C((o_t,tae)=>{var zr=Tt();Qw();IF();nr();tae.exports=zr.aes=zr.aes||{};zr.aes.startEncrypting=function(e,t,r,n){var s=tN({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};zr.aes.createEncryptionCipher=function(e,t){return tN({key:e,output:null,decrypt:!1,mode:t})};zr.aes.startDecrypting=function(e,t,r,n){var s=tN({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};zr.aes.createDecryptionCipher=function(e,t){return tN({key:e,output:null,decrypt:!0,mode:t})};zr.aes.Algorithm=function(e,t){NF||Zoe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return wF(r._w,n,s,!1)},decrypt:function(n,s){return wF(r._w,n,s,!0)}}}),r._init=!1};zr.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=zr.util.createBuffer(t);else if(zr.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=zr.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!zr.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!zr.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var i=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(i)!==-1;this._w=eae(t,e.decrypt&&!o),this._init=!0}};zr.aes._expandKey=function(e,t){return NF||Zoe(),eae(e,t)};zr.aes._updateBlock=wF;Pp("AES-ECB",zr.cipher.modes.ecb);Pp("AES-CBC",zr.cipher.modes.cbc);Pp("AES-CFB",zr.cipher.modes.cfb);Pp("AES-OFB",zr.cipher.modes.ofb);Pp("AES-CTR",zr.cipher.modes.ctr);Pp("AES-GCM",zr.cipher.modes.gcm);function Pp(e,t){var r=function(){return new zr.aes.Algorithm(e,t)};zr.cipher.registerAlgorithm(e,r)}var NF=!1,Rp=4,bi,TF,Qoe,Nf,_a;function Zoe(){NF=!0,Qoe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;bi=new Array(256),TF=new Array(256),Nf=new Array(4),_a=new Array(4);for(var t=0;t<4;++t)Nf[t]=new Array(256),_a[t]=new Array(256);for(var r=0,n=0,s,i,o,a,c,l,u,t=0;t<256;++t){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,bi[r]=a,TF[a]=r,c=e[a],s=e[r],i=e[s],o=e[i],l=c<<24^a<<16^a<<8^(a^c),u=(s^i^o)<<24^(r^o)<<16^(r^i^o)<<8^(r^s^o);for(var m=0;m<4;++m)Nf[m][r]=l,_a[m][a]=u,l=l<<24|l>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=s^e[e[e[s^o]]],n^=e[e[n]])}}function eae(e,t){for(var r=e.slice(0),n,s=1,i=r.length,o=i+6+1,a=Rp*o,c=i;c<a;++c)n=r[c-1],c%i===0?(n=bi[n>>>16&255]<<24^bi[n>>>8&255]<<16^bi[n&255]<<8^bi[n>>>24]^Qoe[s]<<24,s++):i>6&&c%i===4&&(n=bi[n>>>24]<<24^bi[n>>>16&255]<<16^bi[n>>>8&255]<<8^bi[n&255]),r[c]=r[c-i]^n;if(t){var l,u=_a[0],m=_a[1],h=_a[2],p=_a[3],g=r.slice(0);a=r.length;for(var c=0,y=a-Rp;c<a;c+=Rp,y-=Rp)if(c===0||c===a-Rp)g[c]=r[y],g[c+1]=r[y+3],g[c+2]=r[y+2],g[c+3]=r[y+1];else for(var _=0;_<Rp;++_)l=r[y+_],g[c+(3&-_)]=u[bi[l>>>24]]^m[bi[l>>>16&255]]^h[bi[l>>>8&255]]^p[bi[l&255]];r=g}return r}function wF(e,t,r,n){var s=e.length/4-1,i,o,a,c,l;n?(i=_a[0],o=_a[1],a=_a[2],c=_a[3],l=TF):(i=Nf[0],o=Nf[1],a=Nf[2],c=Nf[3],l=bi);var u,m,h,p,g,y,_;u=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var x=3,w=1;w<s;++w)g=i[u>>>24]^o[m>>>16&255]^a[h>>>8&255]^c[p&255]^e[++x],y=i[m>>>24]^o[h>>>16&255]^a[p>>>8&255]^c[u&255]^e[++x],_=i[h>>>24]^o[p>>>16&255]^a[u>>>8&255]^c[m&255]^e[++x],p=i[p>>>24]^o[u>>>16&255]^a[m>>>8&255]^c[h&255]^e[++x],u=g,m=y,h=_;r[0]=l[u>>>24]<<24^l[m>>>16&255]<<16^l[h>>>8&255]<<8^l[p&255]^e[++x],r[n?3:1]=l[m>>>24]<<24^l[h>>>16&255]<<16^l[p>>>8&255]<<8^l[u&255]^e[++x],r[2]=l[h>>>24]<<24^l[p>>>16&255]<<16^l[u>>>8&255]<<8^l[m&255]^e[++x],r[n?1:3]=l[p>>>24]<<24^l[u>>>16&255]<<16^l[m>>>8&255]<<8^l[h&255]^e[++x]}function tN(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=zr.cipher.createDecipher(r,e.key):n=zr.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(i,o){var a=null;o instanceof zr.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=i,s.call(n,o)},n}});var Nd=C((a_t,rae)=>{var y0=Tt();y0.pki=y0.pki||{};var RF=rae.exports=y0.pki.oids=y0.oids=y0.oids||{};function Ce(e,t){RF[e]=t,RF[t]=e}function mr(e,t){RF[e]=t}Ce("1.2.840.113549.1.1.1","rsaEncryption");Ce("1.2.840.113549.1.1.4","md5WithRSAEncryption");Ce("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Ce("1.2.840.113549.1.1.7","RSAES-OAEP");Ce("1.2.840.113549.1.1.8","mgf1");Ce("1.2.840.113549.1.1.9","pSpecified");Ce("1.2.840.113549.1.1.10","RSASSA-PSS");Ce("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Ce("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Ce("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Ce("1.3.101.112","EdDSA25519");Ce("1.2.840.10040.4.3","dsa-with-sha1");Ce("1.3.14.3.2.7","desCBC");Ce("1.3.14.3.2.26","sha1");Ce("1.3.14.3.2.29","sha1WithRSASignature");Ce("2.16.840.1.101.3.4.2.1","sha256");Ce("2.16.840.1.101.3.4.2.2","sha384");Ce("2.16.840.1.101.3.4.2.3","sha512");Ce("2.16.840.1.101.3.4.2.4","sha224");Ce("2.16.840.1.101.3.4.2.5","sha512-224");Ce("2.16.840.1.101.3.4.2.6","sha512-256");Ce("1.2.840.113549.2.2","md2");Ce("1.2.840.113549.2.5","md5");Ce("1.2.840.113549.1.7.1","data");Ce("1.2.840.113549.1.7.2","signedData");Ce("1.2.840.113549.1.7.3","envelopedData");Ce("1.2.840.113549.1.7.4","signedAndEnvelopedData");Ce("1.2.840.113549.1.7.5","digestedData");Ce("1.2.840.113549.1.7.6","encryptedData");Ce("1.2.840.113549.1.9.1","emailAddress");Ce("1.2.840.113549.1.9.2","unstructuredName");Ce("1.2.840.113549.1.9.3","contentType");Ce("1.2.840.113549.1.9.4","messageDigest");Ce("1.2.840.113549.1.9.5","signingTime");Ce("1.2.840.113549.1.9.6","counterSignature");Ce("1.2.840.113549.1.9.7","challengePassword");Ce("1.2.840.113549.1.9.8","unstructuredAddress");Ce("1.2.840.113549.1.9.14","extensionRequest");Ce("1.2.840.113549.1.9.20","friendlyName");Ce("1.2.840.113549.1.9.21","localKeyId");Ce("1.2.840.113549.1.9.22.1","x509Certificate");Ce("1.2.840.113549.1.12.10.1.1","keyBag");Ce("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Ce("1.2.840.113549.1.12.10.1.3","certBag");Ce("1.2.840.113549.1.12.10.1.4","crlBag");Ce("1.2.840.113549.1.12.10.1.5","secretBag");Ce("1.2.840.113549.1.12.10.1.6","safeContentsBag");Ce("1.2.840.113549.1.5.13","pkcs5PBES2");Ce("1.2.840.113549.1.5.12","pkcs5PBKDF2");Ce("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Ce("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Ce("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Ce("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Ce("1.2.840.113549.2.7","hmacWithSHA1");Ce("1.2.840.113549.2.8","hmacWithSHA224");Ce("1.2.840.113549.2.9","hmacWithSHA256");Ce("1.2.840.113549.2.10","hmacWithSHA384");Ce("1.2.840.113549.2.11","hmacWithSHA512");Ce("1.2.840.113549.3.7","des-EDE3-CBC");Ce("2.16.840.1.101.3.4.1.2","aes128-CBC");Ce("2.16.840.1.101.3.4.1.22","aes192-CBC");Ce("2.16.840.1.101.3.4.1.42","aes256-CBC");Ce("2.5.4.3","commonName");Ce("2.5.4.4","surname");Ce("2.5.4.5","serialNumber");Ce("2.5.4.6","countryName");Ce("2.5.4.7","localityName");Ce("2.5.4.8","stateOrProvinceName");Ce("2.5.4.9","streetAddress");Ce("2.5.4.10","organizationName");Ce("2.5.4.11","organizationalUnitName");Ce("2.5.4.12","title");Ce("2.5.4.13","description");Ce("2.5.4.15","businessCategory");Ce("2.5.4.17","postalCode");Ce("2.5.4.42","givenName");Ce("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Ce("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Ce("2.16.840.1.113730.1.1","nsCertType");Ce("2.16.840.1.113730.1.13","nsComment");mr("2.5.29.1","authorityKeyIdentifier");mr("2.5.29.2","keyAttributes");mr("2.5.29.3","certificatePolicies");mr("2.5.29.4","keyUsageRestriction");mr("2.5.29.5","policyMapping");mr("2.5.29.6","subtreesConstraint");mr("2.5.29.7","subjectAltName");mr("2.5.29.8","issuerAltName");mr("2.5.29.9","subjectDirectoryAttributes");mr("2.5.29.10","basicConstraints");mr("2.5.29.11","nameConstraints");mr("2.5.29.12","policyConstraints");mr("2.5.29.13","basicConstraints");Ce("2.5.29.14","subjectKeyIdentifier");Ce("2.5.29.15","keyUsage");mr("2.5.29.16","privateKeyUsagePeriod");Ce("2.5.29.17","subjectAltName");Ce("2.5.29.18","issuerAltName");Ce("2.5.29.19","basicConstraints");mr("2.5.29.20","cRLNumber");mr("2.5.29.21","cRLReason");mr("2.5.29.22","expirationDate");mr("2.5.29.23","instructionCode");mr("2.5.29.24","invalidityDate");mr("2.5.29.25","cRLDistributionPoints");mr("2.5.29.26","issuingDistributionPoint");mr("2.5.29.27","deltaCRLIndicator");mr("2.5.29.28","issuingDistributionPoint");mr("2.5.29.29","certificateIssuer");mr("2.5.29.30","nameConstraints");Ce("2.5.29.31","cRLDistributionPoints");Ce("2.5.29.32","certificatePolicies");mr("2.5.29.33","policyMappings");mr("2.5.29.34","policyConstraints");Ce("2.5.29.35","authorityKeyIdentifier");mr("2.5.29.36","policyConstraints");Ce("2.5.29.37","extKeyUsage");mr("2.5.29.46","freshestCRL");mr("2.5.29.54","inhibitAnyPolicy");Ce("1.3.6.1.4.1.11129.2.4.2","timestampList");Ce("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Ce("1.3.6.1.5.5.7.3.1","serverAuth");Ce("1.3.6.1.5.5.7.3.2","clientAuth");Ce("1.3.6.1.5.5.7.3.3","codeSigning");Ce("1.3.6.1.5.5.7.3.4","emailProtection");Ce("1.3.6.1.5.5.7.3.8","timeStamping")});var va=C((c_t,sae)=>{var Zr=Tt();nr();Nd();var Re=sae.exports=Zr.asn1=Zr.asn1||{};Re.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Re.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Re.create=function(e,t,r,n,s){if(Zr.util.isArray(n)){for(var i=[],o=0;o<n.length;++o)n[o]!==void 0&&i.push(n[o]);n=i}var a={tagClass:e,type:t,constructed:r,composed:r||Zr.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(a.bitStringContents=s.bitStringContents,a.original=Re.copy(a)),a};Re.copy=function(e,t){var r;if(Zr.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Re.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Re.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Re.equals=function(e,t,r){if(Zr.util.isArray(e)){if(!Zr.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Re.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Re.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};Re.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function E0(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var T7e=function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var i=r&127;E0(e,t,i),n=e.getInt(i<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Re.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Zr.util.createBuffer(e));var r=e.length(),n=rN(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function rN(e,t,r,n){var s;E0(e,t,2);var i=e.getByte();t--;var o=i&192,a=i&31;s=e.length();var c=T7e(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var l=new Error("Too few bytes to read ASN.1 value.");throw l.available=e.length(),l.remaining=t,l.requested=c,l}c=t}var u,m,h=(i&32)===32;if(h)if(u=[],c===void 0)for(;;){if(E0(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),u.push(rN(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),u.push(rN(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(u===void 0&&o===Re.Class.UNIVERSAL&&a===Re.Type.BITSTRING&&(m=e.bytes(c)),u===void 0&&n.decodeBitStrings&&o===Re.Class.UNIVERSAL&&a===Re.Type.BITSTRING&&c>1){var p=e.read,g=t,y=0;if(a===Re.Type.BITSTRING&&(E0(e,t,1),y=e.getByte(),t--),y===0)try{s=e.length();var _={strict:!0,decodeBitStrings:!0},x=rN(e,t,r+1,_),w=s-e.length();t-=w,a==Re.Type.BITSTRING&&w++;var D=x.tagClass;w===c&&(D===Re.Class.UNIVERSAL||D===Re.Class.CONTEXT_SPECIFIC)&&(u=[x])}catch{}u===void 0&&(e.read=p,t=g)}if(u===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(a===Re.Type.BMPSTRING)for(u="";c>0;c-=2)E0(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(c),t-=c}var G=m===void 0?null:{bitStringContents:m};return Re.create(o,a,h,u,G)}Re.toDer=function(e){var t=Zr.util.createBuffer(),r=e.tagClass|e.type,n=Zr.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=Re.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var i=0;i<e.value.length;++i)e.value[i]!==void 0&&n.putBuffer(Re.toDer(e.value[i]))}else if(e.type===Re.Type.BMPSTRING)for(var i=0;i<e.value.length;++i)n.putInt16(e.value.charCodeAt(i));else e.type===Re.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);t.putByte(a.length|128);for(var i=a.length-1;i>=0;--i)t.putByte(a.charCodeAt(i))}return t.putBuffer(n),t};Re.oidToDer=function(e){var t=e.split("."),r=Zr.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,i,o,a=2;a<t.length;++a){n=!0,s=[],i=parseInt(t[a],10);do o=i&127,i=i>>>7,n||(o|=128),s.push(o),n=!1;while(i>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};Re.derToOid=function(e){var t;typeof e=="string"&&(e=Zr.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Re.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var c=e.charAt(10),l=10;c!=="+"&&c!=="-"&&(a=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(i,o,a,0),l&&(c=e.charAt(l),c==="+"||c==="-")){var u=parseInt(e.substr(l+1,2),10),m=parseInt(e.substr(l+4,2),10),h=u*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Re.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),c=0,l=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),g=parseInt(e.substr(m+4,2),10);l=p*60+g,l*=6e4,h==="+"&&(l*=-1),u=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,s),t.setUTCHours(i,o,a,c),t.setTime(+t+l)):(t.setFullYear(r,n,s),t.setHours(i,o,a,c)),t};Re.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Re.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Re.integerToDer=function(e){var t=Zr.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Re.derToInteger=function(e){typeof e=="string"&&(e=Zr.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Re.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&Zr.util.isArray(t.value))for(var i=0,o=0;s&&o<t.value.length;++o)s=t.value[o].optional||!1,e.value[i]&&(s=Re.validate(e.value[i],t.value[o],r,n),s?++i:t.value[o].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var a;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var nae=/[^\\u0000-\\u00ff]/;Re.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",i=0;i<t*r;++i)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case Re.Class.UNIVERSAL:n+="Universal:";break;case Re.Class.APPLICATION:n+="Application:";break;case Re.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Re.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Re.Class.UNIVERSAL)switch(n+=e.type,e.type){case Re.Type.NONE:n+=" (None)";break;case Re.Type.BOOLEAN:n+=" (Boolean)";break;case Re.Type.INTEGER:n+=" (Integer)";break;case Re.Type.BITSTRING:n+=" (Bit string)";break;case Re.Type.OCTETSTRING:n+=" (Octet string)";break;case Re.Type.NULL:n+=" (Null)";break;case Re.Type.OID:n+=" (Object Identifier)";break;case Re.Type.ODESC:n+=" (Object Descriptor)";break;case Re.Type.EXTERNAL:n+=" (External or Instance of)";break;case Re.Type.REAL:n+=" (Real)";break;case Re.Type.ENUMERATED:n+=" (Enumerated)";break;case Re.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Re.Type.UTF8:n+=" (UTF8)";break;case Re.Type.ROID:n+=" (Relative Object Identifier)";break;case Re.Type.SEQUENCE:n+=" (Sequence)";break;case Re.Type.SET:n+=" (Set)";break;case Re.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Re.Type.IA5String:n+=" (IA5String (ASCII))";break;case Re.Type.UTCTIME:n+=" (UTC time)";break;case Re.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Re.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var o=0,a="",i=0;i<e.value.length;++i)e.value[i]!==void 0&&(o+=1,a+=Re.prettyPrint(e.value[i],t+1,r),i+1<e.value.length&&(a+=","));n+=s+"Sub values: "+o+a}else{if(n+=s+"Value: ",e.type===Re.Type.OID){var c=Re.derToOid(e.value);n+=c,Zr.pki&&Zr.pki.oids&&c in Zr.pki.oids&&(n+=" ("+Zr.pki.oids[c]+") ")}if(e.type===Re.Type.INTEGER)try{n+=Re.derToInteger(e.value)}catch{n+="0x"+Zr.util.bytesToHex(e.value)}else if(e.type===Re.Type.BITSTRING){if(e.value.length>1?n+="0x"+Zr.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var l=e.value.charCodeAt(0);l==1?n+=" (1 unused bit shown)":l>1&&(n+=" ("+l+" unused bits shown)")}}else if(e.type===Re.Type.OCTETSTRING)nae.test(e.value)||(n+="("+e.value+") "),n+="0x"+Zr.util.bytesToHex(e.value);else if(e.type===Re.Type.UTF8)try{n+=Zr.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+Zr.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===Re.Type.PRINTABLESTRING||e.type===Re.Type.IA5String?n+=e.value:nae.test(e.value)?n+="0x"+Zr.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var cc=C((l_t,iae)=>{var nN=Tt();iae.exports=nN.md=nN.md||{};nN.md.algorithms=nN.md.algorithms||{}});var Op=C((d_t,oae)=>{var ll=Tt();cc();nr();var w7e=oae.exports=ll.hmac=ll.hmac||{};w7e.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(i,o){if(i!==null)if(typeof i=="string")if(i=i.toLowerCase(),i in ll.md.algorithms)t=ll.md.algorithms[i].create();else throw new Error('Unknown hash algorithm "'+i+'"');else t=i;if(o===null)o=e;else{if(typeof o=="string")o=ll.util.createBuffer(o);else if(ll.util.isArray(o)){var a=o;o=ll.util.createBuffer();for(var c=0;c<a.length;++c)o.putByte(a[c])}var l=o.length();l>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=ll.util.createBuffer(),n=ll.util.createBuffer(),l=o.length();for(var c=0;c<l;++c){var a=o.at(c);r.putByte(54^a),n.putByte(92^a)}if(l<t.blockLength)for(var a=t.blockLength-l,c=0;c<a;++c)r.putByte(54),n.putByte(92);e=o,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(i){t.update(i)},s.getMac=function(){var i=t.digest().bytes();return t.start(),t.update(n),t.update(i),t.digest()},s.digest=s.getMac,s}});var iN=C((u_t,dae)=>{var lc=Tt();cc();nr();var cae=dae.exports=lc.md5=lc.md5||{};lc.md.md5=lc.md.algorithms.md5=cae;cae.create=function(){lae||N7e();var e=null,t=lc.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return t=lc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=lc.util.encodeUtf8(s));var o=s.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),aae(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=lc.util.createBuffer();s.putBytes(t.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=i&n.blockLength-1;s.putBytes(PF.substr(0,n.blockLength-o));for(var a,c=0,l=n.fullMessageLength.length-1;l>=0;--l)a=n.fullMessageLength[l]*8+c,c=a/4294967296>>>0,s.putInt32Le(a>>>0);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};aae(u,r,s);var m=lc.util.createBuffer();return m.putInt32Le(u.h0),m.putInt32Le(u.h1),m.putInt32Le(u.h2),m.putInt32Le(u.h3),m},n};var PF=null,sN=null,S0=null,Dp=null,lae=!1;function N7e(){PF="\x80",PF+=lc.util.fillString("\0",64),sN=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],S0=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Dp=new Array(64);for(var e=0;e<64;++e)Dp[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);lae=!0}function aae(e,t,r){for(var n,s,i,o,a,c,l,u,m=r.length();m>=64;){for(s=e.h0,i=e.h1,o=e.h2,a=e.h3,u=0;u<16;++u)t[u]=r.getInt32Le(),c=a^i&(o^a),n=s+c+Dp[u]+t[u],l=S0[u],s=a,a=o,o=i,i+=n<<l|n>>>32-l;for(;u<32;++u)c=o^a&(i^o),n=s+c+Dp[u]+t[sN[u]],l=S0[u],s=a,a=o,o=i,i+=n<<l|n>>>32-l;for(;u<48;++u)c=i^o^a,n=s+c+Dp[u]+t[sN[u]],l=S0[u],s=a,a=o,o=i,i+=n<<l|n>>>32-l;for(;u<64;++u)c=o^(i|~a),n=s+c+Dp[u]+t[sN[u]],l=S0[u],s=a,a=o,o=i,i+=n<<l|n>>>32-l;e.h0=e.h0+s|0,e.h1=e.h1+i|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,m-=64}}});var Rf=C((f_t,fae)=>{var aN=Tt();nr();var uae=fae.exports=aN.pem=aN.pem||{};uae.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=oN(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=oN(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=oN(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=oN(e.headers[s]);return e.procType&&(r+=`\r
`),r+=aN.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};uae.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,i;i=r.exec(e),!!i;){var o=i[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var a={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:aN.util.decode64(i[3])};if(t.push(a),!!i[2]){for(var c=i[2].split(s),l=0;i&&l<c.length;){for(var u=c[l].replace(/\s+$/,""),m=l+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;u+=h,l=m}if(i=u.match(n),i){for(var p={name:i[1],values:[]},g=i[2].split(","),y=0;y<g.length;++y)p.values.push(R7e(g[y]));if(a.procType)if(!a.contentDomain&&p.name==="Content-Domain")a.contentDomain=g[0]||"";else if(!a.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:g[0],parameters:g[1]||null}}else a.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:g[0],type:g[1]}}}++l}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function oN(e){for(var t=e.name+": ",r=[],n=function(c,l){return" "+l},s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var i=0,o=-1,s=0;s<t.length;++s,++i)if(i>65&&o!==-1){var a=t[o];a===","?(++o,t=t.substr(0,o)+`\r
 `+t.substr(o)):t=t.substr(0,o)+`\r
`+a+t.substr(o+1),i=s-o-1,o=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(o=s);return t}function R7e(e){return e.replace(/^\s+/,"")}});var C0=C((m_t,hae)=>{var cn=Tt();Qw();IF();nr();hae.exports=cn.des=cn.des||{};cn.des.startEncrypting=function(e,t,r,n){var s=cN({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};cn.des.createEncryptionCipher=function(e,t){return cN({key:e,output:null,decrypt:!1,mode:t})};cn.des.startDecrypting=function(e,t,r,n){var s=cN({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};cn.des.createDecryptionCipher=function(e,t){return cN({key:e,output:null,decrypt:!0,mode:t})};cn.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return mae(r._keys,n,s,!1)},decrypt:function(n,s){return mae(r._keys,n,s,!0)}}}),r._init=!1};cn.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=cn.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=F7e(t),this._init=!0}};dc("DES-ECB",cn.cipher.modes.ecb);dc("DES-CBC",cn.cipher.modes.cbc);dc("DES-CFB",cn.cipher.modes.cfb);dc("DES-OFB",cn.cipher.modes.ofb);dc("DES-CTR",cn.cipher.modes.ctr);dc("3DES-ECB",cn.cipher.modes.ecb);dc("3DES-CBC",cn.cipher.modes.cbc);dc("3DES-CFB",cn.cipher.modes.cfb);dc("3DES-OFB",cn.cipher.modes.ofb);dc("3DES-CTR",cn.cipher.modes.ctr);function dc(e,t){var r=function(){return new cn.des.Algorithm(e,t)};cn.cipher.registerAlgorithm(e,r)}var P7e=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],O7e=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],D7e=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],k7e=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],B7e=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],L7e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],M7e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],U7e=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function F7e(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],i=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,_=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],w=0,D,G=0;G<y;G++){var W=e.getInt32(),J=e.getInt32();D=(W>>>4^J)&252645135,J^=D,W^=D<<4,D=(J>>>-16^W)&65535,W^=D,J^=D<<-16,D=(W>>>2^J)&858993459,J^=D,W^=D<<2,D=(J>>>-16^W)&65535,W^=D,J^=D<<-16,D=(W>>>1^J)&1431655765,J^=D,W^=D<<1,D=(J>>>8^W)&16711935,W^=D,J^=D<<8,D=(W>>>1^J)&1431655765,J^=D,W^=D<<1,D=W<<8|J>>>20&240,W=J<<24|J<<8&16711680|J>>>8&65280|J>>>24&240,J=D;for(var xe=0;xe<x.length;++xe){x[xe]?(W=W<<2|W>>>26,J=J<<2|J>>>26):(W=W<<1|W>>>27,J=J<<1|J>>>27),W&=-15,J&=-15;var be=t[W>>>28]|r[W>>>24&15]|n[W>>>20&15]|s[W>>>16&15]|i[W>>>12&15]|o[W>>>8&15]|a[W>>>4&15],De=c[J>>>28]|l[J>>>24&15]|u[J>>>20&15]|m[J>>>16&15]|h[J>>>12&15]|p[J>>>8&15]|g[J>>>4&15];D=(De>>>16^be)&65535,_[w++]=be^D,_[w++]=De^D<<16}}return _}function mae(e,t,r,n){var s=e.length===32?3:9,i;s===3?i=n?[30,-2,-2]:[0,32,2]:i=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=t[0],c=t[1];o=(a>>>4^c)&252645135,c^=o,a^=o<<4,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,a=a<<1|a>>>31,c=c<<1|c>>>31;for(var l=0;l<s;l+=3){for(var u=i[l+1],m=i[l+2],h=i[l];h!=u;h+=m){var p=c^e[h],g=(c>>>4|c<<28)^e[h+1];o=a,a=c,c=o^(O7e[p>>>24&63]|k7e[p>>>16&63]|L7e[p>>>8&63]|U7e[p&63]|P7e[g>>>24&63]|D7e[g>>>16&63]|B7e[g>>>8&63]|M7e[g&63])}o=a,a=c,c=o}a=a>>>1|a<<31,c=c>>>1|c<<31,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(a>>>4^c)&252645135,c^=o,a^=o<<4,r[0]=a,r[1]=c}function cN(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=cn.cipher.createDecipher(r,e.key):n=cn.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(i,o){var a=null;o instanceof cn.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=i,s.call(n,o)},n}});var lN=C((h_t,pae)=>{var _i=Tt();Op();cc();nr();var q7e=_i.pkcs5=_i.pkcs5||{},dl;_i.util.isNodejs&&!_i.options.usePureJavaScript&&(dl=require("crypto"));pae.exports=_i.pbkdf2=q7e.pbkdf2=function(e,t,r,n,s,i){if(typeof s=="function"&&(i=s,s=null),_i.util.isNodejs&&!_i.options.usePureJavaScript&&dl.pbkdf2&&(s===null||typeof s!="object")&&(dl.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),i?dl.pbkdf2Sync.length===4?dl.pbkdf2(e,t,r,n,function(D,G){if(D)return i(D);i(null,G.toString("binary"))}):dl.pbkdf2(e,t,r,n,s,function(D,G){if(D)return i(D);i(null,G.toString("binary"))}):dl.pbkdf2Sync.length===4?dl.pbkdf2Sync(e,t,r,n).toString("binary"):dl.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in _i.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=_i.md[s].create()}var o=s.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(i)return i(a);throw a}var c=Math.ceil(n/o),l=n-(c-1)*o,u=_i.hmac.create();u.start(s,e);var m="",h,p,g;if(!i){for(var y=1;y<=c;++y){u.start(null,null),u.update(t),u.update(_i.util.int32ToBytes(y)),h=g=u.digest().getBytes();for(var _=2;_<=r;++_)u.start(null,null),u.update(g),p=u.digest().getBytes(),h=_i.util.xorBytes(h,p,o),g=p;m+=y<c?h:h.substr(0,l)}return m}var y=1,_;function x(){if(y>c)return i(null,m);u.start(null,null),u.update(t),u.update(_i.util.int32ToBytes(y)),h=g=u.digest().getBytes(),_=2,w()}function w(){if(_<=r)return u.start(null,null),u.update(g),p=u.digest().getBytes(),h=_i.util.xorBytes(h,p,o),g=p,++_,_i.util.setImmediate(w);m+=y<c?h:h.substr(0,l),++y,x()}x()}});var DF=C((p_t,Cae)=>{var uc=Tt();cc();nr();var yae=Cae.exports=uc.sha256=uc.sha256||{};uc.md.sha256=uc.md.algorithms.sha256=yae;yae.create=function(){Eae||j7e();var e=null,t=uc.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return t=uc.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=uc.util.encodeUtf8(s));var o=s.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),gae(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=uc.util.createBuffer();s.putBytes(t.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=i&n.blockLength-1;s.putBytes(OF.substr(0,n.blockLength-o));for(var a,c,l=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,c=a/4294967296>>>0,l+=c,s.putInt32(l>>>0),l=a>>>0;s.putInt32(l);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};gae(m,r,s);var h=uc.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var OF=null,Eae=!1,Sae=null;function j7e(){OF="\x80",OF+=uc.util.fillString("\0",64),Sae=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Eae=!0}function gae(e,t,r){for(var n,s,i,o,a,c,l,u,m,h,p,g,y,_,x,w=r.length();w>=64;){for(l=0;l<16;++l)t[l]=r.getInt32();for(;l<64;++l)n=t[l-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[l-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[l]=n+t[l-7]+s+t[l-16]|0;for(u=e.h0,m=e.h1,h=e.h2,p=e.h3,g=e.h4,y=e.h5,_=e.h6,x=e.h7,l=0;l<64;++l)o=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),a=_^g&(y^_),i=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),c=u&m|h&(u^m),n=x+o+a+Sae[l]+t[l],s=i+c,x=_,_=y,y=g,g=p+n>>>0,p=h,h=m,m=u,u=n+s>>>0;e.h0=e.h0+u|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+y|0,e.h6=e.h6+_|0,e.h7=e.h7+x|0,w-=64}}});var kF=C((g_t,bae)=>{var fc=Tt();nr();var dN=null;fc.util.isNodejs&&!fc.options.usePureJavaScript&&!process.versions["node-webkit"]&&(dN=require("crypto"));var V7e=bae.exports=fc.prng=fc.prng||{};V7e.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(l,u){if(!u)return t.generateSync(l);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed,y=fc.util.createBuffer();t.key=null,_();function _(x){if(x)return u(x);if(y.length()>=l)return u(null,y.getBytes(l));if(t.generated>1048575&&(t.key=null),t.key===null)return fc.util.nextTick(function(){i(_)});var w=m(t.key,t.seed);t.generated+=w.length,y.putBytes(w),t.key=p(m(t.key,h(t.seed))),t.seed=g(m(t.key,t.seed)),fc.util.setImmediate(_)}},t.generateSync=function(l){var u=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var g=fc.util.createBuffer();g.length()<l;){t.generated>1048575&&(t.key=null),t.key===null&&o();var y=u(t.key,t.seed);t.generated+=y.length,g.putBytes(y),t.key=h(u(t.key,m(t.seed))),t.seed=p(u(t.key,t.seed))}return g.getBytes(l)};function i(l){if(t.pools[0].messageLength>=32)return a(),l();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(m,h){if(m)return l(m);t.collect(h),a(),l()})}function o(){if(t.pools[0].messageLength>=32)return a();var l=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(l)),a()}function a(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var l=t.plugin.md.create();l.update(t.keyBytes);for(var u=1,m=0;m<32;++m)t.reseeds%u===0&&(l.update(t.pools[m].digest().getBytes()),t.pools[m].start()),u=u<<1;t.keyBytes=l.digest().getBytes(),l.start(),l.update(t.keyBytes);var h=l.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}function c(l){var u=null,m=fc.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(u=function(W){return h.getRandomValues(W)});var p=fc.util.createBuffer();if(u)for(;p.length()<l;){var g=Math.max(1,Math.min(l-p.length(),65536)/4),y=new Uint32Array(Math.floor(g));try{u(y);for(var _=0;_<y.length;++_)p.putInt32(y[_])}catch(W){if(!(typeof QuotaExceededError<"u"&&W instanceof QuotaExceededError))throw W}}if(p.length()<l)for(var x,w,D,G=Math.floor(Math.random()*65536);p.length()<l;){w=16807*(G&65535),x=16807*(G>>16),w+=(x&32767)<<16,w+=x>>15,w=(w&2147483647)+(w>>31),G=w&4294967295;for(var _=0;_<3;++_)D=G>>>(_<<3),D^=Math.floor(Math.random()*256),p.putByte(D&255)}return p.getBytes(l)}return dN?(t.seedFile=function(l,u){dN.randomBytes(l,function(m,h){if(m)return u(m);u(null,h.toString())})},t.seedFileSync=function(l){return dN.randomBytes(l).toString()}):(t.seedFile=function(l,u){try{u(null,c(l))}catch(m){u(m)}},t.seedFileSync=c),t.collect=function(l){for(var u=l.length,m=0;m<u;++m)t.pools[t.pool].update(l.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(l,u){for(var m="",h=0;h<u;h+=8)m+=String.fromCharCode(l>>h&255);t.collect(m)},t.registerWorker=function(l){if(l===self)t.seedFile=function(m,h){function p(g){var y=g.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",p),h(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var u=function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,g){l.postMessage({forge:{prng:{err:p,bytes:g}}})})};l.addEventListener("message",u)}},t}});var Vo=C((y_t,BF)=>{var As=Tt();wd();DF();kF();nr();(function(){if(As.random&&As.random.getBytes){BF.exports=As.random;return}(function(e){var t={},r=new Array(4),n=As.util.createBuffer();t.formatKey=function(m){var h=As.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),As.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=As.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return As.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=As.md.sha256;function s(){var m=As.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}var i=s(),o=null,a=As.util.globalScope,c=a.crypto||a.msCrypto;if(c&&c.getRandomValues&&(o=function(m){return c.getRandomValues(m)}),As.options.usePureJavaScript||!As.util.isNodejs&&!o){if(typeof window>"u"||window.document,i.collectInt(+new Date,32),typeof navigator<"u"){var l="";for(var u in navigator)try{typeof navigator[u]=="string"&&(l+=navigator[u])}catch{}i.collect(l),l=null}e&&(e().mousemove(function(m){i.collectInt(m.clientX,16),i.collectInt(m.clientY,16)}),e().keypress(function(m){i.collectInt(m.charCode,8)}))}if(!As.random)As.random=i;else for(var u in i)As.random[u]=i[u];As.random.createInstance=s,BF.exports=As.random})(typeof jQuery<"u"?jQuery:null)})()});var MF=C((E_t,Aae)=>{var Vi=Tt();nr();var LF=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],_ae=[1,2,3,5],H7e=function(e,t){return e<<t&65535|(e&65535)>>16-t},z7e=function(e,t){return(e&65535)>>t|e<<16-t&65535};Aae.exports=Vi.rc2=Vi.rc2||{};Vi.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Vi.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,i=Math.ceil(s/8),o=255>>(s&7),a;for(a=n;a<128;a++)r.putByte(LF[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-i,LF[r.at(128-i)&o]),a=127-i;a>=0;a--)r.setAt(a,LF[r.at(a+1)^r.at(a+i)]);return r};var vae=function(e,t,r){var n=!1,s=null,i=null,o=null,a,c,l,u,m=[];for(e=Vi.rc2.expandKey(e,t),l=0;l<64;l++)m.push(e.getInt16Le());r?(a=function(g){for(l=0;l<4;l++)g[l]+=m[u]+(g[(l+3)%4]&g[(l+2)%4])+(~g[(l+3)%4]&g[(l+1)%4]),g[l]=H7e(g[l],_ae[l]),u++},c=function(g){for(l=0;l<4;l++)g[l]+=m[g[(l+3)%4]&63]}):(a=function(g){for(l=3;l>=0;l--)g[l]=z7e(g[l],_ae[l]),g[l]-=m[u]+(g[(l+3)%4]&g[(l+2)%4])+(~g[(l+3)%4]&g[(l+1)%4]),u--},c=function(g){for(l=3;l>=0;l--)g[l]-=m[g[(l+3)%4]&63]});var h=function(g){var y=[];for(l=0;l<4;l++){var _=s.getInt16Le();o!==null&&(r?_^=o.getInt16Le():o.putInt16Le(_)),y.push(_&65535)}u=r?0:63;for(var x=0;x<g.length;x++)for(var w=0;w<g[x][0];w++)g[x][1](y);for(l=0;l<4;l++)o!==null&&(r?o.putInt16Le(y[l]):y[l]^=o.getInt16Le()),i.putInt16Le(y[l])},p=null;return p={start:function(g,y){g&&typeof g=="string"&&(g=Vi.util.createBuffer(g)),n=!1,s=Vi.util.createBuffer(),i=y||new Vi.util.createBuffer,o=g,p.output=i},update:function(g){for(n||s.putBuffer(g);s.length()>=8;)h([[5,a],[1,c],[6,a],[1,c],[5,a]])},finish:function(g){var y=!0;if(r)if(g)y=g(8,s,!r);else{var _=s.length()===8?8:8-s.length();s.fillWithByte(_,_)}if(y&&(n=!0,p.update()),!r&&(y=s.length()===0,y))if(g)y=g(8,i,!r);else{var x=i.length(),w=i.at(x-1);w>x?y=!1:i.truncate(w)}return y}},p};Vi.rc2.startEncrypting=function(e,t,r){var n=Vi.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Vi.rc2.createEncryptionCipher=function(e,t){return vae(e,t,!0)};Vi.rc2.startDecrypting=function(e,t,r){var n=Vi.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Vi.rc2.createDecryptionCipher=function(e,t){return vae(e,t,!1)}});var _0=C((S_t,Oae)=>{var UF=Tt();Oae.exports=UF.jsbn=UF.jsbn||{};var ul,K7e=0xdeadbeefcafe,xae=(K7e&16777215)==15715070;function he(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}UF.jsbn.BigInteger=he;function sr(){return new he(null)}function G7e(e,t,r,n,s,i){for(;--i>=0;){var o=t*this.data[e++]+r.data[n]+s;s=Math.floor(o/67108864),r.data[n++]=o&67108863}return s}function $7e(e,t,r,n,s,i){for(var o=t&32767,a=t>>15;--i>=0;){var c=this.data[e]&32767,l=this.data[e++]>>15,u=a*c+l*o;c=o*c+((u&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(u>>>15)+a*l+(s>>>30),r.data[n++]=c&1073741823}return s}function Iae(e,t,r,n,s,i){for(var o=t&16383,a=t>>14;--i>=0;){var c=this.data[e]&16383,l=this.data[e++]>>14,u=a*c+l*o;c=o*c+((u&16383)<<14)+r.data[n]+s,s=(c>>28)+(u>>14)+a*l,r.data[n++]=c&268435455}return s}typeof navigator>"u"?(he.prototype.am=Iae,ul=28):xae&&navigator.appName=="Microsoft Internet Explorer"?(he.prototype.am=$7e,ul=30):xae&&navigator.appName!="Netscape"?(he.prototype.am=G7e,ul=26):(he.prototype.am=Iae,ul=28);he.prototype.DB=ul;he.prototype.DM=(1<<ul)-1;he.prototype.DV=1<<ul;var FF=52;he.prototype.FV=Math.pow(2,FF);he.prototype.F1=FF-ul;he.prototype.F2=2*ul-FF;var W7e="0123456789abcdefghijklmnopqrstuvwxyz",uN=new Array,kp,Ho;kp=48;for(Ho=0;Ho<=9;++Ho)uN[kp++]=Ho;kp=97;for(Ho=10;Ho<36;++Ho)uN[kp++]=Ho;kp=65;for(Ho=10;Ho<36;++Ho)uN[kp++]=Ho;function Tae(e){return W7e.charAt(e)}function wae(e,t){var r=uN[e.charCodeAt(t)];return r??-1}function J7e(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function X7e(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Rd(e){var t=sr();return t.fromInt(e),t}function Y7e(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,i=0;--n>=0;){var o=r==8?e[n]&255:wae(e,n);if(o<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,i==0?this.data[this.t++]=o:i+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this.data[this.t++]=o>>this.DB-i):this.data[this.t-1]|=o<<i,i+=r,i>=this.DB&&(i-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,i>0&&(this.data[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),s&&he.ZERO.subTo(this,this)}function Q7e(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function Z7e(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,i="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(s=!0,i=Tae(n));o>=0;)a<t?(n=(this.data[o]&(1<<a)-1)<<t-a,n|=this.data[--o]>>(a+=this.DB-t)):(n=this.data[o]>>(a-=t)&r,a<=0&&(a+=this.DB,--o)),n>0&&(s=!0),s&&(i+=Tae(n));return s?i:"0"}function eXe(){var e=sr();return he.ZERO.subTo(this,e),e}function tXe(){return this.s<0?this.negate():this}function rXe(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function fN(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function nXe(){return this.t<=0?0:this.DB*(this.t-1)+fN(this.data[this.t-1]^this.s&this.DM)}function sXe(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function iXe(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function oXe(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,i=Math.floor(e/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)t.data[a+i+1]=this.data[a]>>n|o,o=(this.data[a]&s)<<r;for(a=i-1;a>=0;--a)t.data[a]=0;t.data[i]=o,t.t=this.t+i+1,t.s=this.s,t.clamp()}function aXe(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&i)<<s,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<s),t.t=this.t-r,t.clamp()}function cXe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function lXe(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&he.ZERO.subTo(t,t)}function dXe(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function uXe(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=sr());var i=sr(),o=this.s,a=e.s,c=this.DB-fN(n.data[n.t-1]);c>0?(n.lShiftTo(c,i),s.lShiftTo(c,r)):(n.copyTo(i),s.copyTo(r));var l=i.t,u=i.data[l-1];if(u!=0){var m=u*(1<<this.F1)+(l>1?i.data[l-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,g=1<<this.F2,y=r.t,_=y-l,x=t??sr();for(i.dlShiftTo(_,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),he.ONE.dlShiftTo(l,x),x.subTo(i,i);i.t<l;)i.data[i.t++]=0;for(;--_>=0;){var w=r.data[--y]==u?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+g)*p);if((r.data[y]+=i.am(0,w,r,_,0,l))<w)for(i.dlShiftTo(_,x),r.subTo(x,r);r.data[y]<--w;)r.subTo(x,r)}t!=null&&(r.drShiftTo(l,t),o!=a&&he.ZERO.subTo(t,t)),r.t=l,r.clamp(),c>0&&r.rShiftTo(c,r),o<0&&he.ZERO.subTo(r,r)}}}function fXe(e){var t=sr();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(he.ZERO)>0&&e.subTo(t,t),t}function Pf(e){this.m=e}function mXe(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function hXe(e){return e}function pXe(e){e.divRemTo(this.m,null,e)}function gXe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function yXe(e,t){e.squareTo(t),this.reduce(t)}Pf.prototype.convert=mXe;Pf.prototype.revert=hXe;Pf.prototype.reduce=pXe;Pf.prototype.mulTo=gXe;Pf.prototype.sqrTo=yXe;function EXe(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Of(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function SXe(e){var t=sr();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(he.ZERO)>0&&this.m.subTo(t,t),t}function CXe(e){var t=sr();return e.copyTo(t),this.reduce(t),t}function bXe(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function _Xe(e,t){e.squareTo(t),this.reduce(t)}function vXe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Of.prototype.convert=SXe;Of.prototype.revert=CXe;Of.prototype.reduce=bXe;Of.prototype.mulTo=vXe;Of.prototype.sqrTo=_Xe;function AXe(){return(this.t>0?this.data[0]&1:this.s)==0}function xXe(e,t){if(e>4294967295||e<1)return he.ONE;var r=sr(),n=sr(),s=t.convert(this),i=fN(e)-1;for(s.copyTo(r);--i>=0;)if(t.sqrTo(r,n),(e&1<<i)>0)t.mulTo(n,s,r);else{var o=r;r=n,n=o}return t.revert(r)}function IXe(e,t){var r;return e<256||t.isEven()?r=new Pf(t):r=new Of(t),this.exp(e,r)}he.prototype.copyTo=J7e;he.prototype.fromInt=X7e;he.prototype.fromString=Y7e;he.prototype.clamp=Q7e;he.prototype.dlShiftTo=sXe;he.prototype.drShiftTo=iXe;he.prototype.lShiftTo=oXe;he.prototype.rShiftTo=aXe;he.prototype.subTo=cXe;he.prototype.multiplyTo=lXe;he.prototype.squareTo=dXe;he.prototype.divRemTo=uXe;he.prototype.invDigit=EXe;he.prototype.isEven=AXe;he.prototype.exp=xXe;he.prototype.toString=Z7e;he.prototype.negate=eXe;he.prototype.abs=tXe;he.prototype.compareTo=rXe;he.prototype.bitLength=nXe;he.prototype.mod=fXe;he.prototype.modPowInt=IXe;he.ZERO=Rd(0);he.ONE=Rd(1);function TXe(){var e=sr();return this.copyTo(e),e}function wXe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function NXe(){return this.t==0?this.s:this.data[0]<<24>>24}function RXe(){return this.t==0?this.s:this.data[0]<<16>>16}function PXe(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function OXe(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function DXe(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Rd(r),s=sr(),i=sr(),o="";for(this.divRemTo(n,s,i);s.signum()>0;)o=(r+i.intValue()).toString(e).substr(1)+o,s.divRemTo(n,s,i);return i.intValue().toString(e)+o}function kXe(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,i=0,o=0,a=0;a<e.length;++a){var c=wae(e,a);if(c<0){e.charAt(a)=="-"&&this.signum()==0&&(s=!0);continue}o=t*o+c,++i>=r&&(this.dMultiply(n),this.dAddOffset(o,0),i=0,o=0)}i>0&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(o,0)),s&&he.ZERO.subTo(this,this)}function BXe(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(he.ONE.shiftLeft(e-1),qF,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(he.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}function LXe(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}function MXe(e){return this.compareTo(e)==0}function UXe(e){return this.compareTo(e)<0?this:e}function FXe(e){return this.compareTo(e)>0?this:e}function qXe(e,t,r){var n,s,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function jXe(e,t){return e&t}function VXe(e){var t=sr();return this.bitwiseTo(e,jXe,t),t}function qF(e,t){return e|t}function HXe(e){var t=sr();return this.bitwiseTo(e,qF,t),t}function Nae(e,t){return e^t}function zXe(e){var t=sr();return this.bitwiseTo(e,Nae,t),t}function Rae(e,t){return e&~t}function KXe(e){var t=sr();return this.bitwiseTo(e,Rae,t),t}function GXe(){for(var e=sr(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function $Xe(e){var t=sr();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function WXe(e){var t=sr();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function JXe(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function XXe(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+JXe(this.data[e]);return this.s<0?this.t*this.DB:-1}function YXe(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function QXe(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=YXe(this.data[r]^t);return e}function ZXe(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function eYe(e,t){var r=he.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function tYe(e){return this.changeBit(e,qF)}function rYe(e){return this.changeBit(e,Rae)}function nYe(e){return this.changeBit(e,Nae)}function sYe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function iYe(e){var t=sr();return this.addTo(e,t),t}function oYe(e){var t=sr();return this.subTo(e,t),t}function aYe(e){var t=sr();return this.multiplyTo(e,t),t}function cYe(e){var t=sr();return this.divRemTo(e,t,null),t}function lYe(e){var t=sr();return this.divRemTo(e,null,t),t}function dYe(e){var t=sr(),r=sr();return this.divRemTo(e,t,r),new Array(t,r)}function uYe(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function fYe(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function b0(){}function Pae(e){return e}function mYe(e,t,r){e.multiplyTo(t,r)}function hYe(e,t){e.squareTo(t)}b0.prototype.convert=Pae;b0.prototype.revert=Pae;b0.prototype.mulTo=mYe;b0.prototype.sqrTo=hYe;function pYe(e){return this.exp(e,new b0)}function gYe(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function yYe(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Bp(e){this.r2=sr(),this.q3=sr(),he.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function EYe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=sr();return e.copyTo(t),this.reduce(t),t}function SYe(e){return e}function CYe(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function bYe(e,t){e.squareTo(t),this.reduce(t)}function _Ye(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Bp.prototype.convert=EYe;Bp.prototype.revert=SYe;Bp.prototype.reduce=CYe;Bp.prototype.mulTo=_Ye;Bp.prototype.sqrTo=bYe;function vYe(e,t){var r=e.bitLength(),n,s=Rd(1),i;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?i=new Pf(t):t.isEven()?i=new Bp(t):i=new Of(t);var o=new Array,a=3,c=n-1,l=(1<<n)-1;if(o[1]=i.convert(this),n>1){var u=sr();for(i.sqrTo(o[1],u);a<=l;)o[a]=sr(),i.mulTo(u,o[a-2],o[a]),a+=2}var m=e.t-1,h,p=!0,g=sr(),y;for(r=fN(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&l:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),a=n;(h&1)==0;)h>>=1,--a;if((r-=a)<0&&(r+=this.DB,--m),p)o[h].copyTo(s),p=!1;else{for(;a>1;)i.sqrTo(s,g),i.sqrTo(g,s),a-=2;a>0?i.sqrTo(s,g):(y=s,s=g,g=y),i.mulTo(g,o[h],s)}for(;m>=0&&(e.data[m]&1<<r)==0;)i.sqrTo(s,g),y=s,s=g,g=y,--r<0&&(r=this.DB-1,--m)}return i.revert(s)}function AYe(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(s<i&&(i=s),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r}function xYe(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function IYe(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return he.ZERO;for(var r=e.clone(),n=this.clone(),s=Rd(1),i=Rd(0),o=Rd(0),a=Rd(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!i.isEven())&&(s.addTo(this,s),i.subTo(e,i)),s.rShiftTo(1,s)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),t?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(o,s),i.subTo(a,i)):(n.subTo(r,n),t&&o.subTo(s,o),a.subTo(i,a))}if(n.compareTo(he.ONE)!=0)return he.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var Aa=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],TYe=(1<<26)/Aa[Aa.length-1];function wYe(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Aa[Aa.length-1]){for(t=0;t<Aa.length;++t)if(r.data[0]==Aa[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Aa.length;){for(var n=Aa[t],s=t+1;s<Aa.length&&n<TYe;)n*=Aa[s++];for(n=r.modInt(n);t<s;)if(n%Aa[t++]==0)return!1}return r.millerRabin(e)}function NYe(e){var t=this.subtract(he.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=RYe(),i,o=0;o<e;++o){do i=new he(this.bitLength(),s);while(i.compareTo(he.ONE)<=0||i.compareTo(t)>=0);var a=i.modPow(n,this);if(a.compareTo(he.ONE)!=0&&a.compareTo(t)!=0){for(var c=1;c++<r&&a.compareTo(t)!=0;)if(a=a.modPowInt(2,this),a.compareTo(he.ONE)==0)return!1;if(a.compareTo(t)!=0)return!1}}return!0}function RYe(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}he.prototype.chunkSize=PXe;he.prototype.toRadix=DXe;he.prototype.fromRadix=kXe;he.prototype.fromNumber=BXe;he.prototype.bitwiseTo=qXe;he.prototype.changeBit=eYe;he.prototype.addTo=sYe;he.prototype.dMultiply=uYe;he.prototype.dAddOffset=fYe;he.prototype.multiplyLowerTo=gYe;he.prototype.multiplyUpperTo=yYe;he.prototype.modInt=xYe;he.prototype.millerRabin=NYe;he.prototype.clone=TXe;he.prototype.intValue=wXe;he.prototype.byteValue=NXe;he.prototype.shortValue=RXe;he.prototype.signum=OXe;he.prototype.toByteArray=LXe;he.prototype.equals=MXe;he.prototype.min=UXe;he.prototype.max=FXe;he.prototype.and=VXe;he.prototype.or=HXe;he.prototype.xor=zXe;he.prototype.andNot=KXe;he.prototype.not=GXe;he.prototype.shiftLeft=$Xe;he.prototype.shiftRight=WXe;he.prototype.getLowestSetBit=XXe;he.prototype.bitCount=QXe;he.prototype.testBit=ZXe;he.prototype.setBit=tYe;he.prototype.clearBit=rYe;he.prototype.flipBit=nYe;he.prototype.add=iYe;he.prototype.subtract=oYe;he.prototype.multiply=aYe;he.prototype.divide=cYe;he.prototype.remainder=lYe;he.prototype.divideAndRemainder=dYe;he.prototype.modPow=vYe;he.prototype.modInverse=IYe;he.prototype.pow=pYe;he.prototype.gcd=AYe;he.prototype.isProbablePrime=wYe});var Lp=C((C_t,Lae)=>{var mc=Tt();cc();nr();var kae=Lae.exports=mc.sha1=mc.sha1||{};mc.md.sha1=mc.md.algorithms.sha1=kae;kae.create=function(){Bae||PYe();var e=null,t=mc.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return t=mc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=mc.util.encodeUtf8(s));var o=s.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),Dae(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=mc.util.createBuffer();s.putBytes(t.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=i&n.blockLength-1;s.putBytes(jF.substr(0,n.blockLength-o));for(var a,c,l=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,c=a/4294967296>>>0,l+=c,s.putInt32(l>>>0),l=a>>>0;s.putInt32(l);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};Dae(m,r,s);var h=mc.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var jF=null,Bae=!1;function PYe(){jF="\x80",jF+=mc.util.fillString("\0",64),Bae=!0}function Dae(e,t,r){for(var n,s,i,o,a,c,l,u,m=r.length();m>=64;){for(s=e.h0,i=e.h1,o=e.h2,a=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,l=a^i&(o^a),n=(s<<5|s>>>27)+l+c+1518500249+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,l=a^i&(o^a),n=(s<<5|s>>>27)+l+c+1518500249+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,l=i^o^a,n=(s<<5|s>>>27)+l+c+1859775393+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,l=i^o^a,n=(s<<5|s>>>27)+l+c+1859775393+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,l=i&o|a&(i^o),n=(s<<5|s>>>27)+l+c+2400959708+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,l=i^o^a,n=(s<<5|s>>>27)+l+c+3395469782+n,c=a,a=o,o=(i<<30|i>>>2)>>>0,i=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+i|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,m-=64}}});var VF=C((b_t,Uae)=>{var hc=Tt();nr();Vo();Lp();var Mae=Uae.exports=hc.pkcs1=hc.pkcs1||{};Mae.encode_rsa_oaep=function(e,t,r){var n,s,i,o;typeof r=="string"?(n=r,s=arguments[3]||void 0,i=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),i?i.start():i=hc.md.sha1.create(),o||(o=i);var a=Math.ceil(e.n.bitLength()/8),c=a-2*i.digestLength-2;if(t.length>c){var l=new Error("RSAES-OAEP input message length is too long.");throw l.length=t.length,l.maxLength=c,l}n||(n=""),i.update(n,"raw");for(var u=i.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var g=u.getBytes()+m+""+t;if(!s)s=hc.random.getBytes(i.digestLength);else if(s.length!==i.digestLength){var l=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw l.seedLength=s.length,l.digestLength=i.digestLength,l}var y=mN(s,a-i.digestLength-1,o),_=hc.util.xorBytes(g,y,g.length),x=mN(_,i.digestLength,o),w=hc.util.xorBytes(s,x,s.length);return"\0"+w+_};Mae.decode_rsa_oaep=function(e,t,r){var n,s,i;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(i=r.mgf1.md));var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=t.length,_.expectedLength=o,_}if(s===void 0?s=hc.md.sha1.create():s.start(),i||(i=s),o<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var a=s.digest().getBytes(),c=t.charAt(0),l=t.substring(1,s.digestLength+1),u=t.substring(1+s.digestLength),m=mN(u,s.digestLength,i),h=hc.util.xorBytes(l,m,l.length),p=mN(h,o-s.digestLength-1,i),g=hc.util.xorBytes(u,p,u.length),y=g.substring(0,s.digestLength),_=c!=="\0",x=0;x<s.digestLength;++x)_|=a.charAt(x)!==y.charAt(x);for(var w=1,D=s.digestLength,G=s.digestLength;G<g.length;G++){var W=g.charCodeAt(G),J=W&1^1,xe=w?65534:0;_|=W&xe,w=w&J,D+=w}if(_||g.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(D+1)};function mN(e,t,r){r||(r=hc.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),i=0;i<s;++i){var o=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}});var zF=C((__t,HF)=>{var Pd=Tt();nr();_0();Vo();(function(){if(Pd.prime){HF.exports=Pd.prime;return}var e=HF.exports=Pd.prime=Pd.prime||{},t=Pd.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=function(m,h){return m|h};e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var g=h.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var y=h.prng||Pd.random,_={nextBytes:function(x){for(var w=y.getBytesSync(x.length),D=0;D<x.length;++D)x[D]=w.charCodeAt(D)}};if(g.name==="PRIMEINC")return i(m,_,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function i(m,h,p,g){return"workers"in p?c(m,h,p,g):o(m,h,p,g)}function o(m,h,p,g){var y=l(m,h),_=0,x=u(y.bitLength());"millerRabinTests"in p&&(x=p.millerRabinTests);var w=10;"maxBlockTime"in p&&(w=p.maxBlockTime),a(y,m,h,_,x,w,g)}function a(m,h,p,g,y,_,x){var w=+new Date;do{if(m.bitLength()>h&&(m=l(h,p)),m.isProbablePrime(y))return x(null,m);m.dAddOffset(r[g++%8],0)}while(_<0||+new Date-w<_);Pd.util.setImmediate(function(){a(m,h,p,g,y,_,x)})}function c(m,h,p,g){if(typeof Worker>"u")return o(m,h,p,g);var y=l(m,h),_=p.workers,x=p.workLoad||100,w=x*30/8,D=p.workerScript||"forge/prime.worker.js";if(_===-1)return Pd.util.estimateCores(function(W,J){W&&(J=2),_=J-1,G()});G();function G(){_=Math.max(1,_);for(var W=[],J=0;J<_;++J)W[J]=new Worker(D);for(var xe=_,J=0;J<_;++J)W[J].addEventListener("message",De);var be=!1;function De(Ge){if(!be){--xe;var $e=Ge.data;if($e.found){for(var rt=0;rt<W.length;++rt)W[rt].terminate();return be=!0,g(null,new t($e.prime,16))}y.bitLength()>m&&(y=l(m,h));var er=y.toString(16);Ge.target.postMessage({hex:er,workLoad:x}),y.dAddOffset(w,0)}}}}function l(m,h){var p=new t(m,h),g=m-1;return p.testBit(g)||p.bitwiseTo(t.ONE.shiftLeft(g),s,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}function u(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}})()});var v0=C((v_t,Kae)=>{var et=Tt();va();_0();Nd();VF();zF();Vo();nr();typeof Xt>"u"&&(Xt=et.jsbn.BigInteger);var Xt,KF=et.util.isNodejs?require("crypto"):null,V=et.asn1,zo=et.util;et.pki=et.pki||{};Kae.exports=et.pki.rsa=et.rsa=et.rsa||{};var yt=et.pki,OYe=[6,4,2,4,2,4,6,2],DYe={name:"PrivateKeyInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},kYe={name:"RSAPrivateKey",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},BYe={name:"RSAPublicKey",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},LYe=et.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:V.Class.UNIVERSAL,type:V.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},MYe={name:"DigestInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:V.Class.UNIVERSAL,type:V.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},UYe=function(e){var t;if(e.algorithm in yt.oids)t=yt.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=V.oidToDer(t).getBytes(),s=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[]),i=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[]);i.value.push(V.create(V.Class.UNIVERSAL,V.Type.OID,!1,n)),i.value.push(V.create(V.Class.UNIVERSAL,V.Type.NULL,!1,""));var o=V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(i),s.value.push(o),V.toDer(s).getBytes()},Hae=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Xt.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Xt.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Xt(et.util.bytesToHex(et.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Xt.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),i=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(i)<0;)s=s.add(t.p);var o=s.subtract(i).multiply(t.qInv).mod(t.p).multiply(t.q).add(i);return o=o.multiply(n.modInverse(t.n)).mod(t.n),o};yt.rsa.encrypt=function(e,t,r){var n=r,s,i=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=zae(e,t,r)):(s=et.util.createBuffer(),s.putBytes(e));for(var o=new Xt(s.toHex(),16),a=Hae(o,t,n),c=a.toString(16),l=et.util.createBuffer(),u=i-Math.ceil(c.length/2);u>0;)l.putByte(0),--u;return l.putBytes(et.util.hexToBytes(c)),l.getBytes()};yt.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var i=new Error("Encrypted message length is invalid.");throw i.length=e.length,i.expected=s,i}var o=new Xt(et.util.createBuffer(e).toHex(),16);if(o.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Hae(o,t,r),c=a.toString(16),l=et.util.createBuffer(),u=s-Math.ceil(c.length/2);u>0;)l.putByte(0),--u;return l.putBytes(et.util.hexToBytes(c)),n!==!1?hN(l.getBytes(),t,r):l.getBytes()};yt.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||et.random,s={nextBytes:function(a){for(var c=n.getBytesSync(a.length),l=0;l<a.length;++l)a[l]=c.charCodeAt(l)}},i=r.algorithm||"PRIMEINC",o;if(i==="PRIMEINC")o={algorithm:i,state:0,bits:e,rng:s,eInt:t||65537,e:new Xt(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+i);return o};yt.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Xt(null);r.fromInt(30);for(var n=0,s=function(m,h){return m|h},i=+new Date,o,a=0;e.keys===null&&(t<=0||a<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,l=c-1;e.pqState===0?(e.num=new Xt(c,e.rng),e.num.testBit(l)||e.num.bitwiseTo(Xt.ONE.shiftLeft(l),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(qYe(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(OYe[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Xt.ONE).gcd(e.e).compareTo(Xt.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Xt.ONE),e.q1=e.q.subtract(Xt.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Xt.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:yt.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:yt.rsa.setPublicKey(e.n,e.e)}}o=+new Date,a+=o-i,i=o}return e.keys!==null};yt.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!et.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Fae("generateKeyPair"))return KF.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,c,l){if(a)return n(a);n(null,{privateKey:yt.privateKeyFromPem(l),publicKey:yt.publicKeyFromPem(c)})});if(qae("generateKey")&&qae("exportKey"))return zo.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Vae(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return zo.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var c=yt.privateKeyFromAsn1(V.fromDer(et.util.createBuffer(a)));n(null,{privateKey:c,publicKey:yt.setRsaPublicKey(c.n,c.e)})}});if(jae("generateKey")&&jae("exportKey")){var s=zo.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Vae(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(a){var c=a.target.result,l=zo.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);l.oncomplete=function(u){var m=u.target.result,h=yt.privateKeyFromAsn1(V.fromDer(et.util.createBuffer(m)));n(null,{privateKey:h,publicKey:yt.setRsaPublicKey(h.n,h.e)})},l.onerror=function(u){n(u)}},s.onerror=function(a){n(a)};return}}else if(Fae("generateKeyPairSync")){var i=KF.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:yt.privateKeyFromPem(i.privateKey),publicKey:yt.publicKeyFromPem(i.publicKey)}}}var o=yt.rsa.createKeyPairGenerationState(e,t,r);if(!n)return yt.rsa.stepKeyPairGenerationState(o,0),o.keys;FYe(o,r,n)};yt.setRsaPublicKey=yt.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,i){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(a,c,l){return zae(a,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(a,c){return et.pkcs1.encode_rsa_oaep(c,a,i)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(a){return a}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var o=s.encode(n,r,!0);return yt.rsa.encrypt(o,r,!0)},r.verify=function(n,s,i,o){typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),i==="RSASSA-PKCS1-V1_5"?i={verify:function(c,l){l=hN(l,r,!0);var u=V.fromDer(l,{parseAllBytes:o._parseAllDigestBytes}),m={},h=[];if(!V.validate(u,MYe,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var g=V.derToOid(m.algorithmIdentifier);if(!(g===et.oids.md2||g===et.oids.md5||g===et.oids.sha1||g===et.oids.sha224||g===et.oids.sha256||g===et.oids.sha384||g===et.oids.sha512||g===et.oids["sha512-224"]||g===et.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=g,p}if((g===et.oids.md2||g===et.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest}}:(i==="NONE"||i==="NULL"||i===null)&&(i={verify:function(c,l){return l=hN(l,r,!0),c===l}});var a=yt.rsa.decrypt(s,r,!0,!1);return i.verify(n,a,r.n.bitLength())},r};yt.setRsaPrivateKey=yt.rsa.setPrivateKey=function(e,t,r,n,s,i,o,a){var c={n:e,e:t,d:r,p:n,q:s,dP:i,dQ:o,qInv:a};return c.decrypt=function(l,u,m){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var h=yt.rsa.decrypt(l,c,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:hN};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(p,g){return et.pkcs1.decode_rsa_oaep(g,p,m)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(h,c,!1)},c.sign=function(l,u){var m=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:UYe},m=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return l}},m=1);var h=u.encode(l,c.n.bitLength());return yt.rsa.encrypt(h,c,m)},c};yt.wrapRsaPrivateKey=function(e){return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(0).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(yt.oids.rsaEncryption).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.NULL,!1,"")]),V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(e).getBytes())])};yt.privateKeyFromAsn1=function(e){var t={},r=[];if(V.validate(e,DYe,t,r)&&(e=V.fromDer(et.util.createBuffer(t.privateKey))),t={},r=[],!V.validate(e,kYe,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,i,o,a,c,l,u,m;return s=et.util.createBuffer(t.privateKeyModulus).toHex(),i=et.util.createBuffer(t.privateKeyPublicExponent).toHex(),o=et.util.createBuffer(t.privateKeyPrivateExponent).toHex(),a=et.util.createBuffer(t.privateKeyPrime1).toHex(),c=et.util.createBuffer(t.privateKeyPrime2).toHex(),l=et.util.createBuffer(t.privateKeyExponent1).toHex(),u=et.util.createBuffer(t.privateKeyExponent2).toHex(),m=et.util.createBuffer(t.privateKeyCoefficient).toHex(),yt.setRsaPrivateKey(new Xt(s,16),new Xt(i,16),new Xt(o,16),new Xt(a,16),new Xt(c,16),new Xt(l,16),new Xt(u,16),new Xt(m,16))};yt.privateKeyToAsn1=yt.privateKeyToRSAPrivateKey=function(e){return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(0).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.n)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.e)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.d)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.p)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.q)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.dP)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.dQ)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.qInv))])};yt.publicKeyFromAsn1=function(e){var t={},r=[];if(V.validate(e,LYe,t,r)){var n=V.derToOid(t.publicKeyOid);if(n!==yt.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!V.validate(e,BYe,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var i=et.util.createBuffer(t.publicKeyModulus).toHex(),o=et.util.createBuffer(t.publicKeyExponent).toHex();return yt.setRsaPublicKey(new Xt(i,16),new Xt(o,16))};yt.publicKeyToAsn1=yt.publicKeyToSubjectPublicKeyInfo=function(e){return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(yt.oids.rsaEncryption).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.NULL,!1,"")]),V.create(V.Class.UNIVERSAL,V.Type.BITSTRING,!1,[yt.publicKeyToRSAPublicKey(e)])])};yt.publicKeyToRSAPublicKey=function(e){return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.n)),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,pc(e.e))])};function zae(e,t,r){var n=et.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var i=new Error("Message is too long for PKCS#1 v1.5 padding.");throw i.length=e.length,i.max=s-11,i}n.putByte(0),n.putByte(r);var o=s-3-e.length,a;if(r===0||r===1){a=r===0?0:255;for(var c=0;c<o;++c)n.putByte(a)}else for(;o>0;){for(var l=0,u=et.random.getBytes(o),c=0;c<o;++c)a=u.charCodeAt(c),a===0?++l:n.putByte(a);o=l}return n.putByte(0),n.putBytes(e),n}function hN(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),i=et.util.createBuffer(e),o=i.getByte(),a=i.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(a===0){c=s-3-n;for(var l=0;l<c;++l)if(i.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(c=0;i.length()>1;){if(i.getByte()!==255){--i.read;break}++c}else if(a===2)for(c=0;i.length()>1;){if(i.getByte()===0){--i.read;break}++c}var u=i.getByte();if(u!==0||c!==s-3-i.length())throw new Error("Encryption block is invalid.");return i.getBytes()}function FYe(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){i(e.pBits,function(a,c){if(a)return r(a);if(e.p=c,e.q!==null)return o(a,e.q);i(e.qBits,o)})}function i(a,c){et.prime.generateProbablePrime(a,n,c)}function o(a,c){if(a)return r(a);if(e.q=c,e.p.compareTo(e.q)<0){var l=e.p;e.p=e.q,e.q=l}if(e.p.subtract(Xt.ONE).gcd(e.e).compareTo(Xt.ONE)!==0){e.p=null,s();return}if(e.q.subtract(Xt.ONE).gcd(e.e).compareTo(Xt.ONE)!==0){e.q=null,i(e.qBits,o);return}if(e.p1=e.p.subtract(Xt.ONE),e.q1=e.q.subtract(Xt.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Xt.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,i(e.qBits,o);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:yt.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:yt.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function pc(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=et.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function qYe(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Fae(e){return et.util.isNodejs&&typeof KF[e]=="function"}function qae(e){return typeof zo.globalScope<"u"&&typeof zo.globalScope.crypto=="object"&&typeof zo.globalScope.crypto.subtle=="object"&&typeof zo.globalScope.crypto.subtle[e]=="function"}function jae(e){return typeof zo.globalScope<"u"&&typeof zo.globalScope.msCrypto=="object"&&typeof zo.globalScope.msCrypto.subtle=="object"&&typeof zo.globalScope.msCrypto.subtle[e]=="function"}function Vae(e){for(var t=et.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var GF=C((A_t,Xae)=>{var Fe=Tt();wd();va();C0();cc();Nd();lN();Rf();Vo();MF();v0();nr();typeof Gae>"u"&&(Gae=Fe.jsbn.BigInteger);var Gae,Q=Fe.asn1,_t=Fe.pki=Fe.pki||{};Xae.exports=_t.pbe=Fe.pbe=Fe.pbe||{};var Df=_t.oids,jYe={name:"EncryptedPrivateKeyInfo",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},VYe={name:"PBES2Algorithms",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Q.Class.UNIVERSAL,type:Q.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Q.Class.UNIVERSAL,type:Q.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},HYe={name:"pkcs-12PbeParams",tagClass:Q.Class.UNIVERSAL,type:Q.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Q.Class.UNIVERSAL,type:Q.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Q.Class.UNIVERSAL,type:Q.Type.INTEGER,constructed:!1,capture:"iterations"}]};_t.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Fe.random.getBytesSync(r.saltSize),s=r.count,i=Q.integerToDer(s),o,a,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var l,u,m;switch(r.algorithm){case"aes128":o=16,l=16,u=Df["aes128-CBC"],m=Fe.aes.createEncryptionCipher;break;case"aes192":o=24,l=16,u=Df["aes192-CBC"],m=Fe.aes.createEncryptionCipher;break;case"aes256":o=32,l=16,u=Df["aes256-CBC"],m=Fe.aes.createEncryptionCipher;break;case"des":o=8,l=8,u=Df.desCBC,m=Fe.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),g=Jae(p),y=Fe.pkcs5.pbkdf2(t,n,s,o,g),_=Fe.random.getBytesSync(l),x=m(y);x.start(_),x.update(Q.toDer(e)),x.finish(),c=x.output.getBytes();var w=zYe(n,i,o,p);a=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(Df.pkcs5PBES2).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(Df.pkcs5PBKDF2).getBytes()),w]),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(u).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){o=24;var D=new Fe.util.ByteBuffer(n),y=_t.pbe.generatePkcs12Key(t,D,1,s,o),_=_t.pbe.generatePkcs12Key(t,D,2,s,o),x=Fe.des.createEncryptionCipher(y);x.start(_),x.update(Q.toDer(e)),x.finish(),c=x.output.getBytes(),a=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(Df["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,n),Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,i.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var G=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[a,Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,c)]);return G};_t.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!Q.validate(e,jYe,n,s)){var i=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}var o=Q.derToOid(n.encryptionOid),a=_t.pbe.getCipher(o,n.encryptionParams,t),c=Fe.util.createBuffer(n.encryptedData);return a.update(c),a.finish()&&(r=Q.fromDer(a.output)),r};_t.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:Q.toDer(e).getBytes()};return Fe.pem.encode(r,{maxline:t})};_t.encryptedPrivateKeyFromPem=function(e){var t=Fe.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Q.fromDer(t.body)};_t.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=_t.wrapRsaPrivateKey(_t.privateKeyToAsn1(e));return n=_t.encryptPrivateKeyInfo(n,t,r),_t.encryptedPrivateKeyToPem(n)}var s,i,o,a;switch(r.algorithm){case"aes128":s="AES-128-CBC",o=16,i=Fe.random.getBytesSync(16),a=Fe.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",o=24,i=Fe.random.getBytesSync(16),a=Fe.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",o=32,i=Fe.random.getBytesSync(16),a=Fe.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",o=24,i=Fe.random.getBytesSync(8),a=Fe.des.createEncryptionCipher;break;case"des":s="DES-CBC",o=8,i=Fe.random.getBytesSync(8),a=Fe.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var l=Fe.pbe.opensslDeriveBytes(t,i.substr(0,8),o),u=a(l);u.start(i),u.update(Q.toDer(_t.privateKeyToAsn1(e))),u.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:Fe.util.bytesToHex(i).toUpperCase()},body:u.output.getBytes()};return Fe.pem.encode(m)};_t.decryptRsaPrivateKey=function(e,t){var r=null,n=Fe.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var i,o;switch(n.dekInfo.algorithm){case"DES-CBC":i=8,o=Fe.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,o=Fe.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,o=Fe.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,o=Fe.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,o=Fe.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,o=function(m){return Fe.rc2.createDecryptionCipher(m,40)};break;case"RC2-64-CBC":i=8,o=function(m){return Fe.rc2.createDecryptionCipher(m,64)};break;case"RC2-128-CBC":i=16,o=function(m){return Fe.rc2.createDecryptionCipher(m,128)};break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var a=Fe.util.hexToBytes(n.dekInfo.parameters),c=Fe.pbe.opensslDeriveBytes(t,a.substr(0,8),i),l=o(c);if(l.start(a),l.update(Fe.util.createBuffer(n.body)),l.finish())r=l.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=_t.decryptPrivateKeyInfo(Q.fromDer(r),t):r=Q.fromDer(r),r!==null&&(r=_t.privateKeyFromAsn1(r)),r};_t.pbe.generatePkcs12Key=function(e,t,r,n,s,i){var o,a;if(typeof i>"u"||i===null){if(!("sha1"in Fe.md))throw new Error('"sha1" hash algorithm unavailable.');i=Fe.md.sha1.create()}var c=i.digestLength,l=i.blockLength,u=new Fe.util.ByteBuffer,m=new Fe.util.ByteBuffer;if(e!=null){for(a=0;a<e.length;a++)m.putInt16(e.charCodeAt(a));m.putInt16(0)}var h=m.length(),p=t.length(),g=new Fe.util.ByteBuffer;g.fillWithByte(r,l);var y=l*Math.ceil(p/l),_=new Fe.util.ByteBuffer;for(a=0;a<y;a++)_.putByte(t.at(a%p));var x=l*Math.ceil(h/l),w=new Fe.util.ByteBuffer;for(a=0;a<x;a++)w.putByte(m.at(a%h));var D=_;D.putBuffer(w);for(var G=Math.ceil(s/c),W=1;W<=G;W++){var J=new Fe.util.ByteBuffer;J.putBytes(g.bytes()),J.putBytes(D.bytes());for(var xe=0;xe<n;xe++)i.start(),i.update(J.getBytes()),J=i.digest();var be=new Fe.util.ByteBuffer;for(a=0;a<l;a++)be.putByte(J.at(a%c));var De=Math.ceil(p/l)+Math.ceil(h/l),Ge=new Fe.util.ByteBuffer;for(o=0;o<De;o++){var $e=new Fe.util.ByteBuffer(D.getBytes(l)),rt=511;for(a=be.length()-1;a>=0;a--)rt=rt>>8,rt+=be.at(a)+$e.at(a),$e.setAt(a,rt&255);Ge.putBuffer($e)}D=Ge,u.putBuffer(J)}return u.truncate(u.length()-s),u};_t.pbe.getCipher=function(e,t,r){switch(e){case _t.oids.pkcs5PBES2:return _t.pbe.getCipherForPBES2(e,t,r);case _t.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case _t.oids["pbewithSHAAnd40BitRC2-CBC"]:return _t.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};_t.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!Q.validate(t,VYe,n,s)){var i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}if(e=Q.derToOid(n.kdfOid),e!==_t.oids.pkcs5PBKDF2){var i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw i.oid=e,i.supportedOids=["pkcs5PBKDF2"],i}if(e=Q.derToOid(n.encOid),e!==_t.oids["aes128-CBC"]&&e!==_t.oids["aes192-CBC"]&&e!==_t.oids["aes256-CBC"]&&e!==_t.oids["des-EDE3-CBC"]&&e!==_t.oids.desCBC){var i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw i.oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i}var o=n.kdfSalt,a=Fe.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var c,l;switch(_t.oids[e]){case"aes128-CBC":c=16,l=Fe.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,l=Fe.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,l=Fe.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,l=Fe.des.createDecryptionCipher;break;case"desCBC":c=8,l=Fe.des.createDecryptionCipher;break}var u=Wae(n.prfOid),m=Fe.pkcs5.pbkdf2(r,o,a,c,u),h=n.encIv,p=l(m);return p.start(h),p};_t.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!Q.validate(t,HYe,n,s)){var i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}var o=Fe.util.createBuffer(n.salt),a=Fe.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var c,l,u;switch(e){case _t.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,l=8,u=Fe.des.startDecrypting;break;case _t.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,l=8,u=function(y,_){var x=Fe.rc2.createDecryptionCipher(y,40);return x.start(_,null),x};break;default:var i=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw i.oid=e,i}var m=Wae(n.prfOid),h=_t.pbe.generatePkcs12Key(r,o,1,a,c,m);m.start();var p=_t.pbe.generatePkcs12Key(r,o,2,a,l,m);return u(h,p)};_t.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Fe.md))throw new Error('"md5" hash algorithm unavailable.');n=Fe.md.md5.create()}t===null&&(t="");for(var s=[$ae(n,e+t)],i=16,o=1;i<r;++o,i+=16)s.push($ae(n,s[o-1]+e+t));return s.join("").substr(0,r)};function $ae(e,t){return e.start().update(t).digest().getBytes()}function Wae(e){var t;if(!e)t="hmacWithSHA1";else if(t=_t.oids[Q.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Jae(t)}function Jae(e){var t=Fe.md;switch(e){case"hmacWithSHA224":t=Fe.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function zYe(e,t,r,n){var s=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e),Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Fe.util.hexToBytes(r.toString(16))),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(_t.oids[n]).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.NULL,!1,"")])),s}});var $F=C((x_t,Zae)=>{var Mp=Tt();va();nr();var Oe=Mp.asn1,Up=Zae.exports=Mp.pkcs7asn1=Mp.pkcs7asn1||{};Mp.pkcs7=Mp.pkcs7||{};Mp.pkcs7.asn1=Up;var Yae={name:"ContentInfo",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Up.contentInfoValidator=Yae;var Qae={name:"EncryptedContentInfo",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Oe.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Up.envelopedDataValidator={name:"EnvelopedData",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(Qae)};Up.encryptedDataValidator={name:"EncryptedData",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"version"}].concat(Qae)};var KYe={name:"SignerInfo",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Oe.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Up.signedDataValidator={name:"SignedData",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Yae,{name:"SignedData.Certificates",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Oe.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SET,capture:"signerInfos",optional:!0,value:[KYe]}]};Up.recipientInfoValidator={name:"RecipientInfo",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Oe.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Oe.Class.UNIVERSAL,type:Oe.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var WF=C((I_t,ece)=>{var kf=Tt();nr();kf.mgf=kf.mgf||{};var GYe=ece.exports=kf.mgf.mgf1=kf.mgf1=kf.mgf1||{};GYe.create=function(e){var t={generate:function(r,n){for(var s=new kf.util.ByteBuffer,i=Math.ceil(n/e.digestLength),o=0;o<i;o++){var a=new kf.util.ByteBuffer;a.putInt32(o),e.start(),e.update(r+a.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var rce=C((T_t,tce)=>{var pN=Tt();WF();tce.exports=pN.mgf=pN.mgf||{};pN.mgf.mgf1=pN.mgf1});var gN=C((w_t,nce)=>{var Bf=Tt();Vo();nr();var $Ye=nce.exports=Bf.pss=Bf.pss||{};$Ye.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=Bf.util.createBuffer(s));var i;if("saltLength"in e)i=e.saltLength;else if(s!==null)i=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==i)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||Bf.random,a={};return a.encode=function(c,l){var u,m=l-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+i+2)throw new Error("Message is too long to encrypt.");var g;s===null?g=o.getBytesSync(i):g=s.bytes();var y=new Bf.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(p),y.putBytes(g),t.start(),t.update(y.getBytes());var _=t.digest().getBytes(),x=new Bf.util.ByteBuffer;x.fillWithByte(0,h-i-n-2),x.putByte(1),x.putBytes(g);var w=x.getBytes(),D=h-n-1,G=r.generate(_,D),W="";for(u=0;u<D;u++)W+=String.fromCharCode(w.charCodeAt(u)^G.charCodeAt(u));var J=65280>>8*h-m&255;return W=String.fromCharCode(W.charCodeAt(0)&~J)+W.substr(1),W+_+"\xBC"},a.verify=function(c,l,u){var m,h=u-1,p=Math.ceil(h/8);if(l=l.substr(-p),p<n+i+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(l.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=p-n-1,y=l.substr(0,g),_=l.substr(g,n),x=65280>>8*p-h&255;if((y.charCodeAt(0)&x)!==0)throw new Error("Bits beyond keysize not zero as expected.");var w=r.generate(_,g),D="";for(m=0;m<g;m++)D+=String.fromCharCode(y.charCodeAt(m)^w.charCodeAt(m));D=String.fromCharCode(D.charCodeAt(0)&~x)+D.substr(1);var G=p-n-i-2;for(m=0;m<G;m++)if(D.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(G)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var W=D.substr(-i),J=new Bf.util.ByteBuffer;J.fillWithByte(0,8),J.putBytes(c),J.putBytes(W),t.start(),t.update(J.getBytes());var xe=t.digest().getBytes();return _===xe},a}});var SN=C((N_t,cce)=>{var tt=Tt();wd();va();C0();cc();rce();Nd();Rf();gN();v0();nr();var b=tt.asn1,ve=cce.exports=tt.pki=tt.pki||{},Yt=ve.oids,xn={};xn.CN=Yt.commonName;xn.commonName="CN";xn.C=Yt.countryName;xn.countryName="C";xn.L=Yt.localityName;xn.localityName="L";xn.ST=Yt.stateOrProvinceName;xn.stateOrProvinceName="ST";xn.O=Yt.organizationName;xn.organizationName="O";xn.OU=Yt.organizationalUnitName;xn.organizationalUnitName="OU";xn.E=Yt.emailAddress;xn.emailAddress="E";var ice=tt.pki.rsa.publicKeyValidator,WYe={name:"Certificate",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:b.Class.UNIVERSAL,type:b.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:b.Class.UNIVERSAL,type:b.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:b.Class.UNIVERSAL,type:b.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:b.Class.UNIVERSAL,type:b.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},ice,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:b.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:b.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},JYe={name:"rsapss",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:b.Class.UNIVERSAL,type:b.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:b.Class.UNIVERSAL,type:b.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:b.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:b.Class.UNIVERSAL,type:b.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:b.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:b.Class.UNIVERSAL,type:b.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},XYe={name:"CertificationRequestInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},ice,{name:"CertificationRequestInfo.attributes",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,constructed:!0}]}]}]},YYe={name:"CertificationRequest",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[XYe,{name:"CertificationRequest.signatureAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ve.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,i,o=0;o<e.value.length;++o){n=e.value[o];for(var a=0;a<n.value.length;++a)i={},s=n.value[a],i.type=b.derToOid(s.value[0].value),i.value=s.value[1].value,i.valueTagClass=s.value[1].type,i.type in Yt&&(i.name=Yt[i.type],i.name in xn&&(i.shortName=xn[i.name])),t&&(t.update(i.type),t.update(i.value)),r.push(i)}return r};ve.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=b.derToOid(n.value[0].value),i=n.value[1].value,o=0;o<i.length;++o){var a={};if(a.type=s,a.value=i[o].value,a.valueTagClass=i[o].type,a.type in Yt&&(a.name=Yt[a.type],a.name in xn&&(a.shortName=xn[a.name])),a.type===Yt.extensionRequest){a.extensions=[];for(var c=0;c<a.value.length;++c)a.extensions.push(ve.certificateExtensionFromAsn1(a.value[c]))}t.push(a)}return t};function Od(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var yN=function(e,t,r){var n={};if(e!==Yt["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Yt.sha1},mgf:{algorithmOid:Yt.mgf1,hash:{algorithmOid:Yt.sha1}},saltLength:20});var s={},i=[];if(!b.validate(t,JYe,s,i)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=i,o}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=b.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=b.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=b.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},EN=function(e){switch(Yt[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return tt.md.sha1.create();case"md5WithRSAEncryption":return tt.md.md5.create();case"sha256WithRSAEncryption":return tt.md.sha256.create();case"sha384WithRSAEncryption":return tt.md.sha384.create();case"sha512WithRSAEncryption":return tt.md.sha512.create();case"RSASSA-PSS":return tt.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},oce=function(e){var t=e.certificate,r;switch(t.signatureOid){case Yt.sha1WithRSAEncryption:case Yt.sha1WithRSASignature:break;case Yt["RSASSA-PSS"]:var n,s;if(n=Yt[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||tt.md[n]===void 0){var i=new Error("Unsupported MGF hash function.");throw i.oid=t.signatureParameters.mgf.hash.algorithmOid,i.name=n,i}if(s=Yt[t.signatureParameters.mgf.algorithmOid],s===void 0||tt.mgf[s]===void 0){var i=new Error("Unsupported MGF function.");throw i.oid=t.signatureParameters.mgf.algorithmOid,i.name=s,i}if(s=tt.mgf[s].create(tt.md[n].create()),n=Yt[t.signatureParameters.hash.algorithmOid],n===void 0||tt.md[n]===void 0){var i=new Error("Unsupported RSASSA-PSS hash function.");throw i.oid=t.signatureParameters.hash.algorithmOid,i.name=n,i}r=tt.pss.create(tt.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};ve.certificateFromPem=function(e,t,r){var n=tt.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var i=b.fromDer(n.body,r);return ve.certificateFromAsn1(i,t)};ve.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:b.toDer(ve.certificateToAsn1(e)).getBytes()};return tt.pem.encode(r,{maxline:t})};ve.publicKeyFromPem=function(e){var t=tt.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=b.fromDer(t.body);return ve.publicKeyFromAsn1(n)};ve.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:b.toDer(ve.publicKeyToAsn1(e)).getBytes()};return tt.pem.encode(r,{maxline:t})};ve.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:b.toDer(ve.publicKeyToRSAPublicKey(e)).getBytes()};return tt.pem.encode(r,{maxline:t})};ve.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||tt.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=b.toDer(ve.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=b.toDer(ve.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var i=r.digest();if(t.encoding==="hex"){var o=i.toHex();return t.delimiter?o.match(/.{2}/g).join(t.delimiter):o}else{if(t.encoding==="binary")return i.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return i};ve.certificationRequestFromPem=function(e,t,r){var n=tt.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var i=b.fromDer(n.body,r);return ve.certificationRequestFromAsn1(i,t)};ve.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:b.toDer(ve.certificationRequestToAsn1(e)).getBytes()};return tt.pem.encode(r,{maxline:t})};ve.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Od(e.issuer,t)},e.issuer.addField=function(t){Ko([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Od(e.subject,t)},e.subject.addField=function(t){Ko([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Ko(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Ko(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)ace(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||tt.md.sha1.create();var n=Yt[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=ve.getTBSCertificate(e);var i=b.toDer(e.tbsCertificate);e.md.update(i.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,i=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw i.expectedIssuer=s.attributes,i.actualIssuer=n.attributes,i}var o=t.md;if(o===null){o=EN({signatureOid:t.signatureOid,type:"certificate"});var a=t.tbsCertificate||ve.getTBSCertificate(t),c=b.toDer(a);o.update(c.getBytes())}return o!==null&&(r=oce({certificate:e,md:o,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var i,o,a=0;r&&a<n.attributes.length;++a)i=n.attributes[a],o=s.attributes[a],(i.type!==o.type||i.value!==o.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return ve.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Yt.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return tt.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};ve.certificateFromAsn1=function(e,t){var r={},n=[];if(!b.validate(e,WYe,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var i=b.derToOid(r.publicKeyOid);if(i!==ve.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ve.createCertificate();o.version=r.certVersion?r.certVersion.charCodeAt(0):0;var a=tt.util.createBuffer(r.certSerialNumber);o.serialNumber=a.toHex(),o.signatureOid=tt.asn1.derToOid(r.certSignatureOid),o.signatureParameters=yN(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=tt.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=yN(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(b.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(b.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(b.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(b.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=c[0],o.validity.notAfter=c[1],o.tbsCertificate=r.tbsCertificate,t){o.md=EN({signatureOid:o.signatureOid,type:"certificate"});var l=b.toDer(o.tbsCertificate);o.md.update(l.getBytes())}var u=tt.md.sha1.create(),m=b.toDer(r.certIssuer);u.update(m.getBytes()),o.issuer.getField=function(g){return Od(o.issuer,g)},o.issuer.addField=function(g){Ko([g]),o.issuer.attributes.push(g)},o.issuer.attributes=ve.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=u.digest().toHex();var h=tt.md.sha1.create(),p=b.toDer(r.certSubject);return h.update(p.getBytes()),o.subject.getField=function(g){return Od(o.subject,g)},o.subject.addField=function(g){Ko([g]),o.subject.attributes.push(g)},o.subject.attributes=ve.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=h.digest().toHex(),r.certExtensions?o.extensions=ve.certificateExtensionsFromAsn1(r.certExtensions):o.extensions=[],o.publicKey=ve.publicKeyFromAsn1(r.subjectPublicKeyInfo),o};ve.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(ve.certificateExtensionFromAsn1(n.value[s]));return t};ve.certificateExtensionFromAsn1=function(e){var t={};if(t.id=b.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===b.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Yt){if(t.name=Yt[t.id],t.name==="keyUsage"){var r=b.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=b.fromDer(t.value);r.value.length>0&&r.value[0].type===b.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var i=null;r.value.length>0&&r.value[0].type===b.Type.INTEGER?i=r.value[0].value:r.value.length>1&&(i=r.value[1].value),i!==null&&(t.pathLenConstraint=b.derToInteger(i))}else if(t.name==="extKeyUsage")for(var r=b.fromDer(t.value),o=0;o<r.value.length;++o){var a=b.derToOid(r.value[o].value);a in Yt?t[Yt[a]]=!0:t[a]=!0}else if(t.name==="nsCertType"){var r=b.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=b.fromDer(t.value),l=0;l<r.value.length;++l){c=r.value[l];var u={type:c.type,value:c.value};switch(t.altNames.push(u),c.type){case 1:case 2:case 6:break;case 7:u.ip=tt.util.bytesToIP(c.value);break;case 8:u.oid=b.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=b.fromDer(t.value);t.subjectKeyIdentifier=tt.util.bytesToHex(r.value)}}return t};ve.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!b.validate(e,YYe,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var i=b.derToOid(r.publicKeyOid);if(i!==ve.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ve.createCertificationRequest();if(o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=tt.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=yN(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=tt.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=yN(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,t){o.md=EN({signatureOid:o.signatureOid,type:"certification request"});var a=b.toDer(o.certificationRequestInfo);o.md.update(a.getBytes())}var c=tt.md.sha1.create();return o.subject.getField=function(l){return Od(o.subject,l)},o.subject.addField=function(l){Ko([l]),o.subject.attributes.push(l)},o.subject.attributes=ve.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),o.subject.hash=c.digest().toHex(),o.publicKey=ve.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(l){return Od(o,l)},o.addAttribute=function(l){Ko([l]),o.attributes.push(l)},o.attributes=ve.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o};ve.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Od(e.subject,t)},e.subject.addField=function(t){Ko([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Od(e,t)},e.addAttribute=function(t){Ko([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Ko(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Ko(t),e.attributes=t},e.sign=function(t,r){e.md=r||tt.md.sha1.create();var n=Yt[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=ve.getCertificationRequestInfo(e);var i=b.toDer(e.certificationRequestInfo);e.md.update(i.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=EN({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||ve.getCertificationRequestInfo(e),s=b.toDer(n);r.update(s.getBytes())}return r!==null&&(t=oce({certificate:e,md:r,signature:e.signature})),t},e};function Fp(e){for(var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,i=0;i<s.length;++i){r=s[i];var o=r.value,a=b.Type.PRINTABLESTRING;"valueTagClass"in r&&(a=r.valueTagClass,a===b.Type.UTF8&&(o=tt.util.encodeUtf8(o))),n=b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(r.type).getBytes()),b.create(b.Class.UNIVERSAL,a,!1,o)])]),t.value.push(n)}return t}function Ko(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in ve.oids?t.name=ve.oids[t.type]:t.shortName&&t.shortName in xn&&(t.name=ve.oids[xn[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in ve.oids)t.type=ve.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in xn&&(t.shortName=xn[t.name]),t.type===Yt.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=b.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(ve.certificateExtensionToAsn1(ace(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function ace(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in ve.oids&&(e.name=ve.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in ve.oids)e.id=ve.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,i=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(i|=128,n=7);var o=String.fromCharCode(n);i!==0?o+=String.fromCharCode(s)+String.fromCharCode(i):s!==0&&(o+=String.fromCharCode(s)),e.value=b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,o)}else if(e.name==="basicConstraints")e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(b.create(b.Class.UNIVERSAL,b.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);var a=e.value.value;for(var c in e)e[c]===!0&&(c in Yt?a.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(Yt[c]).getBytes())):c.indexOf(".")!==-1&&a.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var o=String.fromCharCode(n);s!==0&&(o+=String.fromCharCode(s)),e.value=b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,o)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);for(var l,u=0;u<e.altNames.length;++u){l=e.altNames[u];var o=l.value;if(l.type===7&&l.ip){if(o=tt.util.bytesFromIP(l.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else l.type===8&&(l.oid?o=b.oidToDer(b.oidToDer(l.oid)):o=b.oidToDer(o));e.value.value.push(b.create(b.Class.CONTEXT_SPECIFIC,l.type,!1,o))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=b.create(b.Class.UNIVERSAL,b.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);var a=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;a.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[b.create(b.Class.CONTEXT_SPECIFIC,4,!0,[Fp(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];a.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var g=tt.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);a.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);for(var a=e.value.value,y=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),_=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[]),l,u=0;u<e.altNames.length;++u){l=e.altNames[u];var o=l.value;if(l.type===7&&l.ip){if(o=tt.util.bytesFromIP(l.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else l.type===8&&(l.oid?o=b.oidToDer(b.oidToDer(l.oid)):o=b.oidToDer(o));_.value.push(b.create(b.Class.CONTEXT_SPECIFIC,l.type,!1,o))}y.value.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[_])),a.push(y)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function JF(e,t){switch(e){case Yt["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.hash.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.mgf.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.mgf.hash.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(t.saltLength).getBytes())])),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,r);default:return b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")}}function QYe(e){var t=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],i=s.value,o=b.Type.UTF8;"valueTagClass"in s&&(o=s.valueTagClass),o===b.Type.UTF8&&(i=tt.util.encodeUtf8(i));var a=!1;"valueConstructed"in s&&(a=s.valueConstructed);var c=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(s.type).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,o,a,i)])]);t.value.push(c)}return t}var ZYe=new Date("1950-01-01T00:00:00Z"),eQe=new Date("2050-01-01T00:00:00Z");function sce(e){return e>=ZYe&&e<eQe?b.create(b.Class.UNIVERSAL,b.Type.UTCTIME,!1,b.dateToUtcTime(e)):b.create(b.Class.UNIVERSAL,b.Type.GENERALIZEDTIME,!1,b.dateToGeneralizedTime(e))}ve.getTBSCertificate=function(e){var t=sce(e.validity.notBefore),r=sce(e.validity.notAfter),n=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes())]),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,tt.util.hexToBytes(e.serialNumber)),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.siginfo.algorithmOid).getBytes()),JF(e.siginfo.algorithmOid,e.siginfo.parameters)]),Fp(e.issuer),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,r]),Fp(e.subject),ve.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,[b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!0,[b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(ve.certificateExtensionsToAsn1(e.extensions)),n};ve.getCertificationRequestInfo=function(e){var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),Fp(e.subject),ve.publicKeyToAsn1(e.publicKey),QYe(e)]);return t};ve.distinguishedNameToAsn1=function(e){return Fp(e)};ve.certificateToAsn1=function(e){var t=e.tbsCertificate||ve.getTBSCertificate(e);return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.signatureOid).getBytes()),JF(e.signatureOid,e.signatureParameters)]),b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,"\0"+e.signature)])};ve.certificateExtensionsToAsn1=function(e){var t=b.create(b.Class.CONTEXT_SPECIFIC,3,!0,[]),r=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(ve.certificateExtensionToAsn1(e[n]));return t};ve.certificateExtensionToAsn1=function(e){var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);t.value.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.id).getBytes())),e.critical&&t.value.push(b.create(b.Class.UNIVERSAL,b.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=b.toDer(r).getBytes()),t.value.push(b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,r)),t};ve.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||ve.getCertificationRequestInfo(e);return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.signatureOid).getBytes()),JF(e.signatureOid,e.signatureParameters)]),b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,"\0"+e.signature)])};ve.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(o){var a=r(o.issuer);return a},t.addCertificate=function(o){if(typeof o=="string"&&(o=tt.pki.certificateFromPem(o)),n(o.subject),!t.hasCertificate(o))if(o.subject.hash in t.certs){var a=t.certs[o.subject.hash];tt.util.isArray(a)||(a=[a]),a.push(o),t.certs[o.subject.hash]=a}else t.certs[o.subject.hash]=o},t.hasCertificate=function(o){typeof o=="string"&&(o=tt.pki.certificateFromPem(o));var a=r(o.subject);if(!a)return!1;tt.util.isArray(a)||(a=[a]);for(var c=b.toDer(ve.certificateToAsn1(o)).getBytes(),l=0;l<a.length;++l){var u=b.toDer(ve.certificateToAsn1(a[l])).getBytes();if(c===u)return!0}return!1},t.listAllCertificates=function(){var o=[];for(var a in t.certs)if(t.certs.hasOwnProperty(a)){var c=t.certs[a];if(!tt.util.isArray(c))o.push(c);else for(var l=0;l<c.length;++l)o.push(c[l])}return o},t.removeCertificate=function(o){var a;if(typeof o=="string"&&(o=tt.pki.certificateFromPem(o)),n(o.subject),!t.hasCertificate(o))return null;var c=r(o.subject);if(!tt.util.isArray(c))return a=t.certs[o.subject.hash],delete t.certs[o.subject.hash],a;for(var l=b.toDer(ve.certificateToAsn1(o)).getBytes(),u=0;u<c.length;++u){var m=b.toDer(ve.certificateToAsn1(c[u])).getBytes();l===m&&(a=c[u],c.splice(u,1))}return c.length===0&&delete t.certs[o.subject.hash],a};function r(o){return n(o),t.certs[o.hash]||null}function n(o){if(!o.hash){var a=tt.md.sha1.create();o.attributes=ve.RDNAttributesAsArray(Fp(o),a),o.hash=a.digest().toHex()}}if(e)for(var s=0;s<e.length;++s){var i=e[s];t.addCertificate(i)}return t};ve.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ve.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var i=!0,o=null,a=0;do{var c=t.shift(),l=null,u=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:ve.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),o===null){if(l=t[0]||e.getIssuer(c),l===null&&c.isIssuer(c)&&(u=!0,l=c),l){var m=l;tt.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){l=m.shift();try{h=l.verify(c)}catch{}}h||(o={message:"Certificate signature is invalid.",error:ve.certificateError.bad_certificate})}o===null&&(!l||u)&&!e.hasCertificate(c)&&(o={message:"Certificate is not trusted.",error:ve.certificateError.unknown_ca})}if(o===null&&l&&!c.isIssuer(l)&&(o={message:"Certificate issuer is invalid.",error:ve.certificateError.bad_certificate}),o===null)for(var p={keyUsage:!0,basicConstraints:!0},g=0;o===null&&g<c.extensions.length;++g){var y=c.extensions[g];y.critical&&!(y.name in p)&&(o={message:"Certificate has an unsupported critical extension.",error:ve.certificateError.unsupported_certificate})}if(o===null&&(!i||t.length===0&&(!l||u))){var _=c.getExtension("basicConstraints"),x=c.getExtension("keyUsage");if(x!==null&&(!x.keyCertSign||_===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ve.certificateError.bad_certificate}),o===null&&_!==null&&!_.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ve.certificateError.bad_certificate}),o===null&&x!==null&&"pathLenConstraint"in _){var w=a-1;w>_.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:ve.certificateError.bad_certificate})}}var D=o===null?!0:o.error,G=r.verify?r.verify(D,a,n):D;if(G===!0)o=null;else throw D===!0&&(o={message:"The application rejected the certificate.",error:ve.certificateError.bad_certificate}),(G||G===0)&&(typeof G=="object"&&!tt.util.isArray(G)?(G.message&&(o.message=G.message),G.error&&(o.error=G.error)):typeof G=="string"&&(o.error=G)),o;i=!1,++a}while(t.length>0);return!0}});var YF=C((R_t,dce)=>{var Kr=Tt();va();Op();Nd();$F();GF();Vo();v0();Lp();nr();SN();var O=Kr.asn1,Ft=Kr.pki,x0=dce.exports=Kr.pkcs12=Kr.pkcs12||{},lce={name:"ContentInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},tQe={name:"PFX",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"version"},lce,{name:"PFX.macData",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:O.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},rQe={name:"SafeBag",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},nQe={name:"Attribute",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0,capture:"values"}]},sQe={name:"CertBag",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:O.Class.UNIVERSAL,type:O.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function A0(e,t,r,n){for(var s=[],i=0;i<e.length;i++)for(var o=0;o<e[i].safeBags.length;o++){var a=e[i].safeBags[o];if(!(n!==void 0&&a.type!==n)){if(t===null){s.push(a);continue}a.attributes[t]!==void 0&&a.attributes[t].indexOf(r)>=0&&s.push(a)}}return s}x0.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!O.validate(e,tQe,n,s)){var i=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw i.errors=i,i}var o={version:n.version.charCodeAt(0),safeContents:[],getBags:function(_){var x={},w;return"localKeyId"in _?w=_.localKeyId:"localKeyIdHex"in _&&(w=Kr.util.hexToBytes(_.localKeyIdHex)),w===void 0&&!("friendlyName"in _)&&"bagType"in _&&(x[_.bagType]=A0(o.safeContents,null,null,_.bagType)),w!==void 0&&(x.localKeyId=A0(o.safeContents,"localKeyId",w,_.bagType)),"friendlyName"in _&&(x.friendlyName=A0(o.safeContents,"friendlyName",_.friendlyName,_.bagType)),x},getBagsByFriendlyName:function(_,x){return A0(o.safeContents,"friendlyName",_,x)},getBagsByLocalKeyId:function(_,x){return A0(o.safeContents,"localKeyId",_,x)}};if(n.version.charCodeAt(0)!==3){var i=new Error("PKCS#12 PFX of version other than 3 not supported.");throw i.version=n.version.charCodeAt(0),i}if(O.derToOid(n.contentType)!==Ft.oids.data){var i=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw i.oid=O.derToOid(n.contentType),i}var a=n.content.value[0];if(a.tagClass!==O.Class.UNIVERSAL||a.type!==O.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(a=XF(a),n.mac){var c=null,l=0,u=O.derToOid(n.macAlgorithm);switch(u){case Ft.oids.sha1:c=Kr.md.sha1.create(),l=20;break;case Ft.oids.sha256:c=Kr.md.sha256.create(),l=32;break;case Ft.oids.sha384:c=Kr.md.sha384.create(),l=48;break;case Ft.oids.sha512:c=Kr.md.sha512.create(),l=64;break;case Ft.oids.md5:c=Kr.md.md5.create(),l=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+u);var m=new Kr.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(Kr.util.bytesToHex(n.macIterations),16):1,p=x0.generateKey(r,m,3,h,l,c),g=Kr.hmac.create();g.start(c,p),g.update(a.value);var y=g.getMac();if(y.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return iQe(o,a.value,t,r),o};function XF(e){if(e.composed||e.constructed){for(var t=Kr.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function iQe(e,t,r,n){if(t=O.fromDer(t,r),t.tagClass!==O.Class.UNIVERSAL||t.type!==O.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var i=t.value[s],o={},a=[];if(!O.validate(i,lce,o,a)){var c=new Error("Cannot read ContentInfo.");throw c.errors=a,c}var l={encrypted:!1},u=null,m=o.content.value[0];switch(O.derToOid(o.contentType)){case Ft.oids.data:if(m.tagClass!==O.Class.UNIVERSAL||m.type!==O.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=XF(m).value;break;case Ft.oids.encryptedData:u=oQe(m,n),l.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=O.derToOid(o.contentType),c}l.safeBags=aQe(u,r,n),e.safeContents.push(l)}}function oQe(e,t){var r={},n=[];if(!O.validate(e,Kr.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var i=O.derToOid(r.contentType);if(i!==Ft.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=i,s}i=O.derToOid(r.encAlgorithm);var o=Ft.pbe.getCipher(i,r.encParameter,t),a=XF(r.encryptedContentAsn1),c=Kr.util.createBuffer(a.value);if(o.update(c),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}function aQe(e,t,r){if(!t&&e.length===0)return[];if(e=O.fromDer(e,t),e.tagClass!==O.Class.UNIVERSAL||e.type!==O.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var i=e.value[s],o={},a=[];if(!O.validate(i,rQe,o,a)){var c=new Error("Cannot read SafeBag.");throw c.errors=a,c}var l={type:O.derToOid(o.bagId),attributes:cQe(o.bagAttributes)};n.push(l);var u,m,h=o.bagValue.value[0];switch(l.type){case Ft.oids.pkcs8ShroudedKeyBag:if(h=Ft.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ft.oids.keyBag:try{l.key=Ft.privateKeyFromAsn1(h)}catch{l.key=null,l.asn1=h}continue;case Ft.oids.certBag:u=sQe,m=function(){if(O.derToOid(o.certId)!==Ft.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=O.derToOid(o.certId),g}var y=O.fromDer(o.cert,t);try{l.cert=Ft.certificateFromAsn1(y,!0)}catch{l.cert=null,l.asn1=y}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=l.type,c}if(u!==void 0&&!O.validate(h,u,o,a)){var c=new Error("Cannot read PKCS#12 "+u.name);throw c.errors=a,c}m()}return n}function cQe(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!O.validate(e[r],nQe,n,s)){var i=new Error("Cannot read PKCS#12 BagAttribute.");throw i.errors=s,i}var o=O.derToOid(n.oid);if(Ft.oids[o]!==void 0){t[Ft.oids[o]]=[];for(var a=0;a<n.values.length;++a)t[Ft.oids[o]].push(n.values[a].value)}}return t}x0.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,i;if(s!==null)s=Kr.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var o=Kr.util.isArray(t)?t[0]:t;typeof o=="string"&&(o=Ft.certificateFromPem(o));var a=Kr.md.sha1.create();a.update(O.toDer(Ft.certificateToAsn1(o)).getBytes()),s=a.digest().getBytes()}else s=Kr.random.getBytes(20);var c=[];s!==null&&c.push(O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.localKeyId).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.friendlyName).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(i=O.create(O.Class.UNIVERSAL,O.Type.SET,!0,c));var l=[],u=[];t!==null&&(Kr.util.isArray(t)?u=t:u=[t]);for(var m=[],h=0;h<u.length;++h){t=u[h],typeof t=="string"&&(t=Ft.certificateFromPem(t));var p=h===0?i:void 0,g=Ft.certificateToAsn1(t),y=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.certBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.x509Certificate).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(g).getBytes())])])]),p]);m.push(y)}if(m.length>0){var _=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,m),x=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(_).getBytes())])]);l.push(x)}var w=null;if(e!==null){var D=Ft.wrapRsaPrivateKey(Ft.privateKeyToAsn1(e));r===null?w=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.keyBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[D]),i]):w=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.pkcs8ShroudedKeyBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[Ft.encryptPrivateKeyInfo(D,r,n)]),i]);var G=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[w]),W=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(G).getBytes())])]);l.push(W)}var J=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,l),xe;if(n.useMac){var a=Kr.md.sha1.create(),be=new Kr.util.ByteBuffer(Kr.random.getBytes(n.saltSize)),De=n.count,e=x0.generateKey(r,be,3,De,20),Ge=Kr.hmac.create();Ge.start(a,e),Ge.update(O.toDer(J).getBytes());var $e=Ge.getMac();xe=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.sha1).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")]),O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,$e.getBytes())]),O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,be.getBytes()),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(De).getBytes())])}return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(3).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(Ft.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(J).getBytes())])]),xe])};x0.generateKey=Kr.pbe.generatePkcs12Key});var ZF=C((P_t,uce)=>{var Dd=Tt();va();Nd();GF();Rf();lN();YF();gN();v0();nr();SN();var QF=Dd.asn1,qp=uce.exports=Dd.pki=Dd.pki||{};qp.pemToDer=function(e){var t=Dd.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Dd.util.createBuffer(t.body)};qp.privateKeyFromPem=function(e){var t=Dd.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=QF.fromDer(t.body);return qp.privateKeyFromAsn1(n)};qp.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:QF.toDer(qp.privateKeyToAsn1(e)).getBytes()};return Dd.pem.encode(r,{maxline:t})};qp.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:QF.toDer(e).getBytes()};return Dd.pem.encode(r,{maxline:t})}});var i3=C((O_t,Sce)=>{var pe=Tt();va();Op();iN();Rf();ZF();Vo();Lp();nr();var vN=function(e,t,r,n){var s=pe.util.createBuffer(),i=e.length>>1,o=i+(e.length&1),a=e.substr(0,o),c=e.substr(i,o),l=pe.util.createBuffer(),u=pe.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);u.start("MD5",a);var p=pe.util.createBuffer();l.putBytes(r);for(var g=0;g<m;++g)u.start(null,null),u.update(l.getBytes()),l.putBuffer(u.digest()),u.start(null,null),u.update(l.bytes()+r),p.putBuffer(u.digest());u.start("SHA1",c);var y=pe.util.createBuffer();l.clear(),l.putBytes(r);for(var g=0;g<h;++g)u.start(null,null),u.update(l.getBytes()),l.putBuffer(u.digest()),u.start(null,null),u.update(l.bytes()+r),y.putBuffer(u.digest());return s.putBytes(pe.util.xorBytes(p.getBytes(),y.getBytes(),n)),s},lQe=function(e,t,r){var n=pe.hmac.create();n.start("SHA1",e);var s=pe.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},dQe=function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},uQe=function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},uo=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return pe.util.createBuffer(e.getBytes(r))},Go=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},A={};A.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};A.SupportedVersions=[A.Versions.TLS_1_1,A.Versions.TLS_1_0];A.Version=A.SupportedVersions[0];A.MaxFragment=15360;A.ConnectionEnd={server:0,client:1};A.PRFAlgorithm={tls_prf_sha256:0};A.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};A.CipherType={stream:0,block:1,aead:2};A.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};A.CompressionMethod={none:0,deflate:1};A.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};A.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};A.Alert={};A.Alert.Level={warning:1,fatal:2};A.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};A.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};A.CipherSuites={};A.getCipherSuite=function(e){var t=null;for(var r in A.CipherSuites){var n=A.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};A.handleUnexpected=function(e,t){var r=!e.open&&e.entity===A.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})};A.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(A.queue(e,A.createAlert(e,{level:A.Alert.Level.warning,description:A.Alert.Description.no_renegotiation})),A.flush(e)),e.process()};A.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===A.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});else{var i=t.fragment,o=i.length();if(n={version:{major:i.getByte(),minor:i.getByte()},random:pe.util.createBuffer(i.getBytes(32)),session_id:uo(i,1),extensions:[]},s?(n.cipher_suite=i.getBytes(2),n.compression_method=i.getByte()):(n.cipher_suites=uo(i,2),n.compression_methods=uo(i,1)),o=r-(o-i.length()),o>0){for(var a=uo(i,2);a.length()>0;)n.extensions.push({type:[a.getByte(),a.getByte()],data:uo(a,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var l=n.extensions[c];if(l.type[0]===0&&l.type[1]===0)for(var u=uo(l.data,2);u.length()>0;){var m=u.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(uo(u,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=A.getCipherSuite(n.cipher_suite);else for(var h=pe.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=A.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure},cipherSuite:pe.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=A.CompressionMethod.none}return n};A.createSecurityParameters=function(e,t){var r=e.entity===A.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,i=r?n:A.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:A.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:i}};A.handleServerHello=function(e,t,r){var n=A.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=hce,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=mQe,e.session.resuming=!1,A.createSecurityParameters(e,n)),e.session.id=s,e.process()}};A.handleClientHello=function(e,t,r){var n=A.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),i=null;if(e.sessionCache&&(i=e.sessionCache.getSession(s),i===null?s="":(i.version.major!==n.version.major||i.version.minor>n.version.minor)&&(i=null,s="")),s.length===0&&(s=pe.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},i)e.version=e.session.version=i.version,e.session.sp=i.sp;else{for(var o,a=1;a<A.SupportedVersions.length&&(o=A.SupportedVersions[a],!(o.minor<=n.version.minor));++a);e.version={major:o.major,minor:o.minor},e.session.version=e.version}i!==null?(e.expect=n3,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?CQe:r3,e.session.resuming=!1,A.createSecurityParameters(e,n)),e.open=!0,A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createServerHello(e)})),e.session.resuming?(A.queue(e,A.createRecord(e,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),e.state.pending=A.createConnectionState(e),e.state.current.write=e.state.pending.write,A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createFinished(e)}))):(A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createCertificate(e)})),e.fail||(A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createServerKeyExchange(e)})),e.verifyClient!==!1&&A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createCertificateRequest(e)})),A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createServerHelloDone(e)})))),A.flush(e),e.process()}};A.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:uo(n,3)},i,o,a=[];try{for(;s.certificate_list.length()>0;)i=uo(s.certificate_list,3),o=pe.asn1.fromDer(i),i=pe.pki.certificateFromAsn1(o,!0),a.push(i)}catch(l){return e.error(e,{message:"Could not parse certificate list.",cause:l,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var c=e.entity===A.ConnectionEnd.client;(c||e.verifyClient===!0)&&a.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}}):a.length===0?e.expect=c?fce:r3:(c?e.session.serverCertificate=a[0]:e.session.clientCertificate=a[0],A.verifyCertificateChain(e,a)&&(e.expect=c?fce:r3)),e.process()};A.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});e.expect=hQe,e.process()};A.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:uo(n,2).getBytes()},i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.serverCertificate),i=pe.pki.privateKeyFromPem(i)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}if(i===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}});try{var o=e.session.sp;o.pre_master_secret=i.decrypt(s.enc_pre_master_secret);var a=e.session.clientHelloVersion;if(a.major!==o.pre_master_secret.charCodeAt(0)||a.minor!==o.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{o.pre_master_secret=pe.random.getBytes(48)}e.expect=n3,e.session.clientCertificate!==null&&(e.expect=bQe),e.process()};A.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:uo(n,1),certificate_authorities:uo(n,2)};e.session.certificateRequest=s,e.expect=pQe,e.process()};A.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var i={signature:uo(n,2).getBytes()},o=pe.util.createBuffer();o.putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest()),o=o.getBytes();try{var a=e.session.clientCertificate;if(!a.publicKey.verify(o,i.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure}})}e.expect=n3,e.process()};A.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.insufficient_security}},s=0,i=e.verify(e,n.alert.description,s,[]);if(i!==!0)return(i||i===0)&&(typeof i=="object"&&!pe.util.isArray(i)?(i.message&&(n.message=i.message),i.alert&&(n.alert.description=i.alert)):typeof i=="number"&&(n.alert.description=i)),e.error(e,n)}e.session.certificateRequest!==null&&(t=A.createRecord(e,{type:A.ContentType.handshake,data:A.createCertificate(e)}),A.queue(e,t)),t=A.createRecord(e,{type:A.ContentType.handshake,data:A.createClientKeyExchange(e)}),A.queue(e,t),e.expect=EQe;var o=function(a,c){a.session.certificateRequest!==null&&a.session.clientCertificate!==null&&A.queue(a,A.createRecord(a,{type:A.ContentType.handshake,data:A.createCertificateVerify(a,c)})),A.queue(a,A.createRecord(a,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),a.state.pending=A.createConnectionState(a),a.state.current.write=a.state.pending.write,A.queue(a,A.createRecord(a,{type:A.ContentType.handshake,data:A.createFinished(a)})),a.expect=hce,A.flush(a),a.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return o(e,null);A.getClientSignature(e,o)};A.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var r=e.entity===A.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=A.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?gQe:_Qe,e.process()};A.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var i=t.fragment.getBytes();n=pe.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var o=e.entity===A.ConnectionEnd.client,a=o?"server finished":"client finished",c=e.session.sp,l=12,u=vN;if(n=u(c.master_secret,a,n.getBytes(),l),n.getBytes()!==i)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&o||!e.session.resuming&&!o)&&(A.queue(e,A.createRecord(e,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,A.queue(e,A.createRecord(e,{type:A.ContentType.handshake,data:A.createFinished(e)}))),e.expect=o?yQe:vQe,e.handshaking=!1,++e.handshakes,e.peerCertificate=o?e.session.serverCertificate:e.session.clientCertificate,A.flush(e),e.isConnected=!0,e.connected(e),e.process()};A.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case A.Alert.Description.close_notify:s="Connection closed.";break;case A.Alert.Description.unexpected_message:s="Unexpected message.";break;case A.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case A.Alert.Description.decryption_failed:s="Decryption failed.";break;case A.Alert.Description.record_overflow:s="Record overflow.";break;case A.Alert.Description.decompression_failure:s="Decompression failed.";break;case A.Alert.Description.handshake_failure:s="Handshake failure.";break;case A.Alert.Description.bad_certificate:s="Bad certificate.";break;case A.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case A.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case A.Alert.Description.certificate_expired:s="Certificate expired.";break;case A.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case A.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case A.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case A.Alert.Description.access_denied:s="Access denied.";break;case A.Alert.Description.decode_error:s="Decode error.";break;case A.Alert.Description.decrypt_error:s="Decrypt error.";break;case A.Alert.Description.export_restriction:s="Export restriction.";break;case A.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case A.Alert.Description.insufficient_security:s="Insufficient security.";break;case A.Alert.Description.internal_error:s="Internal error.";break;case A.Alert.Description.user_canceled:s="User canceled.";break;case A.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===A.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===A.ConnectionEnd.client?"server":"client",alert:n}),e.process()};A.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=pe.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var i=r.bytes(s+4);r.read+=4,n in _N[e.entity][e.expect]?(e.entity===A.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:pe.md.md5.create(),sha1:pe.md.sha1.create()}),n!==A.HandshakeType.hello_request&&n!==A.HandshakeType.certificate_verify&&n!==A.HandshakeType.finished&&(e.session.md5.update(i),e.session.sha1.update(i)),_N[e.entity][e.expect][n](e,t,s)):A.handleUnexpected(e,t)};A.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};A.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),i=r.getBytes(s);if(n===A.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>i.length)return e.process();A.queue(e,A.createRecord(e,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_response,i)})),A.flush(e)}else if(n===A.HeartbeatMessageType.heartbeat_response){if(i!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,pe.util.createBuffer(i))}e.process()};var fQe=0,mQe=1,fce=2,hQe=3,pQe=4,hce=5,gQe=6,yQe=7,EQe=8,SQe=0,CQe=1,r3=2,bQe=3,n3=4,_Qe=5,vQe=6,v=A.handleUnexpected,pce=A.handleChangeCipherSpec,Us=A.handleAlert,vi=A.handleHandshake,gce=A.handleApplicationData,Fs=A.handleHeartbeat,s3=[];s3[A.ConnectionEnd.client]=[[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[pce,Us,v,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,gce,Fs],[v,Us,vi,v,Fs]];s3[A.ConnectionEnd.server]=[[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,v,Fs],[pce,Us,v,v,Fs],[v,Us,vi,v,Fs],[v,Us,vi,gce,Fs],[v,Us,vi,v,Fs]];var kd=A.handleHelloRequest,AQe=A.handleServerHello,yce=A.handleCertificate,mce=A.handleServerKeyExchange,e3=A.handleCertificateRequest,CN=A.handleServerHelloDone,Ece=A.handleFinished,_N=[];_N[A.ConnectionEnd.client]=[[v,v,AQe,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,yce,mce,e3,CN,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,mce,e3,CN,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,v,e3,CN,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,v,v,CN,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Ece],[kd,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[kd,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v]];var xQe=A.handleClientHello,IQe=A.handleClientKeyExchange,TQe=A.handleCertificateVerify;_N[A.ConnectionEnd.server]=[[v,xQe,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,yce,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,IQe,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,TQe,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Ece],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v]];A.generateKeys=function(e,t){var r=vN,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,i=e.version.major===A.Versions.TLS_1_0.major&&e.version.minor===A.Versions.TLS_1_0.minor;i&&(s+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",n,s),a={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return i&&(a.client_write_IV=o.getBytes(t.fixed_iv_length),a.server_write_IV=o.getBytes(t.fixed_iv_length)),a};A.createConnectionState=function(e){var t=e.entity===A.ConnectionEnd.client,r=function(){var i={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(o){return!0},compressionState:null,compressFunction:function(o){return!0},updateSequenceNumber:function(){i.sequenceNumber[1]===4294967295?(i.sequenceNumber[1]=0,++i.sequenceNumber[0]):++i.sequenceNumber[1]}};return i},n={read:r(),write:r()};if(n.read.update=function(i,o){return n.read.cipherFunction(o,n.read)?n.read.compressFunction(i,o,n.read)||i.error(i,{message:"Could not decompress record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decompression_failure}}):i.error(i,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_record_mac}}),!i.fail},n.write.update=function(i,o){return n.write.compressFunction(i,o,n.write)?n.write.cipherFunction(o,n.write)||i.error(i,{message:"Could not encrypt record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):i.error(i,{message:"Could not compress record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}),!i.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=A.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case A.CompressionMethod.none:break;case A.CompressionMethod.deflate:n.read.compressFunction=uQe,n.write.compressFunction=dQe;break;default:throw new Error("Unsupported compression algorithm.")}}return n};A.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=pe.util.createBuffer();return r.putInt32(t),r.putBytes(pe.random.getBytes(28)),r};A.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};A.createAlert=function(e,t){var r=pe.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),A.createRecord(e,{type:A.ContentType.alert,data:r})};A.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=pe.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),i=pe.util.createBuffer();i.putByte(A.CompressionMethod.none);var o=i.length(),a=pe.util.createBuffer();if(e.virtualHost){var c=pe.util.createBuffer();c.putByte(0),c.putByte(0);var l=pe.util.createBuffer();l.putByte(0),Go(l,2,pe.util.createBuffer(e.virtualHost));var u=pe.util.createBuffer();Go(u,2,l),Go(c,2,u),a.putBuffer(c)}var m=a.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+s+1+o+m,g=pe.util.createBuffer();return g.putByte(A.HandshakeType.client_hello),g.putInt24(p),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),Go(g,1,pe.util.createBuffer(h)),Go(g,2,t),Go(g,1,i),m>0&&Go(g,2,a),g};A.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=pe.util.createBuffer();return n.putByte(A.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Go(n,1,pe.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};A.createCertificate=function(e){var t=e.entity===A.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=pe.util.createBuffer();if(r!==null)try{pe.util.isArray(r)||(r=[r]);for(var i=null,o=0;o<r.length;++o){var a=pe.pem.decode(r[o])[0];if(a.type!=="CERTIFICATE"&&a.type!=="X509 CERTIFICATE"&&a.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=a.type,c}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=pe.util.createBuffer(a.body);i===null&&(i=pe.asn1.fromDer(l.bytes(),!1));var u=pe.util.createBuffer();Go(u,3,l),s.putBuffer(u)}r=pe.pki.certificateFromAsn1(i),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var m=3+s.length(),h=pe.util.createBuffer();return h.putByte(A.HandshakeType.certificate),h.putInt24(m),Go(h,3,s),h};A.createClientKeyExchange=function(e){var t=pe.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(pe.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,i=pe.util.createBuffer();return i.putByte(A.HandshakeType.client_key_exchange),i.putInt24(s),i.putInt16(t.length),i.putBytes(t),i};A.createServerKeyExchange=function(e){var t=0,r=pe.util.createBuffer();return t>0&&(r.putByte(A.HandshakeType.server_key_exchange),r.putInt24(t)),r};A.getClientSignature=function(e,t){var r=pe.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,i){var o=null;if(n.getPrivateKey)try{o=n.getPrivateKey(n,n.session.clientCertificate),o=pe.pki.privateKeyFromPem(o)}catch(a){n.error(n,{message:"Could not get private key.",cause:a,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}o===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):s=o.sign(s,null),i(n,s)},e.getSignature(e,r,t)};A.createCertificateVerify=function(e,t){var r=t.length+2,n=pe.util.createBuffer();return n.putByte(A.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};A.createCertificateRequest=function(e){var t=pe.util.createBuffer();t.putByte(1);var r=pe.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],i=pe.pki.distinguishedNameToAsn1(s.subject),o=pe.asn1.toDer(i);r.putInt16(o.length()),r.putBuffer(o)}var a=1+t.length()+2+r.length(),c=pe.util.createBuffer();return c.putByte(A.HandshakeType.certificate_request),c.putInt24(a),Go(c,1,t),Go(c,2,r),c};A.createServerHelloDone=function(e){var t=pe.util.createBuffer();return t.putByte(A.HandshakeType.server_hello_done),t.putInt24(0),t};A.createChangeCipherSpec=function(){var e=pe.util.createBuffer();return e.putByte(1),e};A.createFinished=function(e){var t=pe.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===A.ConnectionEnd.client,n=e.session.sp,s=12,i=vN,o=r?"client finished":"server finished";t=i(n.master_secret,o,t.getBytes(),s);var a=pe.util.createBuffer();return a.putByte(A.HandshakeType.finished),a.putInt24(t.length()),a.putBuffer(t),a};A.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=pe.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),i=Math.max(16,s-r-3);return n.putBytes(pe.random.getBytes(i)),n};A.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===A.ContentType.handshake||t.type===A.ContentType.alert||t.type===A.ContentType.change_cipher_spec))){if(t.type===A.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=A.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>A.MaxFragment;)n.push(A.createRecord(e,{type:t.type,data:pe.util.createBuffer(s.slice(0,A.MaxFragment))})),s=s.slice(A.MaxFragment);s.length>0&&n.push(A.createRecord(e,{type:t.type,data:pe.util.createBuffer(s)}))}for(var i=0;i<n.length&&!e.fail;++i){var o=n[i],a=e.state.current.write;a.update(e,o)&&e.records.push(o)}}};A.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var t3=function(e){switch(e){case!0:return!0;case pe.pki.certificateError.bad_certificate:return A.Alert.Description.bad_certificate;case pe.pki.certificateError.unsupported_certificate:return A.Alert.Description.unsupported_certificate;case pe.pki.certificateError.certificate_revoked:return A.Alert.Description.certificate_revoked;case pe.pki.certificateError.certificate_expired:return A.Alert.Description.certificate_expired;case pe.pki.certificateError.certificate_unknown:return A.Alert.Description.certificate_unknown;case pe.pki.certificateError.unknown_ca:return A.Alert.Description.unknown_ca;default:return A.Alert.Description.bad_certificate}},wQe=function(e){switch(e){case!0:return!0;case A.Alert.Description.bad_certificate:return pe.pki.certificateError.bad_certificate;case A.Alert.Description.unsupported_certificate:return pe.pki.certificateError.unsupported_certificate;case A.Alert.Description.certificate_revoked:return pe.pki.certificateError.certificate_revoked;case A.Alert.Description.certificate_expired:return pe.pki.certificateError.certificate_expired;case A.Alert.Description.certificate_unknown:return pe.pki.certificateError.certificate_unknown;case A.Alert.Description.unknown_ca:return pe.pki.certificateError.unknown_ca;default:return pe.pki.certificateError.bad_certificate}};A.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(i,o,a){var c=t3(i),l=e.verify(e,i,o,a);if(l!==!0){if(typeof l=="object"&&!pe.util.isArray(l)){var u=new Error("The application rejected the certificate.");throw u.send=!0,u.alert={level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate},l.message&&(u.message=l.message),l.alert&&(u.alert.description=l.alert),u}l!==i&&(l=wQe(l))}return l},pe.pki.verifyCertificateChain(e.caStore,t,r)}catch(i){var s=i;(typeof s!="object"||pe.util.isArray(s))&&(s={send:!0,alert:{level:A.Alert.Level.fatal,description:t3(i)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:A.Alert.Level.fatal,description:t3(s.error)}),e.error(e,s)}return!e.fail};A.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var i=null,o=null;if(s?o=pe.util.bytesToHex(s):r.order.length>0&&(o=r.order[0]),o!==null&&o in r.cache){i=r.cache[o],delete r.cache[o];for(var a in r.order)if(r.order[a]===o){r.order.splice(a,1);break}}return i},r.setSession=function(s,i){if(r.order.length===r.capacity){var o=r.order.shift();delete r.cache[o]}var o=pe.util.bytesToHex(s);r.order.push(o),r.cache[o]=i}}return r};A.createConnection=function(e){var t=null;e.caStore?pe.util.isArray(e.caStore)?t=pe.pki.createCaStore(e.caStore):t=e.caStore:t=pe.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in A.CipherSuites)r.push(A.CipherSuites[n])}var s=e.server?A.ConnectionEnd.server:A.ConnectionEnd.client,i=e.sessionCache?A.createSessionCache(e.sessionCache):null,o={version:{major:A.Version.major,minor:A.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:i,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(u,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:pe.util.createBuffer(),tlsData:pe.util.createBuffer(),data:pe.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(u,m){m.origin=m.origin||(u.entity===A.ConnectionEnd.client?"client":"server"),m.send&&(A.queue(u,A.createAlert(u,m.alert)),A.flush(u));var h=m.fatal!==!1;h&&(u.fail=!0),e.error(u,m),h&&u.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};o.reset=function(u){o.version={major:A.Version.major,minor:A.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===A.ConnectionEnd.client?fQe:SQe,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(u||typeof u>"u"),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=A.createConnectionState(o)},o.reset();var a=function(u,m){var h=m.type-A.ContentType.change_cipher_spec,p=s3[u.entity][u.expect];h in p?p[h](u,m):A.handleUnexpected(u,m)},c=function(u){var m=0,h=u.input,p=h.length();if(p<5)m=5-p;else{u.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:pe.util.createBuffer(),ready:!1};var g=u.record.version.major===u.version.major;g&&u.session&&u.session.version&&(g=u.record.version.minor===u.version.minor),g||u.error(u,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}})}return m},l=function(u){var m=0,h=u.input,p=h.length();if(p<u.record.length)m=u.record.length-p;else{u.record.fragment.putBytes(h.getBytes(u.record.length)),h.compact();var g=u.state.current.read;g.update(u,u.record)&&(u.fragmented!==null&&(u.fragmented.type===u.record.type?(u.fragmented.fragment.putBuffer(u.record.fragment),u.record=u.fragmented):u.error(u,{message:"Invalid fragmented record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})),u.record.ready=!0)}return m};return o.handshake=function(u){if(o.entity!==A.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&o.handshakes===0&&(o.fail=!1),o.handshaking=!0,u=u||"";var m=null;u.length>0&&(o.sessionCache&&(m=o.sessionCache.getSession(u)),m===null&&(u="")),u.length===0&&o.sessionCache&&(m=o.sessionCache.getSession(),m!==null&&(u=m.id)),o.session={id:u,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:pe.md.md5.create(),sha1:pe.md.sha1.create()},m&&(o.version=m.version,o.session.sp=m.sp),o.session.sp.client_random=A.createRandom().getBytes(),o.open=!0,A.queue(o,A.createRecord(o,{type:A.ContentType.handshake,data:A.createClientHello(o)})),A.flush(o)}},o.process=function(u){var m=0;return u&&o.input.putBytes(u),o.fail||(o.record!==null&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),o.record===null&&(m=c(o)),!o.fail&&o.record!==null&&!o.record.ready&&(m=l(o)),!o.fail&&o.record!==null&&o.record.ready&&a(o,o.record)),m},o.prepare=function(u){return A.queue(o,A.createRecord(o,{type:A.ContentType.application_data,data:pe.util.createBuffer(u)})),A.flush(o)},o.prepareHeartbeatRequest=function(u,m){return u instanceof pe.util.ByteBuffer&&(u=u.bytes()),typeof m>"u"&&(m=u.length),o.expectedHeartbeatPayload=u,A.queue(o,A.createRecord(o,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_request,u,m)})),A.flush(o)},o.close=function(u){if(!o.fail&&o.sessionCache&&o.session){var m={id:o.session.id,version:o.session.version,sp:o.session.sp};m.sp.keys=null,o.sessionCache.setSession(m.id,m)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,A.queue(o,A.createAlert(o,{level:A.Alert.Level.warning,description:A.Alert.Description.close_notify})),A.flush(o)),o.closed(o)),o.reset(u)},o};Sce.exports=pe.tls=pe.tls||{};for(bN in A)typeof A[bN]!="function"&&(pe.tls[bN]=A[bN]);var bN;pe.tls.prf_tls1=vN;pe.tls.hmac_sha1=lQe;pe.tls.createSessionCache=A.createSessionCache;pe.tls.createConnection=A.createConnection});var _ce=C((D_t,bce)=>{var Bd=Tt();wd();i3();var $o=bce.exports=Bd.tls;$o.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=$o.BulkCipherAlgorithm.aes,e.cipher_type=$o.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=$o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Cce};$o.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=$o.BulkCipherAlgorithm.aes,e.cipher_type=$o.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=$o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Cce};function Cce(e,t,r){var n=t.entity===Bd.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Bd.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Bd.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=OQe,e.write.cipherFunction=NQe,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=$o.hmac_sha1}function NQe(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===$o.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=Bd.random.getBytesSync(16),t.cipherState.init=!0;var i=t.cipherState.cipher;return i.start({iv:s}),e.version.minor>=$o.Versions.TLS_1_1.minor&&i.output.putBytes(s),i.update(e.fragment),i.finish(RQe)&&(e.fragment=i.output,e.length=e.fragment.length(),r=!0),r}function RQe(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function PQe(e,t,r){var n=!0;if(r){for(var s=t.length(),i=t.last(),o=s-1-i;o<s-1;++o)n=n&&t.at(o)==i;n&&t.truncate(i+1)}return n}function OQe(e,t){var r=!1,n;e.version.minor===$o.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(PQe);var i=t.macLength,o=Bd.random.getBytesSync(i),a=s.output.length();a>=i?(e.fragment=s.output.getBytes(a-i),o=s.output.getBytes(i)):e.fragment=s.output.getBytes(),e.fragment=Bd.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=DQe(t.macKey,o,c)&&r,r}function DQe(e,t,r){var n=Bd.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}});var c3=C((k_t,Ice)=>{var en=Tt();cc();nr();var I0=Ice.exports=en.sha512=en.sha512||{};en.md.sha512=en.md.algorithms.sha512=I0;var Ace=en.sha384=en.sha512.sha384=en.sha512.sha384||{};Ace.create=function(){return I0.create("SHA-384")};en.md.sha384=en.md.algorithms.sha384=Ace;en.sha512.sha256=en.sha512.sha256||{create:function(){return I0.create("SHA-512/256")}};en.md["sha512/256"]=en.md.algorithms["sha512/256"]=en.sha512.sha256;en.sha512.sha224=en.sha512.sha224||{create:function(){return I0.create("SHA-512/224")}};en.md["sha512/224"]=en.md.algorithms["sha512/224"]=en.sha512.sha224;I0.create=function(e){if(xce||kQe(),typeof e>"u"&&(e="SHA-512"),!(e in Lf))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Lf[e],r=null,n=en.util.createBuffer(),s=new Array(80),i=0;i<80;++i)s[i]=new Array(2);var o=64;switch(e){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var c=a.messageLengthSize/4,l=0;l<c;++l)a.fullMessageLength.push(0);n=en.util.createBuffer(),r=new Array(t.length);for(var l=0;l<t.length;++l)r[l]=t[l].slice(0);return a},a.start(),a.update=function(c,l){l==="utf8"&&(c=en.util.encodeUtf8(c));var u=c.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var m=a.fullMessageLength.length-1;m>=0;--m)a.fullMessageLength[m]+=u[1],u[1]=u[0]+(a.fullMessageLength[m]/4294967296>>>0),a.fullMessageLength[m]=a.fullMessageLength[m]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(c),vce(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var c=en.util.createBuffer();c.putBytes(n.bytes());var l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,u=l&a.blockLength-1;c.putBytes(o3.substr(0,a.blockLength-u));for(var m,h,p=a.fullMessageLength[0]*8,g=0;g<a.fullMessageLength.length-1;++g)m=a.fullMessageLength[g+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var y=new Array(r.length),g=0;g<r.length;++g)y[g]=r[g].slice(0);vce(y,s,c);var _=en.util.createBuffer(),x;e==="SHA-512"?x=y.length:e==="SHA-384"?x=y.length-2:x=y.length-4;for(var g=0;g<x;++g)_.putInt32(y[g][0]),(g!==x-1||e!=="SHA-512/224")&&_.putInt32(y[g][1]);return _},a};var o3=null,xce=!1,a3=null,Lf=null;function kQe(){o3="\x80",o3+=en.util.fillString("\0",128),a3=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Lf={},Lf["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Lf["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Lf["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Lf["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],xce=!0}function vce(e,t,r){for(var n,s,i,o,a,c,l,u,m,h,p,g,y,_,x,w,D,G,W,J,xe,be,De,Ge,$e,rt,er,Ir,jt,Vt,He,Ti,wi,hr,Ur,Xr=r.length();Xr>=128;){for(jt=0;jt<16;++jt)t[jt][0]=r.getInt32()>>>0,t[jt][1]=r.getInt32()>>>0;for(;jt<80;++jt)Ti=t[jt-2],Vt=Ti[0],He=Ti[1],n=((Vt>>>19|He<<13)^(He>>>29|Vt<<3)^Vt>>>6)>>>0,s=((Vt<<13|He>>>19)^(He<<3|Vt>>>29)^(Vt<<26|He>>>6))>>>0,hr=t[jt-15],Vt=hr[0],He=hr[1],i=((Vt>>>1|He<<31)^(Vt>>>8|He<<24)^Vt>>>7)>>>0,o=((Vt<<31|He>>>1)^(Vt<<24|He>>>8)^(Vt<<25|He>>>7))>>>0,wi=t[jt-7],Ur=t[jt-16],He=s+wi[1]+o+Ur[1],t[jt][0]=n+wi[0]+i+Ur[0]+(He/4294967296>>>0)>>>0,t[jt][1]=He>>>0;for(y=e[0][0],_=e[0][1],x=e[1][0],w=e[1][1],D=e[2][0],G=e[2][1],W=e[3][0],J=e[3][1],xe=e[4][0],be=e[4][1],De=e[5][0],Ge=e[5][1],$e=e[6][0],rt=e[6][1],er=e[7][0],Ir=e[7][1],jt=0;jt<80;++jt)l=((xe>>>14|be<<18)^(xe>>>18|be<<14)^(be>>>9|xe<<23))>>>0,u=((xe<<18|be>>>14)^(xe<<14|be>>>18)^(be<<23|xe>>>9))>>>0,m=($e^xe&(De^$e))>>>0,h=(rt^be&(Ge^rt))>>>0,a=((y>>>28|_<<4)^(_>>>2|y<<30)^(_>>>7|y<<25))>>>0,c=((y<<4|_>>>28)^(_<<30|y>>>2)^(_<<25|y>>>7))>>>0,p=(y&x|D&(y^x))>>>0,g=(_&w|G&(_^w))>>>0,He=Ir+u+h+a3[jt][1]+t[jt][1],n=er+l+m+a3[jt][0]+t[jt][0]+(He/4294967296>>>0)>>>0,s=He>>>0,He=c+g,i=a+p+(He/4294967296>>>0)>>>0,o=He>>>0,er=$e,Ir=rt,$e=De,rt=Ge,De=xe,Ge=be,He=J+s,xe=W+n+(He/4294967296>>>0)>>>0,be=He>>>0,W=D,J=G,D=x,G=w,x=y,w=_,He=s+o,y=n+i+(He/4294967296>>>0)>>>0,_=He>>>0;He=e[0][1]+_,e[0][0]=e[0][0]+y+(He/4294967296>>>0)>>>0,e[0][1]=He>>>0,He=e[1][1]+w,e[1][0]=e[1][0]+x+(He/4294967296>>>0)>>>0,e[1][1]=He>>>0,He=e[2][1]+G,e[2][0]=e[2][0]+D+(He/4294967296>>>0)>>>0,e[2][1]=He>>>0,He=e[3][1]+J,e[3][0]=e[3][0]+W+(He/4294967296>>>0)>>>0,e[3][1]=He>>>0,He=e[4][1]+be,e[4][0]=e[4][0]+xe+(He/4294967296>>>0)>>>0,e[4][1]=He>>>0,He=e[5][1]+Ge,e[5][0]=e[5][0]+De+(He/4294967296>>>0)>>>0,e[5][1]=He>>>0,He=e[6][1]+rt,e[6][0]=e[6][0]+$e+(He/4294967296>>>0)>>>0,e[6][1]=He>>>0,He=e[7][1]+Ir,e[7][0]=e[7][0]+er+(He/4294967296>>>0)>>>0,e[7][1]=He>>>0,Xr-=128}}});var Tce=C(l3=>{var BQe=Tt();va();var xs=BQe.asn1;l3.privateKeyValidator={name:"PrivateKeyInfo",tagClass:xs.Class.UNIVERSAL,type:xs.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:xs.Class.UNIVERSAL,type:xs.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:xs.Class.UNIVERSAL,type:xs.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xs.Class.UNIVERSAL,type:xs.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:xs.Class.UNIVERSAL,type:xs.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};l3.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:xs.Class.UNIVERSAL,type:xs.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:xs.Class.UNIVERSAL,type:xs.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xs.Class.UNIVERSAL,type:xs.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:xs.Class.UNIVERSAL,type:xs.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var qce=C((L_t,Fce)=>{var qs=Tt();_0();Vo();c3();nr();var Dce=Tce(),LQe=Dce.publicKeyValidator,MQe=Dce.privateKeyValidator;typeof wce>"u"&&(wce=qs.jsbn.BigInteger);var wce,f3=qs.util.ByteBuffer,Hi=typeof Buffer>"u"?Uint8Array:Buffer;qs.pki=qs.pki||{};Fce.exports=qs.pki.ed25519=qs.ed25519=qs.ed25519||{};var qt=qs.ed25519;qt.constants={};qt.constants.PUBLIC_KEY_BYTE_LENGTH=32;qt.constants.PRIVATE_KEY_BYTE_LENGTH=64;qt.constants.SEED_BYTE_LENGTH=32;qt.constants.SIGN_BYTE_LENGTH=64;qt.constants.HASH_BYTE_LENGTH=64;qt.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=qs.random.getBytesSync(qt.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==qt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+qt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=fl({message:t,encoding:"binary"});for(var r=new Hi(qt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Hi(qt.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return jQe(r,n),{publicKey:r,privateKey:n}};qt.privateKeyFromAsn1=function(e){var t={},r=[],n=qs.asn1.validate(e,MQe,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var i=qs.asn1.derToOid(t.privateKeyOid),o=qs.oids.EdDSA25519;if(i!==o)throw new Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var a=t.privateKey,c=fl({message:qs.asn1.fromDer(a).value,encoding:"binary"});return{privateKeyBytes:c}};qt.publicKeyFromAsn1=function(e){var t={},r=[],n=qs.asn1.validate(e,LQe,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var i=qs.asn1.derToOid(t.publicKeyOid),o=qs.oids.EdDSA25519;if(i!==o)throw new Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var a=t.ed25519PublicKey;if(a.length!==qt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return fl({message:a,encoding:"binary"})};qt.publicKeyFromPrivateKey=function(e){e=e||{};var t=fl({message:e.privateKey,encoding:"binary"});if(t.length!==qt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+qt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Hi(qt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};qt.sign=function(e){e=e||{};var t=fl(e),r=fl({message:e.privateKey,encoding:"binary"});if(r.length===qt.constants.SEED_BYTE_LENGTH){var n=qt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==qt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+qt.constants.SEED_BYTE_LENGTH+" or "+qt.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Hi(qt.constants.SIGN_BYTE_LENGTH+t.length);VQe(s,t,t.length,r);for(var i=new Hi(qt.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=s[o];return i};qt.verify=function(e){e=e||{};var t=fl(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=fl({message:e.signature,encoding:"binary"});if(r.length!==qt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+qt.constants.SIGN_BYTE_LENGTH);var n=fl({message:e.publicKey,encoding:"binary"});if(n.length!==qt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+qt.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Hi(qt.constants.SIGN_BYTE_LENGTH+t.length),i=new Hi(qt.constants.SIGN_BYTE_LENGTH+t.length),o;for(o=0;o<qt.constants.SIGN_BYTE_LENGTH;++o)s[o]=r[o];for(o=0;o<t.length;++o)s[o+qt.constants.SIGN_BYTE_LENGTH]=t[o];return HQe(i,s,s.length,n)>=0};function fl(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Hi)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new f3(t,r)}else if(!(t instanceof f3))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Hi(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}var m3=st(),AN=st([1]),UQe=st([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),FQe=st([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Nce=st([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Rce=st([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d3=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),qQe=st([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T0(e,t){var r=qs.md.sha512.create(),n=new f3(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var i=new Hi(qt.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)i[o]=s.charCodeAt(o);return i}function jQe(e,t){var r=[st(),st(),st(),st()],n,s=T0(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,y3(r,s),g3(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function VQe(e,t,r,n){var s,i,o=new Float64Array(64),a=[st(),st(),st(),st()],c=T0(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var l=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var u=T0(e.subarray(32),r+32);for(h3(u),y3(a,u),g3(e,a),s=32;s<64;++s)e[s]=n[s];var m=T0(e,r+64);for(h3(m),s=32;s<64;++s)o[s]=0;for(s=0;s<32;++s)o[s]=u[s];for(s=0;s<32;++s)for(i=0;i<32;i++)o[s+i]+=m[s]*c[i];return kce(e.subarray(32),o),l}function HQe(e,t,r,n){var s,i,o=new Hi(32),a=[st(),st(),st(),st()],c=[st(),st(),st(),st()];if(i=-1,r<64||zQe(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var l=T0(e,r);if(h3(l),Mce(a,c,l),y3(c,t.subarray(32)),p3(a,c),g3(o,a),r-=64,Bce(t,0,o,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return i=r,i}function kce(e,t){var r,n,s,i;for(n=63;n>=32;--n){for(r=0,s=n-32,i=n-12;s<i;++s)t[s]+=r-16*t[n]*d3[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*d3[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*d3[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function h3(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;kce(e,t)}function p3(e,t){var r=st(),n=st(),s=st(),i=st(),o=st(),a=st(),c=st(),l=st(),u=st();Vp(r,e[1],e[0]),Vp(u,t[1],t[0]),Mr(r,r,u),jp(n,e[0],e[1]),jp(u,t[0],t[1]),Mr(n,n,u),Mr(s,e[3],t[3]),Mr(s,s,FQe),Mr(i,e[2],t[2]),jp(i,i,i),Vp(o,n,r),Vp(a,i,s),jp(c,i,s),jp(l,n,r),Mr(e[0],o,a),Mr(e[1],l,c),Mr(e[2],c,a),Mr(e[3],o,l)}function Pce(e,t,r){for(var n=0;n<4;++n)Uce(e[n],t[n],r)}function g3(e,t){var r=st(),n=st(),s=st();WQe(s,t[2]),Mr(r,t[0],s),Mr(n,t[1],s),xN(e,n),e[31]^=Lce(r)<<7}function xN(e,t){var r,n,s,i=st(),o=st();for(r=0;r<16;++r)o[r]=t[r];for(u3(o),u3(o),u3(o),n=0;n<2;++n){for(i[0]=o[0]-65517,r=1;r<15;++r)i[r]=o[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),s=i[15]>>16&1,i[14]&=65535,Uce(o,i,1-s)}for(r=0;r<16;r++)e[2*r]=o[r]&255,e[2*r+1]=o[r]>>8}function zQe(e,t){var r=st(),n=st(),s=st(),i=st(),o=st(),a=st(),c=st();return Ld(e[2],AN),KQe(e[1],t),Mf(s,e[1]),Mr(i,s,UQe),Vp(s,s,e[2]),jp(i,e[2],i),Mf(o,i),Mf(a,o),Mr(c,a,o),Mr(r,c,s),Mr(r,r,i),GQe(r,r),Mr(r,r,s),Mr(r,r,i),Mr(r,r,i),Mr(e[0],r,i),Mf(n,e[0]),Mr(n,n,i),Oce(n,s)&&Mr(e[0],e[0],qQe),Mf(n,e[0]),Mr(n,n,i),Oce(n,s)?-1:(Lce(e[0])===t[31]>>7&&Vp(e[0],m3,e[0]),Mr(e[3],e[0],e[1]),0)}function KQe(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function GQe(e,t){var r=st(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Mf(r,r),n!==1&&Mr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function Oce(e,t){var r=new Hi(32),n=new Hi(32);return xN(r,e),xN(n,t),Bce(r,0,n,0)}function Bce(e,t,r,n){return $Qe(e,t,r,n,32)}function $Qe(e,t,r,n,s){var i,o=0;for(i=0;i<s;++i)o|=e[t+i]^r[n+i];return(1&o-1>>>8)-1}function Lce(e){var t=new Hi(32);return xN(t,e),t[0]&1}function Mce(e,t,r){var n,s;for(Ld(e[0],m3),Ld(e[1],AN),Ld(e[2],AN),Ld(e[3],m3),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,Pce(e,t,n),p3(t,e),p3(e,e),Pce(e,t,n)}function y3(e,t){var r=[st(),st(),st(),st()];Ld(r[0],Nce),Ld(r[1],Rce),Ld(r[2],AN),Mr(r[3],Nce,Rce),Mce(e,r,t)}function Ld(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function WQe(e,t){var r=st(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Mf(r,r),n!==2&&n!==4&&Mr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function u3(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function Uce(e,t,r){for(var n,s=~(r-1),i=0;i<16;++i)n=s&(e[i]^t[i]),e[i]^=n,t[i]^=n}function st(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function jp(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function Vp(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function Mf(e,t){Mr(e,t,t)}function Mr(e,t,r){var n,s,i=0,o=0,a=0,c=0,l=0,u=0,m=0,h=0,p=0,g=0,y=0,_=0,x=0,w=0,D=0,G=0,W=0,J=0,xe=0,be=0,De=0,Ge=0,$e=0,rt=0,er=0,Ir=0,jt=0,Vt=0,He=0,Ti=0,wi=0,hr=r[0],Ur=r[1],Xr=r[2],Bt=r[3],pr=r[4],_r=r[5],Un=r[6],ns=r[7],ss=r[8],is=r[9],os=r[10],as=r[11],tn=r[12],Fn=r[13],cs=r[14],Gn=r[15];n=t[0],i+=n*hr,o+=n*Ur,a+=n*Xr,c+=n*Bt,l+=n*pr,u+=n*_r,m+=n*Un,h+=n*ns,p+=n*ss,g+=n*is,y+=n*os,_+=n*as,x+=n*tn,w+=n*Fn,D+=n*cs,G+=n*Gn,n=t[1],o+=n*hr,a+=n*Ur,c+=n*Xr,l+=n*Bt,u+=n*pr,m+=n*_r,h+=n*Un,p+=n*ns,g+=n*ss,y+=n*is,_+=n*os,x+=n*as,w+=n*tn,D+=n*Fn,G+=n*cs,W+=n*Gn,n=t[2],a+=n*hr,c+=n*Ur,l+=n*Xr,u+=n*Bt,m+=n*pr,h+=n*_r,p+=n*Un,g+=n*ns,y+=n*ss,_+=n*is,x+=n*os,w+=n*as,D+=n*tn,G+=n*Fn,W+=n*cs,J+=n*Gn,n=t[3],c+=n*hr,l+=n*Ur,u+=n*Xr,m+=n*Bt,h+=n*pr,p+=n*_r,g+=n*Un,y+=n*ns,_+=n*ss,x+=n*is,w+=n*os,D+=n*as,G+=n*tn,W+=n*Fn,J+=n*cs,xe+=n*Gn,n=t[4],l+=n*hr,u+=n*Ur,m+=n*Xr,h+=n*Bt,p+=n*pr,g+=n*_r,y+=n*Un,_+=n*ns,x+=n*ss,w+=n*is,D+=n*os,G+=n*as,W+=n*tn,J+=n*Fn,xe+=n*cs,be+=n*Gn,n=t[5],u+=n*hr,m+=n*Ur,h+=n*Xr,p+=n*Bt,g+=n*pr,y+=n*_r,_+=n*Un,x+=n*ns,w+=n*ss,D+=n*is,G+=n*os,W+=n*as,J+=n*tn,xe+=n*Fn,be+=n*cs,De+=n*Gn,n=t[6],m+=n*hr,h+=n*Ur,p+=n*Xr,g+=n*Bt,y+=n*pr,_+=n*_r,x+=n*Un,w+=n*ns,D+=n*ss,G+=n*is,W+=n*os,J+=n*as,xe+=n*tn,be+=n*Fn,De+=n*cs,Ge+=n*Gn,n=t[7],h+=n*hr,p+=n*Ur,g+=n*Xr,y+=n*Bt,_+=n*pr,x+=n*_r,w+=n*Un,D+=n*ns,G+=n*ss,W+=n*is,J+=n*os,xe+=n*as,be+=n*tn,De+=n*Fn,Ge+=n*cs,$e+=n*Gn,n=t[8],p+=n*hr,g+=n*Ur,y+=n*Xr,_+=n*Bt,x+=n*pr,w+=n*_r,D+=n*Un,G+=n*ns,W+=n*ss,J+=n*is,xe+=n*os,be+=n*as,De+=n*tn,Ge+=n*Fn,$e+=n*cs,rt+=n*Gn,n=t[9],g+=n*hr,y+=n*Ur,_+=n*Xr,x+=n*Bt,w+=n*pr,D+=n*_r,G+=n*Un,W+=n*ns,J+=n*ss,xe+=n*is,be+=n*os,De+=n*as,Ge+=n*tn,$e+=n*Fn,rt+=n*cs,er+=n*Gn,n=t[10],y+=n*hr,_+=n*Ur,x+=n*Xr,w+=n*Bt,D+=n*pr,G+=n*_r,W+=n*Un,J+=n*ns,xe+=n*ss,be+=n*is,De+=n*os,Ge+=n*as,$e+=n*tn,rt+=n*Fn,er+=n*cs,Ir+=n*Gn,n=t[11],_+=n*hr,x+=n*Ur,w+=n*Xr,D+=n*Bt,G+=n*pr,W+=n*_r,J+=n*Un,xe+=n*ns,be+=n*ss,De+=n*is,Ge+=n*os,$e+=n*as,rt+=n*tn,er+=n*Fn,Ir+=n*cs,jt+=n*Gn,n=t[12],x+=n*hr,w+=n*Ur,D+=n*Xr,G+=n*Bt,W+=n*pr,J+=n*_r,xe+=n*Un,be+=n*ns,De+=n*ss,Ge+=n*is,$e+=n*os,rt+=n*as,er+=n*tn,Ir+=n*Fn,jt+=n*cs,Vt+=n*Gn,n=t[13],w+=n*hr,D+=n*Ur,G+=n*Xr,W+=n*Bt,J+=n*pr,xe+=n*_r,be+=n*Un,De+=n*ns,Ge+=n*ss,$e+=n*is,rt+=n*os,er+=n*as,Ir+=n*tn,jt+=n*Fn,Vt+=n*cs,He+=n*Gn,n=t[14],D+=n*hr,G+=n*Ur,W+=n*Xr,J+=n*Bt,xe+=n*pr,be+=n*_r,De+=n*Un,Ge+=n*ns,$e+=n*ss,rt+=n*is,er+=n*os,Ir+=n*as,jt+=n*tn,Vt+=n*Fn,He+=n*cs,Ti+=n*Gn,n=t[15],G+=n*hr,W+=n*Ur,J+=n*Xr,xe+=n*Bt,be+=n*pr,De+=n*_r,Ge+=n*Un,$e+=n*ns,rt+=n*ss,er+=n*is,Ir+=n*os,jt+=n*as,Vt+=n*tn,He+=n*Fn,Ti+=n*cs,wi+=n*Gn,i+=38*W,o+=38*J,a+=38*xe,c+=38*be,l+=38*De,u+=38*Ge,m+=38*$e,h+=38*rt,p+=38*er,g+=38*Ir,y+=38*jt,_+=38*Vt,x+=38*He,w+=38*Ti,D+=38*wi,s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-s*65536,n=o+s+65535,s=Math.floor(n/65536),o=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=w+s+65535,s=Math.floor(n/65536),w=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,n=G+s+65535,s=Math.floor(n/65536),G=n-s*65536,i+=s-1+37*(s-1),s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-s*65536,n=o+s+65535,s=Math.floor(n/65536),o=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=w+s+65535,s=Math.floor(n/65536),w=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,n=G+s+65535,s=Math.floor(n/65536),G=n-s*65536,i+=s-1+37*(s-1),e[0]=i,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=m,e[7]=h,e[8]=p,e[9]=g,e[10]=y,e[11]=_,e[12]=x,e[13]=w,e[14]=D,e[15]=G}});var zce=C((M_t,Hce)=>{var fo=Tt();nr();Vo();_0();Hce.exports=fo.kem=fo.kem||{};var jce=fo.jsbn.BigInteger;fo.kem.rsa={};fo.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||fo.random,n={};return n.encrypt=function(s,i){var o=Math.ceil(s.n.bitLength()/8),a;do a=new jce(fo.util.bytesToHex(r.getBytesSync(o)),16).mod(s.n);while(a.compareTo(jce.ONE)<=0);a=fo.util.hexToBytes(a.toString(16));var c=o-a.length;c>0&&(a=fo.util.fillString("\0",c)+a);var l=s.encrypt(a,"NONE"),u=e.generate(a,i);return{encapsulation:l,key:u}},n.decrypt=function(s,i,o){var a=s.decrypt(i,"NONE");return e.generate(a,o)},n};fo.kem.kdf1=function(e,t){Vce(this,e,0,t||e.digestLength)};fo.kem.kdf2=function(e,t){Vce(this,e,1,t||e.digestLength)};function Vce(e,t,r,n){e.generate=function(s,i){for(var o=new fo.util.ByteBuffer,a=Math.ceil(i/n)+r,c=new fo.util.ByteBuffer,l=r;l<a;++l){c.putInt32(l),t.start(),t.update(s+c.getBytes());var u=t.digest();o.putBytes(u.getBytes(n))}return o.truncate(o.length()-i),o.getBytes()}}});var Wce=C((U_t,$ce)=>{var zt=Tt();nr();$ce.exports=zt.log=zt.log||{};zt.log.levels=["none","error","warning","info","debug","verbose","max"];var IN={},C3=[],N0=null;zt.log.LEVEL_LOCKED=2;zt.log.NO_LEVEL_CHECK=4;zt.log.INTERPOLATE=8;for(gc=0;gc<zt.log.levels.length;++gc)E3=zt.log.levels[gc],IN[E3]={index:gc,name:E3.toUpperCase()};var E3,gc;zt.log.logMessage=function(e){for(var t=IN[e.level].index,r=0;r<C3.length;++r){var n=C3[r];if(n.flags&zt.log.NO_LEVEL_CHECK)n.f(e);else{var s=IN[n.level].index;t<=s&&n.f(n,e)}}};zt.log.prepareStandard=function(e){"standard"in e||(e.standard=IN[e.level].name+" ["+e.category+"] "+e.message)};zt.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=zt.util.format.apply(this,t)}};zt.log.prepareStandardFull=function(e){"standardFull"in e||(zt.log.prepareStandard(e),e.standardFull=e.standard)};for(S3=["error","warning","info","debug","verbose"],gc=0;gc<S3.length;++gc)(function(t){zt.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:t,category:r,message:n,arguments:s};zt.log.logMessage(i)}})(S3[gc]);var S3,gc;zt.log.makeLogger=function(e){var t={flags:0,f:e};return zt.log.setLevel(t,"none"),t};zt.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&zt.log.LEVEL_LOCKED))for(var n=0;n<zt.log.levels.length;++n){var s=zt.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};zt.log.lock=function(e,t){typeof t>"u"||t?e.flags|=zt.log.LEVEL_LOCKED:e.flags&=~zt.log.LEVEL_LOCKED};zt.log.addLogger=function(e){C3.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(Kce={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},R0=function(e,t){zt.log.prepareStandard(t);var r=Kce[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},Hp=zt.log.makeLogger(R0)):(R0=function(t,r){zt.log.prepareStandardFull(r),console.log(r.standardFull)},Hp=zt.log.makeLogger(R0)),zt.log.setLevel(Hp,"debug"),zt.log.addLogger(Hp),N0=Hp):console={log:function(){}};var Hp,Kce,R0;N0!==null&&typeof window<"u"&&window.location&&(w0=new URL(window.location.href).searchParams,w0.has("console.level")&&zt.log.setLevel(N0,w0.get("console.level").slice(-1)[0]),w0.has("console.lock")&&(Gce=w0.get("console.lock").slice(-1)[0],Gce=="true"&&zt.log.lock(N0)));var w0,Gce;zt.log.consoleLogger=N0});var Xce=C((F_t,Jce)=>{Jce.exports=cc();iN();Lp();DF();c3()});var Zce=C((q_t,Qce)=>{var Te=Tt();wd();va();C0();Nd();Rf();$F();Vo();nr();SN();var L=Te.asn1,Ai=Qce.exports=Te.pkcs7=Te.pkcs7||{};Ai.messageFromPem=function(e){var t=Te.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=L.fromDer(t.body);return Ai.messageFromAsn1(n)};Ai.messageToPem=function(e,t){var r={type:"PKCS7",body:L.toDer(e.toAsn1()).getBytes()};return Te.pem.encode(r,{maxline:t})};Ai.messageFromAsn1=function(e){var t={},r=[];if(!L.validate(e,Ai.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=L.derToOid(t.contentType),i;switch(s){case Te.pki.oids.envelopedData:i=Ai.createEnvelopedData();break;case Te.pki.oids.encryptedData:i=Ai.createEncryptedData();break;case Te.pki.oids.signedData:i=Ai.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return i.fromAsn1(t.content.value[0]),i};Ai.createSignedData=function(){var e=null;return e={type:Te.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(_3(e,n,Ai.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,i=0;i<s.length;++i)e.certificates.push(Te.pki.certificateFromAsn1(s[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(Te.pki.certificateToAsn1(e.certificates[s]));var i=[],o=L.create(L.Class.CONTEXT_SPECIFIC,0,!0,[L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,L.integerToDer(e.version).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&o.value[0].value.push(L.create(L.Class.CONTEXT_SPECIFIC,0,!0,n)),i.length>0&&o.value[0].value.push(L.create(L.Class.CONTEXT_SPECIFIC,1,!0,i)),o.value[0].value.push(L.create(L.Class.UNIVERSAL,L.Type.SET,!0,e.signerInfos)),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.type).getBytes()),o])},addSigner:function(n){var s=n.issuer,i=n.serialNumber;if(n.certificate){var o=n.certificate;typeof o=="string"&&(o=Te.pki.certificateFromPem(o)),s=o.issuer.attributes,i=o.serialNumber}var a=n.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof a=="string"&&(a=Te.pki.privateKeyFromPem(a));var c=n.digestAlgorithm||Te.pki.oids.sha1;switch(c){case Te.pki.oids.sha1:case Te.pki.oids.sha256:case Te.pki.oids.sha384:case Te.pki.oids.sha512:case Te.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var l=n.authenticatedAttributes||[];if(l.length>0){for(var u=!1,m=!1,h=0;h<l.length;++h){var p=l[h];if(!u&&p.type===Te.pki.oids.contentType){if(u=!0,m)break;continue}if(!m&&p.type===Te.pki.oids.messageDigest){if(m=!0,u)break;continue}}if(!u||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:s,serialNumber:i,digestAlgorithm:c,signatureAlgorithm:Te.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(Te.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof Te.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=Te.util.encodeUtf8(e.content)),n.detached?e.detachedContent=L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(L.create(L.Class.CONTEXT_SPECIFIC,0,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var i=t();r(i)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Te.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var i=e.signers[s],o=i.digestAlgorithm;o in n||(n[o]=Te.md[Te.pki.oids[o]].create()),i.authenticatedAttributes.length===0?i.md=n[o]:i.md=Te.md[Te.pki.oids[o]].create()}e.digestAlgorithmIdentifiers=[];for(var o in n)e.digestAlgorithmIdentifiers.push(L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(o).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")]));return n}function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=L.derToOid(e.contentInfo.value[0].value),o=L.toDer(s);o.getByte(),L.getBerValueLength(o),o=o.getBytes();for(var a in n)n[a].start().update(o);for(var c=new Date,l=0;l<e.signers.length;++l){var u=e.signers[l];if(u.authenticatedAttributes.length===0){if(i!==Te.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{u.authenticatedAttributesAsn1=L.create(L.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=L.create(L.Class.UNIVERSAL,L.Type.SET,!0,[]),h=0;h<u.authenticatedAttributes.length;++h){var p=u.authenticatedAttributes[h];p.type===Te.pki.oids.messageDigest?p.value=n[u.digestAlgorithm].digest():p.type===Te.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(b3(p)),u.authenticatedAttributesAsn1.value.push(b3(p))}o=L.toDer(m).getBytes(),u.md.start().update(o)}u.signature=u.key.sign(u.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=eZe(e.signers)}};Ai.createEncryptedData=function(){var e=null;return e={type:Te.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Te.pki.oids["aes256-CBC"]},fromAsn1:function(t){_3(e,t,Ai.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),Yce(e)}},e};Ai.createEnvelopedData=function(){var e=null;return e={type:Te.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Te.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=_3(e,t,Ai.asn1.envelopedDataValidator);e.recipients=YQe(r.recipientInfos.value)},toAsn1:function(){return L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.type).getBytes()),L.create(L.Class.CONTEXT_SPECIFIC,0,!0,[L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,L.integerToDer(e.version).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SET,!0,QQe(e.recipients)),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,tZe(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],i=s.issuer;if(s.serialNumber===t.serialNumber&&i.length===r.length){for(var o=!0,a=0;a<r.length;++a)if(i[a].type!==r[a].type||i[a].value!==r[a].value){o=!1;break}if(o)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Te.pki.oids.rsaEncryption:case Te.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Te.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}Yce(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Te.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,i;switch(r){case Te.pki.oids["aes128-CBC"]:n=16,s=16,i=Te.aes.createEncryptionCipher;break;case Te.pki.oids["aes192-CBC"]:n=24,s=16,i=Te.aes.createEncryptionCipher;break;case Te.pki.oids["aes256-CBC"]:n=32,s=16,i=Te.aes.createEncryptionCipher;break;case Te.pki.oids["des-EDE3-CBC"]:n=24,s=8,i=Te.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Te.util.createBuffer(Te.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Te.util.createBuffer(Te.random.getBytes(s));var o=i(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var a=0;a<e.recipients.length;++a){var c=e.recipients[a];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Te.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function JQe(e){var t={},r=[];if(!L.validate(e,Ai.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Te.pki.RDNAttributesAsArray(t.issuer),serialNumber:Te.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:L.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function XQe(e){return L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,L.integerToDer(e.version).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[Te.pki.distinguishedNameToAsn1({attributes:e.issuer}),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,Te.util.hexToBytes(e.serialNumber))]),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.encryptedContent.algorithm).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")]),L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function YQe(e){for(var t=[],r=0;r<e.length;++r)t.push(JQe(e[r]));return t}function QQe(e){for(var t=[],r=0;r<e.length;++r)t.push(XQe(e[r]));return t}function ZQe(e){var t=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,L.integerToDer(e.version).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[Te.pki.distinguishedNameToAsn1({attributes:e.issuer}),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,Te.util.hexToBytes(e.serialNumber))]),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.digestAlgorithm).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.signatureAlgorithm).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")])),t.value.push(L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=L.create(L.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(b3(s))}t.value.push(r)}return t}function eZe(e){for(var t=[],r=0;r<e.length;++r)t.push(ZQe(e[r]));return t}function b3(e){var t;if(e.type===Te.pki.oids.contentType)t=L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.value).getBytes());else if(e.type===Te.pki.oids.messageDigest)t=L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Te.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var i=Date.parse(s);isNaN(i)?s.length===13?s=L.utcTimeToDate(s):s=L.generalizedTimeToDate(s):s=new Date(i)}s>=r&&s<n?t=L.create(L.Class.UNIVERSAL,L.Type.UTCTIME,!1,L.dateToUtcTime(s)):t=L.create(L.Class.UNIVERSAL,L.Type.GENERALIZEDTIME,!1,L.dateToGeneralizedTime(s))}return L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.type).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SET,!0,[t])])}function tZe(e){return[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(Te.pki.oids.data).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(e.algorithm).getBytes()),e.parameter?L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),L.create(L.Class.CONTEXT_SPECIFIC,0,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,e.content.getBytes())])]}function _3(e,t,r){var n={},s=[];if(!L.validate(t,r,n,s)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw i.errors=i,i}var o=L.derToOid(n.contentType);if(o!==Te.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var a="";if(Te.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==L.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=n.encryptedContent[c].value}else a=n.encryptedContent;e.encryptedContent={algorithm:L.derToOid(n.encAlgorithm),parameter:Te.util.createBuffer(n.encParameter.value),content:Te.util.createBuffer(a)}}if(n.content){var a="";if(Te.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==L.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=n.content[c].value}else a=n.content;e.content=Te.util.createBuffer(a)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function Yce(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Te.pki.oids["aes128-CBC"]:case Te.pki.oids["aes192-CBC"]:case Te.pki.oids["aes256-CBC"]:t=Te.aes.createDecryptionCipher(e.encryptedContent.key);break;case Te.pki.oids.desCBC:case Te.pki.oids["des-EDE3-CBC"]:t=Te.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}});var tle=C((j_t,ele)=>{var zn=Tt();wd();Op();iN();Lp();nr();var wN=ele.exports=zn.ssh=zn.ssh||{};wN.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",i="PuTTY-User-Key-File-2: "+n+`\r
`;i+="Encryption: "+s+`\r
`,i+="Comment: "+r+`\r
`;var o=zn.util.createBuffer();zp(o,n),yc(o,e.e),yc(o,e.n);var a=zn.util.encode64(o.bytes(),64),c=Math.floor(a.length/66)+1;i+="Public-Lines: "+c+`\r
`,i+=a;var l=zn.util.createBuffer();yc(l,e.d),yc(l,e.p),yc(l,e.q),yc(l,e.qInv);var u;if(!t)u=zn.util.encode64(l.bytes(),64);else{var m=l.length()+16-1;m-=m%16;var h=TN(l.bytes());h.truncate(h.length()-m+l.length()),l.putBuffer(h);var p=zn.util.createBuffer();p.putBuffer(TN("\0\0\0\0",t)),p.putBuffer(TN("\0\0\0",t));var g=zn.aes.createEncryptionCipher(p.truncate(8),"CBC");g.start(zn.util.createBuffer().fillWithByte(0,16)),g.update(l.copy()),g.finish();var y=g.output;y.truncate(16),u=zn.util.encode64(y.bytes(),64)}c=Math.floor(u.length/66)+1,i+=`\r
Private-Lines: `+c+`\r
`,i+=u;var _=TN("putty-private-key-file-mac-key",t),x=zn.util.createBuffer();zp(x,n),zp(x,s),zp(x,r),x.putInt32(o.length()),x.putBuffer(o),x.putInt32(l.length()),x.putBuffer(l);var w=zn.hmac.create();return w.start("sha1",_),w.update(x.bytes()),i+=`\r
Private-MAC: `+w.digest().toHex()+`\r
`,i};wN.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=zn.util.createBuffer();return zp(n,r),yc(n,e.e),yc(n,e.n),r+" "+zn.util.encode64(n.bytes())+" "+t};wN.privateKeyToOpenSSH=function(e,t){return t?zn.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):zn.pki.privateKeyToPem(e)};wN.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||zn.md.md5.create(),n="ssh-rsa",s=zn.util.createBuffer();zp(s,n),yc(s,e.e),yc(s,e.n),r.start(),r.update(s.getBytes());var i=r.digest();if(t.encoding==="hex"){var o=i.toHex();return t.delimiter?o.match(/.{2}/g).join(t.delimiter):o}else{if(t.encoding==="binary")return i.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return i};function yc(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=zn.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function zp(e,t){e.putInt32(t.length),e.putString(t)}function TN(){for(var e=zn.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}});var nle=C((V_t,rle)=>{rle.exports=Tt();wd();_ce();va();Qw();C0();qce();Op();zce();Wce();Xce();WF();lN();Rf();VF();YF();Zce();ZF();zF();kF();gN();Vo();MF();tle();i3();nr()});var Kp=C(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.getApplicationDefault=zi.isApplicationDefault=zi.ImpersonatedServiceAccountCredential=zi.RefreshTokenCredential=zi.ComputeEngineCredential=zi.ServiceAccountCredential=void 0;var ON=require("fs"),rZe=require("os"),ale=require("path"),Kt=bs(),Uf=s0(),Wo=es(),nZe="https://accounts.google.com/o/oauth2/token",sZe="accounts.google.com",iZe="/o/oauth2/token",oZe="metadata.google.internal",aZe="/computeMetadata/v1/instance/service-accounts/default/token",cZe="/computeMetadata/v1/instance/service-accounts/default/identity",lZe="/computeMetadata/v1/project/project-id",dZe="/computeMetadata/v1/instance/service-accounts/default/email",sle=(()=>{let e=rZe.platform();return e&&e.length>=3&&e.substring(0,3).toLowerCase()==="win"?process.env.APPDATA:process.env.HOME&&ale.resolve(process.env.HOME,".config")})(),uZe="gcloud/application_default_credentials.json",ile=sle&&ale.resolve(sle,uZe),cle="www.googleapis.com",lle="/oauth2/v4/token",fZe=3600,mZe="RS256",P0=class{constructor(t,r,n=!1){this.httpAgent=r,this.implicit=n;let s=typeof t=="string"?NN.fromPath(t):new NN(t);this.projectId=s.projectId,this.privateKey=s.privateKey,this.clientEmail=s.clientEmail,this.httpClient=new Uf.HttpClient}getAccessToken(){let r="grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&assertion="+this.createAuthJwt_(),n={method:"POST",url:`https://${sZe}${iZe}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r,httpAgent:this.httpAgent};return DN(this.httpClient,n)}createAuthJwt_(){let t={scope:["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"].join(" ")};return SF().sign(t,this.privateKey,{audience:nZe,expiresIn:fZe,issuer:this.clientEmail,algorithm:mZe})}};zi.ServiceAccountCredential=P0;var NN=class e{static fromPath(t){try{return new e(JSON.parse(ON.readFileSync(t,"utf8")))}catch(r){throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse service account json file: "+r)}}constructor(t){if(!Wo.isNonNullObject(t))throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");xa(this,t,"projectId","project_id"),xa(this,t,"privateKey","private_key"),xa(this,t,"clientEmail","client_email");let r;if(Wo.isNonEmptyString(this.projectId)?Wo.isNonEmptyString(this.privateKey)?Wo.isNonEmptyString(this.clientEmail)||(r='Service account object must contain a string "client_email" property.'):r='Service account object must contain a string "private_key" property.':r='Service account object must contain a string "project_id" property.',typeof r<"u")throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,r);let n=nle();try{n.pki.privateKeyFromPem(this.privateKey)}catch(s){throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+s)}}},O0=class{constructor(t){this.httpClient=new Uf.HttpClient,this.httpAgent=t}getAccessToken(){let t=this.buildRequest(aZe);return DN(this.httpClient,t)}getIDToken(t){let r=this.buildRequest(`${cZe}?audience=${t}`);return gZe(this.httpClient,r)}getProjectId(){if(this.projectId)return Promise.resolve(this.projectId);let t=this.buildRequest(lZe);return this.httpClient.send(t).then(r=>(this.projectId=r.text,this.projectId)).catch(r=>{let n=r instanceof Uf.RequestResponseError?v3(r.response):r.message;throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,`Failed to determine project ID: ${n}`)})}getServiceAccountEmail(){if(this.accountId)return Promise.resolve(this.accountId);let t=this.buildRequest(dZe);return this.httpClient.send(t).then(r=>(this.accountId=r.text,this.accountId)).catch(r=>{let n=r instanceof Uf.RequestResponseError?v3(r.response):r.message;throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,`Failed to determine service account email: ${n}`)})}buildRequest(t){return{method:"GET",url:`http://${oZe}${t}`,headers:{"Metadata-Flavor":"Google"},httpAgent:this.httpAgent}}};zi.ComputeEngineCredential=O0;var D0=class{constructor(t,r,n=!1){this.httpAgent=r,this.implicit=n,this.refreshToken=typeof t=="string"?RN.fromPath(t):new RN(t),this.httpClient=new Uf.HttpClient}getAccessToken(){let t="client_id="+this.refreshToken.clientId+"&client_secret="+this.refreshToken.clientSecret+"&refresh_token="+this.refreshToken.refreshToken+"&grant_type=refresh_token",r={method:"POST",url:`https://${cle}${lle}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t,httpAgent:this.httpAgent};return DN(this.httpClient,r)}};zi.RefreshTokenCredential=D0;var RN=class e{static fromPath(t){try{return new e(JSON.parse(ON.readFileSync(t,"utf8")))}catch(r){throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+r)}}constructor(t){xa(this,t,"clientId","client_id"),xa(this,t,"clientSecret","client_secret"),xa(this,t,"refreshToken","refresh_token"),xa(this,t,"type","type");let r;if(Wo.isNonEmptyString(this.clientId)?Wo.isNonEmptyString(this.clientSecret)?Wo.isNonEmptyString(this.refreshToken)?Wo.isNonEmptyString(this.type)||(r='Refresh token must contain a "type" property.'):r='Refresh token must contain a "refresh_token" property.':r='Refresh token must contain a "client_secret" property.':r='Refresh token must contain a "client_id" property.',typeof r<"u")throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,r)}},k0=class{constructor(t,r,n=!1){this.httpAgent=r,this.implicit=n,this.impersonatedServiceAccount=typeof t=="string"?PN.fromPath(t):new PN(t),this.httpClient=new Uf.HttpClient}getAccessToken(){let t="client_id="+this.impersonatedServiceAccount.clientId+"&client_secret="+this.impersonatedServiceAccount.clientSecret+"&refresh_token="+this.impersonatedServiceAccount.refreshToken+"&grant_type=refresh_token",r={method:"POST",url:`https://${cle}${lle}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t,httpAgent:this.httpAgent};return DN(this.httpClient,r)}};zi.ImpersonatedServiceAccountCredential=k0;var PN=class e{static fromPath(t){try{return new e(JSON.parse(ON.readFileSync(t,"utf8")))}catch(r){throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse impersonated service account file: "+r)}}constructor(t){let r=t.source_credentials;r&&(xa(this,r,"clientId","client_id"),xa(this,r,"clientSecret","client_secret"),xa(this,r,"refreshToken","refresh_token"),xa(this,r,"type","type"));let n;if(Wo.isNonEmptyString(this.clientId)?Wo.isNonEmptyString(this.clientSecret)?Wo.isNonEmptyString(this.refreshToken)?Wo.isNonEmptyString(this.type)||(n='Impersonated Service Account must contain a "source_credentials.type" property.'):n='Impersonated Service Account must contain a "source_credentials.refresh_token" property.':n='Impersonated Service Account must contain a "source_credentials.client_secret" property.':n='Impersonated Service Account must contain a "source_credentials.client_id" property.',typeof n<"u")throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,n)}};function hZe(e){return e instanceof O0||e instanceof P0&&e.implicit||e instanceof D0&&e.implicit||e instanceof k0&&e.implicit}zi.isApplicationDefault=hZe;function pZe(e){if(process.env.GOOGLE_APPLICATION_CREDENTIALS)return ole(process.env.GOOGLE_APPLICATION_CREDENTIALS,e,!1);if(ile){let t=ole(ile,e,!0);if(t)return t}return new O0(e)}zi.getApplicationDefault=pZe;function xa(e,t,r,n){let s=t[r]||t[n];typeof s<"u"&&(e[r]=s)}function DN(e,t){return e.send(t).then(r=>{let n=r.data;if(!n.access_token||!n.expires_in)throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,`Unexpected response while fetching access token: ${JSON.stringify(n)}`);return n}).catch(r=>{throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,dle(r))})}function gZe(e,t){return e.send(t).then(r=>{if(!r.text)throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Unexpected response while fetching id token: response.text is undefined");return r.text}).catch(r=>{throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,dle(r))})}function dle(e){return`Error fetching access token: ${e instanceof Uf.RequestResponseError?v3(e.response):e.message}`}function v3(e){if(e.isJson()&&e.data.error){let t=e.data,r=t.error;return t.error_description&&(r+=" ("+t.error_description+")"),r}return e.text||"Missing error payload"}function ole(e,t,r){let n=yZe(e,r);if(typeof n!="object"||n===null){if(r)return null;throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object")}if(n.type==="service_account")return new P0(n,t,!0);if(n.type==="authorized_user")return new D0(n,t,!0);if(n.type==="impersonated_service_account")return new k0(n,t,!0);throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Invalid contents in the credentials file")}function yZe(e,t){let r;try{r=ON.readFileSync(e,"utf8")}catch(n){if(t)return null;throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,`Failed to read credentials from file ${e}: `+n)}try{return JSON.parse(r)}catch(n){throw new Kt.FirebaseAppError(Kt.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object: "+n)}}});var ule=C((z_t,EZe)=>{EZe.exports={name:"firebase-admin",version:"12.7.0",description:"Firebase admin SDK for Node.js",author:"Firebase <firebase-support@google.com> (https://firebase.google.com/)",license:"Apache-2.0",homepage:"https://firebase.google.com/",engines:{node:">=14"},scripts:{build:"gulp build","build:tests":"gulp compile_test",prepare:"npm run build && npm run esm-wrap",lint:"run-p lint:src lint:test",test:"run-s lint test:unit",integration:"run-s build test:integration","test:unit":"mocha test/unit/*.spec.ts --require ts-node/register","test:integration":"mocha test/integration/*.ts --slow 5000 --timeout 20000 --require ts-node/register","test:coverage":"nyc npm run test:unit","lint:src":"eslint src/ --ext .ts","lint:test":"eslint test/ --ext .ts",apidocs:"run-s api-extractor:local api-documenter","api-extractor":"node generate-reports.js","api-extractor:local":"npm run build && node generate-reports.js --local","esm-wrap":"node generate-esm-wrapper.js","api-documenter":"run-s api-documenter:markdown api-documenter:toc api-documenter:post","api-documenter:markdown":"api-documenter-fire markdown --input temp --output docgen/markdown -s --project admin","api-documenter:toc":"api-documenter-fire toc --input temp --output docgen/markdown -p /docs/reference/admin/node -s","api-documenter:post":"node docgen/post-process.js"},nyc:{extension:[".ts"],include:["src"],exclude:["**/*.d.ts"],all:!0},keywords:["admin","database","Firebase","realtime","authentication"],repository:{type:"git",url:"https://github.com/firebase/firebase-admin-node"},main:"lib/index.js",files:["lib/","LICENSE","README.md","package.json"],types:"./lib/index.d.ts",typesVersions:{"*":{app:["lib/app"],"app-check":["lib/app-check"],auth:["lib/auth"],eventarc:["lib/eventarc"],extensions:["lib/extensions"],database:["lib/database"],"data-connect":["lib/data-connect"],firestore:["lib/firestore"],functions:["lib/functions"],installations:["lib/installations"],"instance-id":["lib/instance-id"],"machine-learning":["lib/machine-learning"],messaging:["lib/messaging"],"project-management":["lib/project-management"],"remote-config":["lib/remote-config"],"security-rules":["lib/security-rules"],storage:["lib/storage"]}},exports:{".":"./lib/index.js","./app":{types:"./lib/app/index.d.ts",require:"./lib/app/index.js",import:"./lib/esm/app/index.js"},"./app-check":{types:"./lib/app-check/index.d.ts",require:"./lib/app-check/index.js",import:"./lib/esm/app-check/index.js"},"./auth":{types:"./lib/auth/index.d.ts",require:"./lib/auth/index.js",import:"./lib/esm/auth/index.js"},"./database":{types:"./lib/database/index.d.ts",require:"./lib/database/index.js",import:"./lib/esm/database/index.js"},"./data-connect":{types:"./lib/data-connect/index.d.ts",require:"./lib/data-connect/index.js",import:"./lib/esm/data-connect/index.js"},"./eventarc":{types:"./lib/eventarc/index.d.ts",require:"./lib/eventarc/index.js",import:"./lib/esm/eventarc/index.js"},"./extensions":{types:"./lib/extensions/index.d.ts",require:"./lib/extensions/index.js",import:"./lib/esm/extensions/index.js"},"./firestore":{types:"./lib/firestore/index.d.ts",require:"./lib/firestore/index.js",import:"./lib/esm/firestore/index.js"},"./functions":{types:"./lib/functions/index.d.ts",require:"./lib/functions/index.js",import:"./lib/esm/functions/index.js"},"./installations":{types:"./lib/installations/index.d.ts",require:"./lib/installations/index.js",import:"./lib/esm/installations/index.js"},"./instance-id":{types:"./lib/instance-id/index.d.ts",require:"./lib/instance-id/index.js",import:"./lib/esm/instance-id/index.js"},"./machine-learning":{types:"./lib/machine-learning/index.d.ts",require:"./lib/machine-learning/index.js",import:"./lib/esm/machine-learning/index.js"},"./messaging":{types:"./lib/messaging/index.d.ts",require:"./lib/messaging/index.js",import:"./lib/esm/messaging/index.js"},"./project-management":{types:"./lib/project-management/index.d.ts",require:"./lib/project-management/index.js",import:"./lib/esm/project-management/index.js"},"./remote-config":{types:"./lib/remote-config/index.d.ts",require:"./lib/remote-config/index.js",import:"./lib/esm/remote-config/index.js"},"./security-rules":{types:"./lib/security-rules/index.d.ts",require:"./lib/security-rules/index.js",import:"./lib/esm/security-rules/index.js"},"./storage":{types:"./lib/storage/index.d.ts",require:"./lib/storage/index.js",import:"./lib/esm/storage/index.js"}},dependencies:{"@fastify/busboy":"^3.0.0","@firebase/database-compat":"1.0.8","@firebase/database-types":"1.0.5","@types/node":"^22.0.1","farmhash-modern":"^1.1.0",jsonwebtoken:"^9.0.0","jwks-rsa":"^3.1.0","node-forge":"^1.3.1",uuid:"^10.0.0"},optionalDependencies:{"@google-cloud/firestore":"^7.7.0","@google-cloud/storage":"^7.7.0"},devDependencies:{"@firebase/api-documenter":"^0.4.0","@firebase/app-compat":"^0.2.1","@firebase/auth-compat":"^0.4.1","@firebase/auth-types":"^0.12.0","@microsoft/api-extractor":"^7.11.2","@types/bcrypt":"^5.0.0","@types/chai":"^4.0.0","@types/chai-as-promised":"^7.1.0","@types/firebase-token-generator":"^2.0.28","@types/jsonwebtoken":"8.5.1","@types/lodash":"^4.14.104","@types/minimist":"^1.2.2","@types/mocha":"^10.0.0","@types/nock":"^11.1.0","@types/request":"^2.47.0","@types/request-promise":"^4.1.41","@types/sinon":"^17.0.2","@types/sinon-chai":"^3.0.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",bcrypt:"^5.0.0",chai:"^4.2.0","chai-as-promised":"^7.0.0","chai-exclude":"^2.1.0",chalk:"^4.1.1","child-process-promise":"^2.2.1",del:"^6.0.0",eslint:"^8.12.0","firebase-token-generator":"^2.0.0",gulp:"^5.0.0","gulp-filter":"^7.0.0","gulp-header":"^2.0.9","gulp-typescript":"^5.0.1","http-message-parser":"^0.0.34",lodash:"^4.17.15",minimist:"^1.2.6",mocha:"^10.0.0",mz:"^2.7.0",nock:"^13.0.0","npm-run-all":"^4.1.5",nyc:"^17.0.0",request:"^2.75.0","request-promise":"^4.1.1","run-sequence":"^2.2.1",sinon:"^18.0.0","sinon-chai":"^3.0.0","ts-node":"^10.2.0",typescript:"5.1.6",yargs:"^17.0.1"}}});var Md=C(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.parseResourceName=Gr.transformMillisecondsToSecondsString=Gr.generateUpdateMask=Gr.formatString=Gr.toWebSafeBase64=Gr.findServiceAccountEmail=Gr.getExplicitServiceAccountEmail=Gr.findProjectId=Gr.getExplicitProjectId=Gr.addReadonlyGetter=Gr.renameProperties=Gr.getSdkVersion=void 0;var BN=Kp(),kN=es(),A3;function SZe(){if(!A3){let{version:e}=ule();A3=e}return A3}Gr.getSdkVersion=SZe;function CZe(e,t){Object.keys(t).forEach(r=>{if(r in e){let n=t[r];e[n]=e[r],delete e[r]}})}Gr.renameProperties=CZe;function bZe(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,enumerable:!0})}Gr.addReadonlyGetter=bZe;function fle(e){let t=e.options;if(kN.isNonEmptyString(t.projectId))return t.projectId;let r=e.options.credential;if(r instanceof BN.ServiceAccountCredential)return r.projectId;let n=process.env.GOOGLE_CLOUD_PROJECT||process.env.GCLOUD_PROJECT;return kN.isNonEmptyString(n)?n:null}Gr.getExplicitProjectId=fle;function _Ze(e){let t=fle(e);if(t)return Promise.resolve(t);let r=e.options.credential;return r instanceof BN.ComputeEngineCredential?r.getProjectId():Promise.resolve(null)}Gr.findProjectId=_Ze;function mle(e){let t=e.options;if(kN.isNonEmptyString(t.serviceAccountId))return t.serviceAccountId;let r=e.options.credential;return r instanceof BN.ServiceAccountCredential?r.clientEmail:null}Gr.getExplicitServiceAccountEmail=mle;function vZe(e){let t=mle(e);if(t)return Promise.resolve(t);let r=e.options.credential;return r instanceof BN.ComputeEngineCredential?r.getServiceAccountEmail():Promise.resolve(null)}Gr.findServiceAccountEmail=vZe;function AZe(e){return e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")}Gr.toWebSafeBase64=AZe;function xZe(e,t){let r=e;return Object.keys(t||{}).forEach(n=>{r=r.replace(new RegExp("{"+n+"}","g"),t[n])}),r}Gr.formatString=xZe;function hle(e,t=[],r=""){let n=[];if(!kN.isNonNullObject(e))return n;for(let s in e)if(typeof e[s]<"u"){let i=r?`${r}.${s}`:s;if(t.indexOf(i)!==-1)n.push(s);else{let o=hle(e[s],t,i);o.length>0?o.forEach(a=>{n.push(`${s}.${a}`)}):n.push(s)}}return n}Gr.generateUpdateMask=hle;function IZe(e){let t,r=Math.floor(e/1e3),n=Math.floor((e-r*1e3)*1e6);if(n>0){let s=n.toString();for(;s.length<9;)s="0"+s;t=`${r}.${s}s`}else t=`${r}s`;return t}Gr.transformMillisecondsToSecondsString=IZe;function TZe(e,t){if(!e.includes("/"))return{resourceId:e};let n=new RegExp(`^(projects/([^/]+)/)?locations/([^/]+)/${t}/([^/]+)$`).exec(e);if(n===null)throw new Error("Invalid resource name format.");let s=n[2],i=n[3],o=n[4];return{projectId:s,locationId:i,resourceId:o}}Gr.parseResourceName=TZe});var yle=C(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.FirebaseApp=Gp.FirebaseAppInternals=void 0;var wZe=Kp(),gle=es(),ple=ic(),Ec=bs(),NZe=300*1e3,LN=class{constructor(t){this.credential_=t,this.tokenListeners_=[],this.isRefreshing=!1}getToken(t=!1){return(t||this.shouldRefresh())&&(this.promiseToCachedToken_=this.refreshToken()),this.promiseToCachedToken_}getCachedToken(){return this.cachedToken_||null}refreshToken(){return this.isRefreshing=!0,Promise.resolve(this.credential_.getAccessToken()).then(t=>{if(!gle.isNonNullObject(t)||typeof t.expires_in!="number"||typeof t.access_token!="string")throw new Ec.FirebaseAppError(Ec.AppErrorCodes.INVALID_CREDENTIAL,`Invalid access token generated: "${JSON.stringify(t)}". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.`);let r={accessToken:t.access_token,expirationTime:Date.now()+t.expires_in*1e3};return(!this.cachedToken_||this.cachedToken_.accessToken!==r.accessToken||this.cachedToken_.expirationTime!==r.expirationTime)&&(this.cachedToken_=r,this.tokenListeners_.forEach(n=>{n(r.accessToken)})),r}).catch(t=>{let r=typeof t=="string"?t:t.message;throw r=`Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "${r}".`,r.indexOf("invalid_grant")!==-1&&(r+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new Ec.FirebaseAppError(Ec.AppErrorCodes.INVALID_CREDENTIAL,r)}).finally(()=>{this.isRefreshing=!1})}shouldRefresh(){return(!this.cachedToken_||this.cachedToken_.expirationTime-Date.now()<=NZe)&&!this.isRefreshing}addAuthTokenListener(t){this.tokenListeners_.push(t),this.cachedToken_&&t(this.cachedToken_.accessToken)}removeAuthTokenListener(t){this.tokenListeners_=this.tokenListeners_.filter(r=>r!==t)}};Gp.FirebaseAppInternals=LN;var x3=class{constructor(t,r,n){if(this.appStore=n,this.services_={},this.isDeleted_=!1,this.name_=r,this.options_=(0,ple.deepCopy)(t),!gle.isNonNullObject(this.options_))throw new Ec.FirebaseAppError(Ec.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". Options must be a non-null object.`);"credential"in this.options_||(this.options_.credential=(0,wZe.getApplicationDefault)(this.options_.httpAgent));let i=this.options_.credential;if(typeof i!="object"||i===null||typeof i.getAccessToken!="function")throw new Ec.FirebaseAppError(Ec.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". The "credential" property must be an object which implements the Credential interface.`);this.INTERNAL=new LN(i)}get name(){return this.checkDestroyed_(),this.name_}get options(){return this.checkDestroyed_(),(0,ple.deepCopy)(this.options_)}getOrInitService(t,r){return this.ensureService_(t,()=>r(this))}delete(){return this.checkDestroyed_(),this.appStore?.removeApp(this.name),Promise.all(Object.keys(this.services_).map(t=>{let r=this.services_[t];return RZe(r)?r.delete():Promise.resolve()})).then(()=>{this.services_={},this.isDeleted_=!0})}ensureService_(t,r){return this.checkDestroyed_(),t in this.services_||(this.services_[t]=r()),this.services_[t]}checkDestroyed_(){if(this.isDeleted_)throw new Ec.FirebaseAppError(Ec.AppErrorCodes.APP_DELETED,`Firebase app named "${this.name_}" has already been deleted.`)}};Gp.FirebaseApp=x3;function RZe(e){return typeof e.delete=="function"}});var Sle=C(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.FIREBASE_CONFIG_VAR=Ln.deleteApp=Ln.getApps=Ln.getApp=Ln.initializeApp=Ln.defaultAppStore=Ln.AppStore=void 0;var PZe=require("fs"),OZe=es(),Ki=bs(),DZe=Kp(),kZe=yle(),$p="[DEFAULT]",MN=class{constructor(){this.appStore=new Map}initializeApp(t,r=$p){if(typeof t>"u"&&(t=UZe(),t.credential=(0,DZe.getApplicationDefault)()),typeof r!="string"||r==="")throw new Ki.FirebaseAppError(Ki.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${r}" provided. App name must be a non-empty string.`);if(this.appStore.has(r))throw r===$p?new Ki.FirebaseAppError(Ki.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new Ki.FirebaseAppError(Ki.AppErrorCodes.DUPLICATE_APP,`Firebase app named "${r}" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().`);let n=new kZe.FirebaseApp(t,r,this);return this.appStore.set(n.name,n),n}getApp(t=$p){if(typeof t!="string"||t==="")throw new Ki.FirebaseAppError(Ki.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${t}" provided. App name must be a non-empty string.`);if(!this.appStore.has(t)){let r=t===$p?"The default Firebase app does not exist. ":`Firebase app named "${t}" does not exist. `;throw r+="Make sure you call initializeApp() before using any of the Firebase services.",new Ki.FirebaseAppError(Ki.AppErrorCodes.NO_APP,r)}return this.appStore.get(t)}getApps(){return Array.from(this.appStore.values())}deleteApp(t){if(typeof t!="object"||t===null||!("options"in t))throw new Ki.FirebaseAppError(Ki.AppErrorCodes.INVALID_ARGUMENT,"Invalid app argument.");return Ele(t.name).delete()}clearAllApps(){let t=[];return this.getApps().forEach(r=>{t.push(this.deleteApp(r))}),Promise.all(t).then()}removeApp(t){this.appStore.delete(t)}};Ln.AppStore=MN;Ln.defaultAppStore=new MN;function BZe(e,t=$p){return Ln.defaultAppStore.initializeApp(e,t)}Ln.initializeApp=BZe;function Ele(e=$p){return Ln.defaultAppStore.getApp(e)}Ln.getApp=Ele;function LZe(){return Ln.defaultAppStore.getApps()}Ln.getApps=LZe;function MZe(e){return Ln.defaultAppStore.deleteApp(e)}Ln.deleteApp=MZe;Ln.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG";function UZe(){let e=process.env[Ln.FIREBASE_CONFIG_VAR];if(!OZe.isNonEmptyString(e))return{};try{let t=e.startsWith("{")?e:PZe.readFileSync(e,"utf8");return JSON.parse(t)}catch(t){throw new Ki.FirebaseAppError(Ki.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+t)}}});var Cle=C(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.clearGlobalAppDefaultCred=Sc.refreshToken=Sc.cert=Sc.applicationDefault=void 0;var w3=Kp(),UN,I3={},T3={};function FZe(e){return typeof UN>"u"&&(UN=(0,w3.getApplicationDefault)(e)),UN}Sc.applicationDefault=FZe;function qZe(e,t){let r=JSON.stringify(e);return r in I3||(I3[r]=new w3.ServiceAccountCredential(e,t)),I3[r]}Sc.cert=qZe;function jZe(e,t){let r=JSON.stringify(e);return r in T3||(T3[r]=new w3.RefreshTokenCredential(e,t)),T3[r]}Sc.refreshToken=jZe;function VZe(){UN=void 0}Sc.clearGlobalAppDefaultCred=VZe});var R3=C(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.SDK_VERSION=In.AppErrorCodes=In.FirebaseAppError=In.refreshToken=In.cert=In.applicationDefault=In.deleteApp=In.getApps=In.getApp=In.initializeApp=void 0;var HZe=Md(),FN=Sle();Object.defineProperty(In,"initializeApp",{enumerable:!0,get:function(){return FN.initializeApp}});Object.defineProperty(In,"getApp",{enumerable:!0,get:function(){return FN.getApp}});Object.defineProperty(In,"getApps",{enumerable:!0,get:function(){return FN.getApps}});Object.defineProperty(In,"deleteApp",{enumerable:!0,get:function(){return FN.deleteApp}});var N3=Cle();Object.defineProperty(In,"applicationDefault",{enumerable:!0,get:function(){return N3.applicationDefault}});Object.defineProperty(In,"cert",{enumerable:!0,get:function(){return N3.cert}});Object.defineProperty(In,"refreshToken",{enumerable:!0,get:function(){return N3.refreshToken}});var ble=bs();Object.defineProperty(In,"FirebaseAppError",{enumerable:!0,get:function(){return ble.FirebaseAppError}});Object.defineProperty(In,"AppErrorCodes",{enumerable:!0,get:function(){return ble.AppErrorCodes}});In.SDK_VERSION=(0,HZe.getSdkVersion)()});var vle=C(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.UserImportBuilder=Wp.convertMultiFactorInfoToServerFormat=void 0;var qN=ic(),B0=Md(),xi=es(),wt=bs();function _le(e){let t;if(typeof e.enrollmentTime<"u")if(xi.isUTCDateString(e.enrollmentTime))t=new Date(e.enrollmentTime).toISOString();else throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${e.uid}" must be a valid UTC date string.`);if(zZe(e)){let r={mfaEnrollmentId:e.uid,displayName:e.displayName,phoneInfo:e.phoneNumber,enrolledAt:t};for(let n in r)typeof r[n]>"u"&&delete r[n];return r}else throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.UNSUPPORTED_SECOND_FACTOR,`Unsupported second factor "${JSON.stringify(e)}" provided.`)}Wp.convertMultiFactorInfoToServerFormat=_le;function zZe(e){return e.factorId==="phone"}function Ud(e,t){return typeof e[t]<"u"&&e[t]!==null?parseInt(e[t].toString(),10):NaN}function KZe(e,t){let r={localId:e.uid,email:e.email,emailVerified:e.emailVerified,displayName:e.displayName,disabled:e.disabled,photoUrl:e.photoURL,phoneNumber:e.phoneNumber,providerUserInfo:[],mfaInfo:[],tenantId:e.tenantId,customAttributes:e.customClaims&&JSON.stringify(e.customClaims)};if(typeof e.passwordHash<"u"){if(!xi.isBuffer(e.passwordHash))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_PASSWORD_HASH);r.passwordHash=B0.toWebSafeBase64(e.passwordHash)}if(typeof e.passwordSalt<"u"){if(!xi.isBuffer(e.passwordSalt))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_PASSWORD_SALT);r.salt=B0.toWebSafeBase64(e.passwordSalt)}xi.isNonNullObject(e.metadata)&&(xi.isNonEmptyString(e.metadata.creationTime)&&(r.createdAt=new Date(e.metadata.creationTime).getTime()),xi.isNonEmptyString(e.metadata.lastSignInTime)&&(r.lastLoginAt=new Date(e.metadata.lastSignInTime).getTime())),xi.isArray(e.providerData)&&e.providerData.forEach(s=>{r.providerUserInfo.push({providerId:s.providerId,rawId:s.uid,email:s.email,displayName:s.displayName,photoUrl:s.photoURL})}),xi.isNonNullObject(e.multiFactor)&&xi.isNonEmptyArray(e.multiFactor.enrolledFactors)&&e.multiFactor.enrolledFactors.forEach(s=>{r.mfaInfo.push(_le(s))});let n;for(n in r)typeof r[n]>"u"&&delete r[n];return r.providerUserInfo.length===0&&delete r.providerUserInfo,r.mfaInfo.length===0&&delete r.mfaInfo,typeof t=="function"&&t(r),r}var O3=class{constructor(t,r,n){this.requiresHashOptions=!1,this.validatedUsers=[],this.userImportResultErrors=[],this.indexMap={},this.validatedUsers=this.populateUsers(t,n),this.validatedOptions=this.populateOptions(r,this.requiresHashOptions)}buildRequest(){let t=this.validatedUsers.map(r=>(0,qN.deepCopy)(r));return(0,qN.deepExtend)({users:t},(0,qN.deepCopy)(this.validatedOptions))}buildResponse(t){let r={successCount:this.validatedUsers.length,failureCount:this.userImportResultErrors.length,errors:(0,qN.deepCopy)(this.userImportResultErrors)};return r.failureCount+=t.length,r.successCount-=t.length,t.forEach(n=>{r.errors.push({index:this.indexMap[n.index],error:new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_USER_IMPORT,n.message)})}),r.errors.sort((n,s)=>n.index-s.index),r}populateOptions(t,r){let n;if(!r)return{};if(!xi.isNonNullObject(t))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_ARGUMENT,'"UserImportOptions" are required when importing users with passwords.');if(!xi.isNonNullObject(t.hash))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.MISSING_HASH_ALGORITHM,'"hash.algorithm" is missing from the provided "UserImportOptions".');if(typeof t.hash.algorithm>"u"||!xi.isNonEmptyString(t.hash.algorithm))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'"hash.algorithm" must be a string matching the list of supported algorithms.');let s;switch(t.hash.algorithm){case"HMAC_SHA512":case"HMAC_SHA256":case"HMAC_SHA1":case"HMAC_MD5":if(!xi.isBuffer(t.hash.key))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_KEY,`A non-empty "hash.key" byte buffer must be provided for hash algorithm ${t.hash.algorithm}.`);n={hashAlgorithm:t.hash.algorithm,signerKey:B0.toWebSafeBase64(t.hash.key)};break;case"MD5":case"SHA1":case"SHA256":case"SHA512":{s=Ud(t.hash,"rounds");let i=t.hash.algorithm==="MD5"?0:1;if(isNaN(s)||s<i||s>8192)throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between ${i} and 8192 must be provided for hash algorithm ${t.hash.algorithm}.`);n={hashAlgorithm:t.hash.algorithm,rounds:s};break}case"PBKDF_SHA1":case"PBKDF2_SHA256":if(s=Ud(t.hash,"rounds"),isNaN(s)||s<0||s>12e4)throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 0 and 120000 must be provided for hash algorithm ${t.hash.algorithm}.`);n={hashAlgorithm:t.hash.algorithm,rounds:s};break;case"SCRYPT":{if(!xi.isBuffer(t.hash.key))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_KEY,`A "hash.key" byte buffer must be provided for hash algorithm ${t.hash.algorithm}.`);if(s=Ud(t.hash,"rounds"),isNaN(s)||s<=0||s>8)throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 1 and 8 must be provided for hash algorithm ${t.hash.algorithm}.`);let i=Ud(t.hash,"memoryCost");if(isNaN(i)||i<=0||i>14)throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number between 1 and 14 must be provided for hash algorithm ${t.hash.algorithm}.`);if(typeof t.hash.saltSeparator<"u"&&!xi.isBuffer(t.hash.saltSeparator))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR,'"hash.saltSeparator" must be a byte buffer.');n={hashAlgorithm:t.hash.algorithm,signerKey:B0.toWebSafeBase64(t.hash.key),rounds:s,memoryCost:i,saltSeparator:B0.toWebSafeBase64(t.hash.saltSeparator||Buffer.from(""))};break}case"BCRYPT":n={hashAlgorithm:t.hash.algorithm};break;case"STANDARD_SCRYPT":{let i=Ud(t.hash,"memoryCost");if(isNaN(i))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number must be provided for hash algorithm ${t.hash.algorithm}.`);let o=Ud(t.hash,"parallelization");if(isNaN(o))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_PARALLELIZATION,`A valid "hash.parallelization" number must be provided for hash algorithm ${t.hash.algorithm}.`);let a=Ud(t.hash,"blockSize");if(isNaN(a))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE,`A valid "hash.blockSize" number must be provided for hash algorithm ${t.hash.algorithm}.`);let c=Ud(t.hash,"derivedKeyLength");if(isNaN(c))throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH,`A valid "hash.derivedKeyLength" number must be provided for hash algorithm ${t.hash.algorithm}.`);n={hashAlgorithm:t.hash.algorithm,cpuMemCost:i,parallelization:o,blockSize:a,dkLen:c};break}default:throw new wt.FirebaseAuthError(wt.AuthClientErrorCode.INVALID_HASH_ALGORITHM,`Unsupported hash algorithm provider "${t.hash.algorithm}".`)}return n}populateUsers(t,r){let n=[];return t.forEach((s,i)=>{try{let o=KZe(s,r);typeof o.passwordHash<"u"&&(this.requiresHashOptions=!0),n.push(o),this.indexMap[n.length-1]=i}catch(o){this.userImportResultErrors.push({index:i,error:o})}}),n}};Wp.UserImportBuilder=O3});var Ale=C(jN=>{"use strict";Object.defineProperty(jN,"__esModule",{value:!0});jN.ActionCodeSettingsBuilder=void 0;var Cc=es(),$r=bs(),D3=class{constructor(t){if(!Cc.isNonNullObject(t))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings" must be a non-null object.');if(typeof t.url>"u")throw new $r.FirebaseAuthError($r.AuthClientErrorCode.MISSING_CONTINUE_URI);if(!Cc.isURL(t.url))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_CONTINUE_URI);if(this.continueUrl=t.url,typeof t.handleCodeInApp<"u"&&!Cc.isBoolean(t.handleCodeInApp))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.handleCodeInApp" must be a boolean.');if(this.canHandleCodeInApp=t.handleCodeInApp||!1,typeof t.dynamicLinkDomain<"u"&&!Cc.isNonEmptyString(t.dynamicLinkDomain))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);if(this.dynamicLinkDomain=t.dynamicLinkDomain,typeof t.iOS<"u"){if(Cc.isNonNullObject(t.iOS)){if(typeof t.iOS.bundleId>"u")throw new $r.FirebaseAuthError($r.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);if(!Cc.isNonEmptyString(t.iOS.bundleId))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS.bundleId" must be a valid non-empty string.')}else throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS" must be a valid non-null object.');this.ibi=t.iOS.bundleId}if(typeof t.android<"u"){if(Cc.isNonNullObject(t.android)){if(typeof t.android.packageName>"u")throw new $r.FirebaseAuthError($r.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);if(Cc.isNonEmptyString(t.android.packageName)){if(typeof t.android.minimumVersion<"u"&&!Cc.isNonEmptyString(t.android.minimumVersion))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.minimumVersion" must be a valid non-empty string.');if(typeof t.android.installApp<"u"&&!Cc.isBoolean(t.android.installApp))throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.installApp" must be a valid boolean.')}else throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.packageName" must be a valid non-empty string.')}else throw new $r.FirebaseAuthError($r.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android" must be a valid non-null object.');this.apn=t.android.packageName,this.amv=t.android.minimumVersion,this.installApp=t.android.installApp||!1}}buildRequest(){let t={continueUrl:this.continueUrl,canHandleCodeInApp:this.canHandleCodeInApp,dynamicLinkDomain:this.dynamicLinkDomain,androidPackageName:this.apn,androidMinimumVersion:this.amv,androidInstallApp:this.installApp,iOSBundleId:this.ibi};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]>"u"||t[r]===null)&&delete t[r];return t}};jN.ActionCodeSettingsBuilder=D3});var L0=C(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.EmailPrivacyAuthConfig=yn.PasswordPolicyAuthConfig=yn.RecaptchaAuthConfig=yn.SmsRegionsAuthConfig=yn.OIDCConfig=yn.SAMLConfig=yn.EmailSignInConfig=yn.validateTestPhoneNumbers=yn.MultiFactorAuthConfig=yn.MAXIMUM_TEST_PHONE_NUMBERS=void 0;var Ke=es(),k3=ic(),M=bs();yn.MAXIMUM_TEST_PHONE_NUMBERS=10;var VN={phone:"PHONE_SMS"},xle=Object.keys(VN).reduce((e,t)=>(e[VN[t]]=t,e),{}),B3=class e{static buildServerRequest(t){let r={};return e.validate(t),Object.prototype.hasOwnProperty.call(t,"state")&&(r.state=t.state),Object.prototype.hasOwnProperty.call(t,"factorIds")&&((t.factorIds||[]).forEach(n=>{typeof r.enabledProviders>"u"&&(r.enabledProviders=[]),r.enabledProviders.push(VN[n])}),t.factorIds&&t.factorIds.length===0&&(r.enabledProviders=[])),Object.prototype.hasOwnProperty.call(t,"providerConfigs")&&(r.providerConfigs=t.providerConfigs),r}static validate(t){let r={state:!0,factorIds:!0,providerConfigs:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid MultiFactorConfig parameter.`);if(typeof t.state<"u"&&t.state!=="ENABLED"&&t.state!=="DISABLED")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.state" must be either "ENABLED" or "DISABLED".');if(typeof t.factorIds<"u"){if(!Ke.isArray(t.factorIds))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.factorIds" must be an array of valid "AuthFactorTypes".');t.factorIds.forEach(n=>{if(typeof VN[n]>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid "AuthFactorType".`)})}if(typeof t.providerConfigs<"u"){if(!Ke.isArray(t.providerConfigs))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs" must be an array of valid "MultiFactorProviderConfig."');t.providerConfigs.forEach(n=>{if(typeof n>"u"||!Ke.isObject(n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid "MultiFactorProviderConfig" type.`);let s={state:!0,totpProviderConfig:!0};for(let a in n)if(!(a in s))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${a}" is not a valid ProviderConfig parameter.`);if(typeof n.state>"u"||n.state!=="ENABLED"&&n.state!=="DISABLED")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.state" must be either "ENABLED" or "DISABLED".');if(typeof n.totpProviderConfig>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.totpProviderConfig" must be defined.');let i={adjacentIntervals:!0};for(let a in n.totpProviderConfig)if(!(a in i))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${a}" is not a valid TotpProviderConfig parameter.`);let o=n.totpProviderConfig.adjacentIntervals;if(typeof o<"u"&&(!Number.isInteger(o)||o<0||o>10))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"MultiFactorConfig.providerConfigs.totpProviderConfig.adjacentIntervals" must be a valid number between 0 and 10 (both inclusive).')})}}constructor(t){if(typeof t.state>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.state=t.state,this.factorIds=[],(t.enabledProviders||[]).forEach(r=>{typeof xle[r]<"u"&&this.factorIds.push(xle[r])}),this.providerConfigs=[],(t.providerConfigs||[]).forEach(r=>{if(typeof r<"u"){if(typeof r.state>"u"||typeof r.totpProviderConfig>"u"||typeof r.totpProviderConfig.adjacentIntervals<"u"&&typeof r.totpProviderConfig.adjacentIntervals!="number")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.providerConfigs.push(r)}})}toJSON(){return{state:this.state,factorIds:this.factorIds,providerConfigs:this.providerConfigs}}};yn.MultiFactorAuthConfig=B3;function GZe(e){if(!Ke.isObject(e))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"testPhoneNumbers" must be a map of phone number / code pairs.');if(Object.keys(e).length>yn.MAXIMUM_TEST_PHONE_NUMBERS)throw new M.FirebaseAuthError(M.AuthClientErrorCode.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED);for(let t in e){if(!Ke.isPhoneNumber(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${t}" is not a valid E.164 standard compliant phone number.`);if(!Ke.isString(e[t])||!/^[\d]{6}$/.test(e[t]))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${e[t]}" is not a valid 6 digit code string.`)}}yn.validateTestPhoneNumbers=GZe;var L3=class e{static buildServerRequest(t){let r={};return e.validate(t),Object.prototype.hasOwnProperty.call(t,"enabled")&&(r.allowPasswordSignup=t.enabled),Object.prototype.hasOwnProperty.call(t,"passwordRequired")&&(r.enableEmailLinkSignin=!t.passwordRequired),r}static validate(t){let r={enabled:!0,passwordRequired:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,`"${n}" is not a valid EmailSignInConfig parameter.`);if(typeof t.enabled<"u"&&!Ke.isBoolean(t.enabled))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.enabled" must be a boolean.');if(typeof t.passwordRequired<"u"&&!Ke.isBoolean(t.passwordRequired))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.passwordRequired" must be a boolean.')}constructor(t){if(typeof t.allowPasswordSignup>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid email sign-in configuration response");this.enabled=t.allowPasswordSignup,this.passwordRequired=!t.enableEmailLinkSignin}toJSON(){return{enabled:this.enabled,passwordRequired:this.passwordRequired}}};yn.EmailSignInConfig=L3;var M3=class e{static buildServerRequest(t,r=!1){if(!(Ke.isNonNullObject(t)&&(t.providerId||r)))return null;let s={};if(e.validate(t,r),s.enabled=t.enabled,s.displayName=t.displayName,(t.idpEntityId||t.ssoURL||t.x509Certificates)&&(s.idpConfig={idpEntityId:t.idpEntityId,ssoUrl:t.ssoURL,signRequest:t.enableRequestSigning,idpCertificates:typeof t.x509Certificates>"u"?void 0:[]},t.x509Certificates))for(let i of t.x509Certificates||[])s.idpConfig.idpCertificates.push({x509Certificate:i});return(t.callbackURL||t.rpEntityId)&&(s.spConfig={spEntityId:t.rpEntityId,callbackUri:t.callbackURL}),s}static getProviderIdFromResourceName(t){let r=t.match(/\/inboundSamlConfigs\/(saml\..*)$/);return!r||r.length<2?null:r[1]}static isProviderId(t){return Ke.isNonEmptyString(t)&&t.indexOf("saml.")===0}static validate(t,r=!1){let n={enabled:!0,displayName:!0,providerId:!0,idpEntityId:!0,ssoURL:!0,x509Certificates:!0,rpEntityId:!0,callbackURL:!0,enableRequestSigning:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig" must be a valid non-null object.');for(let s in t)if(!(s in n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${s}" is not a valid SAML config parameter.`);if(Ke.isNonEmptyString(t.providerId)){if(t.providerId.indexOf("saml.")!==0)throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".')}else if(!r)throw new M.FirebaseAuthError(t.providerId?M.AuthClientErrorCode.INVALID_PROVIDER_ID:M.AuthClientErrorCode.MISSING_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".');if(!(r&&typeof t.idpEntityId>"u")&&!Ke.isNonEmptyString(t.idpEntityId))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.idpEntityId" must be a valid non-empty string.');if(!(r&&typeof t.ssoURL>"u")&&!Ke.isURL(t.ssoURL))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.ssoURL" must be a valid URL string.');if(!(r&&typeof t.rpEntityId>"u")&&!Ke.isNonEmptyString(t.rpEntityId))throw new M.FirebaseAuthError(t.rpEntityId?M.AuthClientErrorCode.INVALID_CONFIG:M.AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG,'"SAMLAuthProviderConfig.rpEntityId" must be a valid non-empty string.');if(!(r&&typeof t.callbackURL>"u")&&!Ke.isURL(t.callbackURL))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.callbackURL" must be a valid URL string.');if(!(r&&typeof t.x509Certificates>"u")&&!Ke.isArray(t.x509Certificates))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.');if((t.x509Certificates||[]).forEach(s=>{if(!Ke.isNonEmptyString(s))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.')}),typeof t.enableRequestSigning<"u"&&!Ke.isBoolean(t.enableRequestSigning))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enableRequestSigning" must be a boolean.');if(typeof t.enabled<"u"&&!Ke.isBoolean(t.enabled))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enabled" must be a boolean.');if(typeof t.displayName<"u"&&!Ke.isString(t.displayName))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.displayName" must be a valid string.')}constructor(t){if(!t||!t.idpConfig||!t.idpConfig.idpEntityId||!t.idpConfig.ssoUrl||!t.spConfig||!t.spConfig.spEntityId||!t.name||!(Ke.isString(t.name)&&e.getProviderIdFromResourceName(t.name)))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");let r=e.getProviderIdFromResourceName(t.name);if(!r)throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=r,this.rpEntityId=t.spConfig.spEntityId,this.callbackURL=t.spConfig.callbackUri,this.idpEntityId=t.idpConfig.idpEntityId,this.ssoURL=t.idpConfig.ssoUrl,this.enableRequestSigning=!!t.idpConfig.signRequest;let n=[];for(let s of t.idpConfig.idpCertificates||[])s.x509Certificate&&n.push(s.x509Certificate);this.x509Certificates=n,this.enabled=!!t.enabled,this.displayName=t.displayName}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,idpEntityId:this.idpEntityId,ssoURL:this.ssoURL,x509Certificates:(0,k3.deepCopy)(this.x509Certificates),rpEntityId:this.rpEntityId,callbackURL:this.callbackURL,enableRequestSigning:this.enableRequestSigning}}};yn.SAMLConfig=M3;var U3=class e{static buildServerRequest(t,r=!1){if(!(Ke.isNonNullObject(t)&&(t.providerId||r)))return null;let s={};return e.validate(t,r),s.enabled=t.enabled,s.displayName=t.displayName,s.issuer=t.issuer,s.clientId=t.clientId,typeof t.clientSecret<"u"&&(s.clientSecret=t.clientSecret),typeof t.responseType<"u"&&(s.responseType=t.responseType),s}static getProviderIdFromResourceName(t){let r=t.match(/\/oauthIdpConfigs\/(oidc\..*)$/);return!r||r.length<2?null:r[1]}static isProviderId(t){return Ke.isNonEmptyString(t)&&t.indexOf("oidc.")===0}static validate(t,r=!1){let n={enabled:!0,displayName:!0,providerId:!0,clientId:!0,issuer:!0,clientSecret:!0,responseType:!0},s={idToken:!0,code:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig" must be a valid non-null object.');for(let i in t)if(!(i in n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${i}" is not a valid OIDC config parameter.`);if(Ke.isNonEmptyString(t.providerId)){if(t.providerId.indexOf("oidc.")!==0)throw new M.FirebaseAuthError(t.providerId?M.AuthClientErrorCode.INVALID_PROVIDER_ID:M.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".')}else if(!r)throw new M.FirebaseAuthError(t.providerId?M.AuthClientErrorCode.INVALID_PROVIDER_ID:M.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".');if(!(r&&typeof t.clientId>"u")&&!Ke.isNonEmptyString(t.clientId))throw new M.FirebaseAuthError(t.clientId?M.AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID:M.AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID,'"OIDCAuthProviderConfig.clientId" must be a valid non-empty string.');if(!(r&&typeof t.issuer>"u")&&!Ke.isURL(t.issuer))throw new M.FirebaseAuthError(t.issuer?M.AuthClientErrorCode.INVALID_CONFIG:M.AuthClientErrorCode.MISSING_ISSUER,'"OIDCAuthProviderConfig.issuer" must be a valid URL string.');if(typeof t.enabled<"u"&&!Ke.isBoolean(t.enabled))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.enabled" must be a boolean.');if(typeof t.displayName<"u"&&!Ke.isString(t.displayName))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.displayName" must be a valid string.');if(typeof t.clientSecret<"u"&&!Ke.isNonEmptyString(t.clientSecret))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.clientSecret" must be a valid string.');if(Ke.isNonNullObject(t.responseType)&&typeof t.responseType<"u"){Object.keys(t.responseType).forEach(l=>{if(!(l in s))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${l}" is not a valid OAuthResponseType parameter.`)});let i=t.responseType.idToken;if(typeof i<"u"&&!Ke.isBoolean(i))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.idToken" must be a boolean.');let o=t.responseType.code;if(typeof o<"u"){if(!Ke.isBoolean(o))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.code" must be a boolean.');if(o&&typeof t.clientSecret>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.MISSING_OAUTH_CLIENT_SECRET,"The OAuth configuration client secret is required to enable OIDC code flow.")}let a=Object.keys(t.responseType).length,c=Object.values(t.responseType).filter(Boolean).length;if(a>1&&c!==1)throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_OAUTH_RESPONSETYPE,"Only exactly one OAuth responseType should be set to true.")}}constructor(t){if(!t||!t.issuer||!t.clientId||!t.name||!(Ke.isString(t.name)&&e.getProviderIdFromResourceName(t.name)))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid OIDC configuration response");let r=e.getProviderIdFromResourceName(t.name);if(!r)throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=r,this.clientId=t.clientId,this.issuer=t.issuer,this.enabled=!!t.enabled,this.displayName=t.displayName,typeof t.clientSecret<"u"&&(this.clientSecret=t.clientSecret),typeof t.responseType<"u"&&(this.responseType=t.responseType)}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,issuer:this.issuer,clientId:this.clientId,clientSecret:(0,k3.deepCopy)(this.clientSecret),responseType:(0,k3.deepCopy)(this.responseType)}}};yn.OIDCConfig=U3;var F3=class{static validate(t){if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig" must be a non-null object.');let r={allowlistOnly:!0,allowByDefault:!0};for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid SmsRegionConfig parameter.`);if(typeof t.allowByDefault<"u"&&typeof t.allowlistOnly<"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'SmsRegionConfig cannot have both "allowByDefault" and "allowlistOnly" parameters.');if(typeof t.allowByDefault<"u"){let n={disallowedRegions:!0};for(let s in t.allowByDefault)if(!(s in n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${s}" is not a valid SmsRegionConfig.allowByDefault parameter.`);if(typeof t.allowByDefault.disallowedRegions<"u"&&!Ke.isArray(t.allowByDefault.disallowedRegions))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowByDefault.disallowedRegions" must be a valid string array.')}if(typeof t.allowlistOnly<"u"){let n={allowedRegions:!0};for(let s in t.allowlistOnly)if(!(s in n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${s}" is not a valid SmsRegionConfig.allowlistOnly parameter.`);if(typeof t.allowlistOnly.allowedRegions<"u"&&!Ke.isArray(t.allowlistOnly.allowedRegions))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowlistOnly.allowedRegions" must be a valid string array.')}}};yn.SmsRegionsAuthConfig=F3;var q3=class e{constructor(t){let r=Object.fromEntries(Object.entries(t).filter(([,n])=>n!==void 0));r.tollFraudManagedRules!==void 0&&(this.smsTollFraudManagedRules=r.tollFraudManagedRules,delete r.tollFraudManagedRules),Object.assign(this,r)}static buildServerRequest(t){e.validate(t);let r={};return typeof t.emailPasswordEnforcementState<"u"&&(r.emailPasswordEnforcementState=t.emailPasswordEnforcementState),typeof t.phoneEnforcementState<"u"&&(r.phoneEnforcementState=t.phoneEnforcementState),typeof t.managedRules<"u"&&(r.managedRules=t.managedRules),typeof t.recaptchaKeys<"u"&&(r.recaptchaKeys=t.recaptchaKeys),typeof t.useAccountDefender<"u"&&(r.useAccountDefender=t.useAccountDefender),typeof t.useSmsBotScore<"u"&&(r.useSmsBotScore=t.useSmsBotScore),typeof t.useSmsTollFraudProtection<"u"&&(r.useSmsTollFraudProtection=t.useSmsTollFraudProtection),typeof t.smsTollFraudManagedRules<"u"&&(r.tollFraudManagedRules=t.smsTollFraudManagedRules),r}static validate(t){let r={emailPasswordEnforcementState:!0,phoneEnforcementState:!0,managedRules:!0,recaptchaKeys:!0,useAccountDefender:!0,useSmsBotScore:!0,useSmsTollFraudProtection:!0,smsTollFraudManagedRules:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid RecaptchaConfig parameter.`);if(typeof t.emailPasswordEnforcementState<"u"){if(!Ke.isNonEmptyString(t.emailPasswordEnforcementState))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.emailPasswordEnforcementState" must be a valid non-empty string.');if(t.emailPasswordEnforcementState!=="OFF"&&t.emailPasswordEnforcementState!=="AUDIT"&&t.emailPasswordEnforcementState!=="ENFORCE")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.emailPasswordEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(typeof t.phoneEnforcementState<"u"){if(!Ke.isNonEmptyString(t.phoneEnforcementState))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.phoneEnforcementState" must be a valid non-empty string.');if(t.phoneEnforcementState!=="OFF"&&t.phoneEnforcementState!=="AUDIT"&&t.phoneEnforcementState!=="ENFORCE")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.phoneEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(typeof t.managedRules<"u"){if(!Ke.isArray(t.managedRules))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.managedRules" must be an array of valid "RecaptchaManagedRule".');t.managedRules.forEach(n=>{e.validateManagedRule(n)})}if(typeof t.useAccountDefender<"u"&&!Ke.isBoolean(t.useAccountDefender))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useAccountDefender" must be a boolean value".');if(typeof t.useSmsBotScore<"u"&&!Ke.isBoolean(t.useSmsBotScore))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsBotScore" must be a boolean value".');if(typeof t.useSmsTollFraudProtection<"u"&&!Ke.isBoolean(t.useSmsTollFraudProtection))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsTollFraudProtection" must be a boolean value".');if(typeof t.smsTollFraudManagedRules<"u"){if(!Ke.isArray(t.smsTollFraudManagedRules))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.smsTollFraudManagedRules" must be an array of valid "RecaptchaTollFraudManagedRule".');t.smsTollFraudManagedRules.forEach(n=>{e.validateTollFraudManagedRule(n)})}}static validateManagedRule(t){let r={endScore:!0,action:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid RecaptchaManagedRule parameter.`);if(typeof t.action<"u"&&t.action!=="BLOCK")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule.action" must be "BLOCK".')}static validateTollFraudManagedRule(t){let r={startScore:!0,action:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid RecaptchaTollFraudManagedRule parameter.`);if(typeof t.action<"u"&&t.action!=="BLOCK")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule.action" must be "BLOCK".')}};yn.RecaptchaAuthConfig=q3;var j3=class e{static buildServerRequest(t){let r={};e.validate(t),Object.prototype.hasOwnProperty.call(t,"enforcementState")&&(r.passwordPolicyEnforcementState=t.enforcementState),r.forceUpgradeOnSignin=!1,Object.prototype.hasOwnProperty.call(t,"forceUpgradeOnSignin")&&(r.forceUpgradeOnSignin=t.forceUpgradeOnSignin);let n={containsUppercaseCharacter:!1,containsLowercaseCharacter:!1,containsNonAlphanumericCharacter:!1,containsNumericCharacter:!1,minPasswordLength:6,maxPasswordLength:4096};return r.passwordPolicyVersions=[],Object.prototype.hasOwnProperty.call(t,"constraints")&&t&&(t.constraints?.requireUppercase!==void 0&&(n.containsUppercaseCharacter=t.constraints.requireUppercase),t.constraints?.requireLowercase!==void 0&&(n.containsLowercaseCharacter=t.constraints.requireLowercase),t.constraints?.requireNonAlphanumeric!==void 0&&(n.containsNonAlphanumericCharacter=t.constraints.requireNonAlphanumeric),t.constraints?.requireNumeric!==void 0&&(n.containsNumericCharacter=t.constraints.requireNumeric),t.constraints?.minLength!==void 0&&(n.minPasswordLength=t.constraints.minLength),t.constraints?.maxLength!==void 0&&(n.maxPasswordLength=t.constraints.maxLength)),r.passwordPolicyVersions.push({customStrengthOptions:n}),r}static validate(t){let r={enforcementState:!0,forceUpgradeOnSignin:!0,constraints:!0};if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig" must be a non-null object.');for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid PasswordPolicyConfig parameter.`);if(typeof t.enforcementState>"u"||!(t.enforcementState==="ENFORCE"||t.enforcementState==="OFF"))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.enforcementState" must be either "ENFORCE" or "OFF".');if(typeof t.forceUpgradeOnSignin<"u"&&!Ke.isBoolean(t.forceUpgradeOnSignin))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.forceUpgradeOnSignin" must be a boolean.');if(typeof t.constraints<"u"){if(t.enforcementState==="ENFORCE"&&!Ke.isNonNullObject(t.constraints))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be a non-empty object.');let n={requireUppercase:!0,requireLowercase:!0,requireNumeric:!0,requireNonAlphanumeric:!0,minLength:!0,maxLength:!0};for(let s in t.constraints)if(!(s in n))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${s}" is not a valid PasswordPolicyConfig.constraints parameter.`);if(typeof t.constraints.requireUppercase<"u"&&!Ke.isBoolean(t.constraints.requireUppercase))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireUppercase" must be a boolean.');if(typeof t.constraints.requireLowercase<"u"&&!Ke.isBoolean(t.constraints.requireLowercase))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireLowercase" must be a boolean.');if(typeof t.constraints.requireNonAlphanumeric<"u"&&!Ke.isBoolean(t.constraints.requireNonAlphanumeric))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNonAlphanumeric" must be a boolean.');if(typeof t.constraints.requireNumeric<"u"&&!Ke.isBoolean(t.constraints.requireNumeric))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNumeric" must be a boolean.');if(typeof t.constraints.minLength>"u")t.constraints.minLength=6;else if(Ke.isNumber(t.constraints.minLength)){if(!(t.constraints.minLength>=6&&t.constraints.minLength<=30))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be an integer between 6 and 30, inclusive.')}else throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be a number.');if(typeof t.constraints.maxLength>"u")t.constraints.maxLength=4096;else if(Ke.isNumber(t.constraints.maxLength)){if(!(t.constraints.maxLength>=t.constraints.minLength&&t.constraints.maxLength<=4096))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be greater than or equal to minLength and at max 4096.')}else throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be a number.')}else if(t.enforcementState==="ENFORCE")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be defined.')}constructor(t){if(typeof t.passwordPolicyEnforcementState>"u")throw new M.FirebaseAuthError(M.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid password policy configuration response");this.enforcementState=t.passwordPolicyEnforcementState;let r={};typeof t.passwordPolicyVersions<"u"&&(t.passwordPolicyVersions||[]).forEach(n=>{r={requireLowercase:n.customStrengthOptions?.containsLowercaseCharacter,requireUppercase:n.customStrengthOptions?.containsUppercaseCharacter,requireNonAlphanumeric:n.customStrengthOptions?.containsNonAlphanumericCharacter,requireNumeric:n.customStrengthOptions?.containsNumericCharacter,minLength:n.customStrengthOptions?.minPasswordLength,maxLength:n.customStrengthOptions?.maxPasswordLength}}),this.constraints=r,this.forceUpgradeOnSignin=!!t.forceUpgradeOnSignin}};yn.PasswordPolicyAuthConfig=j3;var V3=class{static validate(t){if(!Ke.isNonNullObject(t))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig" must be a non-null object.');let r={enableImprovedEmailPrivacy:!0};for(let n in t)if(!(n in r))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,`"${n}" is not a valid "EmailPrivacyConfig" parameter.`);if(typeof t.enableImprovedEmailPrivacy<"u"&&!Ke.isBoolean(t.enableImprovedEmailPrivacy))throw new M.FirebaseAuthError(M.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig.enableImprovedEmailPrivacy" must be a valid boolean value.')}};yn.EmailPrivacyAuthConfig=V3});var zN=C(HN=>{"use strict";Object.defineProperty(HN,"__esModule",{value:!0});HN.Tenant=void 0;var Ile=es(),Ff=ic(),bc=bs(),ai=L0(),H3=class e{static buildServerRequest(t,r){e.validate(t,r);let n={};return typeof t.emailSignInConfig<"u"&&(n=ai.EmailSignInConfig.buildServerRequest(t.emailSignInConfig)),typeof t.displayName<"u"&&(n.displayName=t.displayName),typeof t.anonymousSignInEnabled<"u"&&(n.enableAnonymousUser=t.anonymousSignInEnabled),typeof t.multiFactorConfig<"u"&&(n.mfaConfig=ai.MultiFactorAuthConfig.buildServerRequest(t.multiFactorConfig)),typeof t.testPhoneNumbers<"u"&&(n.testPhoneNumbers=t.testPhoneNumbers??{}),typeof t.smsRegionConfig<"u"&&(n.smsRegionConfig=t.smsRegionConfig),typeof t.recaptchaConfig<"u"&&(n.recaptchaConfig=ai.RecaptchaAuthConfig.buildServerRequest(t.recaptchaConfig)),typeof t.passwordPolicyConfig<"u"&&(n.passwordPolicyConfig=ai.PasswordPolicyAuthConfig.buildServerRequest(t.passwordPolicyConfig)),typeof t.emailPrivacyConfig<"u"&&(n.emailPrivacyConfig=t.emailPrivacyConfig),n}static getTenantIdFromResourceName(t){let r=t.match(/\/tenants\/(.*)$/);return!r||r.length<2?null:r[1]}static validate(t,r){let n={displayName:!0,emailSignInConfig:!0,anonymousSignInEnabled:!0,multiFactorConfig:!0,testPhoneNumbers:!0,smsRegionConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0},s=r?"CreateTenantRequest":"UpdateTenantRequest";if(!Ile.isNonNullObject(t))throw new bc.FirebaseAuthError(bc.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}" must be a valid non-null object.`);for(let i in t)if(!(i in n))throw new bc.FirebaseAuthError(bc.AuthClientErrorCode.INVALID_ARGUMENT,`"${i}" is not a valid ${s} parameter.`);if(typeof t.displayName<"u"&&!Ile.isNonEmptyString(t.displayName))throw new bc.FirebaseAuthError(bc.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}.displayName" must be a valid non-empty string.`);if(typeof t.emailSignInConfig<"u"&&ai.EmailSignInConfig.buildServerRequest(t.emailSignInConfig),typeof t.testPhoneNumbers<"u"&&t.testPhoneNumbers!==null)(0,ai.validateTestPhoneNumbers)(t.testPhoneNumbers);else if(t.testPhoneNumbers===null&&r)throw new bc.FirebaseAuthError(bc.AuthClientErrorCode.INVALID_ARGUMENT,`"${s}.testPhoneNumbers" must be a non-null object.`);typeof t.multiFactorConfig<"u"&&ai.MultiFactorAuthConfig.buildServerRequest(t.multiFactorConfig),typeof t.smsRegionConfig<"u"&&ai.SmsRegionsAuthConfig.validate(t.smsRegionConfig),typeof t.recaptchaConfig<"u"&&ai.RecaptchaAuthConfig.buildServerRequest(t.recaptchaConfig),typeof t.passwordPolicyConfig<"u"&&ai.PasswordPolicyAuthConfig.buildServerRequest(t.passwordPolicyConfig),typeof t.emailPrivacyConfig<"u"&&ai.EmailPrivacyAuthConfig.validate(t.emailPrivacyConfig)}constructor(t){let r=e.getTenantIdFromResourceName(t.name);if(!r)throw new bc.FirebaseAuthError(bc.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid tenant response");this.tenantId=r,this.displayName=t.displayName;try{this.emailSignInConfig_=new ai.EmailSignInConfig(t)}catch{this.emailSignInConfig_=new ai.EmailSignInConfig({allowPasswordSignup:!1})}this.anonymousSignInEnabled=!!t.enableAnonymousUser,typeof t.mfaConfig<"u"&&(this.multiFactorConfig_=new ai.MultiFactorAuthConfig(t.mfaConfig)),typeof t.testPhoneNumbers<"u"&&(this.testPhoneNumbers=(0,Ff.deepCopy)(t.testPhoneNumbers||{})),typeof t.smsRegionConfig<"u"&&(this.smsRegionConfig=(0,Ff.deepCopy)(t.smsRegionConfig)),typeof t.recaptchaConfig<"u"&&(this.recaptchaConfig_=new ai.RecaptchaAuthConfig(t.recaptchaConfig)),typeof t.passwordPolicyConfig<"u"&&(this.passwordPolicyConfig=new ai.PasswordPolicyAuthConfig(t.passwordPolicyConfig)),typeof t.emailPrivacyConfig<"u"&&(this.emailPrivacyConfig=(0,Ff.deepCopy)(t.emailPrivacyConfig))}get emailSignInConfig(){return this.emailSignInConfig_}get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}toJSON(){let t={tenantId:this.tenantId,displayName:this.displayName,emailSignInConfig:this.emailSignInConfig_?.toJSON(),multiFactorConfig:this.multiFactorConfig_?.toJSON(),anonymousSignInEnabled:this.anonymousSignInEnabled,testPhoneNumbers:this.testPhoneNumbers,smsRegionConfig:(0,Ff.deepCopy)(this.smsRegionConfig),recaptchaConfig:(0,Ff.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,Ff.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,Ff.deepCopy)(this.emailPrivacyConfig)};return typeof t.multiFactorConfig>"u"&&delete t.multiFactorConfig,typeof t.testPhoneNumbers>"u"&&delete t.testPhoneNumbers,typeof t.smsRegionConfig>"u"&&delete t.smsRegionConfig,typeof t.recaptchaConfig>"u"&&delete t.recaptchaConfig,typeof t.passwordPolicyConfig>"u"&&delete t.passwordPolicyConfig,typeof t.emailPrivacyConfig>"u"&&delete t.emailPrivacyConfig,t}};HN.Tenant=H3});var z3=C(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.isProviderIdentifier=_c.isPhoneIdentifier=_c.isEmailIdentifier=_c.isUidIdentifier=void 0;function $Ze(e){return e.uid!==void 0}_c.isUidIdentifier=$Ze;function WZe(e){return e.email!==void 0}_c.isEmailIdentifier=WZe;function JZe(e){return e.phoneNumber!==void 0}_c.isPhoneIdentifier=JZe;function XZe(e){let t=e;return t.providerId!==void 0&&t.providerUid!==void 0}_c.isProviderIdentifier=XZe});var $N=C(GN=>{"use strict";Object.defineProperty(GN,"__esModule",{value:!0});GN.ProjectConfig=void 0;var YZe=es(),KN=bs(),Ta=L0(),M0=ic(),K3=class e{get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}static validate(t){if(!YZe.isNonNullObject(t))throw new KN.FirebaseAuthError(KN.AuthClientErrorCode.INVALID_ARGUMENT,'"UpdateProjectConfigRequest" must be a valid non-null object.');let r={smsRegionConfig:!0,multiFactorConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0};for(let n in t)if(!(n in r))throw new KN.FirebaseAuthError(KN.AuthClientErrorCode.INVALID_ARGUMENT,`"${n}" is not a valid UpdateProjectConfigRequest parameter.`);typeof t.smsRegionConfig<"u"&&Ta.SmsRegionsAuthConfig.validate(t.smsRegionConfig),typeof t.multiFactorConfig<"u"&&Ta.MultiFactorAuthConfig.validate(t.multiFactorConfig),typeof t.recaptchaConfig<"u"&&Ta.RecaptchaAuthConfig.validate(t.recaptchaConfig),typeof t.passwordPolicyConfig<"u"&&Ta.PasswordPolicyAuthConfig.validate(t.passwordPolicyConfig),typeof t.emailPrivacyConfig<"u"&&Ta.EmailPrivacyAuthConfig.validate(t.emailPrivacyConfig)}static buildServerRequest(t){e.validate(t);let r={};return typeof t.smsRegionConfig<"u"&&(r.smsRegionConfig=t.smsRegionConfig),typeof t.multiFactorConfig<"u"&&(r.mfa=Ta.MultiFactorAuthConfig.buildServerRequest(t.multiFactorConfig)),typeof t.recaptchaConfig<"u"&&(r.recaptchaConfig=Ta.RecaptchaAuthConfig.buildServerRequest(t.recaptchaConfig)),typeof t.passwordPolicyConfig<"u"&&(r.passwordPolicyConfig=Ta.PasswordPolicyAuthConfig.buildServerRequest(t.passwordPolicyConfig)),typeof t.emailPrivacyConfig<"u"&&(r.emailPrivacyConfig=t.emailPrivacyConfig),r}constructor(t){typeof t.smsRegionConfig<"u"&&(this.smsRegionConfig=t.smsRegionConfig),typeof t.mfa<"u"&&(this.multiFactorConfig_=new Ta.MultiFactorAuthConfig(t.mfa)),typeof t.recaptchaConfig<"u"&&(this.recaptchaConfig_=new Ta.RecaptchaAuthConfig(t.recaptchaConfig)),typeof t.passwordPolicyConfig<"u"&&(this.passwordPolicyConfig=new Ta.PasswordPolicyAuthConfig(t.passwordPolicyConfig)),typeof t.emailPrivacyConfig<"u"&&(this.emailPrivacyConfig=t.emailPrivacyConfig)}toJSON(){let t={smsRegionConfig:(0,M0.deepCopy)(this.smsRegionConfig),multiFactorConfig:(0,M0.deepCopy)(this.multiFactorConfig),recaptchaConfig:(0,M0.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,M0.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,M0.deepCopy)(this.emailPrivacyConfig)};return typeof t.smsRegionConfig>"u"&&delete t.smsRegionConfig,typeof t.multiFactorConfig>"u"&&delete t.multiFactorConfig,typeof t.recaptchaConfig>"u"&&delete t.recaptchaConfig,typeof t.passwordPolicyConfig>"u"&&delete t.passwordPolicyConfig,typeof t.emailPrivacyConfig>"u"&&delete t.emailPrivacyConfig,t}};GN.ProjectConfig=K3});var F0=C(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.useEmulator=ot.TenantAwareAuthRequestHandler=ot.AuthRequestHandler=ot.AbstractAuthRequestHandler=ot.FIREBASE_AUTH_SIGN_UP_NEW_USER=ot.FIREBASE_AUTH_SET_ACCOUNT_INFO=ot.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=ot.FIREBASE_AUTH_DELETE_ACCOUNT=ot.FIREBASE_AUTH_GET_ACCOUNTS_INFO=ot.FIREBASE_AUTH_GET_ACCOUNT_INFO=ot.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=ot.FIREBASE_AUTH_UPLOAD_ACCOUNT=ot.FIREBASE_AUTH_CREATE_SESSION_COOKIE=ot.EMAIL_ACTION_REQUEST_TYPES=ot.RESERVED_CLAIMS=void 0;var Ae=es(),WN=ic(),R=bs(),br=s0(),Jo=Md(),G3=vle(),QZe=Ale(),XN=zN(),JN=z3(),Gi=L0(),ZZe=$N(),eet={"X-Client-Version":`Node/Admin/${Jo.getSdkVersion()}`,"X-Goog-Api-Client":`gl-node/${process.versions.node} fire-admin/${Jo.getSdkVersion()}`},tet=25e3;ot.RESERVED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce","sub","firebase"];ot.EMAIL_ACTION_REQUEST_TYPES=["PASSWORD_RESET","VERIFY_EMAIL","EMAIL_SIGNIN","VERIFY_AND_CHANGE_EMAIL"];var Tle=1e3,$3=1e3,wle=1e3,Nle=100,Rle=1e3,ret=300,net=336*60*60,Xp=100,Ole="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",Dle="http://{host}/identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",set=Ole.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),iet=Dle.replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),W3=1e3,Yp;(function(e){e.Create="create",e.Update="update",e.Upload="upload"})(Yp||(Yp={}));var Jp=class{constructor(t,r="v1"){this.app=t,this.version=r,QN()?this.urlFormat=Jo.formatString(Dle,{host:Z3()}):this.urlFormat=Ole}getUrl(t,r){return this.getProjectId().then(n=>{let s={version:this.version,projectId:n,api:t||""},i=Jo.formatString(this.urlFormat,s);return Jo.formatString(i,r||{})})}getProjectId(){return this.projectId?Promise.resolve(this.projectId):Jo.findProjectId(this.app).then(t=>{if(!Ae.isNonEmptyString(t))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_CREDENTIAL,"Failed to determine project ID for Auth. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=t,t})}},YN=class extends Jp{constructor(t,r,n){super(t,r),this.app=t,this.version=r,this.tenantId=n,QN()?this.urlFormat=Jo.formatString(iet,{host:Z3()}):this.urlFormat=set}getUrl(t,r){return super.getUrl(t,r).then(n=>Jo.formatString(n,{tenantId:this.tenantId}))}},J3=class extends br.AuthorizedHttpClient{getToken(){return QN()?Promise.resolve("owner"):super.getToken()}};function oet(e){let t={mfaEnrollmentId:!0,displayName:!0,phoneInfo:!0,enrolledAt:!0};for(let n in e)n in t||delete e[n];let r=e.mfaEnrollmentId||e.phoneInfo||JSON.stringify(e);if(typeof e.mfaEnrollmentId<"u"&&!Ae.isNonEmptyString(e.mfaEnrollmentId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID,'The second factor "uid" must be a valid non-empty string.');if(typeof e.displayName<"u"&&!Ae.isString(e.displayName))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The second factor "displayName" for "${r}" must be a valid string.`);if(typeof e.enrolledAt<"u"&&!Ae.isISODateString(e.enrolledAt))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${r}" must be a valid UTC date string.`);if(typeof e.phoneInfo<"u"){if(!Ae.isPhoneNumber(e.phoneInfo))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHONE_NUMBER,`The second factor "phoneNumber" for "${r}" must be a non-empty E.164 standard compliant identifier string.`)}else throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ENROLLED_FACTORS,"MFAInfo object provided is invalid.")}function Ple(e){let t={rawId:!0,providerId:!0,email:!0,displayName:!0,photoUrl:!0};for(let r in e)r in t||delete e[r];if(!Ae.isNonEmptyString(e.providerId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID);if(typeof e.displayName<"u"&&typeof e.displayName!="string")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The provider "displayName" for "${e.providerId}" must be a valid string.`);if(!Ae.isNonEmptyString(e.rawId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID,`The provider "uid" for "${e.providerId}" must be a valid non-empty string.`);if(typeof e.email<"u"&&!Ae.isEmail(e.email))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL,`The provider "email" for "${e.providerId}" must be a valid email string.`);if(typeof e.photoUrl<"u"&&!Ae.isURL(e.photoUrl))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHOTO_URL,`The provider "photoURL" for "${e.providerId}" must be a valid URL string.`)}function Q3(e,t){let r=t===Yp.Upload,n={displayName:!0,localId:!0,email:!0,password:!0,rawPassword:!0,emailVerified:!0,photoUrl:!0,disabled:!0,disableUser:!0,deleteAttribute:!0,deleteProvider:!0,sanityCheck:!0,phoneNumber:!0,customAttributes:!0,validSince:!0,linkProviderUserInfo:!r,tenantId:r,passwordHash:r,salt:r,createdAt:r,lastLoginAt:r,providerUserInfo:r,mfaInfo:r,mfa:!r};for(let i in e)i in n||delete e[i];if(typeof e.tenantId<"u"&&!Ae.isNonEmptyString(e.tenantId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_TENANT_ID);if(typeof e.displayName<"u"&&!Ae.isString(e.displayName))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_DISPLAY_NAME);if((typeof e.localId<"u"||r)&&!Ae.isUid(e.localId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID);if(typeof e.email<"u"&&!Ae.isEmail(e.email))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL);if(typeof e.phoneNumber<"u"&&!Ae.isPhoneNumber(e.phoneNumber))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHONE_NUMBER);if(typeof e.password<"u"&&!Ae.isPassword(e.password))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PASSWORD);if(typeof e.rawPassword<"u"&&!Ae.isPassword(e.rawPassword))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PASSWORD);if(typeof e.emailVerified<"u"&&typeof e.emailVerified!="boolean")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL_VERIFIED);if(typeof e.photoUrl<"u"&&!Ae.isURL(e.photoUrl))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHOTO_URL);if(typeof e.disabled<"u"&&typeof e.disabled!="boolean")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(typeof e.validSince<"u"&&!Ae.isNumber(e.validSince))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME);if(typeof e.createdAt<"u"&&!Ae.isNumber(e.createdAt))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_CREATION_TIME);if(typeof e.lastLoginAt<"u"&&!Ae.isNumber(e.lastLoginAt))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME);if(typeof e.disableUser<"u"&&typeof e.disableUser!="boolean")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(typeof e.customAttributes<"u"){let i;try{i=JSON.parse(e.customAttributes)}catch(a){throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_CLAIMS,a.message)}let o=[];if(ot.RESERVED_CLAIMS.forEach(a=>{Object.prototype.hasOwnProperty.call(i,a)&&o.push(a)}),o.length>0)throw new R.FirebaseAuthError(R.AuthClientErrorCode.FORBIDDEN_CLAIM,o.length>1?`Developer claims "${o.join('", "')}" are reserved and cannot be specified.`:`Developer claim "${o[0]}" is reserved and cannot be specified.`);if(e.customAttributes.length>Tle)throw new R.FirebaseAuthError(R.AuthClientErrorCode.CLAIMS_TOO_LARGE,`Developer claims payload should not exceed ${Tle} characters.`)}if(typeof e.passwordHash<"u"&&!Ae.isString(e.passwordHash))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PASSWORD_HASH);if(typeof e.salt<"u"&&!Ae.isString(e.salt))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PASSWORD_SALT);if(typeof e.providerUserInfo<"u"&&!Ae.isArray(e.providerUserInfo))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_DATA);Ae.isArray(e.providerUserInfo)&&e.providerUserInfo.forEach(i=>{Ple(i)}),typeof e.linkProviderUserInfo<"u"&&Ple(e.linkProviderUserInfo);let s=null;if(e.mfaInfo?s=e.mfaInfo:e.mfa&&e.mfa.enrollments&&(s=e.mfa.enrollments),s){if(!Ae.isArray(s))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ENROLLED_FACTORS);s.forEach(i=>{oet(i)})}}ot.FIREBASE_AUTH_CREATE_SESSION_COOKIE=new br.ApiSettings(":createSessionCookie","POST").setRequestValidator(e=>{if(!Ae.isNonEmptyString(e.idToken))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ID_TOKEN);if(!Ae.isNumber(e.validDuration)||e.validDuration<ret||e.validDuration>net)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)}).setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.sessionCookie))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR)});ot.FIREBASE_AUTH_UPLOAD_ACCOUNT=new br.ApiSettings("/accounts:batchCreate","POST");ot.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=new br.ApiSettings("/accounts:batchGet","GET").setRequestValidator(e=>{if(typeof e.nextPageToken<"u"&&!Ae.isNonEmptyString(e.nextPageToken))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!Ae.isNumber(e.maxResults)||e.maxResults<=0||e.maxResults>$3)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${$3}.`)});ot.FIREBASE_AUTH_GET_ACCOUNT_INFO=new br.ApiSettings("/accounts:lookup","POST").setRequestValidator(e=>{if(!e.localId&&!e.email&&!e.phoneNumber&&!e.federatedUserId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}).setResponseValidator(e=>{if(!e.users||!e.users.length)throw new R.FirebaseAuthError(R.AuthClientErrorCode.USER_NOT_FOUND)});ot.FIREBASE_AUTH_GET_ACCOUNTS_INFO=new br.ApiSettings("/accounts:lookup","POST").setRequestValidator(e=>{if(!e.localId&&!e.email&&!e.phoneNumber&&!e.federatedUserId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")});ot.FIREBASE_AUTH_DELETE_ACCOUNT=new br.ApiSettings("/accounts:delete","POST").setRequestValidator(e=>{if(!e.localId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")});ot.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=new br.ApiSettings("/accounts:batchDelete","POST").setRequestValidator(e=>{if(!e.localIds)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifiers");if(typeof e.force>"u"||e.force!==!0)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing force=true field")}).setResponseValidator(e=>{(e.errors||[]).forEach(r=>{if(typeof r.index>"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.index field");if(!r.localId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.localId field")})});ot.FIREBASE_AUTH_SET_ACCOUNT_INFO=new br.ApiSettings("/accounts:update","POST").setRequestValidator(e=>{if(typeof e.localId>"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier");if(typeof e.tenantId<"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "UpdateRequest" property.');Q3(e,Yp.Update)}).setResponseValidator(e=>{if(!e.localId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.USER_NOT_FOUND)});ot.FIREBASE_AUTH_SIGN_UP_NEW_USER=new br.ApiSettings("/accounts","POST").setRequestValidator(e=>{if(typeof e.customAttributes<"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"customAttributes" cannot be set when creating a new user.');if(typeof e.validSince<"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"validSince" cannot be set when creating a new user.');if(typeof e.tenantId<"u")throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "CreateRequest" property.');Q3(e,Yp.Create)}).setResponseValidator(e=>{if(!e.localId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new user")});var aet=new br.ApiSettings("/accounts:sendOobCode","POST").setRequestValidator(e=>{if(!Ae.isEmail(e.email))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL);if(typeof e.newEmail<"u"&&!Ae.isEmail(e.newEmail))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_NEW_EMAIL);if(ot.EMAIL_ACTION_REQUEST_TYPES.indexOf(e.requestType)===-1)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,`"${e.requestType}" is not a supported email action request type.`)}).setResponseValidator(e=>{if(!e.oobLink)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create the email action link")}),cet=new br.ApiSettings("/oauthIdpConfigs/{providerId}","GET").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get OIDC configuration")}),det=new br.ApiSettings("/oauthIdpConfigs/{providerId}","DELETE"),uet=new br.ApiSettings("/oauthIdpConfigs?oauthIdpConfigId={providerId}","POST").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC configuration")}),fet=new br.ApiSettings("/oauthIdpConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC configuration")}),met=new br.ApiSettings("/oauthIdpConfigs","GET").setRequestValidator(e=>{if(typeof e.pageToken<"u"&&!Ae.isNonEmptyString(e.pageToken))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!Ae.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>Xp)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${Xp}.`)}),het=new br.ApiSettings("/inboundSamlConfigs/{providerId}","GET").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get SAML configuration")}),pet=new br.ApiSettings("/inboundSamlConfigs/{providerId}","DELETE"),get=new br.ApiSettings("/inboundSamlConfigs?inboundSamlConfigId={providerId}","POST").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML configuration")}),yet=new br.ApiSettings("/inboundSamlConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML configuration")}),Eet=new br.ApiSettings("/inboundSamlConfigs","GET").setRequestValidator(e=>{if(typeof e.pageToken<"u"&&!Ae.isNonEmptyString(e.pageToken))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!Ae.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>Xp)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive integer that does not exceed ${Xp}.`)}),U0=class e{static getErrorCode(t){return Ae.isNonNullObject(t)&&t.error&&t.error.message||null}static addUidToRequest(t,r){if(!Ae.isUid(t.uid))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID);return r.localId?r.localId.push(t.uid):r.localId=[t.uid],r}static addEmailToRequest(t,r){if(!Ae.isEmail(t.email))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL);return r.email?r.email.push(t.email):r.email=[t.email],r}static addPhoneToRequest(t,r){if(!Ae.isPhoneNumber(t.phoneNumber))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHONE_NUMBER);return r.phoneNumber?r.phoneNumber.push(t.phoneNumber):r.phoneNumber=[t.phoneNumber],r}static addProviderToRequest(t,r){if(!Ae.isNonEmptyString(t.providerId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID);if(!Ae.isNonEmptyString(t.providerUid))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_UID);let n={providerId:t.providerId,rawId:t.providerUid};return r.federatedUserId?r.federatedUserId.push(n):r.federatedUserId=[n],r}constructor(t){if(this.app=t,typeof t!="object"||t===null||!("options"in t))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.auth() must be a valid Firebase app instance.");this.httpClient=new J3(t)}createSessionCookie(t,r){let n={idToken:t,validDuration:Math.floor(r/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_CREATE_SESSION_COOKIE,n).then(s=>s.sessionCookie)}getAccountInfoByUid(t){if(!Ae.isUid(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID));let r={localId:[t]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByEmail(t){if(!Ae.isEmail(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_EMAIL));let r={email:[t]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByPhoneNumber(t){if(!Ae.isPhoneNumber(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PHONE_NUMBER));let r={phoneNumber:[t]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByFederatedUid(t,r){if(!Ae.isNonEmptyString(t)||!Ae.isNonEmptyString(r))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID);let n={federatedUserId:[{providerId:t,rawId:r}]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_GET_ACCOUNT_INFO,n)}getAccountInfoByIdentifiers(t){if(t.length===0)return Promise.resolve({users:[]});if(t.length>Nle)throw new R.FirebaseAuthError(R.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`identifiers` parameter must have <= "+Nle+" entries.");let r={};for(let n of t)if((0,JN.isUidIdentifier)(n))r=e.addUidToRequest(n,r);else if((0,JN.isEmailIdentifier)(n))r=e.addEmailToRequest(n,r);else if((0,JN.isPhoneIdentifier)(n))r=e.addPhoneToRequest(n,r);else if((0,JN.isProviderIdentifier)(n))r=e.addProviderToRequest(n,r);else throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"Unrecognized identifier: "+n);return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_GET_ACCOUNTS_INFO,r)}downloadAccount(t=$3,r){let n={maxResults:t,nextPageToken:r};return typeof n.nextPageToken>"u"&&delete n.nextPageToken,this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_DOWNLOAD_ACCOUNT,n).then(s=>(s.users||(s.users=[]),s))}uploadAccount(t,r){let n=new G3.UserImportBuilder(t,r,i=>{Q3(i,Yp.Upload)}),s=n.buildRequest();if(Ae.isArray(t)&&t.length>wle)throw new R.FirebaseAuthError(R.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,`A maximum of ${wle} users can be imported at once.`);return!s.users||s.users.length===0?Promise.resolve(n.buildResponse([])):this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_UPLOAD_ACCOUNT,s).then(i=>{let o=i.error||[];return n.buildResponse(o)})}deleteAccount(t){if(!Ae.isUid(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID));let r={localId:t};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_DELETE_ACCOUNT,r)}deleteAccounts(t,r){if(t.length===0)return Promise.resolve({});if(t.length>Rle)throw new R.FirebaseAuthError(R.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`uids` parameter must have <= "+Rle+" entries.");let n={localIds:[],force:r};return t.forEach(s=>{if(!Ae.isUid(s))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID);n.localIds.push(s)}),this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS,n)}setCustomUserClaims(t,r){if(Ae.isUid(t)){if(!Ae.isObject(r))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"CustomUserClaims argument must be an object or null."))}else return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID));r===null&&(r={});let n={localId:t,customAttributes:JSON.stringify(r)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_SET_ACCOUNT_INFO,n).then(s=>s.localId)}updateExistingAccount(t,r){if(Ae.isUid(t))if(Ae.isNonNullObject(r)){if(Ae.isNonNullObject(r.providerToLink)){if(!Ae.isNonEmptyString(r.providerToLink.providerId))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.providerId of properties argument must be a non-empty string.");if(!Ae.isNonEmptyString(r.providerToLink.uid))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.uid of properties argument must be a non-empty string.")}else if(typeof r.providersToUnlink<"u"){if(!Ae.isArray(r.providersToUnlink))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.");r.providersToUnlink.forEach(i=>{if(!Ae.isNonEmptyString(i))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.")})}}else return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));else return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID));let n=(0,WN.deepCopy)(r);n.localId=t;let s={displayName:"DISPLAY_NAME",photoURL:"PHOTO_URL"};n.deleteAttribute=[];for(let i in s)n[i]===null&&(n.deleteAttribute.push(s[i]),delete n[i]);if(n.deleteAttribute.length===0&&delete n.deleteAttribute,n.phoneNumber===null&&(n.deleteProvider?n.deleteProvider.push("phone"):n.deleteProvider=["phone"],delete n.phoneNumber),typeof n.providerToLink<"u"&&(n.linkProviderUserInfo=(0,WN.deepCopy)(n.providerToLink),delete n.providerToLink,n.linkProviderUserInfo.rawId=n.linkProviderUserInfo.uid,delete n.linkProviderUserInfo.uid),typeof n.providersToUnlink<"u"&&(Ae.isArray(n.deleteProvider)||(n.deleteProvider=[]),n.deleteProvider=n.deleteProvider.concat(n.providersToUnlink),delete n.providersToUnlink),typeof n.photoURL<"u"&&(n.photoUrl=n.photoURL,delete n.photoURL),typeof n.disabled<"u"&&(n.disableUser=n.disabled,delete n.disabled),Ae.isNonNullObject(n.multiFactor)){if(n.multiFactor.enrolledFactors===null)n.mfa={};else if(Ae.isArray(n.multiFactor.enrolledFactors)){n.mfa={enrollments:[]};try{n.multiFactor.enrolledFactors.forEach(i=>{n.mfa.enrollments.push((0,G3.convertMultiFactorInfoToServerFormat)(i))})}catch(i){return Promise.reject(i)}n.mfa.enrollments.length===0&&delete n.mfa.enrollments}delete n.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_SET_ACCOUNT_INFO,n).then(i=>i.localId)}revokeRefreshTokens(t){if(!Ae.isUid(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_UID));let r={localId:t,validSince:Math.floor(new Date().getTime()/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_SET_ACCOUNT_INFO,r).then(n=>n.localId)}createNewAccount(t){if(!Ae.isNonNullObject(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));let r=(0,WN.deepCopy)(t);if(typeof r.photoURL<"u"&&(r.photoUrl=r.photoURL,delete r.photoURL),typeof r.uid<"u"&&(r.localId=r.uid,delete r.uid),Ae.isNonNullObject(r.multiFactor)){if(Ae.isNonEmptyArray(r.multiFactor.enrolledFactors)){let n=[];try{r.multiFactor.enrolledFactors.forEach(s=>{if("enrollmentTime"in s)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"enrollmentTime" is not supported when adding second factors via "createUser()"');if("uid"in s)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,'"uid" is not supported when adding second factors via "createUser()"');n.push((0,G3.convertMultiFactorInfoToServerFormat)(s))})}catch(s){return Promise.reject(s)}r.mfaInfo=n}delete r.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),ot.FIREBASE_AUTH_SIGN_UP_NEW_USER,r).then(n=>n.localId)}getEmailActionLink(t,r,n,s){let i={requestType:t,email:r,returnOobLink:!0,...typeof s<"u"&&{newEmail:s}};if(typeof n>"u"&&t==="EMAIL_SIGNIN")return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"`actionCodeSettings` is required when `requestType` === 'EMAIL_SIGNIN'"));if(typeof n<"u"||t==="EMAIL_SIGNIN")try{let o=new QZe.ActionCodeSettingsBuilder(n);i=(0,WN.deepExtend)(i,o.buildRequest())}catch(o){return Promise.reject(o)}return t==="VERIFY_AND_CHANGE_EMAIL"&&typeof s>"u"?Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,"`newEmail` is required when `requestType` === 'VERIFY_AND_CHANGE_EMAIL'")):this.invokeRequestHandler(this.getAuthUrlBuilder(),aet,i).then(o=>o.oobLink)}getOAuthIdpConfig(t){return Gi.OIDCConfig.isProviderId(t)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),cet,{},{providerId:t}):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID))}listOAuthIdpConfigs(t=Xp,r){let n={pageSize:t};return typeof r<"u"&&(n.pageToken=r),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),met,n).then(s=>(s.oauthIdpConfigs||(s.oauthIdpConfigs=[],delete s.nextPageToken),s))}deleteOAuthIdpConfig(t){return Gi.OIDCConfig.isProviderId(t)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),det,{},{providerId:t}).then(()=>{}):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID))}createOAuthIdpConfig(t){let r;try{r=Gi.OIDCConfig.buildServerRequest(t)||{}}catch(s){return Promise.reject(s)}let n=t.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),uet,r,{providerId:n}).then(s=>{if(!Gi.OIDCConfig.getProviderIdFromResourceName(s.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC provider configuration");return s})}updateOAuthIdpConfig(t,r){if(!Gi.OIDCConfig.isProviderId(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID));let n;try{n=Gi.OIDCConfig.buildServerRequest(r,!0)||{}}catch(i){return Promise.reject(i)}let s=Jo.generateUpdateMask(n);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),fet,n,{providerId:t,updateMask:s.join(",")}).then(i=>{if(!Gi.OIDCConfig.getProviderIdFromResourceName(i.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC provider configuration");return i})}getInboundSamlConfig(t){return Gi.SAMLConfig.isProviderId(t)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),het,{},{providerId:t}):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID))}listInboundSamlConfigs(t=Xp,r){let n={pageSize:t};return typeof r<"u"&&(n.pageToken=r),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),Eet,n).then(s=>(s.inboundSamlConfigs||(s.inboundSamlConfigs=[],delete s.nextPageToken),s))}deleteInboundSamlConfig(t){return Gi.SAMLConfig.isProviderId(t)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),pet,{},{providerId:t}).then(()=>{}):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID))}createInboundSamlConfig(t){let r;try{r=Gi.SAMLConfig.buildServerRequest(t)||{}}catch(s){return Promise.reject(s)}let n=t.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),get,r,{providerId:n}).then(s=>{if(!Gi.SAMLConfig.getProviderIdFromResourceName(s.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML provider configuration");return s})}updateInboundSamlConfig(t,r){if(!Gi.SAMLConfig.isProviderId(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PROVIDER_ID));let n;try{n=Gi.SAMLConfig.buildServerRequest(r,!0)||{}}catch(i){return Promise.reject(i)}let s=Jo.generateUpdateMask(n);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),yet,n,{providerId:t,updateMask:s.join(",")}).then(i=>{if(!Gi.SAMLConfig.getProviderIdFromResourceName(i.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML provider configuration");return i})}invokeRequestHandler(t,r,n,s){return t.getUrl(r.getEndpoint(),s).then(i=>{n&&r.getRequestValidator()(n);let o={method:r.getHttpMethod(),url:i,headers:eet,data:n,timeout:tet};return this.httpClient.send(o)}).then(i=>(r.getResponseValidator()(i.data),i.data)).catch(i=>{if(i instanceof br.RequestResponseError){let o=i.response.data,a=e.getErrorCode(o);throw a?R.FirebaseAuthError.fromServerError(a,void 0,o):new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+o+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}throw i})}getAuthUrlBuilder(){return this.authUrlBuilder||(this.authUrlBuilder=this.newAuthUrlBuilder()),this.authUrlBuilder}getProjectConfigUrlBuilder(){return this.projectConfigUrlBuilder||(this.projectConfigUrlBuilder=this.newProjectConfigUrlBuilder()),this.projectConfigUrlBuilder}};ot.AbstractAuthRequestHandler=U0;var Cet=new br.ApiSettings("/config","GET").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get project config")}),bet=new br.ApiSettings("/config?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update project config")}),_et=new br.ApiSettings("/tenants/{tenantId}","GET").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get tenant")}),vet=new br.ApiSettings("/tenants/{tenantId}","DELETE"),Aet=new br.ApiSettings("/tenants/{tenantId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name)||!XN.Tenant.getTenantIdFromResourceName(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update tenant")}),xet=new br.ApiSettings("/tenants","GET").setRequestValidator(e=>{if(typeof e.pageToken<"u"&&!Ae.isNonEmptyString(e.pageToken))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!Ae.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>W3)throw new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_ARGUMENT,`Required "maxResults" must be a positive non-zero number that does not exceed the allowed ${W3}.`)}),Iet=new br.ApiSettings("/tenants","POST").setResponseValidator(e=>{if(!Ae.isNonEmptyString(e.name)||!XN.Tenant.getTenantIdFromResourceName(e.name))throw new R.FirebaseAuthError(R.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new tenant")}),X3=class extends U0{constructor(t){super(t),this.authResourceUrlBuilder=new Jp(t,"v2")}newAuthUrlBuilder(){return new Jp(this.app,"v1")}newProjectConfigUrlBuilder(){return new Jp(this.app,"v2")}getProjectConfig(){return this.invokeRequestHandler(this.authResourceUrlBuilder,Cet,{},{}).then(t=>t)}updateProjectConfig(t){try{let r=ZZe.ProjectConfig.buildServerRequest(t),n=Jo.generateUpdateMask(r);return this.invokeRequestHandler(this.authResourceUrlBuilder,bet,r,{updateMask:n.join(",")}).then(s=>s)}catch(r){return Promise.reject(r)}}getTenant(t){return Ae.isNonEmptyString(t)?this.invokeRequestHandler(this.authResourceUrlBuilder,_et,{},{tenantId:t}).then(r=>r):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_TENANT_ID))}listTenants(t=W3,r){let n={pageSize:t,pageToken:r};return typeof n.pageToken>"u"&&delete n.pageToken,this.invokeRequestHandler(this.authResourceUrlBuilder,xet,n).then(s=>(s.tenants||(s.tenants=[],delete s.nextPageToken),s))}deleteTenant(t){return Ae.isNonEmptyString(t)?this.invokeRequestHandler(this.authResourceUrlBuilder,vet,void 0,{tenantId:t}).then(()=>{}):Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_TENANT_ID))}createTenant(t){try{let r=XN.Tenant.buildServerRequest(t,!0);return this.invokeRequestHandler(this.authResourceUrlBuilder,Iet,r).then(n=>n)}catch(r){return Promise.reject(r)}}updateTenant(t,r){if(!Ae.isNonEmptyString(t))return Promise.reject(new R.FirebaseAuthError(R.AuthClientErrorCode.INVALID_TENANT_ID));try{let n=XN.Tenant.buildServerRequest(r,!1),s=Jo.generateUpdateMask(n,["testPhoneNumbers"]);return this.invokeRequestHandler(this.authResourceUrlBuilder,Aet,n,{tenantId:t,updateMask:s.join(",")}).then(i=>i)}catch(n){return Promise.reject(n)}}};ot.AuthRequestHandler=X3;var Y3=class extends U0{constructor(t,r){super(t),this.tenantId=r}newAuthUrlBuilder(){return new YN(this.app,"v1",this.tenantId)}newProjectConfigUrlBuilder(){return new YN(this.app,"v2",this.tenantId)}uploadAccount(t,r){return t.forEach((n,s)=>{if(Ae.isNonEmptyString(n.tenantId)&&n.tenantId!==this.tenantId)throw new R.FirebaseAuthError(R.AuthClientErrorCode.MISMATCHING_TENANT_ID,`UserRecord of index "${s}" has mismatching tenant ID "${n.tenantId}"`)}),super.uploadAccount(t,r)}};ot.TenantAwareAuthRequestHandler=Y3;function Z3(){return process.env.FIREBASE_AUTH_EMULATOR_HOST}function QN(){return!!Z3()}ot.useEmulator=QN});var tq=C(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.CryptoSignerErrorCode=Xo.CryptoSignerError=Xo.cryptoSignerFromApp=Xo.IAMSigner=Xo.ServiceAccountSigner=void 0;var Tet=Kp(),eq=s0(),kle=es(),Ble="RS256",ZN=class{constructor(t){if(this.credential=t,this.algorithm=Ble,!t)throw new ml({code:mo.INVALID_CREDENTIAL,message:"INTERNAL ASSERT: Must provide a service account credential to initialize ServiceAccountSigner."})}sign(t){let n=require("crypto").createSign("RSA-SHA256");return n.update(t),Promise.resolve(n.sign(this.credential.privateKey))}getAccountId(){return Promise.resolve(this.credential.clientEmail)}};Xo.ServiceAccountSigner=ZN;var eR=class{constructor(t,r){if(this.algorithm=Ble,!t)throw new ml({code:mo.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a HTTP client to initialize IAMSigner."});if(typeof r<"u"&&!kle.isNonEmptyString(r))throw new ml({code:mo.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Service account ID must be undefined or a non-empty string."});this.httpClient=t,this.serviceAccountId=r}sign(t){return this.getAccountId().then(r=>{let n={method:"POST",url:`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${r}:signBlob`,data:{payload:t.toString("base64")}};return this.httpClient.send(n)}).then(r=>Buffer.from(r.data.signedBlob,"base64")).catch(r=>{throw r instanceof eq.RequestResponseError?new ml({code:mo.SERVER_ERROR,message:r.message,cause:r}):r})}getAccountId(){if(kle.isNonEmptyString(this.serviceAccountId))return Promise.resolve(this.serviceAccountId);let t={method:"GET",url:"http://metadata/computeMetadata/v1/instance/service-accounts/default/email",headers:{"Metadata-Flavor":"Google"}};return new eq.HttpClient().send(t).then(n=>{if(!n.text)throw new ml({code:mo.INTERNAL_ERROR,message:"HTTP Response missing payload"});return this.serviceAccountId=n.text,n.text}).catch(n=>{throw new ml({code:mo.INVALID_CREDENTIAL,message:`Failed to determine service account. Make sure to initialize the SDK with a service account credential. Alternatively specify a service account with iam.serviceAccounts.signBlob permission. Original error: ${n}`})})}};Xo.IAMSigner=eR;function wet(e){let t=e.options.credential;return t instanceof Tet.ServiceAccountCredential?new ZN(t):new eR(new eq.AuthorizedHttpClient(e),e.options.serviceAccountId)}Xo.cryptoSignerFromApp=wet;var ml=class e extends Error{constructor(t){super(t.message),this.errorInfo=t,this.__proto__=e.prototype}get code(){return this.errorInfo.code}get message(){return this.errorInfo.message}get cause(){return this.errorInfo.cause}};Xo.CryptoSignerError=ml;var mo=class{};Xo.CryptoSignerErrorCode=mo;mo.INVALID_ARGUMENT="invalid-argument";mo.INTERNAL_ERROR="internal-error";mo.INVALID_CREDENTIAL="invalid-credential";mo.SERVER_ERROR="server-error"});var Mle=C(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.handleCryptoSignerError=wa.FirebaseTokenGenerator=wa.EmulatedSigner=wa.BLACKLISTED_CLAIMS=void 0;var Ii=bs(),tR=tq(),Qp=es(),Net=Md(),Ret="none",Pet=3600;wa.BLACKLISTED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce"];var Oet="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",rq=class{constructor(){this.algorithm=Ret}sign(t){return Promise.resolve(Buffer.from(""))}getAccountId(){return Promise.resolve("firebase-auth-emulator@example.com")}};wa.EmulatedSigner=rq;var nq=class{constructor(t,r){if(this.tenantId=r,!Qp.isNonNullObject(t))throw new Ii.FirebaseAuthError(Ii.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a CryptoSigner to use FirebaseTokenGenerator.");if(typeof this.tenantId<"u"&&!Qp.isNonEmptyString(this.tenantId))throw new Ii.FirebaseAuthError(Ii.AuthClientErrorCode.INVALID_ARGUMENT,"`tenantId` argument must be a non-empty string.");this.signer=t}createCustomToken(t,r){let n;if(Qp.isNonEmptyString(t)?t.length>128?n="`uid` argument must a uid with less than or equal to 128 characters.":this.isDeveloperClaimsValid_(r)||(n="`developerClaims` argument must be a valid, non-null object containing the developer claims."):n="`uid` argument must be a non-empty string uid.",n)throw new Ii.FirebaseAuthError(Ii.AuthClientErrorCode.INVALID_ARGUMENT,n);let s={};if(typeof r<"u"){for(let i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(wa.BLACKLISTED_CLAIMS.indexOf(i)!==-1)throw new Ii.FirebaseAuthError(Ii.AuthClientErrorCode.INVALID_ARGUMENT,`Developer claim "${i}" is reserved and cannot be specified.`);s[i]=r[i]}}return this.signer.getAccountId().then(i=>{let o={alg:this.signer.algorithm,typ:"JWT"},a=Math.floor(Date.now()/1e3),c={aud:Oet,iat:a,exp:a+Pet,iss:i,sub:i,uid:t};this.tenantId&&(c.tenant_id=this.tenantId),Object.keys(s).length>0&&(c.claims=s);let l=`${this.encodeSegment(o)}.${this.encodeSegment(c)}`,u=this.signer.sign(Buffer.from(l));return Promise.all([l,u])}).then(([i,o])=>`${i}.${this.encodeSegment(o)}`).catch(i=>{throw Lle(i)})}encodeSegment(t){let r=t instanceof Buffer?t:Buffer.from(JSON.stringify(t));return(0,Net.toWebSafeBase64)(r).replace(/=+$/,"")}isDeveloperClaimsValid_(t){return typeof t>"u"?!0:Qp.isNonNullObject(t)}};wa.FirebaseTokenGenerator=nq;function Lle(e){if(!(e instanceof tR.CryptoSignerError))return e;if(e.code===tR.CryptoSignerErrorCode.SERVER_ERROR&&Qp.isNonNullObject(e.cause)){let r=e.cause.response.data;if(Qp.isNonNullObject(r)&&r.error){let n=r.error.status,i=`${r.error.message}; Please refer to https://firebase.google.com/docs/auth/admin/create-custom-tokens for more details on how to use and troubleshoot this feature.`;return Ii.FirebaseAuthError.fromServerError(n,i,r)}return new Ii.FirebaseAuthError(Ii.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+r+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}return new Ii.FirebaseAuthError(Det(e.code),e.message)}wa.handleCryptoSignerError=Lle;function Det(e){switch(e){case tR.CryptoSignerErrorCode.INVALID_CREDENTIAL:return Ii.AuthClientErrorCode.INVALID_CREDENTIAL;case tR.CryptoSignerErrorCode.INVALID_ARGUMENT:return Ii.AuthClientErrorCode.INVALID_ARGUMENT;default:return Ii.AuthClientErrorCode.INTERNAL_ERROR}}});var sq=C((pvt,Ule)=>{function ket(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=HU(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let m=0;for(let h=0;h<u.length;h++)m=(m<<5)-m+u.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}r.selectColor=t;function r(u){let m,h=null,p,g;function y(..._){if(!y.enabled)return;let x=y,w=Number(new Date),D=w-(m||w);x.diff=D,x.prev=m,x.curr=w,m=w,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let G=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(J,xe)=>{if(J==="%%")return"%";G++;let be=r.formatters[xe];if(typeof be=="function"){let De=_[G];J=be.call(x,De),_.splice(G,1),G--}return J}),r.formatArgs.call(x,_),(x.log||r.log).apply(x,_)}return y.namespace=u,y.useColors=r.useColors(),y.color=r.selectColor(u),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,g=r.enabled(u)),g),set:_=>{h=_}}),typeof r.init=="function"&&r.init(y),y}function n(u,m){let h=r(this.namespace+(typeof m>"u"?":":m)+u);return h.log=this.log,h}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let m=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of m)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(u,m){let h=0,p=0,g=-1,y=0;for(;h<u.length;)if(p<m.length&&(m[p]===u[h]||m[p]==="*"))m[p]==="*"?(g=p,y=h,p++):(h++,p++);else if(g!==-1)p=g+1,y++,h=y;else return!1;for(;p<m.length&&m[p]==="*";)p++;return p===m.length}function o(){let u=[...r.names,...r.skips.map(m=>"-"+m)].join(",");return r.enable(""),u}function a(u){for(let m of r.skips)if(i(u,m))return!1;for(let m of r.names)if(i(u,m))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Ule.exports=ket});var Fle=C(($i,rR)=>{$i.formatArgs=Let;$i.save=Met;$i.load=Uet;$i.useColors=Bet;$i.storage=Fet();$i.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bet(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Let(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+rR.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}$i.log=console.debug||console.log||(()=>{});function Met(e){try{e?$i.storage.setItem("debug",e):$i.storage.removeItem("debug")}catch{}}function Uet(){let e;try{e=$i.storage.getItem("debug")||$i.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Fet(){try{return localStorage}catch{}}rR.exports=sq()($i);var{formatters:qet}=rR.exports;qet.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var jle=C((Is,sR)=>{var jet=require("tty"),nR=require("util");Is.init=Wet;Is.log=Ket;Is.formatArgs=Het;Is.save=Get;Is.load=$et;Is.useColors=Vet;Is.destroy=nR.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Is.colors=[6,2,3,4,5,1];try{let e=require("supports-color");e&&(e.stderr||e).level>=2&&(Is.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Is.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Vet(){return"colors"in Is.inspectOpts?!!Is.inspectOpts.colors:jet.isatty(process.stderr.fd)}function Het(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+sR.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=zet()+t+" "+e[0]}function zet(){return Is.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ket(...e){return process.stderr.write(nR.formatWithOptions(Is.inspectOpts,...e)+`
`)}function Get(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function $et(){return process.env.DEBUG}function Wet(e){e.inspectOpts={};let t=Object.keys(Is.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Is.inspectOpts[t[r]]}sR.exports=sq()(Is);var{formatters:qle}=sR.exports;qle.o=function(e){return this.inspectOpts.colors=this.useColors,nR.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};qle.O=function(e){return this.inspectOpts.colors=this.useColors,nR.inspect(e,this.inspectOpts)}});var iR=C((gvt,iq)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?iq.exports=Fle():iq.exports=jle()});var aq=C(oq=>{"use strict";Object.defineProperty(oq,"__esModule",{value:!0});var Jet=require("crypto"),Xet=(e,t)=>(0,Jet.createHash)(e).update(t).digest();oq.default=Xet});var Tn=C(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.concatKdf=ts.lengthAndInput=ts.uint32be=ts.uint64be=ts.p2s=ts.concat=ts.decoder=ts.encoder=void 0;var Yet=aq();ts.encoder=new TextEncoder;ts.decoder=new TextDecoder;var oR=2**32;function lq(...e){let t=e.reduce((s,{length:i})=>s+i,0),r=new Uint8Array(t),n=0;return e.forEach(s=>{r.set(s,n),n+=s.length}),r}ts.concat=lq;function Qet(e,t){return lq(ts.encoder.encode(e),new Uint8Array([0]),t)}ts.p2s=Qet;function cq(e,t,r){if(t<0||t>=oR)throw new RangeError(`value must be >= 0 and <= ${oR-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function Zet(e){let t=Math.floor(e/oR),r=e%oR,n=new Uint8Array(8);return cq(n,t,0),cq(n,r,4),n}ts.uint64be=Zet;function dq(e){let t=new Uint8Array(4);return cq(t,e),t}ts.uint32be=dq;function ett(e){return lq(dq(e.length),e)}ts.lengthAndInput=ett;async function ttt(e,t,r){let n=Math.ceil((t>>3)/32),s=new Uint8Array(n*32);for(let i=0;i<n;i++){let o=new Uint8Array(4+e.length+r.length);o.set(dq(i+1)),o.set(e,4),o.set(r,4+e.length),s.set(await(0,Yet.default)("sha256",o),i*32)}return s.slice(0,t>>3)}ts.concatKdf=ttt});var ci=C(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.decode=Na.encode=Na.encodeBase64=Na.decodeBase64=void 0;var Zp=require("buffer"),rtt=Tn(),Vle;function ntt(e){let t=e;return t instanceof Uint8Array&&(t=rtt.decoder.decode(t)),t}Zp.Buffer.isEncoding("base64url")?Na.encode=Vle=e=>Zp.Buffer.from(e).toString("base64url"):Na.encode=Vle=e=>Zp.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var stt=e=>Zp.Buffer.from(e,"base64");Na.decodeBase64=stt;var itt=e=>Zp.Buffer.from(e).toString("base64");Na.encodeBase64=itt;var ott=e=>Zp.Buffer.from(ntt(e),"base64");Na.decode=ott});var ut=C(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.JWSSignatureVerificationFailed=Qt.JWKSTimeout=Qt.JWKSMultipleMatchingKeys=Qt.JWKSNoMatchingKey=Qt.JWKSInvalid=Qt.JWKInvalid=Qt.JWTInvalid=Qt.JWSInvalid=Qt.JWEInvalid=Qt.JWEDecompressionFailed=Qt.JWEDecryptionFailed=Qt.JOSENotSupported=Qt.JOSEAlgNotAllowed=Qt.JWTExpired=Qt.JWTClaimValidationFailed=Qt.JOSEError=void 0;var Ts=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}};Qt.JOSEError=Ts;var uq=class extends Ts{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",n="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n}};Qt.JWTClaimValidationFailed=uq;var fq=class extends Ts{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",n="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n}};Qt.JWTExpired=fq;var mq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}};Qt.JOSEAlgNotAllowed=mq;var hq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}};Qt.JOSENotSupported=hq;var pq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}};Qt.JWEDecryptionFailed=pq;var gq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}};Qt.JWEDecompressionFailed=gq;var yq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}};Qt.JWEInvalid=yq;var Eq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}};Qt.JWSInvalid=Eq;var Sq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};Qt.JWTInvalid=Sq;var Cq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}};Qt.JWKInvalid=Cq;var bq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}};Qt.JWKSInvalid=bq;var _q=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}};Qt.JWKSNoMatchingKey=_q;var vq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Qt.JWKSMultipleMatchingKeys=vq;var Aq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}};Qt.JWKSTimeout=Aq;var xq=class extends Ts{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};Qt.JWSSignatureVerificationFailed=xq});var q0=C(aR=>{"use strict";Object.defineProperty(aR,"__esModule",{value:!0});aR.default=void 0;var att=require("crypto");Object.defineProperty(aR,"default",{enumerable:!0,get:function(){return att.randomFillSync}})});var cR=C(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});j0.bitLength=void 0;var ctt=ut(),ltt=q0();function Hle(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new ctt.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}j0.bitLength=Hle;j0.default=e=>(0,ltt.default)(new Uint8Array(Hle(e)>>3))});var Tq=C(Iq=>{"use strict";Object.defineProperty(Iq,"__esModule",{value:!0});var dtt=ut(),utt=cR(),ftt=(e,t)=>{if(t.length<<3!==(0,utt.bitLength)(e))throw new dtt.JWEInvalid("Invalid Initialization Vector length")};Iq.default=ftt});var Yo=C(wq=>{"use strict";Object.defineProperty(wq,"__esModule",{value:!0});var mtt=require("crypto"),zle=require("util");wq.default=zle.types.isKeyObject?e=>zle.types.isKeyObject(e):e=>e!=null&&e instanceof mtt.KeyObject});var Pq=C(Rq=>{"use strict";Object.defineProperty(Rq,"__esModule",{value:!0});var Nq=ut(),htt=Yo(),ptt=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new Nq.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let n=t.byteLength<<3;if(n!==r)throw new Nq.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${n} bits`);return}if((0,htt.default)(t)&&t.type==="secret"){let n=t.symmetricKeySize<<3;if(n!==r)throw new Nq.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${n} bits`);return}throw new TypeError("Invalid Content Encryption Key type")};Rq.default=ptt});var Kle=C(Oq=>{"use strict";Object.defineProperty(Oq,"__esModule",{value:!0});var gtt=require("crypto"),ytt=gtt.timingSafeEqual;Oq.default=ytt});var kq=C(Dq=>{"use strict";Object.defineProperty(Dq,"__esModule",{value:!0});var Ett=require("crypto"),Gle=Tn();function Stt(e,t,r,n,s,i){let o=(0,Gle.concat)(e,t,r,(0,Gle.uint64be)(e.length<<3)),a=(0,Ett.createHmac)(`sha${n}`,s);return a.update(o),a.digest().slice(0,i>>3)}Dq.default=Stt});var Qo=C(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.isCryptoKey=void 0;var Ctt=require("crypto"),$le=require("util"),btt=Ctt.webcrypto;V0.default=btt;V0.isCryptoKey=$le.types.isCryptoKey?e=>$le.types.isCryptoKey(e):e=>!1});var qd=C(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.checkEncCryptoKey=eg.checkSigCryptoKey=void 0;function js(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Fd(e,t){return e.name===t}function lR(e){return parseInt(e.name.slice(4),10)}function _tt(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Wle(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let n=t.pop();r+=`one of ${t.join(", ")}, or ${n}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function vtt(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!Fd(e.algorithm,"HMAC"))throw js("HMAC");let n=parseInt(t.slice(2),10);if(lR(e.algorithm.hash)!==n)throw js(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Fd(e.algorithm,"RSASSA-PKCS1-v1_5"))throw js("RSASSA-PKCS1-v1_5");let n=parseInt(t.slice(2),10);if(lR(e.algorithm.hash)!==n)throw js(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Fd(e.algorithm,"RSA-PSS"))throw js("RSA-PSS");let n=parseInt(t.slice(2),10);if(lR(e.algorithm.hash)!==n)throw js(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw js("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Fd(e.algorithm,"ECDSA"))throw js("ECDSA");let n=_tt(t);if(e.algorithm.namedCurve!==n)throw js(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Wle(e,r)}eg.checkSigCryptoKey=vtt;function Att(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Fd(e.algorithm,"AES-GCM"))throw js("AES-GCM");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw js(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Fd(e.algorithm,"AES-KW"))throw js("AES-KW");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw js(n,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw js("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Fd(e.algorithm,"PBKDF2"))throw js("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Fd(e.algorithm,"RSA-OAEP"))throw js("RSA-OAEP");let n=parseInt(t.slice(9),10)||1;if(lR(e.algorithm.hash)!==n)throw js(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}Wle(e,r)}eg.checkEncCryptoKey=Att});var Zo=C(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.withAlg=void 0;function Jle(e,t,...r){if(r.length>2){let n=r.pop();e+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}H0.default=(e,...t)=>Jle("Key must be ",e,...t);function xtt(e,t,...r){return Jle(`Key for the ${e} algorithm must be `,t,...r)}H0.withAlg=xtt});var dR=C(Lq=>{"use strict";Object.defineProperty(Lq,"__esModule",{value:!0});var Itt=require("crypto"),Bq;Lq.default=e=>(Bq||(Bq=new Set((0,Itt.getCiphers)())),Bq.has(e))});var ea=C(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});z0.types=void 0;var uR=Qo(),Ttt=Yo();z0.default=e=>(0,Ttt.default)(e)||(0,uR.isCryptoKey)(e);var Xle=["KeyObject"];z0.types=Xle;(globalThis.CryptoKey||!(uR.default===null||uR.default===void 0)&&uR.default.CryptoKey)&&Xle.push("CryptoKey")});var Fq=C(Uq=>{"use strict";Object.defineProperty(Uq,"__esModule",{value:!0});var Mq=require("crypto"),wtt=Tq(),Ntt=Pq(),Rtt=Tn(),tg=ut(),Ptt=Kle(),Ott=kq(),Dtt=Qo(),ktt=qd(),Yle=Yo(),Btt=Zo(),Qle=dR(),Ltt=ea();function Mtt(e,t,r,n,s,i){let o=parseInt(e.slice(1,4),10);(0,Yle.default)(t)&&(t=t.export());let a=t.subarray(o>>3),c=t.subarray(0,o>>3),l=parseInt(e.slice(-3),10),u=`aes-${o}-cbc`;if(!(0,Qle.default)(u))throw new tg.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let m=(0,Ott.default)(i,n,r,l,c,o),h;try{h=(0,Ptt.default)(s,m)}catch{}if(!h)throw new tg.JWEDecryptionFailed;let p;try{let g=(0,Mq.createDecipheriv)(u,a,n);p=(0,Rtt.concat)(g.update(r),g.final())}catch{}if(!p)throw new tg.JWEDecryptionFailed;return p}function Utt(e,t,r,n,s,i){let a=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,Qle.default)(a))throw new tg.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let c=(0,Mq.createDecipheriv)(a,t,n,{authTagLength:16});c.setAuthTag(s),i.byteLength&&c.setAAD(i,{plaintextLength:r.length});let l=c.update(r);return c.final(),l}catch{throw new tg.JWEDecryptionFailed}}var Ftt=(e,t,r,n,s,i)=>{let o;if((0,Dtt.isCryptoKey)(t))(0,ktt.checkEncCryptoKey)(t,e,"decrypt"),o=Mq.KeyObject.from(t);else if(t instanceof Uint8Array||(0,Yle.default)(t))o=t;else throw new TypeError((0,Btt.default)(t,...Ltt.types,"Uint8Array"));switch((0,Ntt.default)(e,o),(0,wtt.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return Mtt(e,o,r,n,s,i);case"A128GCM":case"A192GCM":case"A256GCM":return Utt(e,o,r,n,s,i);default:throw new tg.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};Uq.default=Ftt});var qq=C(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.deflate=rg.inflate=void 0;var Zle=require("util"),ede=require("zlib"),qtt=ut(),jtt=(0,Zle.promisify)(ede.inflateRaw),Vtt=(0,Zle.promisify)(ede.deflateRaw),Htt=e=>jtt(e,{maxOutputLength:25e4}).catch(()=>{throw new qtt.JWEDecompressionFailed});rg.inflate=Htt;var ztt=e=>Vtt(e);rg.deflate=ztt});var ng=C(jq=>{"use strict";Object.defineProperty(jq,"__esModule",{value:!0});var Ktt=(...e)=>{let t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(let n of t){let s=Object.keys(n);if(!r||r.size===0){r=new Set(s);continue}for(let i of s){if(r.has(i))return!1;r.add(i)}}return!0};jq.default=Ktt});var Wi=C(Vq=>{"use strict";Object.defineProperty(Vq,"__esModule",{value:!0});function Gtt(e){return typeof e=="object"&&e!==null}function $tt(e){if(!Gtt(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}Vq.default=$tt});var mR=C(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.unwrap=sg.wrap=void 0;var tde=require("buffer"),fR=require("crypto"),rde=ut(),nde=Tn(),Wtt=Qo(),Jtt=qd(),Xtt=Yo(),Ytt=Zo(),sde=dR(),Qtt=ea();function ide(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function ode(e,t,r){if((0,Xtt.default)(e))return e;if(e instanceof Uint8Array)return(0,fR.createSecretKey)(e);if((0,Wtt.isCryptoKey)(e))return(0,Jtt.checkEncCryptoKey)(e,t,r),fR.KeyObject.from(e);throw new TypeError((0,Ytt.default)(e,...Qtt.types,"Uint8Array"))}var Ztt=(e,t,r)=>{let s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,sde.default)(s))throw new rde.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let i=ode(t,e,"wrapKey");ide(i,e);let o=(0,fR.createCipheriv)(s,i,tde.Buffer.alloc(8,166));return(0,nde.concat)(o.update(r),o.final())};sg.wrap=Ztt;var ert=(e,t,r)=>{let s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,sde.default)(s))throw new rde.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let i=ode(t,e,"unwrapKey");ide(i,e);let o=(0,fR.createDecipheriv)(s,i,tde.Buffer.alloc(8,166));return(0,nde.concat)(o.update(r),o.final())};sg.unwrap=ert});var K0=C(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.setCurve=Ra.weakMap=void 0;var hR=require("buffer"),ade=require("crypto"),cde=ut(),trt=Qo(),rrt=Yo(),nrt=Zo(),srt=ea(),irt=hR.Buffer.from([42,134,72,206,61,3,1,7]),ort=hR.Buffer.from([43,129,4,0,34]),art=hR.Buffer.from([43,129,4,0,35]),crt=hR.Buffer.from([43,129,4,0,10]);Ra.weakMap=new WeakMap;var lrt=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new cde.JOSENotSupported("Unsupported key curve for this operation")}},lde=(e,t)=>{var r;let n;if((0,trt.isCryptoKey)(e))n=ade.KeyObject.from(e);else if((0,rrt.default)(e))n=e;else throw new TypeError((0,nrt.default)(e,...srt.types));if(n.type==="secret")throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(n.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${n.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${n.asymmetricKeyType.slice(1)}`;case"ec":{if(Ra.weakMap.has(n))return Ra.weakMap.get(n);let s=(r=n.asymmetricKeyDetails)===null||r===void 0?void 0:r.namedCurve;if(!s&&n.type==="private")s=lde((0,ade.createPublicKey)(n),!0);else if(!s){let o=n.export({format:"der",type:"spki"}),a=o[1]<128?14:15,c=o[a],l=o.slice(a+1,a+1+c);if(l.equals(irt))s="prime256v1";else if(l.equals(ort))s="secp384r1";else if(l.equals(art))s="secp521r1";else if(l.equals(crt))s="secp256k1";else throw new cde.JOSENotSupported("Unsupported key curve for this operation")}if(t)return s;let i=lrt(s);return Ra.weakMap.set(n,i),i}default:throw new TypeError("Invalid asymmetric key type for this operation")}};function drt(e,t){Ra.weakMap.set(e,t)}Ra.setCurve=drt;Ra.default=lde});var Wq=C(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.ecdhAllowed=jd.generateEpk=jd.deriveKey=void 0;var G0=require("crypto"),urt=require("util"),ude=K0(),qf=Tn(),frt=ut(),zq=Qo(),dde=qd(),Kq=Yo(),Gq=Zo(),$q=ea(),Hq=(0,urt.promisify)(G0.generateKeyPair);async function mrt(e,t,r,n,s=new Uint8Array(0),i=new Uint8Array(0)){let o;if((0,zq.isCryptoKey)(e))(0,dde.checkEncCryptoKey)(e,"ECDH"),o=G0.KeyObject.from(e);else if((0,Kq.default)(e))o=e;else throw new TypeError((0,Gq.default)(e,...$q.types));let a;if((0,zq.isCryptoKey)(t))(0,dde.checkEncCryptoKey)(t,"ECDH","deriveBits"),a=G0.KeyObject.from(t);else if((0,Kq.default)(t))a=t;else throw new TypeError((0,Gq.default)(t,...$q.types));let c=(0,qf.concat)((0,qf.lengthAndInput)(qf.encoder.encode(r)),(0,qf.lengthAndInput)(s),(0,qf.lengthAndInput)(i),(0,qf.uint32be)(n)),l=(0,G0.diffieHellman)({privateKey:a,publicKey:o});return(0,qf.concatKdf)(l,n,c)}jd.deriveKey=mrt;async function hrt(e){let t;if((0,zq.isCryptoKey)(e))t=G0.KeyObject.from(e);else if((0,Kq.default)(e))t=e;else throw new TypeError((0,Gq.default)(e,...$q.types));switch(t.asymmetricKeyType){case"x25519":return Hq("x25519");case"x448":return Hq("x448");case"ec":{let r=(0,ude.default)(t);return Hq("ec",{namedCurve:r})}default:throw new frt.JOSENotSupported("Invalid or unsupported EPK")}}jd.generateEpk=hrt;var prt=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,ude.default)(e));jd.ecdhAllowed=prt});var fde=C(Jq=>{"use strict";Object.defineProperty(Jq,"__esModule",{value:!0});var grt=ut();function yrt(e){if(!(e instanceof Uint8Array)||e.length<8)throw new grt.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}Jq.default=yrt});var Xq=C(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.decrypt=ig.encrypt=void 0;var Ert=require("util"),mde=require("crypto"),Srt=q0(),hde=Tn(),Crt=ci(),pde=mR(),gde=fde(),brt=Qo(),_rt=qd(),vrt=Yo(),Art=Zo(),xrt=ea(),yde=(0,Ert.promisify)(mde.pbkdf2);function Ede(e,t){if((0,vrt.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,brt.isCryptoKey)(e))return(0,_rt.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),mde.KeyObject.from(e).export();throw new TypeError((0,Art.default)(e,...xrt.types,"Uint8Array"))}var Irt=async(e,t,r,n=2048,s=(0,Srt.default)(new Uint8Array(16)))=>{(0,gde.default)(s);let i=(0,hde.p2s)(e,s),o=parseInt(e.slice(13,16),10)>>3,a=Ede(t,e),c=await yde(a,i,n,o,`sha${e.slice(8,11)}`);return{encryptedKey:await(0,pde.wrap)(e.slice(-6),c,r),p2c:n,p2s:(0,Crt.encode)(s)}};ig.encrypt=Irt;var Trt=async(e,t,r,n,s)=>{(0,gde.default)(s);let i=(0,hde.p2s)(e,s),o=parseInt(e.slice(13,16),10)>>3,a=Ede(t,e),c=await yde(a,i,n,o,`sha${e.slice(8,11)}`);return(0,pde.unwrap)(e.slice(-6),c,r)};ig.decrypt=Trt});var $0=C(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.setModulusLength=Pa.weakMap=void 0;Pa.weakMap=new WeakMap;var pR=(e,t)=>{let r=e.readUInt8(1);if((r&128)===0)return t===0?r:pR(e.subarray(2+r),t-1);let n=r&127;r=0;for(let s=0;s<n;s++){r<<=8;let i=e.readUInt8(2+s);r|=i}return t===0?r:pR(e.subarray(2+r),t-1)},wrt=(e,t)=>{let r=e.readUInt8(1);if((r&128)===0)return pR(e.subarray(2),t);let n=r&127;return pR(e.subarray(2+n),t)},Nrt=e=>{var t,r;if(Pa.weakMap.has(e))return Pa.weakMap.get(e);let n=(r=(t=e.asymmetricKeyDetails)===null||t===void 0?void 0:t.modulusLength)!==null&&r!==void 0?r:wrt(e.export({format:"der",type:"pkcs1"}),e.type==="private"?1:0)-1<<3;return Pa.weakMap.set(e,n),n},Rrt=(e,t)=>{Pa.weakMap.set(e,t)};Pa.setModulusLength=Rrt;Pa.default=(e,t)=>{if(Nrt(e)<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}});var Yq=C(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.decrypt=og.encrypt=void 0;var W0=require("crypto"),Prt=$0(),Ort=Qo(),Drt=qd(),krt=Yo(),Brt=Zo(),Lrt=ea(),Sde=(e,t)=>{if(e.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,Prt.default)(e,t)},Cde=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return W0.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return W0.constants.RSA_PKCS1_PADDING;default:return}},bde=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function _de(e,t,...r){if((0,krt.default)(e))return e;if((0,Ort.isCryptoKey)(e))return(0,Drt.checkEncCryptoKey)(e,t,...r),W0.KeyObject.from(e);throw new TypeError((0,Brt.default)(e,...Lrt.types))}var Mrt=(e,t,r)=>{let n=Cde(e),s=bde(e),i=_de(t,e,"wrapKey","encrypt");return Sde(i,e),(0,W0.publicEncrypt)({key:i,oaepHash:s,padding:n},r)};og.encrypt=Mrt;var Urt=(e,t,r)=>{let n=Cde(e),s=bde(e),i=_de(t,e,"unwrapKey","decrypt");return Sde(i,e),(0,W0.privateDecrypt)({key:i,oaepHash:s,padding:n},r)};og.decrypt=Urt});var X0=C(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.bitLength=void 0;var Frt=ut(),qrt=q0();function vde(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Frt.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}J0.bitLength=vde;J0.default=e=>(0,qrt.default)(new Uint8Array(vde(e)>>3))});var yR=C(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.fromX509=ta.fromSPKI=ta.fromPKCS8=ta.toPKCS8=ta.toSPKI=void 0;var gR=require("crypto"),Ade=require("buffer"),jrt=Qo(),Vrt=Yo(),Hrt=Zo(),zrt=ea(),xde=(e,t,r)=>{let n;if((0,jrt.isCryptoKey)(r)){if(!r.extractable)throw new TypeError("CryptoKey is not extractable");n=gR.KeyObject.from(r)}else if((0,Vrt.default)(r))n=r;else throw new TypeError((0,Hrt.default)(r,...zrt.types));if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return n.export({format:"pem",type:t})},Krt=e=>xde("public","spki",e);ta.toSPKI=Krt;var Grt=e=>xde("private","pkcs8",e);ta.toPKCS8=Grt;var $rt=e=>(0,gR.createPrivateKey)({key:Ade.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});ta.fromPKCS8=$rt;var Wrt=e=>(0,gR.createPublicKey)({key:Ade.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});ta.fromSPKI=Wrt;var Jrt=e=>(0,gR.createPublicKey)({key:e,type:"spki",format:"pem"});ta.fromX509=Jrt});var Ide=C(e4=>{"use strict";Object.defineProperty(e4,"__esModule",{value:!0});var Kn=require("buffer"),Xrt=ut(),Yrt=2,Qrt=3,Zrt=4,ent=48,Qq=Kn.Buffer.from([0]),ER=Kn.Buffer.from([Yrt]),tnt=Kn.Buffer.from([Qrt]),rnt=Kn.Buffer.from([ent]),nnt=Kn.Buffer.from([Zrt]),Vd=e=>{if(e<128)return Kn.Buffer.from([e]);let t=Kn.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;t[r]===0;)r++;return t[r-1]=128|5-r,t.slice(r-1)},snt=new Map([["P-256",Kn.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",Kn.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",Kn.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",Kn.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",Kn.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",Kn.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",Kn.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",Kn.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",Kn.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]),Zq=class{constructor(){this.length=0,this.elements=[]}oidFor(t){let r=snt.get(t);if(!r)throw new Xrt.JOSENotSupported("Invalid or unsupported OID");this.elements.push(r),this.length+=r.length}zero(){this.elements.push(ER,Kn.Buffer.from([1]),Qq),this.length+=3}one(){this.elements.push(ER,Kn.Buffer.from([1]),Kn.Buffer.from([1])),this.length+=3}unsignedInteger(t){if(t[0]&128){let r=Vd(t.length+1);this.elements.push(ER,r,Qq,t),this.length+=2+r.length+t.length}else{let r=0;for(;t[r]===0&&(t[r+1]&128)===0;)r++;let n=Vd(t.length-r);this.elements.push(ER,Vd(t.length-r),t.slice(r)),this.length+=1+n.length+t.length-r}}octStr(t){let r=Vd(t.length);this.elements.push(nnt,Vd(t.length),t),this.length+=1+r.length+t.length}bitStr(t){let r=Vd(t.length+1);this.elements.push(tnt,Vd(t.length+1),Qq,t),this.length+=1+r.length+t.length+1}add(t){this.elements.push(t),this.length+=t.length}end(t=rnt){let r=Vd(this.length);return Kn.Buffer.concat([t,r,...this.elements],1+r.length+this.length)}};e4.default=Zq});var Y0=C(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.jwkImport=vc.jwkExport=vc.rsaPssParams=vc.oneShotCallback=void 0;var[Hd,SR]=process.versions.node.split(".").map(e=>parseInt(e,10));vc.oneShotCallback=Hd>=16||Hd===15&&SR>=13;vc.rsaPssParams=!("electron"in process.versions)&&(Hd>=17||Hd===16&&SR>=9);vc.jwkExport=Hd>=16||Hd===15&&SR>=9;vc.jwkImport=Hd>=16||Hd===15&&SR>=12});var wde=C(t4=>{"use strict";Object.defineProperty(t4,"__esModule",{value:!0});var ws=require("buffer"),hl=require("crypto"),int=ci(),ont=ut(),Tde=K0(),ant=$0(),Oa=Ide(),cnt=Y0(),lnt=e=>{if(cnt.jwkImport&&e.kty!=="oct")return e.d?(0,hl.createPrivateKey)({format:"jwk",key:e}):(0,hl.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,hl.createSecretKey)((0,int.decode)(e.k));case"RSA":{let t=new Oa.default,r=e.d!==void 0,n=ws.Buffer.from(e.n,"base64"),s=ws.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(n),t.unsignedInteger(s),t.unsignedInteger(ws.Buffer.from(e.d,"base64")),t.unsignedInteger(ws.Buffer.from(e.p,"base64")),t.unsignedInteger(ws.Buffer.from(e.q,"base64")),t.unsignedInteger(ws.Buffer.from(e.dp,"base64")),t.unsignedInteger(ws.Buffer.from(e.dq,"base64")),t.unsignedInteger(ws.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(n),t.unsignedInteger(s));let o={key:t.end(),format:"der",type:"pkcs1"},a=r?(0,hl.createPrivateKey)(o):(0,hl.createPublicKey)(o);return(0,ant.setModulusLength)(a,n.length<<3),a}case"EC":{let t=new Oa.default,r=e.d!==void 0,n=ws.Buffer.concat([ws.Buffer.alloc(1,4),ws.Buffer.from(e.x,"base64"),ws.Buffer.from(e.y,"base64")]);if(r){t.zero();let a=new Oa.default;a.oidFor("ecPublicKey"),a.oidFor(e.crv),t.add(a.end());let c=new Oa.default;c.one(),c.octStr(ws.Buffer.from(e.d,"base64"));let l=new Oa.default;l.bitStr(n);let u=l.end(ws.Buffer.from([161]));c.add(u);let m=c.end(),h=new Oa.default;h.add(m);let p=h.end(ws.Buffer.from([4]));t.add(p);let g=t.end(),y=(0,hl.createPrivateKey)({key:g,format:"der",type:"pkcs8"});return(0,Tde.setCurve)(y,e.crv),y}let s=new Oa.default;s.oidFor("ecPublicKey"),s.oidFor(e.crv),t.add(s.end()),t.bitStr(n);let i=t.end(),o=(0,hl.createPublicKey)({key:i,format:"der",type:"spki"});return(0,Tde.setCurve)(o,e.crv),o}case"OKP":{let t=new Oa.default;if(e.d!==void 0){t.zero();let i=new Oa.default;i.oidFor(e.crv),t.add(i.end());let o=new Oa.default;o.octStr(ws.Buffer.from(e.d,"base64"));let a=o.end(ws.Buffer.from([4]));t.add(a);let c=t.end();return(0,hl.createPrivateKey)({key:c,format:"der",type:"pkcs8"})}let n=new Oa.default;n.oidFor(e.crv),t.add(n.end()),t.bitStr(ws.Buffer.from(e.x,"base64"));let s=t.end();return(0,hl.createPublicKey)({key:s,format:"der",type:"spki"})}default:throw new ont.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}};t4.default=lnt});var Q0=C(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.importJWK=Ac.importPKCS8=Ac.importX509=Ac.importSPKI=void 0;var dnt=ci(),r4=yR(),Nde=wde(),Rde=ut(),unt=Wi();async function fnt(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return(0,r4.fromSPKI)(e,t,r)}Ac.importSPKI=fnt;async function mnt(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return(0,r4.fromX509)(e,t,r)}Ac.importX509=mnt;async function hnt(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,r4.fromPKCS8)(e,t,r)}Ac.importPKCS8=hnt;async function pnt(e,t,r){var n;if(!(0,unt.default)(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=e.ext!==!0),r?(0,Nde.default)({...e,alg:t,ext:(n=e.ext)!==null&&n!==void 0?n:!1}):(0,dnt.decode)(e.k);case"RSA":if(e.oth!==void 0)throw new Rde.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,Nde.default)({...e,alg:t});default:throw new Rde.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}Ac.importJWK=pnt});var Z0=C(n4=>{"use strict";Object.defineProperty(n4,"__esModule",{value:!0});var Pde=Zo(),xc=ea(),gnt=(e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,xc.default)(t))throw new TypeError((0,Pde.withAlg)(e,t,...xc.types,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${xc.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},ynt=(e,t,r)=>{if(!(0,xc.default)(t))throw new TypeError((0,Pde.withAlg)(e,t,...xc.types));if(t.type==="secret")throw new TypeError(`${xc.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${xc.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${xc.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${xc.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${xc.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},Ent=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?gnt(e,t):ynt(e,t,r)};n4.default=Ent});var a4=C(o4=>{"use strict";Object.defineProperty(o4,"__esModule",{value:!0});var s4=require("crypto"),Snt=Tq(),Cnt=Pq(),bnt=Tn(),_nt=kq(),vnt=Qo(),Ant=qd(),Ode=Yo(),xnt=Zo(),i4=ut(),Dde=dR(),Int=ea();function Tnt(e,t,r,n,s){let i=parseInt(e.slice(1,4),10);(0,Ode.default)(r)&&(r=r.export());let o=r.subarray(i>>3),a=r.subarray(0,i>>3),c=`aes-${i}-cbc`;if(!(0,Dde.default)(c))throw new i4.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let l=(0,s4.createCipheriv)(c,o,n),u=(0,bnt.concat)(l.update(t),l.final()),m=parseInt(e.slice(-3),10),h=(0,_nt.default)(s,n,u,m,a,i);return{ciphertext:u,tag:h}}function wnt(e,t,r,n,s){let o=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,Dde.default)(o))throw new i4.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let a=(0,s4.createCipheriv)(o,r,n,{authTagLength:16});s.byteLength&&a.setAAD(s,{plaintextLength:t.length});let c=a.update(t);a.final();let l=a.getAuthTag();return{ciphertext:c,tag:l}}var Nnt=(e,t,r,n,s)=>{let i;if((0,vnt.isCryptoKey)(r))(0,Ant.checkEncCryptoKey)(r,e,"encrypt"),i=s4.KeyObject.from(r);else if(r instanceof Uint8Array||(0,Ode.default)(r))i=r;else throw new TypeError((0,xnt.default)(r,...Int.types,"Uint8Array"));switch((0,Cnt.default)(e,i),(0,Snt.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return Tnt(e,t,i,n,s);case"A128GCM":case"A192GCM":case"A256GCM":return wnt(e,t,i,n,s);default:throw new i4.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};o4.default=Nnt});var c4=C(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.unwrap=ag.wrap=void 0;var Rnt=a4(),Pnt=Fq(),Ont=cR(),kde=ci();async function Dnt(e,t,r,n){let s=e.slice(0,7);n||(n=(0,Ont.default)(s));let{ciphertext:i,tag:o}=await(0,Rnt.default)(s,r,t,n,new Uint8Array(0));return{encryptedKey:i,iv:(0,kde.encode)(n),tag:(0,kde.encode)(o)}}ag.wrap=Dnt;async function knt(e,t,r,n,s){let i=e.slice(0,7);return(0,Pnt.default)(i,t,r,n,s,new Uint8Array(0))}ag.unwrap=knt});var Mde=C(l4=>{"use strict";Object.defineProperty(l4,"__esModule",{value:!0});var Bde=mR(),Lde=Wq(),Bnt=Xq(),Lnt=Yq(),eS=ci(),wn=ut(),Mnt=X0(),Unt=Q0(),Fnt=Z0(),qnt=Wi(),jnt=c4();async function Vnt(e,t,r,n,s){switch((0,Fnt.default)(e,t,"decrypt"),e){case"dir":{if(r!==void 0)throw new wn.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new wn.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,qnt.default)(n.epk))throw new wn.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!Lde.ecdhAllowed(t))throw new wn.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let i=await(0,Unt.importJWK)(n.epk,e),o,a;if(n.apu!==void 0){if(typeof n.apu!="string")throw new wn.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=(0,eS.decode)(n.apu)}catch{throw new wn.JWEInvalid("Failed to base64url decode the apu")}}if(n.apv!==void 0){if(typeof n.apv!="string")throw new wn.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=(0,eS.decode)(n.apv)}catch{throw new wn.JWEInvalid("Failed to base64url decode the apv")}}let c=await Lde.deriveKey(i,t,e==="ECDH-ES"?n.enc:e,e==="ECDH-ES"?(0,Mnt.bitLength)(n.enc):parseInt(e.slice(-5,-2),10),o,a);if(e==="ECDH-ES")return c;if(r===void 0)throw new wn.JWEInvalid("JWE Encrypted Key missing");return(0,Bde.unwrap)(e.slice(-6),c,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new wn.JWEInvalid("JWE Encrypted Key missing");return(0,Lnt.decrypt)(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new wn.JWEInvalid("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new wn.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=s?.maxPBES2Count||1e4;if(n.p2c>i)throw new wn.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new wn.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let o;try{o=(0,eS.decode)(n.p2s)}catch{throw new wn.JWEInvalid("Failed to base64url decode the p2s")}return(0,Bnt.decrypt)(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new wn.JWEInvalid("JWE Encrypted Key missing");return(0,Bde.unwrap)(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new wn.JWEInvalid("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new wn.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new wn.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let i;try{i=(0,eS.decode)(n.iv)}catch{throw new wn.JWEInvalid("Failed to base64url decode the iv")}let o;try{o=(0,eS.decode)(n.tag)}catch{throw new wn.JWEInvalid("Failed to base64url decode the tag")}return(0,jnt.unwrap)(e,t,r,i,o)}default:throw new wn.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}l4.default=Vnt});var cg=C(d4=>{"use strict";Object.defineProperty(d4,"__esModule",{value:!0});var Hnt=ut();function znt(e,t,r,n,s){if(s.crit!==void 0&&n.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;r!==void 0?i=new Map([...Object.entries(r),...t.entries()]):i=t;for(let o of n.crit){if(!i.has(o))throw new Hnt.JOSENotSupported(`Extension Header Parameter "${o}" is not recognized`);if(s[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(i.get(o)&&n[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)}d4.default=znt});var f4=C(u4=>{"use strict";Object.defineProperty(u4,"__esModule",{value:!0});var Knt=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};u4.default=Knt});var bR=C(CR=>{"use strict";Object.defineProperty(CR,"__esModule",{value:!0});CR.flattenedDecrypt=void 0;var lg=ci(),Gnt=Fq(),$nt=qq(),Wr=ut(),Wnt=ng(),m4=Wi(),Jnt=Mde(),tS=Tn(),Xnt=X0(),Ynt=cg(),Ude=f4();async function Qnt(e,t,r){var n;if(!(0,m4.default)(e))throw new Wr.JWEInvalid("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new Wr.JWEInvalid("JOSE Header missing");if(typeof e.iv!="string")throw new Wr.JWEInvalid("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new Wr.JWEInvalid("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new Wr.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new Wr.JWEInvalid("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new Wr.JWEInvalid("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new Wr.JWEInvalid("JWE AAD incorrect type");if(e.header!==void 0&&!(0,m4.default)(e.header))throw new Wr.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!(0,m4.default)(e.unprotected))throw new Wr.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let s;if(e.protected)try{let G=(0,lg.decode)(e.protected);s=JSON.parse(tS.decoder.decode(G))}catch{throw new Wr.JWEInvalid("JWE Protected Header is invalid")}if(!(0,Wnt.default)(s,e.header,e.unprotected))throw new Wr.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let i={...s,...e.header,...e.unprotected};if((0,Ynt.default)(Wr.JWEInvalid,new Map,r?.crit,s,i),i.zip!==void 0){if(!s||!s.zip)throw new Wr.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(i.zip!=="DEF")throw new Wr.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:o,enc:a}=i;if(typeof o!="string"||!o)throw new Wr.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if(typeof a!="string"||!a)throw new Wr.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let c=r&&(0,Ude.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),l=r&&(0,Ude.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(c&&!c.has(o))throw new Wr.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(l&&!l.has(a))throw new Wr.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let u;if(e.encrypted_key!==void 0)try{u=(0,lg.decode)(e.encrypted_key)}catch{throw new Wr.JWEInvalid("Failed to base64url decode the encrypted_key")}let m=!1;typeof t=="function"&&(t=await t(s,e),m=!0);let h;try{h=await(0,Jnt.default)(o,t,u,i,r)}catch(G){if(G instanceof TypeError||G instanceof Wr.JWEInvalid||G instanceof Wr.JOSENotSupported)throw G;h=(0,Xnt.default)(a)}let p,g;try{p=(0,lg.decode)(e.iv)}catch{throw new Wr.JWEInvalid("Failed to base64url decode the iv")}try{g=(0,lg.decode)(e.tag)}catch{throw new Wr.JWEInvalid("Failed to base64url decode the tag")}let y=tS.encoder.encode((n=e.protected)!==null&&n!==void 0?n:""),_;e.aad!==void 0?_=(0,tS.concat)(y,tS.encoder.encode("."),tS.encoder.encode(e.aad)):_=y;let x;try{x=(0,lg.decode)(e.ciphertext)}catch{throw new Wr.JWEInvalid("Failed to base64url decode the ciphertext")}let w=await(0,Gnt.default)(a,h,x,p,g,_);i.zip==="DEF"&&(w=await(r?.inflateRaw||$nt.inflate)(w));let D={plaintext:w};if(e.protected!==void 0&&(D.protectedHeader=s),e.aad!==void 0)try{D.additionalAuthenticatedData=(0,lg.decode)(e.aad)}catch{throw new Wr.JWEInvalid("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(D.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(D.unprotectedHeader=e.header),m?{...D,key:t}:D}CR.flattenedDecrypt=Qnt});var h4=C(_R=>{"use strict";Object.defineProperty(_R,"__esModule",{value:!0});_R.compactDecrypt=void 0;var Znt=bR(),Fde=ut(),est=Tn();async function tst(e,t,r){if(e instanceof Uint8Array&&(e=est.decoder.decode(e)),typeof e!="string")throw new Fde.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:n,1:s,2:i,3:o,4:a,length:c}=e.split(".");if(c!==5)throw new Fde.JWEInvalid("Invalid Compact JWE");let l=await(0,Znt.flattenedDecrypt)({ciphertext:o,iv:i||void 0,protected:n||void 0,tag:a||void 0,encrypted_key:s||void 0},t,r),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return typeof t=="function"?{...u,key:l.key}:u}_R.compactDecrypt=tst});var jde=C(AR=>{"use strict";Object.defineProperty(AR,"__esModule",{value:!0});AR.generalDecrypt=void 0;var rst=bR(),vR=ut(),qde=Wi();async function nst(e,t,r){if(!(0,qde.default)(e))throw new vR.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(qde.default))throw new vR.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new vR.JWEInvalid("JWE Recipients has no members");for(let n of e.recipients)try{return await(0,rst.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new vR.JWEDecryptionFailed}AR.generalDecrypt=nst});var Vde=C(g4=>{"use strict";Object.defineProperty(g4,"__esModule",{value:!0});var sst=2,ist=48,p4=class{constructor(t){if(t[0]!==ist)throw new TypeError;if(this.buffer=t,this.offset=1,this.decodeLength()!==t.length-this.offset)throw new TypeError}decodeLength(){let t=this.buffer[this.offset++];if(t&128){let r=t&-129;t=0;for(let n=0;n<r;n++)t=t<<8|this.buffer[this.offset+n];this.offset+=r}return t}unsignedInteger(){if(this.buffer[this.offset++]!==sst)throw new TypeError;let t=this.decodeLength();this.buffer[this.offset]===0&&(this.offset++,t--);let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}end(){if(this.offset!==this.buffer.length)throw new TypeError}};g4.default=p4});var Hde=C(E4=>{"use strict";Object.defineProperty(E4,"__esModule",{value:!0});var xR=require("crypto"),Vs=ci(),ost=Vde(),IR=ut(),y4=K0(),ast=Qo(),cst=Yo(),lst=Zo(),dst=ea(),ust=Y0(),TR=e=>{let t;if((0,ast.isCryptoKey)(e)){if(!e.extractable)throw new TypeError("CryptoKey is not extractable");t=xR.KeyObject.from(e)}else if((0,cst.default)(e))t=e;else{if(e instanceof Uint8Array)return{kty:"oct",k:(0,Vs.encode)(e)};throw new TypeError((0,lst.default)(e,...dst.types,"Uint8Array"))}if(ust.jwkExport){if(t.type!=="secret"&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new IR.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,Vs.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let r=t.export({format:"der",type:"pkcs1"}),n=new ost.default(r);t.type==="private"&&n.unsignedInteger();let s=(0,Vs.encode)(n.unsignedInteger()),i=(0,Vs.encode)(n.unsignedInteger()),o;return t.type==="private"&&(o={d:(0,Vs.encode)(n.unsignedInteger()),p:(0,Vs.encode)(n.unsignedInteger()),q:(0,Vs.encode)(n.unsignedInteger()),dp:(0,Vs.encode)(n.unsignedInteger()),dq:(0,Vs.encode)(n.unsignedInteger()),qi:(0,Vs.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:s,e:i,...o}}case"ec":{let r=(0,y4.default)(t),n,s,i;switch(r){case"secp256k1":n=64,s=33,i=-1;break;case"P-256":n=64,s=36,i=-1;break;case"P-384":n=96,s=35,i=-3;break;case"P-521":n=132,s=35,i=-3;break;default:throw new IR.JOSENotSupported("Unsupported curve")}if(t.type==="public"){let a=t.export({type:"spki",format:"der"});return{kty:"EC",crv:r,x:(0,Vs.encode)(a.subarray(-n,-n/2)),y:(0,Vs.encode)(a.subarray(-n/2))}}let o=t.export({type:"pkcs8",format:"der"});return o.length<100&&(s+=i),{...TR((0,xR.createPublicKey)(t)),d:(0,Vs.encode)(o.subarray(s,s+n/2))}}case"ed25519":case"x25519":{let r=(0,y4.default)(t);if(t.type==="public"){let s=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:r,x:(0,Vs.encode)(s.subarray(-32))}}let n=t.export({type:"pkcs8",format:"der"});return{...TR((0,xR.createPublicKey)(t)),d:(0,Vs.encode)(n.subarray(-32))}}case"ed448":case"x448":{let r=(0,y4.default)(t);if(t.type==="public"){let s=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:r,x:(0,Vs.encode)(s.subarray(r==="Ed448"?-57:-56))}}let n=t.export({type:"pkcs8",format:"der"});return{...TR((0,xR.createPublicKey)(t)),d:(0,Vs.encode)(n.subarray(r==="Ed448"?-57:-56))}}default:throw new IR.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new IR.JOSENotSupported("Unsupported key type")}};E4.default=TR});var S4=C(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.exportJWK=zd.exportPKCS8=zd.exportSPKI=void 0;var fst=yR(),mst=yR(),hst=Hde();async function pst(e){return(0,fst.toSPKI)(e)}zd.exportSPKI=pst;async function gst(e){return(0,mst.toPKCS8)(e)}zd.exportPKCS8=gst;async function yst(e){return(0,hst.default)(e)}zd.exportJWK=yst});var _4=C(b4=>{"use strict";Object.defineProperty(b4,"__esModule",{value:!0});var zde=mR(),C4=Wq(),Est=Xq(),Sst=Yq(),Kde=ci(),dg=X0(),Gde=ut(),Cst=S4(),bst=Z0(),_st=c4();async function vst(e,t,r,n,s={}){let i,o,a;switch((0,bst.default)(e,r,"encrypt"),e){case"dir":{a=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!C4.ecdhAllowed(r))throw new Gde.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:l}=s,{epk:u}=s;u||(u=(await C4.generateEpk(r)).privateKey);let{x:m,y:h,crv:p,kty:g}=await(0,Cst.exportJWK)(u),y=await C4.deriveKey(r,u,e==="ECDH-ES"?t:e,e==="ECDH-ES"?(0,dg.bitLength)(t):parseInt(e.slice(-5,-2),10),c,l);if(o={epk:{x:m,crv:p,kty:g}},g==="EC"&&(o.epk.y=h),c&&(o.apu=(0,Kde.encode)(c)),l&&(o.apv=(0,Kde.encode)(l)),e==="ECDH-ES"){a=y;break}a=n||(0,dg.default)(t);let _=e.slice(-6);i=await(0,zde.wrap)(_,y,a);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{a=n||(0,dg.default)(t),i=await(0,Sst.encrypt)(e,r,a);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{a=n||(0,dg.default)(t);let{p2c:c,p2s:l}=s;({encryptedKey:i,...o}=await(0,Est.encrypt)(e,r,a,c,l));break}case"A128KW":case"A192KW":case"A256KW":{a=n||(0,dg.default)(t),i=await(0,zde.wrap)(e,r,a);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{a=n||(0,dg.default)(t);let{iv:c}=s;({encryptedKey:i,...o}=await(0,_st.wrap)(e,r,a,c));break}default:throw new Gde.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:a,encryptedKey:i,parameters:o}}b4.default=vst});var wR=C(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.FlattenedEncrypt=Vf.unprotected=void 0;var ug=ci(),$de=a4(),Ast=qq(),xst=cR(),Ist=_4(),jf=ut(),Tst=ng(),fg=Tn(),wst=cg();Vf.unprotected=Symbol();var v4=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new jf.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,Tst.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new jf.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,wst.default)(jf.JWEInvalid,new Map,r?.crit,this._protectedHeader,n),n.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new jf.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(n.zip!=="DEF")throw new jf.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:s,enc:i}=n;if(typeof s!="string"||!s)throw new jf.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof i!="string"||!i)throw new jf.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o;if(s==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(s==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let a;{let g;({cek:a,encryptedKey:o,parameters:g}=await(0,Ist.default)(s,i,t,this._cek,this._keyManagementParameters)),g&&(r&&Vf.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...g}:this.setUnprotectedHeader(g):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...g}:this.setProtectedHeader(g))}this._iv||(this._iv=(0,xst.default)(i));let c,l,u;this._protectedHeader?l=fg.encoder.encode((0,ug.encode)(JSON.stringify(this._protectedHeader))):l=fg.encoder.encode(""),this._aad?(u=(0,ug.encode)(this._aad),c=(0,fg.concat)(l,fg.encoder.encode("."),fg.encoder.encode(u))):c=l;let m,h;if(n.zip==="DEF"){let g=await(r?.deflateRaw||Ast.deflate)(this._plaintext);({ciphertext:m,tag:h}=await(0,$de.default)(i,g,a,this._iv,c))}else({ciphertext:m,tag:h}=await(0,$de.default)(i,this._plaintext,a,this._iv,c));let p={ciphertext:(0,ug.encode)(m),iv:(0,ug.encode)(this._iv),tag:(0,ug.encode)(h)};return o&&(p.encrypted_key=(0,ug.encode)(o)),u&&(p.aad=u),this._protectedHeader&&(p.protected=fg.decoder.decode(l)),this._sharedUnprotectedHeader&&(p.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(p.header=this._unprotectedHeader),p}};Vf.FlattenedEncrypt=v4});var Wde=C(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});NR.GeneralEncrypt=void 0;var A4=wR(),Kd=ut(),Nst=X0(),Rst=ng(),Pst=_4(),Ost=ci(),Dst=cg(),x4=class{constructor(t,r,n){this.parent=t,this.key=r,this.options=n}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}},I4=class{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){let n=new x4(this,t,{crit:r?.crit});return this._recipients.push(n),n}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,n,s;if(!this._recipients.length)throw new Kd.JWEInvalid("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){let[c]=this._recipients,l=await new A4.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).encrypt(c.key,{...c.options,...t}),u={ciphertext:l.ciphertext,iv:l.iv,recipients:[{}],tag:l.tag};return l.aad&&(u.aad=l.aad),l.protected&&(u.protected=l.protected),l.unprotected&&(u.unprotected=l.unprotected),l.encrypted_key&&(u.recipients[0].encrypted_key=l.encrypted_key),l.header&&(u.recipients[0].header=l.header),u}let i;for(let c=0;c<this._recipients.length;c++){let l=this._recipients[c];if(!(0,Rst.default)(this._protectedHeader,this._unprotectedHeader,l.unprotectedHeader))throw new Kd.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let u={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader},{alg:m}=u;if(typeof m!="string"||!m)throw new Kd.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(m==="dir"||m==="ECDH-ES")throw new Kd.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof u.enc!="string"||!u.enc)throw new Kd.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!i)i=u.enc;else if(i!==u.enc)throw new Kd.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if((0,Dst.default)(Kd.JWEInvalid,new Map,l.options.crit,this._protectedHeader,u),u.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new Kd.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let o=(0,Nst.default)(i),a={ciphertext:"",iv:"",recipients:[],tag:""};for(let c=0;c<this._recipients.length;c++){let l=this._recipients[c],u={};a.recipients.push(u);let h={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader}.alg.startsWith("PBES2")?2048+c:void 0;if(c===0){let y=await new A4.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(o).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(l.unprotectedHeader).setKeyManagementParameters({p2c:h}).encrypt(l.key,{...l.options,...t,[A4.unprotected]:!0});a.ciphertext=y.ciphertext,a.iv=y.iv,a.tag=y.tag,y.aad&&(a.aad=y.aad),y.protected&&(a.protected=y.protected),y.unprotected&&(a.unprotected=y.unprotected),u.encrypted_key=y.encrypted_key,y.header&&(u.header=y.header);continue}let{encryptedKey:p,parameters:g}=await(0,Pst.default)(((r=l.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((n=this._protectedHeader)===null||n===void 0?void 0:n.alg)||((s=this._unprotectedHeader)===null||s===void 0?void 0:s.alg),i,l.key,o,{p2c:h});u.encrypted_key=(0,Ost.encode)(p),(l.unprotectedHeader||g)&&(u.header={...l.unprotectedHeader,...g})}return a}};NR.GeneralEncrypt=I4});var w4=C(T4=>{"use strict";Object.defineProperty(T4,"__esModule",{value:!0});var kst=ut();function Bst(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new kst.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}T4.default=Bst});var P4=C(R4=>{"use strict";Object.defineProperty(R4,"__esModule",{value:!0});var Jde=require("crypto"),Lst=K0(),Mst=ut(),N4=$0(),mg=Y0(),Xde={padding:Jde.constants.RSA_PKCS1_PSS_PADDING,saltLength:Jde.constants.RSA_PSS_SALTLEN_DIGEST},Ust=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function Fst(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,N4.default)(t,e),t;case(mg.rsaPssParams&&"PS256"):case(mg.rsaPssParams&&"PS384"):case(mg.rsaPssParams&&"PS512"):if(t.asymmetricKeyType==="rsa-pss"){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:s}=t.asymmetricKeyDetails,i=parseInt(e.slice(-3),10);if(r!==void 0&&(r!==`sha${i}`||n!==r))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(s!==void 0&&s>i>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,N4.default)(t,e),{key:t,...Xde};case(!mg.rsaPssParams&&"PS256"):case(!mg.rsaPssParams&&"PS384"):case(!mg.rsaPssParams&&"PS512"):if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,N4.default)(t,e),{key:t,...Xde};case"ES256":case"ES256K":case"ES384":case"ES512":{if(t.asymmetricKeyType!=="ec")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,Lst.default)(t),n=Ust.get(e);if(r!==n)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new Mst.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}R4.default=Fst});var Yde=C(O4=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});var qst=ut();function jst(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new qst.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}O4.default=jst});var B4=C(k4=>{"use strict";Object.defineProperty(k4,"__esModule",{value:!0});var D4=require("crypto"),Vst=Qo(),Hst=qd(),Qde=Zo(),Zde=ea();function zst(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,Qde.default)(t,...Zde.types));return(0,D4.createSecretKey)(t)}if(t instanceof D4.KeyObject)return t;if((0,Vst.isCryptoKey)(t))return(0,Hst.checkSigCryptoKey)(t,e,r),D4.KeyObject.from(t);throw new TypeError((0,Qde.default)(t,...Zde.types,"Uint8Array"))}k4.default=zst});var U4=C(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});var RR=require("crypto"),Kst=require("util"),Gst=w4(),$st=Yde(),Wst=P4(),Jst=B4(),L4;RR.sign.length>3?L4=(0,Kst.promisify)(RR.sign):L4=RR.sign;var Xst=async(e,t,r)=>{let n=(0,Jst.default)(e,t,"sign");if(e.startsWith("HS")){let s=RR.createHmac((0,$st.default)(e),n);return s.update(r),s.digest()}return L4((0,Gst.default)(e),r,(0,Wst.default)(e,n))};M4.default=Xst});var eue=C(q4=>{"use strict";Object.defineProperty(q4,"__esModule",{value:!0});var PR=require("crypto"),Yst=require("util"),Qst=w4(),Zst=P4(),eit=U4(),tit=B4(),rit=Y0(),F4;PR.verify.length>4&&rit.oneShotCallback?F4=(0,Yst.promisify)(PR.verify):F4=PR.verify;var nit=async(e,t,r,n)=>{let s=(0,tit.default)(e,t,"verify");if(e.startsWith("HS")){let a=await(0,eit.default)(e,s,n),c=r;try{return PR.timingSafeEqual(c,a)}catch{return!1}}let i=(0,Qst.default)(e),o=(0,Zst.default)(e,s);try{return await F4(i,n,o,r)}catch{return!1}};q4.default=nit});var DR=C(OR=>{"use strict";Object.defineProperty(OR,"__esModule",{value:!0});OR.flattenedVerify=void 0;var j4=ci(),sit=eue(),Hs=ut(),hg=Tn(),iit=ng(),tue=Wi(),oit=Z0(),ait=cg(),cit=f4();async function lit(e,t,r){var n;if(!(0,tue.default)(e))throw new Hs.JWSInvalid("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Hs.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Hs.JWSInvalid("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Hs.JWSInvalid("JWS Payload missing");if(typeof e.signature!="string")throw new Hs.JWSInvalid("JWS Signature missing or incorrect type");if(e.header!==void 0&&!(0,tue.default)(e.header))throw new Hs.JWSInvalid("JWS Unprotected Header incorrect type");let s={};if(e.protected)try{let _=(0,j4.decode)(e.protected);s=JSON.parse(hg.decoder.decode(_))}catch{throw new Hs.JWSInvalid("JWS Protected Header is invalid")}if(!(0,iit.default)(s,e.header))throw new Hs.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i={...s,...e.header},o=(0,ait.default)(Hs.JWSInvalid,new Map([["b64",!0]]),r?.crit,s,i),a=!0;if(o.has("b64")&&(a=s.b64,typeof a!="boolean"))throw new Hs.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:c}=i;if(typeof c!="string"||!c)throw new Hs.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let l=r&&(0,cit.default)("algorithms",r.algorithms);if(l&&!l.has(c))throw new Hs.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(a){if(typeof e.payload!="string")throw new Hs.JWSInvalid("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Hs.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof t=="function"&&(t=await t(s,e),u=!0),(0,oit.default)(c,t,"verify");let m=(0,hg.concat)(hg.encoder.encode((n=e.protected)!==null&&n!==void 0?n:""),hg.encoder.encode("."),typeof e.payload=="string"?hg.encoder.encode(e.payload):e.payload),h;try{h=(0,j4.decode)(e.signature)}catch{throw new Hs.JWSInvalid("Failed to base64url decode the signature")}if(!await(0,sit.default)(c,t,h,m))throw new Hs.JWSSignatureVerificationFailed;let g;if(a)try{g=(0,j4.decode)(e.payload)}catch{throw new Hs.JWSInvalid("Failed to base64url decode the payload")}else typeof e.payload=="string"?g=hg.encoder.encode(e.payload):g=e.payload;let y={payload:g};return e.protected!==void 0&&(y.protectedHeader=s),e.header!==void 0&&(y.unprotectedHeader=e.header),u?{...y,key:t}:y}OR.flattenedVerify=lit});var V4=C(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0});kR.compactVerify=void 0;var dit=DR(),rue=ut(),uit=Tn();async function fit(e,t,r){if(e instanceof Uint8Array&&(e=uit.decoder.decode(e)),typeof e!="string")throw new rue.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:n,1:s,2:i,length:o}=e.split(".");if(o!==3)throw new rue.JWSInvalid("Invalid Compact JWS");let a=await(0,dit.flattenedVerify)({payload:s,protected:n,signature:i},t,r),c={payload:a.payload,protectedHeader:a.protectedHeader};return typeof t=="function"?{...c,key:a.key}:c}kR.compactVerify=fit});var sue=C(BR=>{"use strict";Object.defineProperty(BR,"__esModule",{value:!0});BR.generalVerify=void 0;var mit=DR(),H4=ut(),nue=Wi();async function hit(e,t,r){if(!(0,nue.default)(e))throw new H4.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(nue.default))throw new H4.JWSInvalid("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await(0,mit.flattenedVerify)({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new H4.JWSSignatureVerificationFailed}BR.generalVerify=hit});var K4=C(z4=>{"use strict";Object.defineProperty(z4,"__esModule",{value:!0});z4.default=e=>Math.floor(e.getTime()/1e3)});var W4=C($4=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});var iue=60,oue=iue*60,G4=oue*24,pit=G4*7,git=G4*365.25,yit=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;$4.default=e=>{let t=yit.exec(e);if(!t)throw new TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*iue);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*oue);case"day":case"days":case"d":return Math.round(r*G4);case"week":case"weeks":case"w":return Math.round(r*pit);default:return Math.round(r*git)}}});var LR=C(J4=>{"use strict";Object.defineProperty(J4,"__esModule",{value:!0});var ho=ut(),Eit=Tn(),Sit=K4(),aue=W4(),Cit=Wi(),cue=e=>e.toLowerCase().replace(/^application\//,""),bit=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1;J4.default=(e,t,r={})=>{let{typ:n}=r;if(n&&(typeof e.typ!="string"||cue(e.typ)!==cue(n)))throw new ho.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let s;try{s=JSON.parse(Eit.decoder.decode(t))}catch{}if(!(0,Cit.default)(s))throw new ho.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:i=[],issuer:o,subject:a,audience:c,maxTokenAge:l}=r;l!==void 0&&i.push("iat"),c!==void 0&&i.push("aud"),a!==void 0&&i.push("sub"),o!==void 0&&i.push("iss");for(let p of new Set(i.reverse()))if(!(p in s))throw new ho.JWTClaimValidationFailed(`missing required "${p}" claim`,p,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(s.iss))throw new ho.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(a&&s.sub!==a)throw new ho.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(c&&!bit(s.aud,typeof c=="string"?[c]:c))throw new ho.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");let u;switch(typeof r.clockTolerance){case"string":u=(0,aue.default)(r.clockTolerance);break;case"number":u=r.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:m}=r,h=(0,Sit.default)(m||new Date);if((s.iat!==void 0||l)&&typeof s.iat!="number")throw new ho.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(s.nbf!==void 0){if(typeof s.nbf!="number")throw new ho.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(s.nbf>h+u)throw new ho.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(s.exp!==void 0){if(typeof s.exp!="number")throw new ho.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(s.exp<=h-u)throw new ho.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(l){let p=h-s.iat,g=typeof l=="number"?l:(0,aue.default)(l);if(p-u>g)throw new ho.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(p<0-u)throw new ho.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return s}});var lue=C(MR=>{"use strict";Object.defineProperty(MR,"__esModule",{value:!0});MR.jwtVerify=void 0;var _it=V4(),vit=LR(),Ait=ut();async function xit(e,t,r){var n;let s=await(0,_it.compactVerify)(e,t,r);if(!((n=s.protectedHeader.crit)===null||n===void 0)&&n.includes("b64")&&s.protectedHeader.b64===!1)throw new Ait.JWTInvalid("JWTs MUST NOT use unencoded payload");let o={payload:(0,vit.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return typeof t=="function"?{...o,key:s.key}:o}MR.jwtVerify=xit});var due=C(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});UR.jwtDecrypt=void 0;var Iit=h4(),Tit=LR(),X4=ut();async function wit(e,t,r){let n=await(0,Iit.compactDecrypt)(e,t,r),s=(0,Tit.default)(n.protectedHeader,n.plaintext,r),{protectedHeader:i}=n;if(i.iss!==void 0&&i.iss!==s.iss)throw new X4.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(i.sub!==void 0&&i.sub!==s.sub)throw new X4.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(i.aud!==void 0&&JSON.stringify(i.aud)!==JSON.stringify(s.aud))throw new X4.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let o={payload:s,protectedHeader:i};return typeof t=="function"?{...o,key:n.key}:o}UR.jwtDecrypt=wit});var Q4=C(FR=>{"use strict";Object.defineProperty(FR,"__esModule",{value:!0});FR.CompactEncrypt=void 0;var Nit=wR(),Y4=class{constructor(t){this._flattened=new Nit.FlattenedEncrypt(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){let n=await this._flattened.encrypt(t,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}};FR.CompactEncrypt=Y4});var jR=C(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0});qR.FlattenedSign=void 0;var Z4=ci(),Rit=U4(),Pit=ng(),rS=ut(),Hf=Tn(),Oit=Z0(),Dit=cg(),ej=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new rS.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,Pit.default)(this._protectedHeader,this._unprotectedHeader))throw new rS.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},s=(0,Dit.default)(rS.JWSInvalid,new Map([["b64",!0]]),r?.crit,this._protectedHeader,n),i=!0;if(s.has("b64")&&(i=this._protectedHeader.b64,typeof i!="boolean"))throw new rS.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=n;if(typeof o!="string"||!o)throw new rS.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,Oit.default)(o,t,"sign");let a=this._payload;i&&(a=Hf.encoder.encode((0,Z4.encode)(a)));let c;this._protectedHeader?c=Hf.encoder.encode((0,Z4.encode)(JSON.stringify(this._protectedHeader))):c=Hf.encoder.encode("");let l=(0,Hf.concat)(c,Hf.encoder.encode("."),a),u=await(0,Rit.default)(o,t,l),m={signature:(0,Z4.encode)(u),payload:""};return i&&(m.payload=Hf.decoder.decode(a)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=Hf.decoder.decode(c)),m}};qR.FlattenedSign=ej});var rj=C(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});VR.CompactSign=void 0;var kit=jR(),tj=class{constructor(t){this._flattened=new kit.FlattenedSign(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){let n=await this._flattened.sign(t,r);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}};VR.CompactSign=tj});var fue=C(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0});HR.GeneralSign=void 0;var Bit=jR(),uue=ut(),nj=class{constructor(t,r,n){this.parent=t,this.key=r,this.options=n}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}},sj=class{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){let n=new nj(this,t,r);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new uue.JWSInvalid("at least one signature must be added");let t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){let n=this._signatures[r],s=new Bit.FlattenedSign(this._payload);s.setProtectedHeader(n.protectedHeader),s.setUnprotectedHeader(n.unprotectedHeader);let{payload:i,...o}=await s.sign(n.key,n.options);if(r===0)t.payload=i;else if(t.payload!==i)throw new uue.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(o)}return t}};HR.GeneralSign=sj});var KR=C(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});zR.ProduceJWT=void 0;var ij=K4(),Lit=Wi(),mue=W4(),oj=class{constructor(t){if(!(0,Lit.default)(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:(0,ij.default)(new Date)+(0,mue.default)(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:(0,ij.default)(new Date)+(0,mue.default)(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:(0,ij.default)(new Date)}:this._payload={...this._payload,iat:t},this}};zR.ProduceJWT=oj});var hue=C(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});GR.SignJWT=void 0;var Mit=rj(),Uit=ut(),Fit=Tn(),qit=KR(),aj=class extends qit.ProduceJWT{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var n;let s=new Mit.CompactSign(Fit.encoder.encode(JSON.stringify(this._payload)));if(s.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)===null||n===void 0?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Uit.JWTInvalid("JWTs MUST NOT use unencoded payload");return s.sign(t,r)}};GR.SignJWT=aj});var pue=C($R=>{"use strict";Object.defineProperty($R,"__esModule",{value:!0});$R.EncryptJWT=void 0;var jit=Q4(),Vit=Tn(),Hit=KR(),cj=class extends Hit.ProduceJWT{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){let n=new jit.CompactEncrypt(Vit.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(t,r)}};$R.EncryptJWT=cj});var Eue=C(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.calculateJwkThumbprintUri=pg.calculateJwkThumbprint=void 0;var zit=aq(),Kit=ci(),gue=ut(),Git=Tn(),$it=Wi(),Gd=(e,t)=>{if(typeof e!="string"||!e)throw new gue.JWKInvalid(`${t} missing or invalid`)};async function yue(e,t){if(!(0,$it.default)(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":Gd(e.crv,'"crv" (Curve) Parameter'),Gd(e.x,'"x" (X Coordinate) Parameter'),Gd(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Gd(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Gd(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Gd(e.e,'"e" (Exponent) Parameter'),Gd(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":Gd(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new gue.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let n=Git.encoder.encode(JSON.stringify(r));return(0,Kit.encode)(await(0,zit.default)(t,n))}pg.calculateJwkThumbprint=yue;async function Wit(e,t){t??(t="sha256");let r=await yue(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}pg.calculateJwkThumbprintUri=Wit});var Cue=C(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});WR.EmbeddedJWK=void 0;var Jit=Q0(),Xit=Wi(),Sue=ut();async function Yit(e,t){let r={...e,...t?.header};if(!(0,Xit.default)(r.jwk))throw new Sue.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await(0,Jit.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||n.type!=="public")throw new Sue.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}WR.EmbeddedJWK=Yit});var lj=C($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.createLocalJWKSet=$d.LocalJWKSet=$d.isJWKSLike=void 0;var Qit=Q0(),nS=ut(),Zit=Wi();function eot(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new nS.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function _ue(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(tot)}$d.isJWKSLike=_ue;function tot(e){return(0,Zit.default)(e)}function rot(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}var JR=class{constructor(t){if(this._cached=new WeakMap,!_ue(t))throw new nS.JWKSInvalid("JSON Web Key Set malformed");this._jwks=rot(t)}async getKey(t,r){let{alg:n,kid:s}={...t,...r?.header},i=eot(n),o=this._jwks.keys.filter(l=>{let u=i===l.kty;if(u&&typeof s=="string"&&(u=s===l.kid),u&&typeof l.alg=="string"&&(u=n===l.alg),u&&typeof l.use=="string"&&(u=l.use==="sig"),u&&Array.isArray(l.key_ops)&&(u=l.key_ops.includes("verify")),u&&n==="EdDSA"&&(u=l.crv==="Ed25519"||l.crv==="Ed448"),u)switch(n){case"ES256":u=l.crv==="P-256";break;case"ES256K":u=l.crv==="secp256k1";break;case"ES384":u=l.crv==="P-384";break;case"ES512":u=l.crv==="P-521";break}return u}),{0:a,length:c}=o;if(c===0)throw new nS.JWKSNoMatchingKey;if(c!==1){let l=new nS.JWKSMultipleMatchingKeys,{_cached:u}=this;throw l[Symbol.asyncIterator]=async function*(){for(let m of o)try{yield await bue(u,m,n)}catch{continue}},l}return bue(this._cached,a,n)}};$d.LocalJWKSet=JR;async function bue(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(n[r]===void 0){let s=await(0,Qit.importJWK)({...t,ext:!0},r);if(s instanceof Uint8Array||s.type!=="public")throw new nS.JWKSInvalid("JSON Web Key Set members must be public keys");n[r]=s}return n[r]}function not(e){let t=new JR(e);return async function(r,n){return t.getKey(r,n)}}$d.createLocalJWKSet=not});var xue=C(uj=>{"use strict";Object.defineProperty(uj,"__esModule",{value:!0});var sot=require("http"),iot=require("https"),vue=require("events"),dj=ut(),Aue=Tn(),oot=async(e,t,r)=>{let n;switch(e.protocol){case"https:":n=iot.get;break;case"http:":n=sot.get;break;default:throw new TypeError("Unsupported URL protocol.")}let{agent:s,headers:i}=r,o=n(e.href,{agent:s,timeout:t,headers:i}),[a]=await Promise.race([(0,vue.once)(o,"response"),(0,vue.once)(o,"timeout")]);if(!a)throw o.destroy(),new dj.JWKSTimeout;if(a.statusCode!==200)throw new dj.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let c=[];for await(let l of a)c.push(l);try{return JSON.parse(Aue.decoder.decode((0,Aue.concat)(...c)))}catch{throw new dj.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};uj.default=oot});var wue=C(XR=>{"use strict";Object.defineProperty(XR,"__esModule",{value:!0});XR.createRemoteJWKSet=void 0;var aot=xue(),Iue=ut(),Tue=lj();function cot(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}var fj=class extends Tue.LocalJWKSet{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,r)}catch(n){if(n instanceof Iue.JWKSNoMatchingKey&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw n}}async reload(){this._pendingFetch&&cot()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,aot.default)(this._url,this._timeoutDuration,this._options).then(t=>{if(!(0,Tue.isJWKSLike)(t))throw new Iue.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}};function lot(e,t){let r=new fj(e,t);return async function(n,s){return r.getKey(n,s)}}XR.createRemoteJWKSet=lot});var Nue=C(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});QR.UnsecuredJWT=void 0;var YR=ci(),dot=Tn(),mj=ut(),uot=LR(),fot=KR(),hj=class extends fot.ProduceJWT{encode(){let t=YR.encode(JSON.stringify({alg:"none"})),r=YR.encode(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){if(typeof t!="string")throw new mj.JWTInvalid("Unsecured JWT must be a string");let{0:n,1:s,2:i,length:o}=t.split(".");if(o!==3||i!=="")throw new mj.JWTInvalid("Invalid Unsecured JWT");let a;try{if(a=JSON.parse(dot.decoder.decode(YR.decode(n))),a.alg!=="none")throw new Error}catch{throw new mj.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,uot.default)(a,YR.decode(s),r),header:a}}};QR.UnsecuredJWT=hj});var ZR=C(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.decode=gg.encode=void 0;var Rue=ci();gg.encode=Rue.encode;gg.decode=Rue.decode});var Pue=C(eP=>{"use strict";Object.defineProperty(eP,"__esModule",{value:!0});eP.decodeProtectedHeader=void 0;var mot=ZR(),hot=Tn(),pot=Wi();function got(e){let t;if(typeof e=="string"){let r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;let r=JSON.parse(hot.decoder.decode((0,mot.decode)(t)));if(!(0,pot.default)(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}eP.decodeProtectedHeader=got});var Oue=C(tP=>{"use strict";Object.defineProperty(tP,"__esModule",{value:!0});tP.decodeJwt=void 0;var yot=ZR(),Eot=Tn(),Sot=Wi(),zf=ut();function Cot(e){if(typeof e!="string")throw new zf.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:t,length:r}=e.split(".");if(r===5)throw new zf.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new zf.JWTInvalid("Invalid JWT");if(!t)throw new zf.JWTInvalid("JWTs must contain a payload");let n;try{n=(0,yot.decode)(t)}catch{throw new zf.JWTInvalid("Failed to base64url decode the payload")}let s;try{s=JSON.parse(Eot.decoder.decode(n))}catch{throw new zf.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,Sot.default)(s))throw new zf.JWTInvalid("Invalid JWT Claims Set");return s}tP.decodeJwt=Cot});var pj=C(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.generateKeyPair=yg.generateSecret=void 0;var kue=require("crypto"),bot=require("util"),_ot=q0(),Due=$0(),sS=ut(),Ic=(0,bot.promisify)(kue.generateKeyPair);async function vot(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new sS.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,kue.createSecretKey)((0,_ot.default)(new Uint8Array(r>>3)))}yg.generateSecret=vot;async function Aot(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let i=(r=t?.modulusLength)!==null&&r!==void 0?r:2048;if(typeof i!="number"||i<2048)throw new sS.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let o=await Ic("rsa",{modulusLength:i,publicExponent:65537});return(0,Due.setModulusLength)(o.privateKey,i),(0,Due.setModulusLength)(o.publicKey,i),o}case"ES256":return Ic("ec",{namedCurve:"P-256"});case"ES256K":return Ic("ec",{namedCurve:"secp256k1"});case"ES384":return Ic("ec",{namedCurve:"P-384"});case"ES512":return Ic("ec",{namedCurve:"P-521"});case"EdDSA":switch(t?.crv){case void 0:case"Ed25519":return Ic("ed25519");case"Ed448":return Ic("ed448");default:throw new sS.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let s=(n=t?.crv)!==null&&n!==void 0?n:"P-256";switch(s){case void 0:case"P-256":case"P-384":case"P-521":return Ic("ec",{namedCurve:s});case"X25519":return Ic("x25519");case"X448":return Ic("x448");default:throw new sS.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new sS.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}yg.generateKeyPair=Aot});var Bue=C(rP=>{"use strict";Object.defineProperty(rP,"__esModule",{value:!0});rP.generateKeyPair=void 0;var xot=pj();async function Iot(e,t){return(0,xot.generateKeyPair)(e,t)}rP.generateKeyPair=Iot});var Lue=C(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});nP.generateSecret=void 0;var Tot=pj();async function wot(e,t){return(0,Tot.generateSecret)(e,t)}nP.generateSecret=wot});var Mue=C(gj=>{"use strict";Object.defineProperty(gj,"__esModule",{value:!0});gj.default="node:crypto"});var Uue=C(yj=>{"use strict";Object.defineProperty(yj,"__esModule",{value:!0});var Not=Mue();yj.default=Not.default});var Sj=C(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.cryptoRuntime=Pe.base64url=Pe.generateSecret=Pe.generateKeyPair=Pe.errors=Pe.decodeJwt=Pe.decodeProtectedHeader=Pe.importJWK=Pe.importX509=Pe.importPKCS8=Pe.importSPKI=Pe.exportJWK=Pe.exportSPKI=Pe.exportPKCS8=Pe.UnsecuredJWT=Pe.createRemoteJWKSet=Pe.createLocalJWKSet=Pe.EmbeddedJWK=Pe.calculateJwkThumbprintUri=Pe.calculateJwkThumbprint=Pe.EncryptJWT=Pe.SignJWT=Pe.GeneralSign=Pe.FlattenedSign=Pe.CompactSign=Pe.FlattenedEncrypt=Pe.CompactEncrypt=Pe.jwtDecrypt=Pe.jwtVerify=Pe.generalVerify=Pe.flattenedVerify=Pe.compactVerify=Pe.GeneralEncrypt=Pe.generalDecrypt=Pe.flattenedDecrypt=Pe.compactDecrypt=void 0;var Rot=h4();Object.defineProperty(Pe,"compactDecrypt",{enumerable:!0,get:function(){return Rot.compactDecrypt}});var Pot=bR();Object.defineProperty(Pe,"flattenedDecrypt",{enumerable:!0,get:function(){return Pot.flattenedDecrypt}});var Oot=jde();Object.defineProperty(Pe,"generalDecrypt",{enumerable:!0,get:function(){return Oot.generalDecrypt}});var Dot=Wde();Object.defineProperty(Pe,"GeneralEncrypt",{enumerable:!0,get:function(){return Dot.GeneralEncrypt}});var kot=V4();Object.defineProperty(Pe,"compactVerify",{enumerable:!0,get:function(){return kot.compactVerify}});var Bot=DR();Object.defineProperty(Pe,"flattenedVerify",{enumerable:!0,get:function(){return Bot.flattenedVerify}});var Lot=sue();Object.defineProperty(Pe,"generalVerify",{enumerable:!0,get:function(){return Lot.generalVerify}});var Mot=lue();Object.defineProperty(Pe,"jwtVerify",{enumerable:!0,get:function(){return Mot.jwtVerify}});var Uot=due();Object.defineProperty(Pe,"jwtDecrypt",{enumerable:!0,get:function(){return Uot.jwtDecrypt}});var Fot=Q4();Object.defineProperty(Pe,"CompactEncrypt",{enumerable:!0,get:function(){return Fot.CompactEncrypt}});var qot=wR();Object.defineProperty(Pe,"FlattenedEncrypt",{enumerable:!0,get:function(){return qot.FlattenedEncrypt}});var jot=rj();Object.defineProperty(Pe,"CompactSign",{enumerable:!0,get:function(){return jot.CompactSign}});var Vot=jR();Object.defineProperty(Pe,"FlattenedSign",{enumerable:!0,get:function(){return Vot.FlattenedSign}});var Hot=fue();Object.defineProperty(Pe,"GeneralSign",{enumerable:!0,get:function(){return Hot.GeneralSign}});var zot=hue();Object.defineProperty(Pe,"SignJWT",{enumerable:!0,get:function(){return zot.SignJWT}});var Kot=pue();Object.defineProperty(Pe,"EncryptJWT",{enumerable:!0,get:function(){return Kot.EncryptJWT}});var Fue=Eue();Object.defineProperty(Pe,"calculateJwkThumbprint",{enumerable:!0,get:function(){return Fue.calculateJwkThumbprint}});Object.defineProperty(Pe,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return Fue.calculateJwkThumbprintUri}});var Got=Cue();Object.defineProperty(Pe,"EmbeddedJWK",{enumerable:!0,get:function(){return Got.EmbeddedJWK}});var $ot=lj();Object.defineProperty(Pe,"createLocalJWKSet",{enumerable:!0,get:function(){return $ot.createLocalJWKSet}});var Wot=wue();Object.defineProperty(Pe,"createRemoteJWKSet",{enumerable:!0,get:function(){return Wot.createRemoteJWKSet}});var Jot=Nue();Object.defineProperty(Pe,"UnsecuredJWT",{enumerable:!0,get:function(){return Jot.UnsecuredJWT}});var Ej=S4();Object.defineProperty(Pe,"exportPKCS8",{enumerable:!0,get:function(){return Ej.exportPKCS8}});Object.defineProperty(Pe,"exportSPKI",{enumerable:!0,get:function(){return Ej.exportSPKI}});Object.defineProperty(Pe,"exportJWK",{enumerable:!0,get:function(){return Ej.exportJWK}});var sP=Q0();Object.defineProperty(Pe,"importSPKI",{enumerable:!0,get:function(){return sP.importSPKI}});Object.defineProperty(Pe,"importPKCS8",{enumerable:!0,get:function(){return sP.importPKCS8}});Object.defineProperty(Pe,"importX509",{enumerable:!0,get:function(){return sP.importX509}});Object.defineProperty(Pe,"importJWK",{enumerable:!0,get:function(){return sP.importJWK}});var Xot=Pue();Object.defineProperty(Pe,"decodeProtectedHeader",{enumerable:!0,get:function(){return Xot.decodeProtectedHeader}});var Yot=Oue();Object.defineProperty(Pe,"decodeJwt",{enumerable:!0,get:function(){return Yot.decodeJwt}});Pe.errors=ut();var Qot=Bue();Object.defineProperty(Pe,"generateKeyPair",{enumerable:!0,get:function(){return Qot.generateKeyPair}});var Zot=Lue();Object.defineProperty(Pe,"generateSecret",{enumerable:!0,get:function(){return Zot.generateSecret}});Pe.base64url=ZR();var eat=Uue();Object.defineProperty(Pe,"cryptoRuntime",{enumerable:!0,get:function(){return eat.default}})});var oP=C(($At,que)=>{function iP(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}iP.prototype=Object.create(Error.prototype);iP.prototype.constructor=iP;que.exports=iP});var Cj=C((WAt,Vue)=>{var jue=Sj(),tat=oP();function rat(e){if(e.alg)return e.alg;if(e.kty==="RSA")return"RS256";if(e.kty==="EC")switch(e.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}if(e.kty==="OKP")switch(e.crv){case"Ed25519":case"Ed448":return"EdDSA"}throw new tat("Unsupported JWK")}async function nat(e){let t=[];e=e.filter(({use:r})=>r==="sig"||r===void 0).filter(({kty:r})=>r==="RSA"||r==="EC"||r==="OKP");for(let r of e)try{let n=await jue.importJWK({...r,ext:!0},rat(r));if(n.type!=="public")continue;let s;switch(n[Symbol.toStringTag]){case"CryptoKey":{let i=await jue.exportSPKI(n);s=()=>i;break}case"KeyObject":default:s=()=>n.export({format:"pem",type:"spki"})}t.push({get publicKey(){return s()},get rsaPublicKey(){return s()},getPublicKey(){return s()},...typeof r.kid=="string"&&r.kid?{kid:r.kid}:void 0,...typeof r.alg=="string"&&r.alg?{alg:r.alg}:void 0})}catch{continue}return t}Vue.exports={retrieveSigningKeys:nat}});var zue=C((JAt,Hue)=>{var sat=require("http"),iat=require("https"),oat=require("url");Hue.exports.default=e=>e.fetcher?e.fetcher(e.uri):new Promise((t,r)=>{let{hostname:n,path:s,port:i,protocol:o}=oat.parse(e.uri),a={hostname:n,path:s,port:i,method:"GET",...e.headers&&{headers:{...e.headers}},...e.timeout&&{timeout:e.timeout},...e.agent&&{agent:e.agent}},l=(o==="https:"?iat:sat).request(a,u=>{let m="";u.setEncoding("utf8"),u.on("data",h=>{m+=h}),u.on("end",()=>{if(u.statusCode<200||u.statusCode>=300){let h=u.body&&(u.body.message||u.body)||u.statusMessage||`Http Error ${u.statusCode}`;r({errorMsg:h})}else try{t(m&&JSON.parse(m))}catch(h){r(h)}})});l.on("timeout",()=>l.destroy()).on("error",u=>r(u)).end()})});var Gue=C((XAt,Kue)=>{"use strict";Kue.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Wue=C((YAt,$ue)=>{"use strict";$ue.exports=dr;dr.Node=Kf;dr.create=dr;function dr(e){var t=this;if(t instanceof dr||(t=new dr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}dr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};dr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};dr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};dr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)cat(this,arguments[e]);return this.length};dr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lat(this,arguments[e]);return this.length};dr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};dr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};dr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};dr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};dr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};dr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};dr.prototype.map=function(e,t){t=t||this;for(var r=new dr,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};dr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new dr,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};dr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};dr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};dr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};dr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};dr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new dr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};dr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new dr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};dr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var i=[],n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=aat(this,s,r[n]);return i};dr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function aat(e,t,r){var n=t===e.head?new Kf(r,null,t,e):new Kf(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function cat(e,t){e.tail=new Kf(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lat(e,t){e.head=new Kf(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Kf(e,t,r,n){if(!(this instanceof Kf))return new Kf(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Gue()(dr)}catch{}});var xj=C((QAt,Que)=>{"use strict";var dat=Wue(),Gf=Symbol("max"),gl=Symbol("length"),Eg=Symbol("lengthCalculator"),oS=Symbol("allowStale"),$f=Symbol("maxAge"),pl=Symbol("dispose"),Jue=Symbol("noDisposeOnSet"),Ns=Symbol("lruList"),Da=Symbol("cache"),Yue=Symbol("updateAgeOnGet"),bj=()=>1,vj=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[Gf]=t.max||1/0,n=t.length||bj;if(this[Eg]=typeof n!="function"?bj:n,this[oS]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[$f]=t.maxAge||0,this[pl]=t.dispose,this[Jue]=t.noDisposeOnSet||!1,this[Yue]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Gf]=t||1/0,iS(this)}get max(){return this[Gf]}set allowStale(t){this[oS]=!!t}get allowStale(){return this[oS]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[$f]=t,iS(this)}get maxAge(){return this[$f]}set lengthCalculator(t){typeof t!="function"&&(t=bj),t!==this[Eg]&&(this[Eg]=t,this[gl]=0,this[Ns].forEach(r=>{r.length=this[Eg](r.value,r.key),this[gl]+=r.length})),iS(this)}get lengthCalculator(){return this[Eg]}get length(){return this[gl]}get itemCount(){return this[Ns].length}rforEach(t,r){r=r||this;for(let n=this[Ns].tail;n!==null;){let s=n.prev;Xue(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[Ns].head;n!==null;){let s=n.next;Xue(this,t,n,r),n=s}}keys(){return this[Ns].toArray().map(t=>t.key)}values(){return this[Ns].toArray().map(t=>t.value)}reset(){this[pl]&&this[Ns]&&this[Ns].length&&this[Ns].forEach(t=>this[pl](t.key,t.value)),this[Da]=new Map,this[Ns]=new dat,this[gl]=0}dump(){return this[Ns].map(t=>aP(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ns]}set(t,r,n){if(n=n||this[$f],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Eg](r,t);if(this[Da].has(t)){if(i>this[Gf])return Sg(this,this[Da].get(t)),!1;let c=this[Da].get(t).value;return this[pl]&&(this[Jue]||this[pl](t,c.value)),c.now=s,c.maxAge=n,c.value=r,this[gl]+=i-c.length,c.length=i,this.get(t),iS(this),!0}let o=new Aj(t,r,i,s,n);return o.length>this[Gf]?(this[pl]&&this[pl](t,r),!1):(this[gl]+=o.length,this[Ns].unshift(o),this[Da].set(t,this[Ns].head),iS(this),!0)}has(t){if(!this[Da].has(t))return!1;let r=this[Da].get(t).value;return!aP(this,r)}get(t){return _j(this,t,!0)}peek(t){return _j(this,t,!1)}pop(){let t=this[Ns].tail;return t?(Sg(this,t),t.value):null}del(t){Sg(this,this[Da].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let s=t[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-r;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Da].forEach((t,r)=>_j(this,r,!1))}},_j=(e,t,r)=>{let n=e[Da].get(t);if(n){let s=n.value;if(aP(e,s)){if(Sg(e,n),!e[oS])return}else r&&(e[Yue]&&(n.value.now=Date.now()),e[Ns].unshiftNode(n));return s.value}},aP=(e,t)=>{if(!t||!t.maxAge&&!e[$f])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[$f]&&r>e[$f]},iS=e=>{if(e[gl]>e[Gf])for(let t=e[Ns].tail;e[gl]>e[Gf]&&t!==null;){let r=t.prev;Sg(e,t),t=r}},Sg=(e,t)=>{if(t){let r=t.value;e[pl]&&e[pl](r.key,r.value),e[gl]-=r.length,e[Da].delete(r.key),e[Ns].removeNode(t)}},Aj=class{constructor(t,r,n,s,i){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}},Xue=(e,t,r,n)=>{let s=r.value;aP(e,s)&&(Sg(e,r),e[oS]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};Que.exports=vj});var qj=C((aS,Cg)=>{var uat=200,dfe="__lodash_hash_undefined__",ufe=9007199254740991,Dj="[object Arguments]",fat="[object Array]",ffe="[object Boolean]",mfe="[object Date]",mat="[object Error]",kj="[object Function]",hfe="[object GeneratorFunction]",cP="[object Map]",pfe="[object Number]",Bj="[object Object]",Zue="[object Promise]",gfe="[object RegExp]",lP="[object Set]",yfe="[object String]",Efe="[object Symbol]",Tj="[object WeakMap]",Sfe="[object ArrayBuffer]",dP="[object DataView]",Cfe="[object Float32Array]",bfe="[object Float64Array]",_fe="[object Int8Array]",vfe="[object Int16Array]",Afe="[object Int32Array]",xfe="[object Uint8Array]",Ife="[object Uint8ClampedArray]",Tfe="[object Uint16Array]",wfe="[object Uint32Array]",hat=/[\\^$.*+?()[\]{}|]/g,pat=/\w*$/,gat=/^\[object .+?Constructor\]$/,yat=/^(?:0|[1-9]\d*)$/,Jr={};Jr[Dj]=Jr[fat]=Jr[Sfe]=Jr[dP]=Jr[ffe]=Jr[mfe]=Jr[Cfe]=Jr[bfe]=Jr[_fe]=Jr[vfe]=Jr[Afe]=Jr[cP]=Jr[pfe]=Jr[Bj]=Jr[gfe]=Jr[lP]=Jr[yfe]=Jr[Efe]=Jr[xfe]=Jr[Ife]=Jr[Tfe]=Jr[wfe]=!0;Jr[mat]=Jr[kj]=Jr[Tj]=!1;var Eat=typeof global=="object"&&global&&global.Object===Object&&global,Sat=typeof self=="object"&&self&&self.Object===Object&&self,yl=Eat||Sat||Function("return this")(),Nfe=typeof aS=="object"&&aS&&!aS.nodeType&&aS,efe=Nfe&&typeof Cg=="object"&&Cg&&!Cg.nodeType&&Cg,Cat=efe&&efe.exports===Nfe;function bat(e,t){return e.set(t[0],t[1]),e}function _at(e,t){return e.add(t),e}function vat(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function Aat(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function Rfe(e,t,r,n){var s=-1,i=e?e.length:0;for(n&&i&&(r=e[++s]);++s<i;)r=t(r,e[s],s,e);return r}function xat(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Iat(e,t){return e?.[t]}function Pfe(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function tfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Lj(e,t){return function(r){return e(t(r))}}function rfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Tat=Array.prototype,wat=Function.prototype,uP=Object.prototype,Ij=yl["__core-js_shared__"],nfe=(function(){var e=/[^.]+$/.exec(Ij&&Ij.keys&&Ij.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),Ofe=wat.toString,Wd=uP.hasOwnProperty,fP=uP.toString,Nat=RegExp("^"+Ofe.call(Wd).replace(hat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sfe=Cat?yl.Buffer:void 0,ife=yl.Symbol,ofe=yl.Uint8Array,Rat=Lj(Object.getPrototypeOf,Object),Pat=Object.create,Oat=uP.propertyIsEnumerable,Dat=Tat.splice,afe=Object.getOwnPropertySymbols,kat=sfe?sfe.isBuffer:void 0,Bat=Lj(Object.keys,Object),wj=vg(yl,"DataView"),cS=vg(yl,"Map"),Nj=vg(yl,"Promise"),Rj=vg(yl,"Set"),Pj=vg(yl,"WeakMap"),lS=vg(Object,"create"),Lat=Xf(wj),Mat=Xf(cS),Uat=Xf(Nj),Fat=Xf(Rj),qat=Xf(Pj),cfe=ife?ife.prototype:void 0,lfe=cfe?cfe.valueOf:void 0;function Jf(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function jat(){this.__data__=lS?lS(null):{}}function Vat(e){return this.has(e)&&delete this.__data__[e]}function Hat(e){var t=this.__data__;if(lS){var r=t[e];return r===dfe?void 0:r}return Wd.call(t,e)?t[e]:void 0}function zat(e){var t=this.__data__;return lS?t[e]!==void 0:Wd.call(t,e)}function Kat(e,t){var r=this.__data__;return r[e]=lS&&t===void 0?dfe:t,this}Jf.prototype.clear=jat;Jf.prototype.delete=Vat;Jf.prototype.get=Hat;Jf.prototype.has=zat;Jf.prototype.set=Kat;function El(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gat(){this.__data__=[]}function $at(e){var t=this.__data__,r=mP(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Dat.call(t,r,1),!0}function Wat(e){var t=this.__data__,r=mP(t,e);return r<0?void 0:t[r][1]}function Jat(e){return mP(this.__data__,e)>-1}function Xat(e,t){var r=this.__data__,n=mP(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}El.prototype.clear=Gat;El.prototype.delete=$at;El.prototype.get=Wat;El.prototype.has=Jat;El.prototype.set=Xat;function bg(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yat(){this.__data__={hash:new Jf,map:new(cS||El),string:new Jf}}function Qat(e){return hP(this,e).delete(e)}function Zat(e){return hP(this,e).get(e)}function ect(e){return hP(this,e).has(e)}function tct(e,t){return hP(this,e).set(e,t),this}bg.prototype.clear=Yat;bg.prototype.delete=Qat;bg.prototype.get=Zat;bg.prototype.has=ect;bg.prototype.set=tct;function _g(e){this.__data__=new El(e)}function rct(){this.__data__=new El}function nct(e){return this.__data__.delete(e)}function sct(e){return this.__data__.get(e)}function ict(e){return this.__data__.has(e)}function oct(e,t){var r=this.__data__;if(r instanceof El){var n=r.__data__;if(!cS||n.length<uat-1)return n.push([e,t]),this;r=this.__data__=new bg(n)}return r.set(e,t),this}_g.prototype.clear=rct;_g.prototype.delete=nct;_g.prototype.get=sct;_g.prototype.has=ict;_g.prototype.set=oct;function act(e,t){var r=Uj(e)||Pct(e)?xat(e.length,String):[],n=r.length,s=!!n;for(var i in e)(t||Wd.call(e,i))&&!(s&&(i=="length"||Tct(i,n)))&&r.push(i);return r}function Dfe(e,t,r){var n=e[t];(!(Wd.call(e,t)&&Mfe(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function mP(e,t){for(var r=e.length;r--;)if(Mfe(e[r][0],t))return r;return-1}function cct(e,t){return e&&kfe(t,Fj(t),e)}function Oj(e,t,r,n,s,i,o){var a;if(n&&(a=i?n(e,s,i,o):n(e)),a!==void 0)return a;if(!pP(e))return e;var c=Uj(e);if(c){if(a=Act(e),!t)return bct(e,a)}else{var l=Wf(e),u=l==kj||l==hfe;if(Dct(e))return hct(e,t);if(l==Bj||l==Dj||u&&!i){if(Pfe(e))return i?e:{};if(a=xct(u?{}:e),!t)return _ct(e,cct(a,e))}else{if(!Jr[l])return i?e:{};a=Ict(e,l,Oj,t)}}o||(o=new _g);var m=o.get(e);if(m)return m;if(o.set(e,a),!c)var h=r?vct(e):Fj(e);return vat(h||e,function(p,g){h&&(g=p,p=e[g]),Dfe(a,g,Oj(p,t,r,n,g,e,o))}),a}function lct(e){return pP(e)?Pat(e):{}}function dct(e,t,r){var n=t(e);return Uj(e)?n:Aat(n,r(e))}function uct(e){return fP.call(e)}function fct(e){if(!pP(e)||Nct(e))return!1;var t=Ffe(e)||Pfe(e)?Nat:gat;return t.test(Xf(e))}function mct(e){if(!Lfe(e))return Bat(e);var t=[];for(var r in Object(e))Wd.call(e,r)&&r!="constructor"&&t.push(r);return t}function hct(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Mj(e){var t=new e.constructor(e.byteLength);return new ofe(t).set(new ofe(e)),t}function pct(e,t){var r=t?Mj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function gct(e,t,r){var n=t?r(tfe(e),!0):tfe(e);return Rfe(n,bat,new e.constructor)}function yct(e){var t=new e.constructor(e.source,pat.exec(e));return t.lastIndex=e.lastIndex,t}function Ect(e,t,r){var n=t?r(rfe(e),!0):rfe(e);return Rfe(n,_at,new e.constructor)}function Sct(e){return lfe?Object(lfe.call(e)):{}}function Cct(e,t){var r=t?Mj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function bct(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function kfe(e,t,r,n){r||(r={});for(var s=-1,i=t.length;++s<i;){var o=t[s],a=n?n(r[o],e[o],o,r,e):void 0;Dfe(r,o,a===void 0?e[o]:a)}return r}function _ct(e,t){return kfe(e,Bfe(e),t)}function vct(e){return dct(e,Fj,Bfe)}function hP(e,t){var r=e.__data__;return wct(t)?r[typeof t=="string"?"string":"hash"]:r.map}function vg(e,t){var r=Iat(e,t);return fct(r)?r:void 0}var Bfe=afe?Lj(afe,Object):Lct,Wf=uct;(wj&&Wf(new wj(new ArrayBuffer(1)))!=dP||cS&&Wf(new cS)!=cP||Nj&&Wf(Nj.resolve())!=Zue||Rj&&Wf(new Rj)!=lP||Pj&&Wf(new Pj)!=Tj)&&(Wf=function(e){var t=fP.call(e),r=t==Bj?e.constructor:void 0,n=r?Xf(r):void 0;if(n)switch(n){case Lat:return dP;case Mat:return cP;case Uat:return Zue;case Fat:return lP;case qat:return Tj}return t});function Act(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&Wd.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function xct(e){return typeof e.constructor=="function"&&!Lfe(e)?lct(Rat(e)):{}}function Ict(e,t,r,n){var s=e.constructor;switch(t){case Sfe:return Mj(e);case ffe:case mfe:return new s(+e);case dP:return pct(e,n);case Cfe:case bfe:case _fe:case vfe:case Afe:case xfe:case Ife:case Tfe:case wfe:return Cct(e,n);case cP:return gct(e,n,r);case pfe:case yfe:return new s(e);case gfe:return yct(e);case lP:return Ect(e,n,r);case Efe:return Sct(e)}}function Tct(e,t){return t=t??ufe,!!t&&(typeof e=="number"||yat.test(e))&&e>-1&&e%1==0&&e<t}function wct(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Nct(e){return!!nfe&&nfe in e}function Lfe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uP;return e===r}function Xf(e){if(e!=null){try{return Ofe.call(e)}catch{}try{return e+""}catch{}}return""}function Rct(e){return Oj(e,!0,!0)}function Mfe(e,t){return e===t||e!==e&&t!==t}function Pct(e){return Oct(e)&&Wd.call(e,"callee")&&(!Oat.call(e,"callee")||fP.call(e)==Dj)}var Uj=Array.isArray;function Ufe(e){return e!=null&&kct(e.length)&&!Ffe(e)}function Oct(e){return Bct(e)&&Ufe(e)}var Dct=kat||Mct;function Ffe(e){var t=pP(e)?fP.call(e):"";return t==kj||t==hfe}function kct(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ufe}function pP(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Bct(e){return!!e&&typeof e=="object"}function Fj(e){return Ufe(e)?act(e):mct(e)}function Lct(){return[]}function Mct(){return!1}Cg.exports=Rct});var jj=C(gP=>{"use strict";Object.defineProperty(gP,"__esModule",{value:!0});gP.deepFreeze=void 0;function qfe(e){return e&&(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){e.hasOwnProperty(t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&e[t].constructor!==Buffer&&!Object.isFrozen(e[t])&&qfe(e[t])})),e}gP.deepFreeze=qfe});var zfe=C(wc=>{"use strict";var Uct=wc&&wc.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Tc=wc&&wc.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Uct(arguments[t]));return e},Hfe=wc&&wc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wc,"__esModule",{value:!0});wc.syncMemoizer=void 0;var Fct=Hfe(xj()),qct=require("events"),jfe=Hfe(qj()),Vfe=jj();function jct(e){var t=new Fct.default(e),r=e.load,n=e.hash,s=e.bypass,i=e.itemMaxAge,o=e.freeze,a=e.clone,c=new qct.EventEmitter,l=Object.assign({del:u,reset:function(){return t.reset()},keys:t.keys.bind(t),on:c.on.bind(c),once:c.once.bind(c)},e);if(e.disable)return Object.assign(r,l);function u(){var y=n.apply(void 0,Tc(arguments));t.del(y)}function m(y){for(var _=[],x=1;x<arguments.length;x++)_[x-1]=arguments[x];c.emit.apply(c,Tc([y],_))}function h(y){return y&&y.then&&typeof y.then=="function"}function p(y){var _=y;return a&&(h(_)?_=_.then(jfe.default):_=jfe.default(_)),o&&(h(_)?_=_.then(Vfe.deepFreeze):Vfe.deepFreeze(_)),_}var g=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];if(s&&s.apply(void 0,Tc(y)))return m.apply(void 0,Tc(["miss"],y)),r.apply(void 0,Tc(y));var x=n.apply(void 0,Tc(y)),w=t.get(x);if(w)return m.apply(void 0,Tc(["hit"],y)),p(w);m.apply(void 0,Tc(["miss"],y));var D=r.apply(void 0,Tc(y));return i?t.set(x,D,i.apply(void 0,Tc(y.concat([D])))):t.set(x,D),p(D)};return Object.assign(g,l)}wc.syncMemoizer=jct});var $fe=C(ra=>{"use strict";var Vct=ra&&ra.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ji=ra&&ra.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vct(arguments[t]));return e},Hct=ra&&ra.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kfe=ra&&ra.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});ra.asyncMemoizer=void 0;var zct=Kfe(xj()),Kct=require("events"),Gct=Kfe(qj()),$ct=jj(),Wct=zfe();function Gfe(e){var t=new zct.default(e),r=e.load,n=e.hash,s=e.bypass,i=e.itemMaxAge,o=e.freeze,a=e.clone,c=e.queueMaxAge||1e3,l=new Map,u=new Kct.EventEmitter,m=Object.assign({del:h,reset:function(){return t.reset()},keys:t.keys.bind(t),on:u.on.bind(u),once:u.once.bind(u)},e);if(e.disable)return Object.assign(r,m);function h(){for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];var D=n.apply(void 0,Ji(x));t.del(D)}function p(x,w,D){o&&D.forEach($ct.deepFreeze),i?t.set(x,D,i.apply(void 0,Ji(w.concat(D)))):t.set(x,D)}function g(x,w){var D,G;try{for(var W=Hct(x),J=W.next();!J.done;J=W.next()){var xe=J.value;a?setImmediate.apply(void 0,Ji([xe],w.map(Gct.default))):setImmediate.apply(void 0,Ji([xe],w))}}catch(be){D={error:be}}finally{try{J&&!J.done&&(G=W.return)&&G.call(W)}finally{if(D)throw D.error}}}function y(x){for(var w=[],D=1;D<arguments.length;D++)w[D-1]=arguments[D];u.emit.apply(u,Ji([x],w))}function _(){for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];var D=x.slice(0,-1),G=x.slice(-1).pop(),W;if(s&&s.apply(void 0,Ji(D)))return y.apply(void 0,Ji(["miss"],D)),r.apply(void 0,Ji(x));D.length===0&&!n?W="_":W=n.apply(void 0,Ji(D));var J=t.get(W);if(J)return y.apply(void 0,Ji(["hit"],D)),g([G],[null].concat(J));var xe=l.get(W);if(xe&&xe.expiresAt>Date.now()){xe.queue.push(G),y.apply(void 0,Ji(["queue"],D));return}y.apply(void 0,Ji(["miss"],D));var be=Date.now(),De=[G];l.set(W,{queue:De,expiresAt:be+c});var Ge=function(){for(var $e=[],rt=0;rt<arguments.length;rt++)$e[rt]=arguments[rt];var er=$e[0];er||p(W,D,$e.slice(1)),l.delete(W),y.apply(void 0,Ji(["loaded",Date.now()-be],D)),g(De,$e)};r.apply(void 0,Ji(D,[Ge]))}return Object.assign(_,m)}ra.asyncMemoizer=Gfe;Gfe.sync=Wct.syncMemoizer});var Jfe=C((rxt,Wfe)=>{"use strict";var Jct=$fe();Wfe.exports=Jct.asyncMemoizer});var Yfe=C((nxt,Xfe)=>{var Xct=iR()("jwks"),Yct=Jfe(),{promisify:Qct,callbackify:Zct}=require("util");function elt(e,{cacheMaxEntries:t=5,cacheMaxAge:r=6e5}){return Xct(`Configured caching of signing keys. Max: ${t} / Age: ${r}`),Qct(Yct({hash:n=>n,load:Zct(e.getSigningKey.bind(e)),maxAge:r,max:t}))}Xfe.exports.default=elt});var Vj=C((sxt,Zfe)=>{var Qfe=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,typeof r=="string")switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};Qfe.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;if(!this.bucketSize)return process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0;if(e>this.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1;if(this.drip(),e>this.content)return n();if(this.parentBucket)return this.parentBucket.removeTokens(e,function(s,i){if(s)return t(s,null);if(e>r.content)return n();r.content-=e,t(null,Math.min(i,r.content))});return this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0;function n(){var s=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout(function(){r.removeTokens(e,t)},s),!1}},tryRemoveTokens:function(e){return this.bucketSize?e>this.bucketSize||(this.drip(),e>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)?!1:(this.content-=e,!0):!0},drip:function(){if(!this.tokensPerInterval){this.content=this.bucketSize;return}var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}};Zfe.exports=Qfe});var tme=C((ixt,eme)=>{var tlt=function(){if(typeof process<"u"&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return t*1e3+Math.floor(r/1e6)}return new Date().getTime()};eme.exports=tlt});var sme=C((oxt,nme)=>{var rlt=Vj(),Hj=tme(),rme=function(e,t,r){this.tokenBucket=new rlt(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=Hj(),this.tokensThisInterval=0,this.fireImmediately=r};rme.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=Hj();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var s=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout(function(){r.tokenBucket.removeTokens(e,i)},s)}return!1}return this.tokenBucket.removeTokens(e,i);function i(o,a){if(o)return t(o,null);r.tokensThisInterval+=e,t(null,a)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=Hj();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}};nme.exports=rme});var ime=C(zj=>{zj.RateLimiter=sme();zj.TokenBucket=Vj()});var Kj=C((cxt,ome)=>{function yP(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}yP.prototype=Object.create(Error.prototype);yP.prototype.constructor=yP;ome.exports=yP});var cme=C((lxt,ame)=>{var Gj=iR()("jwks"),{RateLimiter:nlt}=ime(),slt=Kj();function ilt(e,{jwksRequestsPerMinute:t=10}){let r=e.getSigningKey.bind(e),n=new nlt(t,"minute",!0);return Gj(`Configured rate limiting to JWKS endpoint at ${t}/minute`),async s=>await new Promise((i,o)=>{n.removeTokens(1,async(a,c)=>{if(a&&o(a),Gj("Requests to the JWKS endpoint available for the next minute:",c),c<0)Gj("Too many requests to the JWKS endpoint"),o(new slt("Too many requests to the JWKS endpoint"));else try{let l=await r(s);i(l)}catch(l){o(l)}})})}ame.exports.default=ilt});var dme=C((dxt,lme)=>{var olt=Cj().retrieveSigningKeys;function alt(e,{getKeysInterceptor:t}){let r=e.getSigningKey.bind(e);return async n=>{let s=await t(),i;if(s&&s.length&&(i=await olt(s)),i&&i.length){let o=i.find(a=>!n||a.kid===n);if(o)return o}return r(n)}}lme.exports.default=alt});var fme=C((uxt,ume)=>{var{callbackify:clt}=require("util"),llt=e=>{let t=e.getSigningKey.bind(e);return(r,n)=>n?clt(t)(r,n):t(r)};ume.exports.default=llt});var hme=C((fxt,mme)=>{mme.exports={request:zue().default,cacheSigningKey:Yfe().default,rateLimitSigningKey:cme().default,getKeysInterceptor:dme().default,callbackSupport:fme().default}});var $j=C((mxt,pme)=>{function EP(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}EP.prototype=Object.create(Error.prototype);EP.prototype.constructor=EP;pme.exports=EP});var Ag=C((hxt,yme)=>{var Yf=iR()("jwks"),{retrieveSigningKeys:dlt}=Cj(),{request:ult,cacheSigningKey:flt,rateLimitSigningKey:mlt,getKeysInterceptor:hlt,callbackSupport:plt}=hme(),Wj=oP(),gme=$j(),Jj=class{constructor(t){this.options={rateLimit:!1,cache:!0,timeout:3e4,...t},this.options.getKeysInterceptor&&(this.getSigningKey=hlt(this,t)),this.options.rateLimit&&(this.getSigningKey=mlt(this,t)),this.options.cache&&(this.getSigningKey=flt(this,t)),this.getSigningKey=plt(this,t)}async getKeys(){Yf(`Fetching keys from '${this.options.jwksUri}'`);try{let t=await ult({uri:this.options.jwksUri,headers:this.options.requestHeaders,agent:this.options.requestAgent,timeout:this.options.timeout,fetcher:this.options.fetcher});return Yf("Keys:",t.keys),t.keys}catch(t){let{errorMsg:r}=t;throw Yf("Failure:",r||t),r?new Wj(r):t}}async getSigningKeys(){let t=await this.getKeys();if(!t||!t.length)throw new Wj("The JWKS endpoint did not contain any keys");let r=await dlt(t);if(!r.length)throw new Wj("The JWKS endpoint did not contain any signing keys");return Yf("Signing Keys:",r),r}async getSigningKey(t){Yf(`Fetching signing key for '${t}'`);let r=await this.getSigningKeys(),n=t!=null;if(!n&&r.length>1)throw Yf("No KID specified and JWKS endpoint returned more than 1 key"),new gme("No KID specified and JWKS endpoint returned more than 1 key");let s=r.find(i=>!n||i.kid===t);if(s)return s;throw Yf(`Unable to find a signing key that matches '${t}'`),new gme(`Unable to find a signing key that matches '${t}'`)}};yme.exports={JwksClient:Jj}});var Sme=C((pxt,Eme)=>{function SP(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}SP.prototype=Object.create(Error.prototype);SP.prototype.constructor=SP;Eme.exports=SP});var xg=C((gxt,Cme)=>{Cme.exports={ArgumentError:Sme(),JwksError:oP(),JwksRateLimitError:Kj(),SigningKeyNotFoundError:$j()}});var dS=C((yxt,bme)=>{var glt=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES256K","ES384","ES512","EdDSA"];bme.exports=glt});var _me=C((Ext,CP)=>{var{ArgumentError:ylt}=xg(),{JwksClient:Elt}=Ag(),Slt=dS(),Clt=(e,t)=>{if(e&&e.name==="SigningKeyNotFoundError"||e)return t(e,null,null)};CP.exports.hapiJwt2KeyAsync=e=>{let t=CP.exports.hapiJwt2Key(e);return function(r){return new Promise((n,s)=>{t(r,(o,a)=>{!a||o?s(o):n({key:a})})})}};CP.exports.hapiJwt2Key=function(e){if(e==null)throw new ylt("An options object must be provided when initializing hapiJwt2Key");let t=new Elt(e),r=e.handleSigningKeyError||Clt;return function(s,i){if(!s||!s.header)return i(new Error("Cannot find a signing certificate if there is no header"),null,null);if(!Slt.includes(s.header.alg))return i(new Error("Unsupported algorithm "+s.header.alg+" supplied."),null,null);t.getSigningKey(s.header.kid).then(o=>i(null,o.publicKey||o.rsaPublicKey,o)).catch(o=>r(o,a=>i(a,null,null)))}}});var Ame=C((Sxt,vme)=>{var{ArgumentError:blt}=xg(),{JwksClient:_lt}=Ag(),vlt=dS(),Alt=(e,t)=>{if(e&&e.name==="SigningKeyNotFoundError")return t(null);if(e)return t(e)};vme.exports.expressJwtSecret=function(e){if(e==null)throw new blt("An options object must be provided when initializing expressJwtSecret");let t=new _lt(e),r=e.handleSigningKeyError||Alt,n=async(s,i)=>{if(!i)return;let o=i.header;if(!(!o||!vlt.includes(o.alg)))try{let a=await t.getSigningKey(o.kid);return a.publicKey||a.rsaPublicKey}catch(a){return new Promise((c,l)=>{r(a,u=>{if(!u)return c();l(u)})})}};return function(i,o,a,c){if(arguments.length===4){n(i,{header:o}).then(l=>{setImmediate(c,null,l)}).catch(l=>{setImmediate(c,l)});return}return n(i,arguments[1])}}});var Ime=C((Cxt,xme)=>{var{ArgumentError:xlt}=xg(),{JwksClient:Ilt}=Ag(),Tlt=dS();xme.exports.koaJwtSecret=function(e={}){if(!e.jwksUri)throw new xlt("No JWKS provided. Please provide a jwksUri");let t=new Ilt(e);return function({alg:n,kid:s}={}){return new Promise((i,o)=>{if(!Tlt.includes(n))return o(new Error("Missing / invalid token algorithm"));t.getSigningKey(s).then(a=>{i(a.publicKey||a.rsaPublicKey)}).catch(a=>e.handleSigningKeyError?e.handleSigningKeyError(a).then(o):o(a))})}}});var Rme=C((bxt,Nme)=>{var Tme=Sj(),{ArgumentError:wme}=xg(),{JwksClient:wlt}=Ag(),Nlt=dS(),Rlt=(e,t)=>{if(e&&e.name==="SigningKeyNotFoundError")return t(null);if(e)return t(e)};Nme.exports.passportJwtSecret=function(e){if(e==null)throw new wme("An options object must be provided when initializing passportJwtSecret");if(!e.jwksUri)throw new wme("No JWKS provided. Please provide a jwksUri");let t=new wlt(e),r=e.handleSigningKeyError||Rlt;return function(s,i,o){let a;try{a={payload:Tme.decodeJwt(i),header:Tme.decodeProtectedHeader(i)}}catch{a=null}if(!a||!Nlt.includes(a.header.alg))return o(null,null);t.getSigningKey(a.header.kid).then(c=>{o(null,c.publicKey||c.rsaPublicKey)}).catch(c=>{r(c,l=>o(l,null))})}}});var Ome=C((_xt,na)=>{var{JwksClient:Pme}=Ag(),bP=xg(),{hapiJwt2Key:Plt,hapiJwt2KeyAsync:Olt}=_me(),{expressJwtSecret:Dlt}=Ame(),{koaJwtSecret:klt}=Ime(),{passportJwtSecret:Blt}=Rme();na.exports=e=>new Pme(e);na.exports.JwksClient=Pme;na.exports.ArgumentError=bP.ArgumentError;na.exports.JwksError=bP.JwksError;na.exports.JwksRateLimitError=bP.JwksRateLimitError;na.exports.SigningKeyNotFoundError=bP.SigningKeyNotFoundError;na.exports.expressJwtSecret=Dlt;na.exports.hapiJwt2Key=Plt;na.exports.hapiJwt2KeyAsync=Olt;na.exports.koaJwtSecret=klt;na.exports.passportJwtSecret=Blt});var Mme=C(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.JwtErrorCode=Mn.JwtError=Mn.decodeJwt=Mn.verifyJwtSignature=Mn.EmulatorSignatureVerifier=Mn.PublicKeySignatureVerifier=Mn.UrlKeyFetcher=Mn.JwksFetcher=Mn.ALGORITHM_RS256=void 0;var Ig=es(),kme=SF(),Llt=Ome(),Xj=s0();Mn.ALGORITHM_RS256="RS256";var Dme="error in secret or public key callback: ",Bme="no-matching-kid-error",Lme="no-kid-in-header-error",Mlt=3600,_P=class{constructor(t,r){if(this.publicKeysExpireAt=0,!Ig.isURL(t))throw new Error("The provided JWKS URL is not a valid URL.");this.client=Llt({jwksUri:t,cache:!1,requestAgent:r})}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){return this.client.getSigningKeys().then(t=>{this.publicKeysExpireAt=0;let r=t.reduce((n,s)=>(n[s.kid]=s.getPublicKey(),n),{});return this.publicKeysExpireAt=Date.now()+Mlt*6*1e3,this.publicKeys=r,r}).catch(t=>{throw new Error(`Error fetching Json Web Keys: ${t.message}`)})}};Mn.JwksFetcher=_P;var vP=class{constructor(t,r){if(this.clientCertUrl=t,this.httpAgent=r,this.publicKeysExpireAt=0,!Ig.isURL(t))throw new Error("The provided public client certificate URL is not a valid URL.")}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){let t=new Xj.HttpClient,r={method:"GET",url:this.clientCertUrl,httpAgent:this.httpAgent};return t.send(r).then(n=>{if(!n.isJson()||n.data.error)throw new Xj.RequestResponseError(n);return this.publicKeysExpireAt=0,Object.prototype.hasOwnProperty.call(n.headers,"cache-control")&&n.headers["cache-control"].split(",").forEach(o=>{let a=o.trim().split("=");if(a[0]==="max-age"){let c=+a[1];this.publicKeysExpireAt=Date.now()+c*1e3}}),this.publicKeys=n.data,n.data}).catch(n=>{if(n instanceof Xj.RequestResponseError){let s="Error fetching public keys for Google certs: ",i=n.response;throw i.isJson()&&i.data.error?(s+=`${i.data.error}`,i.data.error_description&&(s+=" ("+i.data.error_description+")")):s+=`${i.text}`,new Error(s)}throw n})}};Mn.UrlKeyFetcher=vP;var Yj=class e{constructor(t){if(this.keyFetcher=t,!Ig.isNonNullObject(t))throw new Error("The provided key fetcher is not an object or null.")}static withCertificateUrl(t,r){return new e(new vP(t,r))}static withJwksUrl(t,r){return new e(new _P(t,r))}verify(t){return Ig.isString(t)?AP(t,Ult(this.keyFetcher),{algorithms:[Mn.ALGORITHM_RS256]}).catch(r=>{if(r.code===Xi.NO_KID_IN_HEADER)return this.verifyWithoutKid(t);throw r}):Promise.reject(new ka(Xi.INVALID_ARGUMENT,"The provided token must be a string."))}verifyWithoutKid(t){return this.keyFetcher.fetchPublicKeys().then(r=>this.verifyWithAllKeys(t,r))}verifyWithAllKeys(t,r){let n=[];return Object.values(r).forEach(s=>{let i=AP(t,s).then(()=>!0).catch(o=>{if(o.code===Xi.TOKEN_EXPIRED)throw o;return!1});n.push(i)}),Promise.all(n).then(s=>{if(s.every(i=>i===!1))throw new ka(Xi.INVALID_SIGNATURE,"Invalid token signature.")})}};Mn.PublicKeySignatureVerifier=Yj;var Qj=class{verify(t){return AP(t,void 0,{algorithms:["none"]})}};Mn.EmulatorSignatureVerifier=Qj;function Ult(e){return(t,r)=>{t.kid||r(new Error(Lme));let n=t.kid||"";e.fetchPublicKeys().then(s=>{Object.prototype.hasOwnProperty.call(s,n)?r(null,s[n]):r(new Error(Bme))}).catch(s=>{r(s)})}}function AP(e,t,r){return Ig.isString(e)?new Promise((n,s)=>{kme.verify(e,t,r,i=>{if(!i)return n();if(i.name==="TokenExpiredError")return s(new ka(Xi.TOKEN_EXPIRED,"The provided token has expired. Get a fresh token from your client app and try again."));if(i.name==="JsonWebTokenError"&&i.message&&i.message.includes(Dme)){let o=i.message.split(Dme).pop()||"Error fetching public keys.",a=Xi.KEY_FETCH_ERROR;return o===Bme?a=Xi.NO_MATCHING_KID:o===Lme&&(a=Xi.NO_KID_IN_HEADER),s(new ka(a,o))}return s(new ka(Xi.INVALID_SIGNATURE,i.message))})}):Promise.reject(new ka(Xi.INVALID_ARGUMENT,"The provided token must be a string."))}Mn.verifyJwtSignature=AP;function Flt(e){if(!Ig.isString(e))return Promise.reject(new ka(Xi.INVALID_ARGUMENT,"The provided token must be a string."));let t=kme.decode(e,{complete:!0});if(!t)return Promise.reject(new ka(Xi.INVALID_ARGUMENT,"Decoding token failed."));let r=t?.header,n=t?.payload;return Promise.resolve({header:r,payload:n})}Mn.decodeJwt=Flt;var ka=class e extends Error{constructor(t,r){super(r),this.code=t,this.message=r,this.__proto__=e.prototype}};Mn.JwtError=ka;var Xi;(function(e){e.INVALID_ARGUMENT="invalid-argument",e.INVALID_CREDENTIAL="invalid-credential",e.TOKEN_EXPIRED="token-expired",e.INVALID_SIGNATURE="invalid-token",e.NO_MATCHING_KID="no-matching-kid-error",e.NO_KID_IN_HEADER="no-kid-error",e.KEY_FETCH_ERROR="key-fetch-error"})(Xi||(Mn.JwtErrorCode=Xi={}))});var Fme=C(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.createSessionCookieVerifier=rs.createAuthBlockingTokenVerifier=rs.createIdTokenVerifier=rs.FirebaseTokenVerifier=rs.SESSION_COOKIE_INFO=rs.AUTH_BLOCKING_TOKEN_INFO=rs.ID_TOKEN_INFO=void 0;var kt=bs(),qlt=Md(),Ba=es(),Sl=Mme(),jlt="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",Ume="https://www.googleapis.com/robot/v1/metadata/x509/securetoken@system.gserviceaccount.com",Vlt="https://www.googleapis.com/identitytoolkit/v3/relyingparty/publicKeys",Hlt=new Sl.EmulatorSignatureVerifier;rs.ID_TOKEN_INFO={url:"https://firebase.google.com/docs/auth/admin/verify-id-tokens",verifyApiName:"verifyIdToken()",jwtName:"Firebase ID token",shortName:"ID token",expiredErrorCode:kt.AuthClientErrorCode.ID_TOKEN_EXPIRED};rs.AUTH_BLOCKING_TOKEN_INFO={url:"https://cloud.google.com/identity-platform/docs/blocking-functions",verifyApiName:"_verifyAuthBlockingToken()",jwtName:"Firebase Auth Blocking token",shortName:"Auth Blocking token",expiredErrorCode:kt.AuthClientErrorCode.AUTH_BLOCKING_TOKEN_EXPIRED};rs.SESSION_COOKIE_INFO={url:"https://firebase.google.com/docs/auth/admin/manage-cookies",verifyApiName:"verifySessionCookie()",jwtName:"Firebase session cookie",shortName:"session cookie",expiredErrorCode:kt.AuthClientErrorCode.SESSION_COOKIE_EXPIRED};var Tg=class{constructor(t,r,n,s){if(this.issuer=r,this.tokenInfo=n,this.app=s,Ba.isURL(t))if(Ba.isURL(r))if(Ba.isNonNullObject(n))if(Ba.isURL(n.url))if(Ba.isNonEmptyString(n.verifyApiName))if(Ba.isNonEmptyString(n.jwtName))if(Ba.isNonEmptyString(n.shortName)){if(!Ba.isNonNullObject(n.expiredErrorCode)||!("code"in n.expiredErrorCode))throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT expiration error code must be a non-null ErrorInfo object.")}else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public short name must be a non-empty string.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public full name must be a non-empty string.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT verify API name must be a non-empty string.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT verification documentation URL is invalid.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT information is not an object or null.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT issuer is an invalid URL.");else throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,"The provided public client certificate URL is an invalid URL.");this.shortNameArticle=n.shortName.charAt(0).match(/[aeiou]/i)?"an":"a",this.signatureVerifier=Sl.PublicKeySignatureVerifier.withCertificateUrl(t,s.options.httpAgent)}verifyJWT(t,r=!1){if(!Ba.isString(t))throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(n=>this.decodeAndVerify(t,n,r)).then(n=>{let s=n.payload;return s.uid=s.sub,s})}_verifyAuthBlockingToken(t,r,n){if(!Ba.isString(t))throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(s=>(typeof n>"u"&&(n=`${s}.cloudfunctions.net/`),this.decodeAndVerify(t,s,r,n))).then(s=>{let i=s.payload;return i.uid=i.sub,i})}ensureProjectId(){return qlt.findProjectId(this.app).then(t=>{if(!Ba.isNonEmptyString(t))throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_CREDENTIAL,`Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to call ${this.tokenInfo.verifyApiName}.`);return Promise.resolve(t)})}decodeAndVerify(t,r,n,s){return this.safeDecode(t).then(i=>(this.verifyContent(i,r,n,s),this.verifySignature(t,n).then(()=>i)))}safeDecode(t){return(0,Sl.decodeJwt)(t).catch(r=>{if(r.code===Sl.JwtErrorCode.INVALID_ARGUMENT){let n=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`,s=`Decoding ${this.tokenInfo.jwtName} failed. Make sure you passed the entire string JWT which represents ${this.shortNameArticle} ${this.tokenInfo.shortName}.`+n;throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,s)}throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INTERNAL_ERROR,r.message)})}verifyContent(t,r,n,s){let i=t&&t.header,o=t&&t.payload,a=` Make sure the ${this.tokenInfo.shortName} comes from the same Firebase project as the service account used to authenticate this SDK.`,c=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`,l;if(!n&&typeof i.kid>"u"){let u=o.aud===jlt,m=i.alg==="HS256"&&o.v===0&&"d"in o&&"uid"in o.d;u?l=`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} ${this.tokenInfo.shortName}, but was given a custom token.`:m?l=`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} ${this.tokenInfo.shortName}, but was given a legacy custom token.`:l=`${this.tokenInfo.jwtName} has no "kid" claim.`,l+=c}else!n&&i.alg!==Sl.ALGORITHM_RS256?l=`${this.tokenInfo.jwtName} has incorrect algorithm. Expected "`+Sl.ALGORITHM_RS256+'" but got "'+i.alg+'".'+c:typeof s<"u"&&!o.aud.includes(s)?l=`${this.tokenInfo.jwtName} has incorrect "aud" (audience) claim. Expected "`+s+'" but got "'+o.aud+'".'+c:typeof s>"u"&&o.aud!==r?l=`${this.tokenInfo.jwtName} has incorrect "aud" (audience) claim. Expected "`+r+'" but got "'+o.aud+'".'+a+c:o.iss!==this.issuer+r?l=`${this.tokenInfo.jwtName} has incorrect "iss" (issuer) claim. Expected "${this.issuer}`+r+'" but got "'+o.iss+'".'+a+c:o.event_type!==void 0&&(o.event_type==="beforeSendSms"||o.event_type==="beforeSendEmail")||(typeof o.sub!="string"?l=`${this.tokenInfo.jwtName} has no "sub" (subject) claim.`+c:o.sub===""?l=`${this.tokenInfo.jwtName} has an empty "sub" (subject) claim.`+c:o.sub.length>128&&(l=`${this.tokenInfo.jwtName} has a "sub" (subject) claim longer than 128 characters.`+c));if(l)throw new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,l)}verifySignature(t,r){return(r?Hlt:this.signatureVerifier).verify(t).catch(s=>{throw this.mapJwtErrorToAuthError(s)})}mapJwtErrorToAuthError(t){let r=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`;if(t.code===Sl.JwtErrorCode.TOKEN_EXPIRED){let n=`${this.tokenInfo.jwtName} has expired. Get a fresh ${this.tokenInfo.shortName} from your client app and try again (auth/${this.tokenInfo.expiredErrorCode.code}).`+r;return new kt.FirebaseAuthError(this.tokenInfo.expiredErrorCode,n)}else if(t.code===Sl.JwtErrorCode.INVALID_SIGNATURE){let n=`${this.tokenInfo.jwtName} has invalid signature.`+r;return new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,n)}else if(t.code===Sl.JwtErrorCode.NO_MATCHING_KID){let n=`${this.tokenInfo.jwtName} has "kid" claim which does not correspond to a known public key. Most likely the ${this.tokenInfo.shortName} is expired, so get a fresh token from your client app and try again.`;return new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,n)}return new kt.FirebaseAuthError(kt.AuthClientErrorCode.INVALID_ARGUMENT,t.message)}};rs.FirebaseTokenVerifier=Tg;function zlt(e){return new Tg(Ume,"https://securetoken.google.com/",rs.ID_TOKEN_INFO,e)}rs.createIdTokenVerifier=zlt;function Klt(e){return new Tg(Ume,"https://securetoken.google.com/",rs.AUTH_BLOCKING_TOKEN_INFO,e)}rs.createAuthBlockingTokenVerifier=Klt;function Glt(e){return new Tg(Vlt,"https://session.firebase.google.com/",rs.SESSION_COOKIE_INFO,e)}rs.createSessionCookieVerifier=Glt});var rV=C(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.UserRecord=Rs.UserInfo=Rs.UserMetadata=Rs.MultiFactorSettings=Rs.TotpMultiFactorInfo=Rs.TotpInfo=Rs.PhoneMultiFactorInfo=Rs.MultiFactorInfo=void 0;var $lt=ic(),Wlt=es(),ir=Md(),Jd=bs(),Jlt=Buffer.from("REDACTED").toString("base64");function Zj(e){try{let t=new Date(parseInt(e,10));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}return null}var xP;(function(e){e.Phone="phone",e.Totp="totp"})(xP||(xP={}));var wg=class{static initMultiFactorInfo(t){let r=null;try{t.phoneInfo!==void 0?r=new IP(t):t.totpInfo!==void 0&&(r=new TP(t))}catch{}return r}constructor(t){this.initFromServerResponse(t)}toJSON(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}}initFromServerResponse(t){let r=t&&this.getFactorId(t);if(!r||!t||!t.mfaEnrollmentId)throw new Jd.FirebaseAuthError(Jd.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor info response");ir.addReadonlyGetter(this,"uid",t.mfaEnrollmentId),ir.addReadonlyGetter(this,"factorId",r),ir.addReadonlyGetter(this,"displayName",t.displayName),t.enrolledAt?ir.addReadonlyGetter(this,"enrollmentTime",new Date(t.enrolledAt).toUTCString()):ir.addReadonlyGetter(this,"enrollmentTime",null)}};Rs.MultiFactorInfo=wg;var IP=class extends wg{constructor(t){super(t),ir.addReadonlyGetter(this,"phoneNumber",t.phoneInfo)}toJSON(){return Object.assign(super.toJSON(),{phoneNumber:this.phoneNumber})}getFactorId(t){return t&&t.phoneInfo?xP.Phone:null}};Rs.PhoneMultiFactorInfo=IP;var eV=class{};Rs.TotpInfo=eV;var TP=class extends wg{constructor(t){super(t),ir.addReadonlyGetter(this,"totpInfo",t.totpInfo)}toJSON(){return Object.assign(super.toJSON(),{totpInfo:this.totpInfo})}getFactorId(t){return t&&t.totpInfo?xP.Totp:null}};Rs.TotpMultiFactorInfo=TP;var wP=class{constructor(t){let r=[];if((0,Wlt.isNonNullObject)(t))t.mfaInfo&&t.mfaInfo.forEach(n=>{let s=wg.initMultiFactorInfo(n);s&&r.push(s)});else throw new Jd.FirebaseAuthError(Jd.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor response");ir.addReadonlyGetter(this,"enrolledFactors",Object.freeze(r))}toJSON(){return{enrolledFactors:this.enrolledFactors.map(t=>t.toJSON())}}};Rs.MultiFactorSettings=wP;var NP=class{constructor(t){ir.addReadonlyGetter(this,"creationTime",Zj(t.createdAt)),ir.addReadonlyGetter(this,"lastSignInTime",Zj(t.lastLoginAt));let r=t.lastRefreshAt?new Date(t.lastRefreshAt).toUTCString():null;ir.addReadonlyGetter(this,"lastRefreshTime",r)}toJSON(){return{lastSignInTime:this.lastSignInTime,creationTime:this.creationTime,lastRefreshTime:this.lastRefreshTime}}};Rs.UserMetadata=NP;var RP=class{constructor(t){if(!t.rawId||!t.providerId)throw new Jd.FirebaseAuthError(Jd.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user info response");ir.addReadonlyGetter(this,"uid",t.rawId),ir.addReadonlyGetter(this,"displayName",t.displayName),ir.addReadonlyGetter(this,"email",t.email),ir.addReadonlyGetter(this,"photoURL",t.photoUrl),ir.addReadonlyGetter(this,"providerId",t.providerId),ir.addReadonlyGetter(this,"phoneNumber",t.phoneNumber)}toJSON(){return{uid:this.uid,displayName:this.displayName,email:this.email,photoURL:this.photoURL,providerId:this.providerId,phoneNumber:this.phoneNumber}}};Rs.UserInfo=RP;var tV=class{constructor(t){if(!t.localId)throw new Jd.FirebaseAuthError(Jd.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user response");ir.addReadonlyGetter(this,"uid",t.localId),ir.addReadonlyGetter(this,"email",t.email),ir.addReadonlyGetter(this,"emailVerified",!!t.emailVerified),ir.addReadonlyGetter(this,"displayName",t.displayName),ir.addReadonlyGetter(this,"photoURL",t.photoUrl),ir.addReadonlyGetter(this,"phoneNumber",t.phoneNumber),ir.addReadonlyGetter(this,"disabled",t.disabled||!1),ir.addReadonlyGetter(this,"metadata",new NP(t));let r=[];for(let i of t.providerUserInfo||[])r.push(new RP(i));ir.addReadonlyGetter(this,"providerData",r),t.passwordHash===Jlt?ir.addReadonlyGetter(this,"passwordHash",void 0):ir.addReadonlyGetter(this,"passwordHash",t.passwordHash),ir.addReadonlyGetter(this,"passwordSalt",t.salt),t.customAttributes&&ir.addReadonlyGetter(this,"customClaims",JSON.parse(t.customAttributes));let n=null;typeof t.validSince<"u"&&(n=Zj(parseInt(t.validSince,10)*1e3)),ir.addReadonlyGetter(this,"tokensValidAfterTime",n||void 0),ir.addReadonlyGetter(this,"tenantId",t.tenantId);let s=new wP(t);s.enrolledFactors.length>0&&ir.addReadonlyGetter(this,"multiFactor",s)}toJSON(){let t={uid:this.uid,email:this.email,emailVerified:this.emailVerified,displayName:this.displayName,photoURL:this.photoURL,phoneNumber:this.phoneNumber,disabled:this.disabled,metadata:this.metadata.toJSON(),passwordHash:this.passwordHash,passwordSalt:this.passwordSalt,customClaims:(0,$lt.deepCopy)(this.customClaims),tokensValidAfterTime:this.tokensValidAfterTime,tenantId:this.tenantId};this.multiFactor&&(t.multiFactor=this.multiFactor.toJSON()),t.providerData=[];for(let r of this.providerData)t.providerData.push(r.toJSON());return t}};Rs.UserRecord=tV});var DP=C(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.BaseAuth=Rg.createFirebaseTokenGenerator=void 0;var Nt=bs(),Xlt=ic(),Qf=es(),OP=F0(),nV=Mle(),sV=Fme(),li=L0(),Ng=rV(),PP=z3(),Ylt=tq();function qme(e,t){try{let r=(0,OP.useEmulator)()?new nV.EmulatedSigner:(0,Ylt.cryptoSignerFromApp)(e);return new nV.FirebaseTokenGenerator(r,t)}catch(r){throw(0,nV.handleCryptoSignerError)(r)}}Rg.createFirebaseTokenGenerator=qme;var iV=class{constructor(t,r,n){this.authRequestHandler=r,n?this.tokenGenerator=n:this.tokenGenerator=qme(t),this.sessionCookieVerifier=(0,sV.createSessionCookieVerifier)(t),this.idTokenVerifier=(0,sV.createIdTokenVerifier)(t),this.authBlockingTokenVerifier=(0,sV.createAuthBlockingTokenVerifier)(t)}createCustomToken(t,r){return this.tokenGenerator.createCustomToken(t,r)}verifyIdToken(t,r=!1){let n=(0,OP.useEmulator)();return this.idTokenVerifier.verifyJWT(t,n).then(s=>r||n?this.verifyDecodedJWTNotRevokedOrDisabled(s,Nt.AuthClientErrorCode.ID_TOKEN_REVOKED):s)}getUser(t){return this.authRequestHandler.getAccountInfoByUid(t).then(r=>new Ng.UserRecord(r.users[0]))}getUserByEmail(t){return this.authRequestHandler.getAccountInfoByEmail(t).then(r=>new Ng.UserRecord(r.users[0]))}getUserByPhoneNumber(t){return this.authRequestHandler.getAccountInfoByPhoneNumber(t).then(r=>new Ng.UserRecord(r.users[0]))}getUserByProviderUid(t,r){return t==="phone"?this.getUserByPhoneNumber(r):t==="email"?this.getUserByEmail(r):this.authRequestHandler.getAccountInfoByFederatedUid(t,r).then(n=>new Ng.UserRecord(n.users[0]))}getUsers(t){if(!Qf.isArray(t))throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,"`identifiers` parameter must be an array");return this.authRequestHandler.getAccountInfoByIdentifiers(t).then(r=>{let n=((o,a)=>!!a.find(c=>{if((0,PP.isUidIdentifier)(o))return o.uid===c.uid;if((0,PP.isEmailIdentifier)(o))return o.email===c.email;if((0,PP.isPhoneIdentifier)(o))return o.phoneNumber===c.phoneNumber;if((0,PP.isProviderIdentifier)(o)){let l=c.providerData.find(u=>o.providerId===u.providerId);return!!l&&o.providerUid===l.uid}else throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INTERNAL_ERROR,"Unhandled identifier type")})),s=r.users?r.users.map(o=>new Ng.UserRecord(o)):[],i=t.filter(o=>!n(o,s));return{users:s,notFound:i}})}listUsers(t,r){return this.authRequestHandler.downloadAccount(t,r).then(n=>{let s=[];n.users.forEach(o=>{s.push(new Ng.UserRecord(o))});let i={users:s,pageToken:n.nextPageToken};return typeof i.pageToken>"u"&&delete i.pageToken,i})}createUser(t){return this.authRequestHandler.createNewAccount(t).then(r=>this.getUser(r)).catch(r=>{throw r.code==="auth/user-not-found"?new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INTERNAL_ERROR,"Unable to create the user record provided."):r})}deleteUser(t){return this.authRequestHandler.deleteAccount(t).then(()=>{})}deleteUsers(t){if(!Qf.isArray(t))throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,"`uids` parameter must be an array");return this.authRequestHandler.deleteAccounts(t,!0).then(r=>{let n={failureCount:0,successCount:t.length,errors:[]};return Qf.isNonEmptyArray(r.errors)&&(n.failureCount=r.errors.length,n.successCount=t.length-r.errors.length,n.errors=r.errors.map(s=>{if(s.index===void 0)throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INTERNAL_ERROR,"Corrupt BatchDeleteAccountsResponse detected");let i=o=>{let a=o&&o.startsWith("NOT_DISABLED")?Nt.AuthClientErrorCode.USER_NOT_DISABLED:Nt.AuthClientErrorCode.INTERNAL_ERROR;return new Nt.FirebaseAuthError(a,s.message)};return{index:s.index,error:i(s.message)}})),n})}updateUser(t,r){if(r=(0,Xlt.deepCopy)(r),r?.providerToLink){if(r.providerToLink.providerId==="email"){if(typeof r.email<"u")throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.email and UpdateRequest.providerToLink.providerId='email' were set. To link to the email/password provider, only specify the UpdateRequest.email field.");r.email=r.providerToLink.uid,delete r.providerToLink}else if(r.providerToLink.providerId==="phone"){if(typeof r.phoneNumber<"u")throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber and UpdateRequest.providerToLink.providerId='phone' were set. To link to a phone provider, only specify the UpdateRequest.phoneNumber field.");r.phoneNumber=r.providerToLink.uid,delete r.providerToLink}}if(r?.providersToUnlink&&r.providersToUnlink.indexOf("phone")!==-1&&r.phoneNumber===null)throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber=null and UpdateRequest.providersToUnlink=['phone'] were set. To unlink from a phone provider, only specify the UpdateRequest.phoneNumber=null field.");return this.authRequestHandler.updateExistingAccount(t,r).then(n=>this.getUser(n))}setCustomUserClaims(t,r){return this.authRequestHandler.setCustomUserClaims(t,r).then(()=>{})}revokeRefreshTokens(t){return this.authRequestHandler.revokeRefreshTokens(t).then(()=>{})}importUsers(t,r){return this.authRequestHandler.uploadAccount(t,r)}createSessionCookie(t,r){return!Qf.isNonNullObject(r)||!Qf.isNumber(r.expiresIn)?Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):this.authRequestHandler.createSessionCookie(t,r.expiresIn)}verifySessionCookie(t,r=!1){let n=(0,OP.useEmulator)();return this.sessionCookieVerifier.verifyJWT(t,n).then(s=>r||n?this.verifyDecodedJWTNotRevokedOrDisabled(s,Nt.AuthClientErrorCode.SESSION_COOKIE_REVOKED):s)}generatePasswordResetLink(t,r){return this.authRequestHandler.getEmailActionLink("PASSWORD_RESET",t,r)}generateEmailVerificationLink(t,r){return this.authRequestHandler.getEmailActionLink("VERIFY_EMAIL",t,r)}generateVerifyAndChangeEmailLink(t,r,n){return this.authRequestHandler.getEmailActionLink("VERIFY_AND_CHANGE_EMAIL",t,n,r)}generateSignInWithEmailLink(t,r){return this.authRequestHandler.getEmailActionLink("EMAIL_SIGNIN",t,r)}listProviderConfigs(t){let r=(n,s)=>{let i={providerConfigs:s};return Object.prototype.hasOwnProperty.call(n,"nextPageToken")&&(i.pageToken=n.nextPageToken),i};return t&&t.type==="oidc"?this.authRequestHandler.listOAuthIdpConfigs(t.maxResults,t.pageToken).then(n=>{let s=[];return n.oauthIdpConfigs.forEach(i=>{s.push(new li.OIDCConfig(i))}),r(n,s)}):t&&t.type==="saml"?this.authRequestHandler.listInboundSamlConfigs(t.maxResults,t.pageToken).then(n=>{let s=[];return n.inboundSamlConfigs.forEach(i=>{s.push(new li.SAMLConfig(i))}),r(n,s)}):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_ARGUMENT,'"AuthProviderConfigFilter.type" must be either "saml" or "oidc"'))}getProviderConfig(t){return li.OIDCConfig.isProviderId(t)?this.authRequestHandler.getOAuthIdpConfig(t).then(r=>new li.OIDCConfig(r)):li.SAMLConfig.isProviderId(t)?this.authRequestHandler.getInboundSamlConfig(t).then(r=>new li.SAMLConfig(r)):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_PROVIDER_ID))}deleteProviderConfig(t){return li.OIDCConfig.isProviderId(t)?this.authRequestHandler.deleteOAuthIdpConfig(t):li.SAMLConfig.isProviderId(t)?this.authRequestHandler.deleteInboundSamlConfig(t):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_PROVIDER_ID))}updateProviderConfig(t,r){return Qf.isNonNullObject(r)?li.OIDCConfig.isProviderId(t)?this.authRequestHandler.updateOAuthIdpConfig(t,r).then(n=>new li.OIDCConfig(n)):li.SAMLConfig.isProviderId(t)?this.authRequestHandler.updateInboundSamlConfig(t,r).then(n=>new li.SAMLConfig(n)):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "UpdateAuthProviderRequest" configuration.'))}createProviderConfig(t){return Qf.isNonNullObject(t)?li.OIDCConfig.isProviderId(t.providerId)?this.authRequestHandler.createOAuthIdpConfig(t).then(r=>new li.OIDCConfig(r)):li.SAMLConfig.isProviderId(t.providerId)?this.authRequestHandler.createInboundSamlConfig(t).then(r=>new li.SAMLConfig(r)):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "AuthProviderConfig" configuration.'))}_verifyAuthBlockingToken(t,r){let n=(0,OP.useEmulator)();return this.authBlockingTokenVerifier._verifyAuthBlockingToken(t,n,r).then(s=>s)}verifyDecodedJWTNotRevokedOrDisabled(t,r){return this.getUser(t.sub).then(n=>{if(n.disabled)throw new Nt.FirebaseAuthError(Nt.AuthClientErrorCode.USER_DISABLED,"The user record is disabled.");if(n.tokensValidAfterTime){let s=t.auth_time*1e3,i=new Date(n.tokensValidAfterTime).getTime();if(s<i)throw new Nt.FirebaseAuthError(r)}return t})}};Rg.BaseAuth=iV});var aV=C(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.TenantManager=Pg.TenantAwareAuth=void 0;var BP=es(),Qlt=Md(),Nc=bs(),jme=DP(),kP=zN(),Vme=F0(),LP=class extends jme.BaseAuth{constructor(t,r){super(t,new Vme.TenantAwareAuthRequestHandler(t,r),(0,jme.createFirebaseTokenGenerator)(t,r)),Qlt.addReadonlyGetter(this,"tenantId",r)}verifyIdToken(t,r=!1){return super.verifyIdToken(t,r).then(n=>{if(n.firebase.tenant!==this.tenantId)throw new Nc.FirebaseAuthError(Nc.AuthClientErrorCode.MISMATCHING_TENANT_ID);return n})}createSessionCookie(t,r){return BP.isNonEmptyString(t)?!BP.isNonNullObject(r)||!BP.isNumber(r.expiresIn)?Promise.reject(new Nc.FirebaseAuthError(Nc.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):this.verifyIdToken(t).then(()=>super.createSessionCookie(t,r)):Promise.reject(new Nc.FirebaseAuthError(Nc.AuthClientErrorCode.INVALID_ID_TOKEN))}verifySessionCookie(t,r=!1){return super.verifySessionCookie(t,r).then(n=>{if(n.firebase.tenant!==this.tenantId)throw new Nc.FirebaseAuthError(Nc.AuthClientErrorCode.MISMATCHING_TENANT_ID);return n})}};Pg.TenantAwareAuth=LP;var oV=class{constructor(t){this.app=t,this.authRequestHandler=new Vme.AuthRequestHandler(t),this.tenantsMap={}}authForTenant(t){if(!BP.isNonEmptyString(t))throw new Nc.FirebaseAuthError(Nc.AuthClientErrorCode.INVALID_TENANT_ID);return typeof this.tenantsMap[t]>"u"&&(this.tenantsMap[t]=new LP(this.app,t)),this.tenantsMap[t]}getTenant(t){return this.authRequestHandler.getTenant(t).then(r=>new kP.Tenant(r))}listTenants(t,r){return this.authRequestHandler.listTenants(t,r).then(n=>{let s=[];n.tenants.forEach(o=>{s.push(new kP.Tenant(o))});let i={tenants:s,pageToken:n.nextPageToken};return typeof i.pageToken>"u"&&delete i.pageToken,i})}deleteTenant(t){return this.authRequestHandler.deleteTenant(t)}createTenant(t){return this.authRequestHandler.createTenant(t).then(r=>new kP.Tenant(r))}updateTenant(t,r){return this.authRequestHandler.updateTenant(t,r).then(n=>new kP.Tenant(n))}};Pg.TenantManager=oV});var lV=C(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0});MP.ProjectConfigManager=void 0;var Hme=$N(),Zlt=F0(),cV=class{constructor(t){this.authRequestHandler=new Zlt.AuthRequestHandler(t)}getProjectConfig(){return this.authRequestHandler.getProjectConfig().then(t=>new Hme.ProjectConfig(t))}updateProjectConfig(t){return this.authRequestHandler.updateProjectConfig(t).then(r=>new Hme.ProjectConfig(r))}};MP.ProjectConfigManager=cV});var uV=C(UP=>{"use strict";Object.defineProperty(UP,"__esModule",{value:!0});UP.Auth=void 0;var edt=F0(),tdt=aV(),rdt=DP(),ndt=lV(),dV=class extends rdt.BaseAuth{constructor(t){super(t,new edt.AuthRequestHandler(t)),this.app_=t,this.tenantManager_=new tdt.TenantManager(t),this.projectConfigManager_=new ndt.ProjectConfigManager(t)}get app(){return this.app_}tenantManager(){return this.tenantManager_}projectConfigManager(){return this.projectConfigManager_}};UP.Auth=dV});var Gme=C(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.AuthClientErrorCode=Zt.FirebaseAuthError=Zt.UserRecord=Zt.UserMetadata=Zt.UserInfo=Zt.PhoneMultiFactorInfo=Zt.MultiFactorSettings=Zt.MultiFactorInfo=Zt.ProjectConfigManager=Zt.ProjectConfig=Zt.TenantManager=Zt.TenantAwareAuth=Zt.Tenant=Zt.BaseAuth=Zt.Auth=Zt.getAuth=void 0;var sdt=R3(),idt=uV();function odt(e){return typeof e>"u"&&(e=(0,sdt.getApp)()),e.getOrInitService("auth",r=>new idt.Auth(r))}Zt.getAuth=odt;var adt=uV();Object.defineProperty(Zt,"Auth",{enumerable:!0,get:function(){return adt.Auth}});var cdt=DP();Object.defineProperty(Zt,"BaseAuth",{enumerable:!0,get:function(){return cdt.BaseAuth}});var ldt=zN();Object.defineProperty(Zt,"Tenant",{enumerable:!0,get:function(){return ldt.Tenant}});var zme=aV();Object.defineProperty(Zt,"TenantAwareAuth",{enumerable:!0,get:function(){return zme.TenantAwareAuth}});Object.defineProperty(Zt,"TenantManager",{enumerable:!0,get:function(){return zme.TenantManager}});var ddt=$N();Object.defineProperty(Zt,"ProjectConfig",{enumerable:!0,get:function(){return ddt.ProjectConfig}});var udt=lV();Object.defineProperty(Zt,"ProjectConfigManager",{enumerable:!0,get:function(){return udt.ProjectConfigManager}});var Og=rV();Object.defineProperty(Zt,"MultiFactorInfo",{enumerable:!0,get:function(){return Og.MultiFactorInfo}});Object.defineProperty(Zt,"MultiFactorSettings",{enumerable:!0,get:function(){return Og.MultiFactorSettings}});Object.defineProperty(Zt,"PhoneMultiFactorInfo",{enumerable:!0,get:function(){return Og.PhoneMultiFactorInfo}});Object.defineProperty(Zt,"UserInfo",{enumerable:!0,get:function(){return Og.UserInfo}});Object.defineProperty(Zt,"UserMetadata",{enumerable:!0,get:function(){return Og.UserMetadata}});Object.defineProperty(Zt,"UserRecord",{enumerable:!0,get:function(){return Og.UserRecord}});var Kme=bs();Object.defineProperty(Zt,"FirebaseAuthError",{enumerable:!0,get:function(){return Kme.FirebaseAuthError}});Object.defineProperty(Zt,"AuthClientErrorCode",{enumerable:!0,get:function(){return Kme.AuthClientErrorCode}})});var wdt={};po(wdt,{handler:()=>bdt});module.exports=lt(wdt);var fS=$(dX(),1),Zf=$(Rre(),1),rhe=$(Dre(),1);var Ia=$(R3(),1),X_t=Ia.default.AppErrorCodes,Y_t=Ia.default.FirebaseAppError,Q_t=Ia.default.SDK_VERSION,Z_t=Ia.default.applicationDefault,evt=Ia.default.cert,tvt=Ia.default.deleteApp,rvt=Ia.default.getApp,nvt=Ia.default.getApps,P3=Ia.default.initializeApp,svt=Ia.default.refreshToken;var zs=$(Gme(),1),Pxt=zs.default.Auth,Oxt=zs.default.AuthClientErrorCode,Dxt=zs.default.BaseAuth,kxt=zs.default.FirebaseAuthError,Bxt=zs.default.MultiFactorInfo,Lxt=zs.default.MultiFactorSettings,Mxt=zs.default.PhoneMultiFactorInfo,Uxt=zs.default.ProjectConfig,Fxt=zs.default.ProjectConfigManager,qxt=zs.default.Tenant,jxt=zs.default.TenantAwareAuth,Vxt=zs.default.TenantManager,Hxt=zs.default.UserInfo,zxt=zs.default.UserMetadata,Kxt=zs.default.UserRecord,$me=zs.default.getAuth;var Wme=!1;function fdt(){Wme||(P3({projectId:process.env.FIREBASE_PROJECT_ID}),Wme=!0)}function fV(e){return Array.isArray(e)?e.find(t=>typeof t=="string")||null:typeof e=="string"?e:null}function mdt(e){let t=e?.headers||{},r={};for(let i in t)Object.hasOwn(t,i)&&(r[i.toLowerCase()]=t[i]);let n=[r.authorization,r["x-authorization"],fV(e?.multiValueHeaders?.authorization),fV(e?.multiValueHeaders?.Authorization)].filter(Boolean);return fV(n)||null}async function Jme(e){fdt();let t=mdt(e);if(!t){console.warn("Auth: no Authorization header. headers keys:",Object.keys(e?.headers||{}));let s=new Error("Missing bearer token");throw s.statusCode=401,s}let n=(/^\s*Bearer\s+(.+)\s*$/i.exec(t)||/^\s*([A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+)\s*$/.exec(t))?.[1];if(!n){console.warn("Auth: Authorization header present but not a Bearer/JWT:",t.slice(0,32)+"\u2026");let s=new Error("Malformed Authorization header");throw s.statusCode=401,s}try{return await $me().verifyIdToken(n,!0)}catch(s){console.warn("Auth: verifyIdToken failed:",s?.message);let i=new Error("Invalid or expired token");throw i.statusCode=401,i}}var hdt=process.env.CORS_ALLOW_ORIGIN||"*",nhe={"Access-Control-Allow-Origin":hdt,"Access-Control-Allow-Methods":"POST,OPTIONS","Access-Control-Allow-Headers":"Content-Type,Authorization"},{REGION:yV="us-west-2",FROM_EMAIL:uS,BUCKET_NAME:qP,RECORDINGS_PREFIX:Xme="recordings/",TRANSCRIPTIONS_PREFIX:Yme="transcriptions/",DOWNLOAD_URL_TTL_SECONDS:pdt="86400",ATTACHMENT_MAX_MB:gdt="9"}=process.env;if(!uS)throw new Error("Missing env FROM_EMAIL");if(!qP)throw new Error("Missing env BUCKET_NAME");var ydt=new fS.SESv2Client({region:yV}),pV=new Zf.S3Client({region:yV}),Qme=process.env.SES_ACCOUNT_ID,gV=uS.split("@")[1]||"example.com",FP=Qme?`arn:aws:ses:${yV}:${Qme}:identity/${gV}`:void 0,she=1024*1024,Edt=parseFloat(gdt)||9,Sdt=10*she,Cdt=48*1024,bdt=async e=>{if(e.requestContext?.http?.method==="OPTIONS"||e.routeKey==="OPTIONS /")return{statusCode:204,headers:nhe};try{let t=await Jme(e),r=JSON.parse(e.body||"{}"),n=(r.toEmail||"").trim();if(!n)return hV(400,{error:"Missing toEmail"});let s=[];r.recordingKey&&s.push({key:String(r.recordingKey),label:"Recording"}),r.transcriptionKey&&s.push({key:String(r.transcriptionKey),label:"Transcription"});let i=await Promise.all(s.map(async({key:g,label:y})=>{_dt(g,t.uid);let _=await pV.send(new Zf.HeadObjectCommand({Bucket:qP,Key:g})),x=Number(_.ContentLength||0),w=_.ContentType||vdt(g);return{key:g,label:y,size:x,contentType:w}})),o="Your Prime Dictation files",a=i.find(g=>g.label==="Recording"),c=i.find(g=>g.label==="Transcription"),l=[],u,m=(a?.size||0)+(c?.size||0);if(a&&m<=Edt*she&&xdt(i)){let g=[];for(let w of i){let D=await Adt(w.key);g.push({filename:ihe(w.key),contentType:w.contentType,data:D})}let y=Zme({links:[],hasAttachments:!0}),_=ehe({links:[],hasAttachments:!0}),x=Idt({from:uS,to:n,subject:o,text:_,html:y,attachments:g});u=new fS.SendEmailCommand({FromEmailAddress:uS,...FP&&{FromEmailAddressIdentityArn:FP},Destination:{ToAddresses:[n]},Content:{Raw:{Data:x}},ReplyToAddresses:[`support@${gV}`]})}else{l=await Promise.all(i.map(async({key:_,label:x})=>{let w=await(0,rhe.getSignedUrl)(pV,new Zf.GetObjectCommand({Bucket:qP,Key:_}),{expiresIn:parseInt(pdt,10)||86400});return{label:x,key:_,url:w}}));let g=Zme({links:l,hasAttachments:!1}),y=ehe({links:l,hasAttachments:!1});u=new fS.SendEmailCommand({FromEmailAddress:uS,...FP&&{FromEmailAddressIdentityArn:FP},Destination:{ToAddresses:[n]},Content:{Simple:{Subject:{Data:o,Charset:"UTF-8"},Body:{Text:{Data:y,Charset:"UTF-8"},Html:{Data:g,Charset:"UTF-8"}}}},ReplyToAddresses:[`support@${gV}`]})}let p=await ydt.send(u);return hV(200,{messageId:p?.MessageId,toEmail:n,links:l,uid:t.uid})}catch(t){let r=t?.statusCode||500;return console.error("email error:",t),hV(r,{error:t?.message||"Internal error"})}};function _dt(e,t){if(process.env.REQUIRE_UID_PREFIX==="1"){let r=`users/${t}/`;if(!e.startsWith(r))throw Object.assign(new Error(`Object key must start with '${r}'`),{statusCode:403});return}if(!e.startsWith(Xme)&&!e.startsWith(Yme))throw Object.assign(new Error(`Object key must start with '${Xme}' or '${Yme}': ${e}`),{statusCode:400})}function ihe(e){let t=e.lastIndexOf("/");return t>=0?e.slice(t+1):e}function vdt(e){let t=e.toLowerCase();return t.endsWith(".m4a")?"audio/mp4":t.endsWith(".mp3")?"audio/mpeg":t.endsWith(".wav")?"audio/wav":t.endsWith(".txt")?"text/plain; charset=UTF-8":t.endsWith(".json")?"application/json":"application/octet-stream"}async function Adt(e){let r=await(await pV.send(new Zf.GetObjectCommand({Bucket:qP,Key:e}))).Body.transformToByteArray();return Buffer.from(r)}function xdt(e){let t=0;for(let n of e)t+=Math.ceil(n.size/3)*4;return t+Cdt<Sdt}function Zme({links:e,hasAttachments:t}){let r=(e||[]).map(s=>{let i=mV(s.label||"Download"),o=mV(s.url),a=mV(ihe(s.key));return`
      <tr>
        <td style="padding:8px 0;">
          <div style="font-size:14px;color:#444;margin-bottom:6px;"><strong>${i}</strong> \u2014 ${a}</div>
          <a href="${o}" style="display:inline-block;padding:10px 14px;text-decoration:none;background:#2563eb;color:#fff;border-radius:8px;font-size:14px;" target="_blank" rel="noopener">Download</a>
        </td>
      </tr>`}).join(""),n=t?'<p style="margin:10px 0 0 0;font-size:14px;color:#6b7280;">Files are attached to this email.</p>':'<p style="margin:10px 0 0 0;font-size:12px;color:#6b7280;">If a link expires, resend from the app to generate a fresh one.</p>';return`<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Prime Dictation</title></head>
<body style="margin:0;padding:0;background:#f6f8fc;">
  <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr><td align="center" style="padding:24px;">
      <table role="presentation" width="100%" style="max-width:560px;background:#fff;border-radius:14px;padding:24px;border:1px solid #e5e7eb;">
        <tr><td>
          <h1 style="margin:0 0 10px 0;font-size:20px;line-height:1.3;color:#111827;">Your Prime Dictation files</h1>
          ${e?.length?`<table role="presentation" width="100%" style="margin-top:8px;">${r}</table>`:""}
          ${n}
        </td></tr>
      </table>
      <div style="margin-top:12px;font-size:11px;color:#9ca3af;">\xA9 ${new Date().getFullYear()} Prime Dictation</div>
    </td></tr>
  </table>
</body></html>`}function ehe({links:e,hasAttachments:t}){let r=[""];if(e?.length){r.push("Downloads:");for(let n of e)r.push(`- ${n.label}: ${n.url}`);r.push(""),r.push("If a link expires, resend from the app to generate a fresh one.")}else t&&r.push("Files are attached to this email.");return r.join(`
`)}function mV(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Idt({from:e,to:t,subject:r,text:n,html:s,attachments:i}){let o="mixed_"+the(),a="alt_"+the(),c=[`From: ${e}`,`To: ${t}`,`Subject: ${r}`,"MIME-Version: 1.0",`Content-Type: multipart/mixed; boundary="${o}"`],l=`--${o}\r
Content-Type: multipart/alternative; boundary="${a}"\r
\r
--${a}\r
Content-Type: text/plain; charset="UTF-8"\r
Content-Transfer-Encoding: 7bit\r
\r
${n}\r
--${a}\r
Content-Type: text/html; charset="UTF-8"\r
Content-Transfer-Encoding: 7bit\r
\r
${s}\r
--${a}--\r
`,u=i.map(p=>{let g=p.data.toString("base64"),y=p.filename.replace(/"/g,"'");return`--${o}\r
Content-Type: ${p.contentType}; name="${y}"\r
Content-Disposition: attachment; filename="${y}"\r
Content-Transfer-Encoding: base64\r
\r
`+Tdt(g)+`\r
`}).join(""),m=`--${o}--`,h=c.join(`\r
`)+`\r
\r
`+l+u+m;return new TextEncoder().encode(h)}function the(){return Math.random().toString(36).slice(2,10)}function Tdt(e){let t=[];for(let r=0;r<e.length;r+=76)t.push(e.slice(r,r+76));return t.join(`\r
`)}function hV(e,t){return{statusCode:e,headers:{"Content-Type":"application/json",...nhe},body:JSON.stringify(t)}}0&&(module.exports={handler});
